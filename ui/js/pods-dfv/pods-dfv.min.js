/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./ui/js/pods-dfv/src/pods-dfv.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/asap/browser-asap.js":
/*!*******************************************!*\
  !*** ./node_modules/asap/browser-asap.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// rawAsap provides everything we need except exception management.
var rawAsap = __webpack_require__(/*! ./raw */ "./node_modules/asap/browser-raw.js");
// RawTasks are recycled to reduce GC churn.
var freeTasks = [];
// We queue errors to ensure they are thrown in right order (FIFO).
// Array-as-queue is good enough here, since we are just dealing with exceptions.
var pendingErrors = [];
var requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);

function throwFirstError() {
    if (pendingErrors.length) {
        throw pendingErrors.shift();
    }
}

/**
 * Calls a task as soon as possible after returning, in its own event, with priority
 * over other events like animation, reflow, and repaint. An error thrown from an
 * event will not interrupt, nor even substantially slow down the processing of
 * other events, but will be rather postponed to a lower priority event.
 * @param {{call}} task A callable object, typically a function that takes no
 * arguments.
 */
module.exports = asap;
function asap(task) {
    var rawTask;
    if (freeTasks.length) {
        rawTask = freeTasks.pop();
    } else {
        rawTask = new RawTask();
    }
    rawTask.task = task;
    rawAsap(rawTask);
}

// We wrap tasks with recyclable task objects.  A task object implements
// `call`, just like a function.
function RawTask() {
    this.task = null;
}

// The sole purpose of wrapping the task is to catch the exception and recycle
// the task object after its single use.
RawTask.prototype.call = function () {
    try {
        this.task.call();
    } catch (error) {
        if (asap.onerror) {
            // This hook exists purely for testing purposes.
            // Its name will be periodically randomized to break any code that
            // depends on its existence.
            asap.onerror(error);
        } else {
            // In a web browser, exceptions are not fatal. However, to avoid
            // slowing down the queue of pending tasks, we rethrow the error in a
            // lower priority turn.
            pendingErrors.push(error);
            requestErrorThrow();
        }
    } finally {
        this.task = null;
        freeTasks[freeTasks.length] = this;
    }
};


/***/ }),

/***/ "./node_modules/asap/browser-raw.js":
/*!******************************************!*\
  !*** ./node_modules/asap/browser-raw.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

// Use the fastest means possible to execute a task in its own turn, with
// priority over other events including IO, animation, reflow, and redraw
// events in browsers.
//
// An exception thrown by a task will permanently interrupt the processing of
// subsequent tasks. The higher level `asap` function ensures that if an
// exception is thrown by a task, that the task queue will continue flushing as
// soon as possible, but if you use `rawAsap` directly, you are responsible to
// either ensure that no exceptions are thrown from your task, or to manually
// call `rawAsap.requestFlush` if an exception is thrown.
module.exports = rawAsap;
function rawAsap(task) {
    if (!queue.length) {
        requestFlush();
        flushing = true;
    }
    // Equivalent to push, but avoids a function call.
    queue[queue.length] = task;
}

var queue = [];
// Once a flush has been requested, no further calls to `requestFlush` are
// necessary until the next `flush` completes.
var flushing = false;
// `requestFlush` is an implementation-specific method that attempts to kick
// off a `flush` event as quickly as possible. `flush` will attempt to exhaust
// the event queue before yielding to the browser's own event loop.
var requestFlush;
// The position of the next task to execute in the task queue. This is
// preserved between calls to `flush` so that it can be resumed if
// a task throws an exception.
var index = 0;
// If a task schedules additional tasks recursively, the task queue can grow
// unbounded. To prevent memory exhaustion, the task queue will periodically
// truncate already-completed tasks.
var capacity = 1024;

// The flush function processes all tasks that have been scheduled with
// `rawAsap` unless and until one of those tasks throws an exception.
// If a task throws an exception, `flush` ensures that its state will remain
// consistent and will resume where it left off when called again.
// However, `flush` does not make any arrangements to be called again if an
// exception is thrown.
function flush() {
    while (index < queue.length) {
        var currentIndex = index;
        // Advance the index before calling the task. This ensures that we will
        // begin flushing on the next task the task throws an error.
        index = index + 1;
        queue[currentIndex].call();
        // Prevent leaking memory for long chains of recursive calls to `asap`.
        // If we call `asap` within tasks scheduled by `asap`, the queue will
        // grow, but to avoid an O(n) walk for every task we execute, we don't
        // shift tasks off the queue after they have been executed.
        // Instead, we periodically shift 1024 tasks off the queue.
        if (index > capacity) {
            // Manually shift all values starting at the index back to the
            // beginning of the queue.
            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {
                queue[scan] = queue[scan + index];
            }
            queue.length -= index;
            index = 0;
        }
    }
    queue.length = 0;
    index = 0;
    flushing = false;
}

// `requestFlush` is implemented using a strategy based on data collected from
// every available SauceLabs Selenium web driver worker at time of writing.
// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593

// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that
// have WebKitMutationObserver but not un-prefixed MutationObserver.
// Must use `global` or `self` instead of `window` to work in both frames and web
// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.

/* globals self */
var scope = typeof global !== "undefined" ? global : self;
var BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;

// MutationObservers are desirable because they have high priority and work
// reliably everywhere they are implemented.
// They are implemented in all modern browsers.
//
// - Android 4-4.3
// - Chrome 26-34
// - Firefox 14-29
// - Internet Explorer 11
// - iPad Safari 6-7.1
// - iPhone Safari 7-7.1
// - Safari 6-7
if (typeof BrowserMutationObserver === "function") {
    requestFlush = makeRequestCallFromMutationObserver(flush);

// MessageChannels are desirable because they give direct access to the HTML
// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera
// 11-12, and in web workers in many engines.
// Although message channels yield to any queued rendering and IO tasks, they
// would be better than imposing the 4ms delay of timers.
// However, they do not work reliably in Internet Explorer or Safari.

// Internet Explorer 10 is the only browser that has setImmediate but does
// not have MutationObservers.
// Although setImmediate yields to the browser's renderer, it would be
// preferrable to falling back to setTimeout since it does not have
// the minimum 4ms penalty.
// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and
// Desktop to a lesser extent) that renders both setImmediate and
// MessageChannel useless for the purposes of ASAP.
// https://github.com/kriskowal/q/issues/396

// Timers are implemented universally.
// We fall back to timers in workers in most engines, and in foreground
// contexts in the following browsers.
// However, note that even this simple case requires nuances to operate in a
// broad spectrum of browsers.
//
// - Firefox 3-13
// - Internet Explorer 6-9
// - iPad Safari 4.3
// - Lynx 2.8.7
} else {
    requestFlush = makeRequestCallFromTimer(flush);
}

// `requestFlush` requests that the high priority event queue be flushed as
// soon as possible.
// This is useful to prevent an error thrown in a task from stalling the event
// queue if the exception handled by Node.js’s
// `process.on("uncaughtException")` or by a domain.
rawAsap.requestFlush = requestFlush;

// To request a high priority event, we induce a mutation observer by toggling
// the text of a text node between "1" and "-1".
function makeRequestCallFromMutationObserver(callback) {
    var toggle = 1;
    var observer = new BrowserMutationObserver(callback);
    var node = document.createTextNode("");
    observer.observe(node, {characterData: true});
    return function requestCall() {
        toggle = -toggle;
        node.data = toggle;
    };
}

// The message channel technique was discovered by Malte Ubl and was the
// original foundation for this library.
// http://www.nonblocking.io/2011/06/windownexttick.html

// Safari 6.0.5 (at least) intermittently fails to create message ports on a
// page's first load. Thankfully, this version of Safari supports
// MutationObservers, so we don't need to fall back in that case.

// function makeRequestCallFromMessageChannel(callback) {
//     var channel = new MessageChannel();
//     channel.port1.onmessage = callback;
//     return function requestCall() {
//         channel.port2.postMessage(0);
//     };
// }

// For reasons explained above, we are also unable to use `setImmediate`
// under any circumstances.
// Even if we were, there is another bug in Internet Explorer 10.
// It is not sufficient to assign `setImmediate` to `requestFlush` because
// `setImmediate` must be called *by name* and therefore must be wrapped in a
// closure.
// Never forget.

// function makeRequestCallFromSetImmediate(callback) {
//     return function requestCall() {
//         setImmediate(callback);
//     };
// }

// Safari 6.0 has a problem where timers will get lost while the user is
// scrolling. This problem does not impact ASAP because Safari 6.0 supports
// mutation observers, so that implementation is used instead.
// However, if we ever elect to use timers in Safari, the prevalent work-around
// is to add a scroll event listener that calls for a flush.

// `setTimeout` does not call the passed callback if the delay is less than
// approximately 7 in web workers in Firefox 8 through 18, and sometimes not
// even then.

function makeRequestCallFromTimer(callback) {
    return function requestCall() {
        // We dispatch a timeout with a specified delay of 0 for engines that
        // can reliably accommodate that request. This will usually be snapped
        // to a 4 milisecond delay, but once we're flushing, there's no delay
        // between events.
        var timeoutHandle = setTimeout(handleTimer, 0);
        // However, since this timer gets frequently dropped in Firefox
        // workers, we enlist an interval handle that will try to fire
        // an event 20 times per second until it succeeds.
        var intervalHandle = setInterval(handleTimer, 50);

        function handleTimer() {
            // Whichever timer succeeds will cancel both timers and
            // execute the callback.
            clearTimeout(timeoutHandle);
            clearInterval(intervalHandle);
            callback();
        }
    };
}

// This is for `asap.js` only.
// Its name will be periodically randomized to break any code that depends on
// its existence.
rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;

// ASAP was originally a nextTick shim included in Q. This was factored out
// into this ASAP package. It was later adapted to RSVP which made further
// amendments. These decisions, particularly to marginalize MessageChannel and
// to capture the MutationObserver implementation in a closure, were integrated
// back into ASAP proper.
// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/brackets2dots/index.js":
/*!*********************************************!*\
  !*** ./node_modules/brackets2dots/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*!
 * exports.
 */

module.exports = brackets2dots;

/*!
 * regexp patterns.
 */

var REPLACE_BRACKETS = /\[([^\[\]]+)\]/g;
var LFT_RT_TRIM_DOTS = /^[.]*|[.]*$/g;

/**
 * Convert string with bracket notation to dot property notation.
 *
 * ### Examples:
 *
 *      brackets2dots('group[0].section.a.seat[3]')
 *      //=> 'group.0.section.a.seat.3'
 *
 *      brackets2dots('[0].section.a.seat[3]')
 *      //=> '0.section.a.seat.3'
 *
 *      brackets2dots('people[*].age')
 *      //=> 'people.*.age'
 *
 * @param  {String} string
 * original string
 *
 * @return {String}
 * dot/bracket-notation string
 */

function brackets2dots(string) {
  return ({}).toString.call(string) == '[object String]'
       ? string.replace(REPLACE_BRACKETS, '.$1').replace(LFT_RT_TRIM_DOTS, '')
       : ''
}


/***/ }),

/***/ "./node_modules/classnames/index.js":
/*!******************************************!*\
  !*** ./node_modules/classnames/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;

	function classNames () {
		var classes = [];

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (!arg) continue;

			var argType = typeof arg;

			if (argType === 'string' || argType === 'number') {
				classes.push(arg);
			} else if (Array.isArray(arg) && arg.length) {
				var inner = classNames.apply(null, arg);
				if (inner) {
					classes.push(inner);
				}
			} else if (argType === 'object') {
				for (var key in arg) {
					if (hasOwn.call(arg, key) && arg[key]) {
						classes.push(key);
					}
				}
			}
		}

		return classes.join(' ');
	}

	if ( true && module.exports) {
		classNames.default = classNames;
		module.exports = classNames;
	} else if (true) {
		// register as 'classnames', consistent with npm package name
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
			return classNames;
		}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}());


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss ***!
  \******************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".opacity-ghost {\n  transition: all .8s ease;\n  opacity: 0.4;\n  box-shadow: 3px 3px 10px 3px rgba(0, 0, 0, 0.3);\n  cursor: ns-resize; }\n\n.pods-field--wrapper {\n  display: flex;\n  width: 100%;\n  background-color: #fff;\n  align-items: center;\n  transition: 200ms ease background-color; }\n  .pods-field--wrapper:hover {\n    background-color: whitesmoke; }\n\n.pods-field {\n  width: 25%;\n  padding: 5px 20px; }\n\n.pods-field--handle {\n  width: 20px;\n  opacity: .2;\n  padding-left: 13px;\n  padding-right: 13px;\n  cursor: move; }\n\n.pods-field--required {\n  color: red; }\n\n.pods-field--actions {\n  display: flex; }\n\n.pods-field--actions i {\n  padding: 10px;\n  color: #0073aa; }\n  .pods-field--actions i:hover {\n    cursor: pointer;\n    color: #00a0d2; }\n\n.pods-field--label {\n  padding-left: 0; }\n\n.pods-field--label:hover .pods-field--id,\n.pods-field--type:hover .pods-field--id {\n  opacity: 1; }\n\n.pods-field--id {\n  font-size: 13px;\n  color: #999;\n  display: inline;\n  opacity: 0;\n  transition: 200ms ease opacity; }\n\n.pods-field--label,\n.pods-field--name {\n  color: #0073aa; }\n  .pods-field--label:hover,\n  .pods-field--name:hover {\n    cursor: pointer;\n    color: #00a0d2; }\n\n.pods-field--label,\n.pods-field--type {\n  width: 30%; }\n\n.pods-field--wrapper-labels {\n  display: flex;\n  width: 100%;\n  background-color: #f5f5f5;\n  font-weight: 600;\n  padding: 6px 0;\n  border: 1px solid #e5e5e5;\n  border-left: none;\n  border-right: none; }\n  .pods-field--wrapper-labels:first-child {\n    border-top: none; }\n\n.pods-field--wrapper-labels .pods-field--handle {\n  cursor: inherit; }\n\n.pods-field--wrapper-label-items {\n  width: 172px;\n  padding: 20px 20px 17px;\n  justify-content: flex-start; }\n  .pods-field--wrapper-label-items:first-child {\n    margin-left: 36px; }\n\n.pods-field-group-wrapper {\n  background-color: #fff;\n  margin-bottom: 10px; }\n  .pods-field-group-wrapper > .pods-field--wrapper {\n    background-color: whitesmoke; }\n    .pods-field-group-wrapper > .pods-field--wrapper:hover {\n      background-color: #e4e4e4; }\n  .pods-field-group-wrapper:last-child {\n    border-bottom: 0; }\n\n.pods-field-group--title {\n  padding: 10px;\n  display: flex;\n  color: #333;\n  border: 1px solid #e5e5e5;\n  align-items: center; }\n\n.pods-field-group--handle {\n  padding-right: 13px;\n  display: flex;\n  cursor: move; }\n\n.pods-field-group--manage {\n  margin-left: auto; }\n\n.pods-button-group--container {\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n  margin-top: 10px; }\n\n.pods-field-group--toggle {\n  cursor: pointer; }\n\n.pods-button-group--item {\n  padding: 10px 20px;\n  color: #333;\n  text-decoration: none;\n  transition: 300ms ease background-color; }\n  .pods-button-group--item:hover {\n    background-color: #e0e0e0; }\n  .pods-button-group--item:last-child {\n    background-color: #94bf3a;\n    color: white; }\n    .pods-button-group--item:last-child:hover {\n      background-color: #7c9e33; }\n", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss ***!
  \*******************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".pods-field--wrapper {\n  display: flex;\n  width: 100%;\n  background-color: #fff;\n  align-items: center;\n  transition: 200ms ease background-color; }\n  .pods-field--wrapper:hover {\n    background-color: #fbfbfb; }\n\n.pods-manage-fields {\n  border-left: 1px solid #e5e5e5;\n  border-right: 1px solid #e5e5e5; }\n\n.pods-manage-fields.no-fields {\n  font-weight: bold;\n  padding: 1em; }\n\ndiv.pods-manage-f .pods-field {\n  width: 25%;\n  padding: 10px 20px; }\n\n.pods-field--handle {\n  width: auto;\n  opacity: .2; }\n\n.pods-field--required {\n  color: red; }\n\n.pods-field--actions {\n  display: flex;\n  width: auto; }\n\n.pods-field--actions .dashicon {\n  padding: 10px;\n  color: #0073aa; }\n  .pods-field--actions .dashicon:hover {\n    cursor: pointer;\n    color: #00a0d2; }\n\n.pods-field--label {\n  padding-left: 0; }\n\n.pods-field--label:hover .pods-field--id,\n.pods-field--type:hover .pods-field--id {\n  opacity: 1; }\n\n.pods-field--id {\n  font-size: 13px;\n  color: #999;\n  display: inline;\n  opacity: 0;\n  transition: 200ms ease opacity; }\n\n.pods-field--label,\n.pods-field--name {\n  color: #0073aa; }\n  .pods-field--label:hover,\n  .pods-field--name:hover {\n    cursor: pointer;\n    color: #00a0d2; }\n\n.pods-field--label {\n  flex: 1; }\n\n.pods-field--name {\n  flex: 1; }\n\n.pods-field--wrapper-labels {\n  display: flex;\n  width: 100%;\n  background-color: #fff;\n  border-bottom: 2px solid whitesmoke; }\n\n.pods-field--wrapper-label-items {\n  width: 172px;\n  padding: 20px 20px 17px;\n  justify-content: flex-start; }\n  .pods-field--wrapper-label-items:first-child {\n    margin-left: 36px; }\n", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return '@media ' + item[2] + '{' + content + '}';
      } else {
        return content;
      }
    }).join('');
  }; // import a list of modules into the list


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (i = 0; i < modules.length; i++) {
      var item = modules[i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || '';
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;
  return '/*# ' + data + ' */';
}

/***/ }),

/***/ "./node_modules/curry2/index.js":
/*!**************************************!*\
  !*** ./node_modules/curry2/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*!
 * imports.
 */

var bind = Function.prototype.bind || __webpack_require__(/*! fast-bind */ "./node_modules/fast-bind/bind-loop.js")

/*!
 * exports.
 */

module.exports = curry2

/**
 * Curry a binary function.
 *
 * @param {Function} fn
 * Binary function to curry.
 *
 * @param {Object} [self]
 * Function `this` context.
 *
 * @return {Function|*}
 * If partially applied, return unary function, otherwise, return result of full application.
 */

function curry2 (fn, self) {
  var out = function () {
    if (arguments.length === 0) return out

    return arguments.length > 1
      ? fn.apply(self, arguments)
      : bind.call(fn, self, arguments[0])
  }

  out.uncurry = function uncurry () {
    return fn
  }

  return out
}


/***/ }),

/***/ "./node_modules/debug/src/browser.js":
/*!*******************************************!*\
  !*** ./node_modules/debug/src/browser.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = __webpack_require__(/*! ./debug */ "./node_modules/debug/src/debug.js");
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  'lightseagreen',
  'forestgreen',
  'goldenrod',
  'dodgerblue',
  'darkorchid',
  'crimson'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit')

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/debug/src/debug.js":
/*!*****************************************!*\
  !*** ./node_modules/debug/src/debug.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = __webpack_require__(/*! ms */ "./node_modules/ms/index.js");

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Previous log timestamp.
 */

var prevTime;

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (var i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/DragDropManagerImpl.js":
/*!**************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/DragDropManagerImpl.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var redux_1 = __webpack_require__(/*! redux */ "./node_modules/redux/es/redux.js");
var reducers_1 = __webpack_require__(/*! ./reducers */ "./node_modules/dnd-core/lib/cjs/reducers/index.js");
var dragDrop_1 = __webpack_require__(/*! ./actions/dragDrop */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js");
var DragDropMonitorImpl_1 = __webpack_require__(/*! ./DragDropMonitorImpl */ "./node_modules/dnd-core/lib/cjs/DragDropMonitorImpl.js");
var HandlerRegistryImpl_1 = __webpack_require__(/*! ./HandlerRegistryImpl */ "./node_modules/dnd-core/lib/cjs/HandlerRegistryImpl.js");
function makeStoreInstance(debugMode) {
    // TODO: if we ever make a react-native version of this,
    // we'll need to consider how to pull off dev-tooling
    var reduxDevTools = typeof window !== 'undefined' &&
        window.__REDUX_DEVTOOLS_EXTENSION__;
    return redux_1.createStore(reducers_1.default, debugMode &&
        reduxDevTools &&
        reduxDevTools({
            name: 'dnd-core',
            instanceId: 'dnd-core',
        }));
}
var DragDropManagerImpl = /** @class */ (function () {
    function DragDropManagerImpl(createBackend, context, debugMode) {
        var _this = this;
        if (context === void 0) { context = {}; }
        if (debugMode === void 0) { debugMode = false; }
        this.context = context;
        this.isSetUp = false;
        this.handleRefCountChange = function () {
            var shouldSetUp = _this.store.getState().refCount > 0;
            if (shouldSetUp && !_this.isSetUp) {
                _this.backend.setup();
                _this.isSetUp = true;
            }
            else if (!shouldSetUp && _this.isSetUp) {
                _this.backend.teardown();
                _this.isSetUp = false;
            }
        };
        var store = makeStoreInstance(debugMode);
        this.store = store;
        this.monitor = new DragDropMonitorImpl_1.default(store, new HandlerRegistryImpl_1.default(store));
        this.backend = createBackend(this);
        store.subscribe(this.handleRefCountChange);
    }
    DragDropManagerImpl.prototype.getContext = function () {
        return this.context;
    };
    DragDropManagerImpl.prototype.getMonitor = function () {
        return this.monitor;
    };
    DragDropManagerImpl.prototype.getBackend = function () {
        return this.backend;
    };
    DragDropManagerImpl.prototype.getRegistry = function () {
        return this.monitor.registry;
    };
    DragDropManagerImpl.prototype.getActions = function () {
        var manager = this;
        var dispatch = this.store.dispatch;
        function bindActionCreator(actionCreator) {
            return function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                var action = actionCreator.apply(manager, args);
                if (typeof action !== 'undefined') {
                    dispatch(action);
                }
            };
        }
        var actions = dragDrop_1.default(this);
        return Object.keys(actions).reduce(function (boundActions, key) {
            var action = actions[key];
            boundActions[key] = bindActionCreator(action);
            return boundActions;
        }, {});
    };
    DragDropManagerImpl.prototype.dispatch = function (action) {
        this.store.dispatch(action);
    };
    return DragDropManagerImpl;
}());
exports.default = DragDropManagerImpl;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/DragDropMonitorImpl.js":
/*!**************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/DragDropMonitorImpl.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var matchesType_1 = __webpack_require__(/*! ./utils/matchesType */ "./node_modules/dnd-core/lib/cjs/utils/matchesType.js");
var coords_1 = __webpack_require__(/*! ./utils/coords */ "./node_modules/dnd-core/lib/cjs/utils/coords.js");
var dirtiness_1 = __webpack_require__(/*! ./utils/dirtiness */ "./node_modules/dnd-core/lib/cjs/utils/dirtiness.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var DragDropMonitorImpl = /** @class */ (function () {
    function DragDropMonitorImpl(store, registry) {
        this.store = store;
        this.registry = registry;
    }
    DragDropMonitorImpl.prototype.subscribeToStateChange = function (listener, options) {
        var _this = this;
        if (options === void 0) { options = { handlerIds: undefined }; }
        var handlerIds = options.handlerIds;
        invariant(typeof listener === 'function', 'listener must be a function.');
        invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');
        var prevStateId = this.store.getState().stateId;
        var handleChange = function () {
            var state = _this.store.getState();
            var currentStateId = state.stateId;
            try {
                var canSkipListener = currentStateId === prevStateId ||
                    (currentStateId === prevStateId + 1 &&
                        !dirtiness_1.areDirty(state.dirtyHandlerIds, handlerIds));
                if (!canSkipListener) {
                    listener();
                }
            }
            finally {
                prevStateId = currentStateId;
            }
        };
        return this.store.subscribe(handleChange);
    };
    DragDropMonitorImpl.prototype.subscribeToOffsetChange = function (listener) {
        var _this = this;
        invariant(typeof listener === 'function', 'listener must be a function.');
        var previousState = this.store.getState().dragOffset;
        var handleChange = function () {
            var nextState = _this.store.getState().dragOffset;
            if (nextState === previousState) {
                return;
            }
            previousState = nextState;
            listener();
        };
        return this.store.subscribe(handleChange);
    };
    DragDropMonitorImpl.prototype.canDragSource = function (sourceId) {
        if (!sourceId) {
            return false;
        }
        var source = this.registry.getSource(sourceId);
        invariant(source, 'Expected to find a valid source.');
        if (this.isDragging()) {
            return false;
        }
        return source.canDrag(this, sourceId);
    };
    DragDropMonitorImpl.prototype.canDropOnTarget = function (targetId) {
        // undefined on initial render
        if (!targetId) {
            return false;
        }
        var target = this.registry.getTarget(targetId);
        invariant(target, 'Expected to find a valid target.');
        if (!this.isDragging() || this.didDrop()) {
            return false;
        }
        var targetType = this.registry.getTargetType(targetId);
        var draggedItemType = this.getItemType();
        return (matchesType_1.default(targetType, draggedItemType) && target.canDrop(this, targetId));
    };
    DragDropMonitorImpl.prototype.isDragging = function () {
        return Boolean(this.getItemType());
    };
    DragDropMonitorImpl.prototype.isDraggingSource = function (sourceId) {
        // undefined on initial render
        if (!sourceId) {
            return false;
        }
        var source = this.registry.getSource(sourceId, true);
        invariant(source, 'Expected to find a valid source.');
        if (!this.isDragging() || !this.isSourcePublic()) {
            return false;
        }
        var sourceType = this.registry.getSourceType(sourceId);
        var draggedItemType = this.getItemType();
        if (sourceType !== draggedItemType) {
            return false;
        }
        return source.isDragging(this, sourceId);
    };
    DragDropMonitorImpl.prototype.isOverTarget = function (targetId, options) {
        if (options === void 0) { options = { shallow: false }; }
        // undefined on initial render
        if (!targetId) {
            return false;
        }
        var shallow = options.shallow;
        if (!this.isDragging()) {
            return false;
        }
        var targetType = this.registry.getTargetType(targetId);
        var draggedItemType = this.getItemType();
        if (draggedItemType && !matchesType_1.default(targetType, draggedItemType)) {
            return false;
        }
        var targetIds = this.getTargetIds();
        if (!targetIds.length) {
            return false;
        }
        var index = targetIds.indexOf(targetId);
        if (shallow) {
            return index === targetIds.length - 1;
        }
        else {
            return index > -1;
        }
    };
    DragDropMonitorImpl.prototype.getItemType = function () {
        return this.store.getState().dragOperation.itemType;
    };
    DragDropMonitorImpl.prototype.getItem = function () {
        return this.store.getState().dragOperation.item;
    };
    DragDropMonitorImpl.prototype.getSourceId = function () {
        return this.store.getState().dragOperation.sourceId;
    };
    DragDropMonitorImpl.prototype.getTargetIds = function () {
        return this.store.getState().dragOperation.targetIds;
    };
    DragDropMonitorImpl.prototype.getDropResult = function () {
        return this.store.getState().dragOperation.dropResult;
    };
    DragDropMonitorImpl.prototype.didDrop = function () {
        return this.store.getState().dragOperation.didDrop;
    };
    DragDropMonitorImpl.prototype.isSourcePublic = function () {
        return this.store.getState().dragOperation.isSourcePublic;
    };
    DragDropMonitorImpl.prototype.getInitialClientOffset = function () {
        return this.store.getState().dragOffset.initialClientOffset;
    };
    DragDropMonitorImpl.prototype.getInitialSourceClientOffset = function () {
        return this.store.getState().dragOffset.initialSourceClientOffset;
    };
    DragDropMonitorImpl.prototype.getClientOffset = function () {
        return this.store.getState().dragOffset.clientOffset;
    };
    DragDropMonitorImpl.prototype.getSourceClientOffset = function () {
        return coords_1.getSourceClientOffset(this.store.getState().dragOffset);
    };
    DragDropMonitorImpl.prototype.getDifferenceFromInitialOffset = function () {
        return coords_1.getDifferenceFromInitialOffset(this.store.getState().dragOffset);
    };
    return DragDropMonitorImpl;
}());
exports.default = DragDropMonitorImpl;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/HandlerRegistryImpl.js":
/*!**************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/HandlerRegistryImpl.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var registry_1 = __webpack_require__(/*! ./actions/registry */ "./node_modules/dnd-core/lib/cjs/actions/registry.js");
var getNextUniqueId_1 = __webpack_require__(/*! ./utils/getNextUniqueId */ "./node_modules/dnd-core/lib/cjs/utils/getNextUniqueId.js");
var interfaces_1 = __webpack_require__(/*! ./interfaces */ "./node_modules/dnd-core/lib/cjs/interfaces.js");
var contracts_1 = __webpack_require__(/*! ./contracts */ "./node_modules/dnd-core/lib/cjs/contracts.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var asap = __webpack_require__(/*! asap */ "./node_modules/asap/browser-asap.js");
function getNextHandlerId(role) {
    var id = getNextUniqueId_1.default().toString();
    switch (role) {
        case interfaces_1.HandlerRole.SOURCE:
            return "S" + id;
        case interfaces_1.HandlerRole.TARGET:
            return "T" + id;
        default:
            throw new Error("Unknown Handler Role: " + role);
    }
}
function parseRoleFromHandlerId(handlerId) {
    switch (handlerId[0]) {
        case 'S':
            return interfaces_1.HandlerRole.SOURCE;
        case 'T':
            return interfaces_1.HandlerRole.TARGET;
        default:
            invariant(false, "Cannot parse handler ID: " + handlerId);
    }
}
function mapContainsValue(map, searchValue) {
    var entries = map.entries();
    var isDone = false;
    do {
        var _a = entries.next(), done = _a.done, _b = _a.value, value = _b[1];
        if (value === searchValue) {
            return true;
        }
        isDone = done;
    } while (!isDone);
    return false;
}
var HandlerRegistryImpl = /** @class */ (function () {
    function HandlerRegistryImpl(store) {
        this.store = store;
        this.types = new Map();
        this.dragSources = new Map();
        this.dropTargets = new Map();
        this.pinnedSourceId = null;
        this.pinnedSource = null;
    }
    HandlerRegistryImpl.prototype.addSource = function (type, source) {
        contracts_1.validateType(type);
        contracts_1.validateSourceContract(source);
        var sourceId = this.addHandler(interfaces_1.HandlerRole.SOURCE, type, source);
        this.store.dispatch(registry_1.addSource(sourceId));
        return sourceId;
    };
    HandlerRegistryImpl.prototype.addTarget = function (type, target) {
        contracts_1.validateType(type, true);
        contracts_1.validateTargetContract(target);
        var targetId = this.addHandler(interfaces_1.HandlerRole.TARGET, type, target);
        this.store.dispatch(registry_1.addTarget(targetId));
        return targetId;
    };
    HandlerRegistryImpl.prototype.containsHandler = function (handler) {
        return (mapContainsValue(this.dragSources, handler) ||
            mapContainsValue(this.dropTargets, handler));
    };
    HandlerRegistryImpl.prototype.getSource = function (sourceId, includePinned) {
        if (includePinned === void 0) { includePinned = false; }
        invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');
        var isPinned = includePinned && sourceId === this.pinnedSourceId;
        var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);
        return source;
    };
    HandlerRegistryImpl.prototype.getTarget = function (targetId) {
        invariant(this.isTargetId(targetId), 'Expected a valid target ID.');
        return this.dropTargets.get(targetId);
    };
    HandlerRegistryImpl.prototype.getSourceType = function (sourceId) {
        invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');
        return this.types.get(sourceId);
    };
    HandlerRegistryImpl.prototype.getTargetType = function (targetId) {
        invariant(this.isTargetId(targetId), 'Expected a valid target ID.');
        return this.types.get(targetId);
    };
    HandlerRegistryImpl.prototype.isSourceId = function (handlerId) {
        var role = parseRoleFromHandlerId(handlerId);
        return role === interfaces_1.HandlerRole.SOURCE;
    };
    HandlerRegistryImpl.prototype.isTargetId = function (handlerId) {
        var role = parseRoleFromHandlerId(handlerId);
        return role === interfaces_1.HandlerRole.TARGET;
    };
    HandlerRegistryImpl.prototype.removeSource = function (sourceId) {
        var _this = this;
        invariant(this.getSource(sourceId), 'Expected an existing source.');
        this.store.dispatch(registry_1.removeSource(sourceId));
        asap(function () {
            _this.dragSources.delete(sourceId);
            _this.types.delete(sourceId);
        });
    };
    HandlerRegistryImpl.prototype.removeTarget = function (targetId) {
        invariant(this.getTarget(targetId), 'Expected an existing target.');
        this.store.dispatch(registry_1.removeTarget(targetId));
        this.dropTargets.delete(targetId);
        this.types.delete(targetId);
    };
    HandlerRegistryImpl.prototype.pinSource = function (sourceId) {
        var source = this.getSource(sourceId);
        invariant(source, 'Expected an existing source.');
        this.pinnedSourceId = sourceId;
        this.pinnedSource = source;
    };
    HandlerRegistryImpl.prototype.unpinSource = function () {
        invariant(this.pinnedSource, 'No source is pinned at the time.');
        this.pinnedSourceId = null;
        this.pinnedSource = null;
    };
    HandlerRegistryImpl.prototype.addHandler = function (role, type, handler) {
        var id = getNextHandlerId(role);
        this.types.set(id, type);
        if (role === interfaces_1.HandlerRole.SOURCE) {
            this.dragSources.set(id, handler);
        }
        else if (role === interfaces_1.HandlerRole.TARGET) {
            this.dropTargets.set(id, handler);
        }
        return id;
    };
    return HandlerRegistryImpl;
}());
exports.default = HandlerRegistryImpl;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/beginDrag.js":
/*!*********************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/beginDrag.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var setClientOffset_1 = __webpack_require__(/*! ./local/setClientOffset */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/local/setClientOffset.js");
var discount_lodash_1 = __webpack_require__(/*! ../../utils/discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
var ResetCoordinatesAction = {
    type: types_1.INIT_COORDS,
    payload: {
        clientOffset: null,
        sourceClientOffset: null,
    },
};
function createBeginDrag(manager) {
    return function beginDrag(sourceIds, options) {
        if (sourceIds === void 0) { sourceIds = []; }
        if (options === void 0) { options = {
            publishSource: true,
        }; }
        var _a = options.publishSource, publishSource = _a === void 0 ? true : _a, clientOffset = options.clientOffset, getSourceClientOffset = options.getSourceClientOffset;
        var monitor = manager.getMonitor();
        var registry = manager.getRegistry();
        // Initialize the coordinates using the client offset
        manager.dispatch(setClientOffset_1.setClientOffset(clientOffset));
        verifyInvariants(sourceIds, monitor, registry);
        // Get the draggable source
        var sourceId = getDraggableSource(sourceIds, monitor);
        if (sourceId === null) {
            manager.dispatch(ResetCoordinatesAction);
            return;
        }
        // Get the source client offset
        var sourceClientOffset = null;
        if (clientOffset) {
            verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);
            sourceClientOffset = getSourceClientOffset(sourceId);
        }
        // Initialize the full coordinates
        manager.dispatch(setClientOffset_1.setClientOffset(clientOffset, sourceClientOffset));
        var source = registry.getSource(sourceId);
        var item = source.beginDrag(monitor, sourceId);
        verifyItemIsObject(item);
        registry.pinSource(sourceId);
        var itemType = registry.getSourceType(sourceId);
        return {
            type: types_1.BEGIN_DRAG,
            payload: {
                itemType: itemType,
                item: item,
                sourceId: sourceId,
                clientOffset: clientOffset || null,
                sourceClientOffset: sourceClientOffset || null,
                isSourcePublic: !!publishSource,
            },
        };
    };
}
exports.default = createBeginDrag;
function verifyInvariants(sourceIds, monitor, registry) {
    invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');
    for (var _i = 0, sourceIds_1 = sourceIds; _i < sourceIds_1.length; _i++) {
        var s = sourceIds_1[_i];
        invariant(registry.getSource(s), 'Expected sourceIds to be registered.');
    }
}
function verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {
    invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');
}
function verifyItemIsObject(item) {
    invariant(discount_lodash_1.isObject(item), 'Item must be an object.');
}
function getDraggableSource(sourceIds, monitor) {
    var sourceId = null;
    for (var i = sourceIds.length - 1; i >= 0; i--) {
        if (monitor.canDragSource(sourceIds[i])) {
            sourceId = sourceIds[i];
            break;
        }
    }
    return sourceId;
}


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/drop.js":
/*!****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/drop.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
var discount_lodash_1 = __webpack_require__(/*! ../../utils/discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function createDrop(manager) {
    return function drop(options) {
        if (options === void 0) { options = {}; }
        var monitor = manager.getMonitor();
        var registry = manager.getRegistry();
        verifyInvariants(monitor);
        var targetIds = getDroppableTargets(monitor);
        // Multiple actions are dispatched here, which is why this doesn't return an action
        targetIds.forEach(function (targetId, index) {
            var dropResult = determineDropResult(targetId, index, registry, monitor);
            var action = {
                type: types_1.DROP,
                payload: {
                    dropResult: __assign({}, options, dropResult),
                },
            };
            manager.dispatch(action);
        });
    };
}
exports.default = createDrop;
function verifyInvariants(monitor) {
    invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');
    invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');
}
function determineDropResult(targetId, index, registry, monitor) {
    var target = registry.getTarget(targetId);
    var dropResult = target ? target.drop(monitor, targetId) : undefined;
    verifyDropResultType(dropResult);
    if (typeof dropResult === 'undefined') {
        dropResult = index === 0 ? {} : monitor.getDropResult();
    }
    return dropResult;
}
function verifyDropResultType(dropResult) {
    invariant(typeof dropResult === 'undefined' || discount_lodash_1.isObject(dropResult), 'Drop result must either be an object or undefined.');
}
function getDroppableTargets(monitor) {
    var targetIds = monitor
        .getTargetIds()
        .filter(monitor.canDropOnTarget, monitor);
    targetIds.reverse();
    return targetIds;
}


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/endDrag.js":
/*!*******************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/endDrag.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function createEndDrag(manager) {
    return function endDrag() {
        var monitor = manager.getMonitor();
        var registry = manager.getRegistry();
        verifyIsDragging(monitor);
        var sourceId = monitor.getSourceId();
        var source = registry.getSource(sourceId, true);
        source.endDrag(monitor, sourceId);
        registry.unpinSource();
        return { type: types_1.END_DRAG };
    };
}
exports.default = createEndDrag;
function verifyIsDragging(monitor) {
    invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');
}


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/hover.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/hover.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var matchesType_1 = __webpack_require__(/*! ../../utils/matchesType */ "./node_modules/dnd-core/lib/cjs/utils/matchesType.js");
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function createHover(manager) {
    return function hover(targetIdsArg, _a) {
        var clientOffset = (_a === void 0 ? {} : _a).clientOffset;
        verifyTargetIdsIsArray(targetIdsArg);
        var targetIds = targetIdsArg.slice(0);
        var monitor = manager.getMonitor();
        var registry = manager.getRegistry();
        checkInvariants(targetIds, monitor, registry);
        var draggedItemType = monitor.getItemType();
        removeNonMatchingTargetIds(targetIds, registry, draggedItemType);
        hoverAllTargets(targetIds, monitor, registry);
        return {
            type: types_1.HOVER,
            payload: {
                targetIds: targetIds,
                clientOffset: clientOffset || null,
            },
        };
    };
}
exports.default = createHover;
function verifyTargetIdsIsArray(targetIdsArg) {
    invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');
}
function checkInvariants(targetIds, monitor, registry) {
    invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');
    invariant(!monitor.didDrop(), 'Cannot call hover after drop.');
    for (var i = 0; i < targetIds.length; i++) {
        var targetId = targetIds[i];
        invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');
        var target = registry.getTarget(targetId);
        invariant(target, 'Expected targetIds to be registered.');
    }
}
function removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {
    // Remove those targetIds that don't match the targetType.  This
    // fixes shallow isOver which would only be non-shallow because of
    // non-matching targets.
    for (var i = targetIds.length - 1; i >= 0; i--) {
        var targetId = targetIds[i];
        var targetType = registry.getTargetType(targetId);
        if (!matchesType_1.default(targetType, draggedItemType)) {
            targetIds.splice(i, 1);
        }
    }
}
function hoverAllTargets(targetIds, monitor, registry) {
    // Finally call hover on all matching targets.
    for (var _i = 0, targetIds_1 = targetIds; _i < targetIds_1.length; _i++) {
        var targetId = targetIds_1[_i];
        var target = registry.getTarget(targetId);
        target.hover(monitor, targetId);
    }
}


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
var beginDrag_1 = __webpack_require__(/*! ./beginDrag */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/beginDrag.js");
var publishDragSource_1 = __webpack_require__(/*! ./publishDragSource */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/publishDragSource.js");
var hover_1 = __webpack_require__(/*! ./hover */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/hover.js");
var drop_1 = __webpack_require__(/*! ./drop */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/drop.js");
var endDrag_1 = __webpack_require__(/*! ./endDrag */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/endDrag.js");
__export(__webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js"));
function createDragDropActions(manager) {
    return {
        beginDrag: beginDrag_1.default(manager),
        publishDragSource: publishDragSource_1.default(manager),
        hover: hover_1.default(manager),
        drop: drop_1.default(manager),
        endDrag: endDrag_1.default(manager),
    };
}
exports.default = createDragDropActions;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/local/setClientOffset.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/local/setClientOffset.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var types_1 = __webpack_require__(/*! ../types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
function setClientOffset(clientOffset, sourceClientOffset) {
    return {
        type: types_1.INIT_COORDS,
        payload: {
            sourceClientOffset: sourceClientOffset || null,
            clientOffset: clientOffset || null,
        },
    };
}
exports.setClientOffset = setClientOffset;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/publishDragSource.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/publishDragSource.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
function createPublishDragSource(manager) {
    return function publishDragSource() {
        var monitor = manager.getMonitor();
        if (monitor.isDragging()) {
            return { type: types_1.PUBLISH_DRAG_SOURCE };
        }
    };
}
exports.default = createPublishDragSource;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.INIT_COORDS = 'dnd-core/INIT_COORDS';
exports.BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';
exports.PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';
exports.HOVER = 'dnd-core/HOVER';
exports.DROP = 'dnd-core/DROP';
exports.END_DRAG = 'dnd-core/END_DRAG';


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/registry.js":
/*!***********************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/registry.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.ADD_SOURCE = 'dnd-core/ADD_SOURCE';
exports.ADD_TARGET = 'dnd-core/ADD_TARGET';
exports.REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';
exports.REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';
function addSource(sourceId) {
    return {
        type: exports.ADD_SOURCE,
        payload: {
            sourceId: sourceId,
        },
    };
}
exports.addSource = addSource;
function addTarget(targetId) {
    return {
        type: exports.ADD_TARGET,
        payload: {
            targetId: targetId,
        },
    };
}
exports.addTarget = addTarget;
function removeSource(sourceId) {
    return {
        type: exports.REMOVE_SOURCE,
        payload: {
            sourceId: sourceId,
        },
    };
}
exports.removeSource = removeSource;
function removeTarget(targetId) {
    return {
        type: exports.REMOVE_TARGET,
        payload: {
            targetId: targetId,
        },
    };
}
exports.removeTarget = removeTarget;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/contracts.js":
/*!****************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/contracts.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function validateSourceContract(source) {
    invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');
    invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');
    invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');
}
exports.validateSourceContract = validateSourceContract;
function validateTargetContract(target) {
    invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');
    invariant(typeof target.hover === 'function', 'Expected hover to be a function.');
    invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');
}
exports.validateTargetContract = validateTargetContract;
function validateType(type, allowArray) {
    if (allowArray && Array.isArray(type)) {
        type.forEach(function (t) { return validateType(t, false); });
        return;
    }
    invariant(typeof type === 'string' || typeof type === 'symbol', allowArray
        ? 'Type can only be a string, a symbol, or an array of either.'
        : 'Type can only be a string or a symbol.');
}
exports.validateType = validateType;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/factories.js":
/*!****************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/factories.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var DragDropManagerImpl_1 = __webpack_require__(/*! ./DragDropManagerImpl */ "./node_modules/dnd-core/lib/cjs/DragDropManagerImpl.js");
function createDragDropManager(backend, context, debugMode) {
    return new DragDropManagerImpl_1.default(backend, context, debugMode);
}
exports.createDragDropManager = createDragDropManager;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/index.js":
/*!************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
__export(__webpack_require__(/*! ./interfaces */ "./node_modules/dnd-core/lib/cjs/interfaces.js"));
__export(__webpack_require__(/*! ./factories */ "./node_modules/dnd-core/lib/cjs/factories.js"));


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/interfaces.js":
/*!*****************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/interfaces.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var HandlerRole;
(function (HandlerRole) {
    HandlerRole["SOURCE"] = "SOURCE";
    HandlerRole["TARGET"] = "TARGET";
})(HandlerRole = exports.HandlerRole || (exports.HandlerRole = {}));


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/dirtyHandlerIds.js":
/*!*******************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/dirtyHandlerIds.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var dragDrop_1 = __webpack_require__(/*! ../actions/dragDrop */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js");
var registry_1 = __webpack_require__(/*! ../actions/registry */ "./node_modules/dnd-core/lib/cjs/actions/registry.js");
var equality_1 = __webpack_require__(/*! ../utils/equality */ "./node_modules/dnd-core/lib/cjs/utils/equality.js");
var dirtiness_1 = __webpack_require__(/*! ../utils/dirtiness */ "./node_modules/dnd-core/lib/cjs/utils/dirtiness.js");
var discount_lodash_1 = __webpack_require__(/*! ../utils/discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
function dirtyHandlerIds(state, action) {
    if (state === void 0) { state = dirtiness_1.NONE; }
    switch (action.type) {
        case dragDrop_1.HOVER:
            break;
        case registry_1.ADD_SOURCE:
        case registry_1.ADD_TARGET:
        case registry_1.REMOVE_TARGET:
        case registry_1.REMOVE_SOURCE:
            return dirtiness_1.NONE;
        case dragDrop_1.BEGIN_DRAG:
        case dragDrop_1.PUBLISH_DRAG_SOURCE:
        case dragDrop_1.END_DRAG:
        case dragDrop_1.DROP:
        default:
            return dirtiness_1.ALL;
    }
    var _a = action.payload, _b = _a.targetIds, targetIds = _b === void 0 ? [] : _b, _c = _a.prevTargetIds, prevTargetIds = _c === void 0 ? [] : _c;
    var result = discount_lodash_1.xor(targetIds, prevTargetIds);
    var didChange = result.length > 0 || !equality_1.areArraysEqual(targetIds, prevTargetIds);
    if (!didChange) {
        return dirtiness_1.NONE;
    }
    // Check the target ids at the innermost position. If they are valid, add them
    // to the result
    var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];
    var innermostTargetId = targetIds[targetIds.length - 1];
    if (prevInnermostTargetId !== innermostTargetId) {
        if (prevInnermostTargetId) {
            result.push(prevInnermostTargetId);
        }
        if (innermostTargetId) {
            result.push(innermostTargetId);
        }
    }
    return result;
}
exports.default = dirtyHandlerIds;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/dragOffset.js":
/*!**************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/dragOffset.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var dragDrop_1 = __webpack_require__(/*! ../actions/dragDrop */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js");
var equality_1 = __webpack_require__(/*! ../utils/equality */ "./node_modules/dnd-core/lib/cjs/utils/equality.js");
var initialState = {
    initialSourceClientOffset: null,
    initialClientOffset: null,
    clientOffset: null,
};
function dragOffset(state, action) {
    if (state === void 0) { state = initialState; }
    var payload = action.payload;
    switch (action.type) {
        case dragDrop_1.INIT_COORDS:
        case dragDrop_1.BEGIN_DRAG:
            return {
                initialSourceClientOffset: payload.sourceClientOffset,
                initialClientOffset: payload.clientOffset,
                clientOffset: payload.clientOffset,
            };
        case dragDrop_1.HOVER:
            if (equality_1.areCoordsEqual(state.clientOffset, payload.clientOffset)) {
                return state;
            }
            return __assign({}, state, { clientOffset: payload.clientOffset });
        case dragDrop_1.END_DRAG:
        case dragDrop_1.DROP:
            return initialState;
        default:
            return state;
    }
}
exports.default = dragOffset;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/dragOperation.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/dragOperation.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var dragDrop_1 = __webpack_require__(/*! ../actions/dragDrop */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js");
var registry_1 = __webpack_require__(/*! ../actions/registry */ "./node_modules/dnd-core/lib/cjs/actions/registry.js");
var discount_lodash_1 = __webpack_require__(/*! ../utils/discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
var initialState = {
    itemType: null,
    item: null,
    sourceId: null,
    targetIds: [],
    dropResult: null,
    didDrop: false,
    isSourcePublic: null,
};
function dragOperation(state, action) {
    if (state === void 0) { state = initialState; }
    var payload = action.payload;
    switch (action.type) {
        case dragDrop_1.BEGIN_DRAG:
            return __assign({}, state, { itemType: payload.itemType, item: payload.item, sourceId: payload.sourceId, isSourcePublic: payload.isSourcePublic, dropResult: null, didDrop: false });
        case dragDrop_1.PUBLISH_DRAG_SOURCE:
            return __assign({}, state, { isSourcePublic: true });
        case dragDrop_1.HOVER:
            return __assign({}, state, { targetIds: payload.targetIds });
        case registry_1.REMOVE_TARGET:
            if (state.targetIds.indexOf(payload.targetId) === -1) {
                return state;
            }
            return __assign({}, state, { targetIds: discount_lodash_1.without(state.targetIds, payload.targetId) });
        case dragDrop_1.DROP:
            return __assign({}, state, { dropResult: payload.dropResult, didDrop: true, targetIds: [] });
        case dragDrop_1.END_DRAG:
            return __assign({}, state, { itemType: null, item: null, sourceId: null, dropResult: null, didDrop: false, isSourcePublic: null, targetIds: [] });
        default:
            return state;
    }
}
exports.default = dragOperation;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/index.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var dragOffset_1 = __webpack_require__(/*! ./dragOffset */ "./node_modules/dnd-core/lib/cjs/reducers/dragOffset.js");
var dragOperation_1 = __webpack_require__(/*! ./dragOperation */ "./node_modules/dnd-core/lib/cjs/reducers/dragOperation.js");
var refCount_1 = __webpack_require__(/*! ./refCount */ "./node_modules/dnd-core/lib/cjs/reducers/refCount.js");
var dirtyHandlerIds_1 = __webpack_require__(/*! ./dirtyHandlerIds */ "./node_modules/dnd-core/lib/cjs/reducers/dirtyHandlerIds.js");
var stateId_1 = __webpack_require__(/*! ./stateId */ "./node_modules/dnd-core/lib/cjs/reducers/stateId.js");
var discount_lodash_1 = __webpack_require__(/*! ../utils/discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
function reduce(state, action) {
    if (state === void 0) { state = {}; }
    return {
        dirtyHandlerIds: dirtyHandlerIds_1.default(state.dirtyHandlerIds, {
            type: action.type,
            payload: __assign({}, action.payload, { prevTargetIds: discount_lodash_1.get(state, 'dragOperation.targetIds', []) }),
        }),
        dragOffset: dragOffset_1.default(state.dragOffset, action),
        refCount: refCount_1.default(state.refCount, action),
        dragOperation: dragOperation_1.default(state.dragOperation, action),
        stateId: stateId_1.default(state.stateId),
    };
}
exports.default = reduce;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/refCount.js":
/*!************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/refCount.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var registry_1 = __webpack_require__(/*! ../actions/registry */ "./node_modules/dnd-core/lib/cjs/actions/registry.js");
function refCount(state, action) {
    if (state === void 0) { state = 0; }
    switch (action.type) {
        case registry_1.ADD_SOURCE:
        case registry_1.ADD_TARGET:
            return state + 1;
        case registry_1.REMOVE_SOURCE:
        case registry_1.REMOVE_TARGET:
            return state - 1;
        default:
            return state;
    }
}
exports.default = refCount;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/stateId.js":
/*!***********************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/stateId.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function stateId(state) {
    if (state === void 0) { state = 0; }
    return state + 1;
}
exports.default = stateId;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/coords.js":
/*!*******************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/coords.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Coordinate addition
 * @param a The first coordinate
 * @param b The second coordinate
 */
function add(a, b) {
    return {
        x: a.x + b.x,
        y: a.y + b.y,
    };
}
exports.add = add;
/**
 * Coordinate subtraction
 * @param a The first coordinate
 * @param b The second coordinate
 */
function subtract(a, b) {
    return {
        x: a.x - b.x,
        y: a.y - b.y,
    };
}
exports.subtract = subtract;
/**
 * Returns the cartesian distance of the drag source component's position, based on its position
 * at the time when the current drag operation has started, and the movement difference.
 *
 * Returns null if no item is being dragged.
 *
 * @param state The offset state to compute from
 */
function getSourceClientOffset(state) {
    var clientOffset = state.clientOffset, initialClientOffset = state.initialClientOffset, initialSourceClientOffset = state.initialSourceClientOffset;
    if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {
        return null;
    }
    return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);
}
exports.getSourceClientOffset = getSourceClientOffset;
/**
 * Determines the x,y offset between the client offset and the initial client offset
 *
 * @param state The offset state to compute from
 */
function getDifferenceFromInitialOffset(state) {
    var clientOffset = state.clientOffset, initialClientOffset = state.initialClientOffset;
    if (!clientOffset || !initialClientOffset) {
        return null;
    }
    return subtract(clientOffset, initialClientOffset);
}
exports.getDifferenceFromInitialOffset = getDifferenceFromInitialOffset;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/dirtiness.js":
/*!**********************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/dirtiness.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var discount_lodash_1 = __webpack_require__(/*! ./discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
exports.NONE = [];
exports.ALL = [];
exports.NONE.__IS_NONE__ = true;
exports.ALL.__IS_ALL__ = true;
/**
 * Determines if the given handler IDs are dirty or not.
 *
 * @param dirtyIds The set of dirty handler ids
 * @param handlerIds The set of handler ids to check
 */
function areDirty(dirtyIds, handlerIds) {
    if (dirtyIds === exports.NONE) {
        return false;
    }
    if (dirtyIds === exports.ALL || typeof handlerIds === 'undefined') {
        return true;
    }
    var commonIds = discount_lodash_1.intersection(handlerIds, dirtyIds);
    return commonIds.length > 0;
}
exports.areDirty = areDirty;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js":
/*!****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * drop-in replacement for _.get
 * @param obj
 * @param path
 * @param defaultValue
 */
function get(obj, path, defaultValue) {
    return path
        .split('.')
        .reduce(function (a, c) { return (a && a[c] ? a[c] : defaultValue || null); }, obj);
}
exports.get = get;
/**
 * drop-in replacement for _.without
 */
function without(items, item) {
    return items.filter(function (i) { return i !== item; });
}
exports.without = without;
/**
 * drop-in replacement for _.isString
 * @param input
 */
function isString(input) {
    return typeof input === 'string';
}
exports.isString = isString;
/**
 * drop-in replacement for _.isString
 * @param input
 */
function isObject(input) {
    return typeof input === 'object';
}
exports.isObject = isObject;
/**
 * repalcement for _.xor
 * @param itemsA
 * @param itemsB
 */
function xor(itemsA, itemsB) {
    var map = new Map();
    var insertItem = function (item) {
        return map.set(item, map.has(item) ? map.get(item) + 1 : 1);
    };
    itemsA.forEach(insertItem);
    itemsB.forEach(insertItem);
    var result = [];
    map.forEach(function (count, key) {
        if (count === 1) {
            result.push(key);
        }
    });
    return result;
}
exports.xor = xor;
/**
 * replacement for _.intersection
 * @param itemsA
 * @param itemsB
 */
function intersection(itemsA, itemsB) {
    return itemsA.filter(function (t) { return itemsB.indexOf(t) > -1; });
}
exports.intersection = intersection;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/equality.js":
/*!*********************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/equality.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.strictEquality = function (a, b) { return a === b; };
/**
 * Determine if two cartesian coordinate offsets are equal
 * @param offsetA
 * @param offsetB
 */
function areCoordsEqual(offsetA, offsetB) {
    if (!offsetA && !offsetB) {
        return true;
    }
    else if (!offsetA || !offsetB) {
        return false;
    }
    else {
        return offsetA.x === offsetB.x && offsetA.y === offsetB.y;
    }
}
exports.areCoordsEqual = areCoordsEqual;
/**
 * Determines if two arrays of items are equal
 * @param a The first array of items
 * @param b The second array of items
 */
function areArraysEqual(a, b, isEqual) {
    if (isEqual === void 0) { isEqual = exports.strictEquality; }
    if (a.length !== b.length) {
        return false;
    }
    for (var i = 0; i < a.length; ++i) {
        if (!isEqual(a[i], b[i])) {
            return false;
        }
    }
    return true;
}
exports.areArraysEqual = areArraysEqual;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/getNextUniqueId.js":
/*!****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/getNextUniqueId.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var nextUniqueId = 0;
function getNextUniqueId() {
    return nextUniqueId++;
}
exports.default = getNextUniqueId;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/matchesType.js":
/*!************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/matchesType.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function matchesType(targetType, draggedItemType) {
    if (draggedItemType === null) {
        return targetType === null;
    }
    return Array.isArray(targetType)
        ? targetType.some(function (t) { return t === draggedItemType; })
        : targetType === draggedItemType;
}
exports.default = matchesType;


/***/ }),

/***/ "./node_modules/dotsplit.js/index.js":
/*!*******************************************!*\
  !*** ./node_modules/dotsplit.js/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var toString = Object.prototype.toString

/**
 * Transform dot-delimited strings to array of strings.
 *
 * @param  {String} string
 * Dot-delimited string.
 *
 * @return {Array}
 * Array of strings.
 */

function dotsplit (string) {
  var idx = -1
  var str = compact(normalize(string).split('.'))
  var end = str.length
  var out = []

  while (++idx < end) {
    out.push(todots(str[idx]))
  }

  return out
}

/**
 * Replace escapes with a placeholder.
 *
 * @param  {String} string
 * Dot-delimited string.
 *
 * @return {String}
 * Dot-delimited string with placeholders in place of escapes.
 */

function normalize (string) {
  return (toString.call(string) === '[object String]' ? string : '').replace(/\\\./g, '\uffff')
}

/**
 * Drop empty values from array.
 *
 * @param  {Array} array
 * Array of strings.
 *
 * @return {Array}
 * Array of strings (empty values dropped).
 */

function compact (arr) {
  var idx = -1
  var end = arr.length
  var out = []

  while (++idx < end) {
    if (arr[idx]) out.push(arr[idx])
  }

  return out
}

/**
 * Change placeholder to dots.
 *
 * @param  {String} string
 * Dot-delimited string with placeholders.
 *
 * @return {String}
 * Dot-delimited string without placeholders.
 */

function todots (string) {
  return string.replace(/\uffff/g, '.')
}

/*!
 * exports.
 */

module.exports = dotsplit


/***/ }),

/***/ "./node_modules/fast-bind/bind-loop.js":
/*!*********************************************!*\
  !*** ./node_modules/fast-bind/bind-loop.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

module.exports = function(boundThis) {
  var f = this
    , ret

  if (arguments.length < 2)
    ret = function() {
      if (this instanceof ret) {
        var ret_ = f.apply(this, arguments)
        return Object(ret_) === ret_
          ? ret_
          : this
      }
      else
        return f.apply(boundThis, arguments)
    }
  else {
    var boundArgs = new Array(arguments.length - 1)
    for (var i = 1; i < arguments.length; i++)
      boundArgs[i - 1] = arguments[i]

    ret = function() {
      var boundLen = boundArgs.length
        , args = new Array(boundLen + arguments.length)
        , i
      for (i = 0; i < boundLen; i++)
        args[i] = boundArgs[i]
      for (i = 0; i < arguments.length; i++)
        args[boundLen + i] = arguments[i]

      if (this instanceof ret) {
        var ret_ = f.apply(this, args)
        return Object(ret_) === ret_
          ? ret_
          : this
      }
      else
        return f.apply(boundThis, args)
    }
  }

  ret.prototype = f.prototype
  return ret
}


/***/ }),

/***/ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */
var ReactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");
var REACT_STATICS = {
    childContextTypes: true,
    contextType: true,
    contextTypes: true,
    defaultProps: true,
    displayName: true,
    getDefaultProps: true,
    getDerivedStateFromError: true,
    getDerivedStateFromProps: true,
    mixins: true,
    propTypes: true,
    type: true
};

var KNOWN_STATICS = {
    name: true,
    length: true,
    prototype: true,
    caller: true,
    callee: true,
    arguments: true,
    arity: true
};

var FORWARD_REF_STATICS = {
    '$$typeof': true,
    render: true,
    defaultProps: true,
    displayName: true,
    propTypes: true
};

var MEMO_STATICS = {
    '$$typeof': true,
    compare: true,
    defaultProps: true,
    displayName: true,
    propTypes: true,
    type: true
};

var TYPE_STATICS = {};
TYPE_STATICS[ReactIs.ForwardRef] = FORWARD_REF_STATICS;

function getStatics(component) {
    if (ReactIs.isMemo(component)) {
        return MEMO_STATICS;
    }
    return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;
}

var defineProperty = Object.defineProperty;
var getOwnPropertyNames = Object.getOwnPropertyNames;
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf;
var objectPrototype = Object.prototype;

function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
    if (typeof sourceComponent !== 'string') {
        // don't hoist over string (html) components

        if (objectPrototype) {
            var inheritedComponent = getPrototypeOf(sourceComponent);
            if (inheritedComponent && inheritedComponent !== objectPrototype) {
                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
            }
        }

        var keys = getOwnPropertyNames(sourceComponent);

        if (getOwnPropertySymbols) {
            keys = keys.concat(getOwnPropertySymbols(sourceComponent));
        }

        var targetStatics = getStatics(targetComponent);
        var sourceStatics = getStatics(sourceComponent);

        for (var i = 0; i < keys.length; ++i) {
            var key = keys[i];
            if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);
                try {
                    // Avoid failures from read-only properties
                    defineProperty(targetComponent, key, descriptor);
                } catch (e) {}
            }
        }

        return targetComponent;
    }

    return targetComponent;
}

module.exports = hoistNonReactStatics;


/***/ }),

/***/ "./node_modules/invariant/browser.js":
/*!*******************************************!*\
  !*** ./node_modules/invariant/browser.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



/**
 * Use invariant() to assert state which your program assumes to be true.
 *
 * Provide sprintf-style format (only %s is supported) and arguments
 * to provide information about what broke and what you were
 * expecting.
 *
 * The invariant message will be stripped in production, but the invariant
 * will remain to ensure logic does not differ in production.
 */

var invariant = function(condition, format, a, b, c, d, e, f) {
  if (true) {
    if (format === undefined) {
      throw new Error('invariant requires an error message argument');
    }
  }

  if (!condition) {
    var error;
    if (format === undefined) {
      error = new Error(
        'Minified exception occurred; use the non-minified dev environment ' +
        'for the full error message and additional helpful warnings.'
      );
    } else {
      var args = [a, b, c, d, e, f];
      var argIndex = 0;
      error = new Error(
        format.replace(/%s/g, function() { return args[argIndex++]; })
      );
      error.name = 'Invariant Violation';
    }

    error.framesToPop = 1; // we don't care about invariant's own frame
    throw error;
  }
};

module.exports = invariant;


/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/Engine.js":
/*!*****************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/Engine.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _validation = __webpack_require__(/*! ./validation */ "./node_modules/json-rules-engine-simplified/lib/validation.js");

var _applicableActions = __webpack_require__(/*! ./applicableActions */ "./node_modules/json-rules-engine-simplified/lib/applicableActions.js");

var _applicableActions2 = _interopRequireDefault(_applicableActions);

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/json-rules-engine-simplified/lib/utils.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var validate = function validate(schema) {
  var isSchemaDefined = schema !== undefined && schema !== null;
  if ((0, _utils.isDevelopment)() && isSchemaDefined) {
    if (!(0, _utils.isObject)(schema)) {
      (0, _utils.toError)("Expected valid schema object, but got - " + schema);
    }
    return function (rule) {
      (0, _validation.validatePredicates)([rule.conditions], schema);
      (0, _validation.validateConditionFields)([rule.conditions], schema);
    };
  } else {
    return function () {};
  }
};

var Engine = function Engine(rules, schema) {
  var _this = this;

  _classCallCheck(this, Engine);

  this.addRule = function (rule) {
    _this.validate(rule);
    _this.rules.push(rule);
  };

  this.run = function (formData) {
    return Promise.resolve((0, _applicableActions2.default)(_this.rules, formData));
  };

  this.rules = [];
  this.validate = validate(schema);

  if (rules) {
    (0, _utils.toArray)(rules).forEach(function (rule) {
      return _this.addRule(rule);
    });
  }
};

exports.default = Engine;

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/applicableActions.js":
/*!****************************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/applicableActions.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = applicableActions;

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/json-rules-engine-simplified/lib/utils.js");

var _conditionsMeet = __webpack_require__(/*! ./conditionsMeet */ "./node_modules/json-rules-engine-simplified/lib/conditionsMeet.js");

var _conditionsMeet2 = _interopRequireDefault(_conditionsMeet);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function applicableActions(rules, formData) {
  return (0, _utils.flatMap)(rules, function (_ref) {
    var conditions = _ref.conditions,
        event = _ref.event;

    if ((0, _conditionsMeet2.default)(conditions, formData)) {
      return (0, _utils.toArray)(event);
    } else {
      return [];
    }
  });
}

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/checkField.js":
/*!*********************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/checkField.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = checkField;

var _predicate = __webpack_require__(/*! predicate */ "./node_modules/predicate/index.js");

var _predicate2 = _interopRequireDefault(_predicate);

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/json-rules-engine-simplified/lib/utils.js");

var _constants = __webpack_require__(/*! ./constants */ "./node_modules/json-rules-engine-simplified/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var doCheckField = function doCheckField(fieldVal, rule) {
  if ((0, _utils.isObject)(rule)) {
    return Object.keys(rule).every(function (p) {
      var subRule = rule[p];
      if (p === _constants.OR || p === _constants.AND) {
        if (Array.isArray(subRule)) {
          if (p === _constants.OR) {
            return subRule.some(function (rule) {
              return doCheckField(fieldVal, rule);
            });
          } else {
            return subRule.every(function (rule) {
              return doCheckField(fieldVal, rule);
            });
          }
        } else {
          return false;
        }
      } else if (p === _constants.NOT) {
        return !doCheckField(fieldVal, subRule);
      } else if (_predicate2.default[p]) {
        return _predicate2.default[p](fieldVal, subRule);
      } else {
        return false;
      }
    });
  } else {
    return _predicate2.default[rule](fieldVal);
  }
};

function checkField(fieldVal, rule) {
  return doCheckField(fieldVal, rule);
}

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/conditionsMeet.js":
/*!*************************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/conditionsMeet.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toRelCondition = toRelCondition;
exports.default = conditionsMeet;

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/json-rules-engine-simplified/lib/utils.js");

var _checkField = __webpack_require__(/*! ./checkField */ "./node_modules/json-rules-engine-simplified/lib/checkField.js");

var _checkField2 = _interopRequireDefault(_checkField);

var _constants = __webpack_require__(/*! ./constants */ "./node_modules/json-rules-engine-simplified/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function toRelCondition(refCondition, formData) {
  if (Array.isArray(refCondition)) {
    return refCondition.map(function (cond) {
      return toRelCondition(cond, formData);
    });
  } else if ((0, _utils.isObject)(refCondition)) {
    return Object.keys(refCondition).reduce(function (agg, field) {
      agg[field] = toRelCondition(refCondition[field], formData);
      return agg;
    }, {});
  } else if (typeof refCondition === "string" && refCondition.startsWith("$")) {
    return (0, _utils.selectRef)(refCondition.substr(1), formData);
  } else {
    return refCondition;
  }
}

function conditionsMeet(condition, formData) {
  if (!(0, _utils.isObject)(condition) || !(0, _utils.isObject)(formData)) {
    (0, _utils.toError)("Rule " + JSON.stringify(condition) + " with " + formData + " can't be processed");
    return false;
  }
  return Object.keys(condition).every(function (ref) {
    var refCondition = condition[ref];
    if (ref === _constants.OR) {
      return refCondition.some(function (rule) {
        return conditionsMeet(rule, formData);
      });
    } else if (ref === _constants.AND) {
      return refCondition.every(function (rule) {
        return conditionsMeet(rule, formData);
      });
    } else if (ref === _constants.NOT) {
      return !conditionsMeet(refCondition, formData);
    } else {
      var refVal = (0, _utils.selectRef)(ref, formData);
      if (Array.isArray(refVal)) {
        var condMeatOnce = refVal.some(function (val) {
          return (0, _utils.isObject)(val) ? conditionsMeet(refCondition, val) : false;
        });
        // It's either true for an element in an array or for the whole array
        return condMeatOnce || (0, _checkField2.default)(refVal, toRelCondition(refCondition, formData));
      } else {
        return (0, _checkField2.default)(refVal, toRelCondition(refCondition, formData));
      }
    }
  });
}

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/constants.js":
/*!********************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/constants.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var OR = exports.OR = "or";
var AND = exports.AND = "and";
var NOT = exports.NOT = "not";

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/index.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Engine = __webpack_require__(/*! ./Engine */ "./node_modules/json-rules-engine-simplified/lib/Engine.js");

var _Engine2 = _interopRequireDefault(_Engine);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Engine2.default;

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/utils.js":
/*!****************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/utils.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.flatMap = undefined;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.normRef = normRef;
exports.selectRef = selectRef;
exports.isObject = isObject;
exports.isDevelopment = isDevelopment;
exports.toArray = toArray;
exports.toError = toError;
exports.isRefArray = isRefArray;
exports.extractRefSchema = extractRefSchema;

var _selectn = __webpack_require__(/*! selectn */ "./node_modules/selectn/index.js");

var _selectn2 = _interopRequireDefault(_selectn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function normRef(ref) {
  return ref.replace(/\$/g, ".");
}

function selectRef(field, formData) {
  var ref = normRef(field);
  return (0, _selectn2.default)(ref, formData);
}

function isObject(obj) {
  return (typeof obj === "undefined" ? "undefined" : _typeof(obj)) === "object" && obj !== null;
}

function isDevelopment() {
  return "development" !== "production";
}

function toArray(event) {
  if (Array.isArray(event)) {
    return event;
  } else {
    return [event];
  }
}

function toError(message) {
  if (isDevelopment()) {
    throw new ReferenceError(message);
  } else {
    console.error(message);
  }
}

function isRefArray(field, schema) {
  return schema.properties[field] && schema.properties[field].type === "array" && schema.properties[field].items && schema.properties[field].items["$ref"];
}

function fetchSchema(ref, schema) {
  if (ref.startsWith("#/")) {
    return ref.substr(2).split("/").reduce(function (schema, field) {
      return schema[field];
    }, schema);
  } else {
    toError("Only local references supported at this point use json-schema-deref");
    return undefined;
  }
}

function extractRefSchema(field, schema) {
  var properties = schema.properties;

  if (!properties || !properties[field]) {
    toError(field + " not defined in properties");
    return undefined;
  } else if (properties[field].type === "array") {
    if (isRefArray(field, schema)) {
      return fetchSchema(properties[field].items["$ref"], schema);
    } else {
      return properties[field].items;
    }
  } else if (properties[field] && properties[field]["$ref"]) {
    return fetchSchema(properties[field]["$ref"], schema);
  } else if (properties[field] && properties[field].type === "object") {
    return properties[field];
  } else {
    toError(field + " has no $ref field ref schema extraction is impossible");
    return undefined;
  }
}

var concat = function concat(x, y) {
  return x.concat(y);
};
var flatMap = exports.flatMap = function flatMap(xs, f) {
  return xs.map(f).reduce(concat, []);
};

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/validation.js":
/*!*********************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/validation.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.predicatesFromRule = predicatesFromRule;
exports.predicatesFromCondition = predicatesFromCondition;
exports.listAllPredicates = listAllPredicates;
exports.listInvalidPredicates = listInvalidPredicates;
exports.validatePredicates = validatePredicates;
exports.fieldsFromPredicates = fieldsFromPredicates;
exports.fieldsFromCondition = fieldsFromCondition;
exports.listAllFields = listAllFields;
exports.listInvalidFields = listInvalidFields;
exports.validateConditionFields = validateConditionFields;

var _predicate = __webpack_require__(/*! predicate */ "./node_modules/predicate/index.js");

var _predicate2 = _interopRequireDefault(_predicate);

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/json-rules-engine-simplified/lib/utils.js");

var _constants = __webpack_require__(/*! ./constants */ "./node_modules/json-rules-engine-simplified/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var UNSUPPORTED_PREDICATES = ["and", "or", "ternary", "every", "some", "curry", "partial", "complement", "mod"];

function predicatesFromRule(rule, schema) {
  if ((0, _utils.isObject)(rule)) {
    return (0, _utils.flatMap)(Object.keys(rule), function (p) {
      var comparable = rule[p];
      if ((0, _utils.isObject)(comparable) || p === _constants.NOT) {
        if (p === _constants.OR || p === _constants.AND) {
          if (Array.isArray(comparable)) {
            return (0, _utils.flatMap)(comparable, function (condition) {
              return predicatesFromRule(condition, schema);
            });
          } else {
            (0, _utils.toError)("\"" + p + "\" must be an array");
            return [];
          }
        } else {
          var predicates = predicatesFromRule(comparable, schema);
          predicates.push(p);
          return predicates;
        }
      } else {
        return predicatesFromRule(p, schema);
      }
    });
  } else {
    return [rule];
  }
}

function predicatesFromCondition(condition, schema) {
  return (0, _utils.flatMap)(Object.keys(condition), function (ref) {
    var refVal = condition[ref];
    ref = (0, _utils.normRef)(ref);
    if (ref === _constants.OR || ref === _constants.AND) {
      if (Array.isArray(refVal)) {
        return (0, _utils.flatMap)(refVal, function (c) {
          return predicatesFromCondition(c, schema);
        });
      } else {
        (0, _utils.toError)(ref + " with " + JSON.stringify(refVal) + " must be an Array");
        return [];
      }
    } else if (ref === _constants.NOT) {
      return predicatesFromCondition(refVal, schema);
    } else if (ref.indexOf(".") !== -1) {
      var separator = ref.indexOf(".");
      var schemaField = ref.substr(0, separator);
      var subSchema = (0, _utils.extractRefSchema)(schemaField, schema);

      if (subSchema) {
        var subSchemaField = ref.substr(separator + 1);
        var newCondition = _defineProperty({}, subSchemaField, refVal);
        return predicatesFromCondition(newCondition, subSchema);
      } else {
        (0, _utils.toError)("Can't find schema for " + schemaField);
        return [];
      }
    } else if ((0, _utils.isRefArray)(ref, schema)) {
      var refSchema = (0, _utils.extractRefSchema)(ref, schema);
      return refSchema ? predicatesFromCondition(refVal, refSchema) : [];
    } else if (schema.properties[ref]) {
      return predicatesFromRule(refVal, schema);
    } else {
      (0, _utils.toError)("Can't validate " + ref);
      return [];
    }
  });
}

function listAllPredicates(conditions, schema) {
  var allPredicates = (0, _utils.flatMap)(conditions, function (condition) {
    return predicatesFromCondition(condition, schema);
  });
  return allPredicates.filter(function (v, i, a) {
    return allPredicates.indexOf(v) === i;
  });
}

function listInvalidPredicates(conditions, schema) {
  var refPredicates = listAllPredicates(conditions, schema);
  return refPredicates.filter(function (p) {
    return UNSUPPORTED_PREDICATES.includes(p) || _predicate2.default[p] === undefined;
  });
}

function validatePredicates(conditions, schema) {
  var invalidPredicates = listInvalidPredicates(conditions, schema);
  if (invalidPredicates.length !== 0) {
    (0, _utils.toError)("Rule contains invalid predicates " + invalidPredicates);
  }
}

function fieldsFromPredicates(predicate) {
  if (Array.isArray(predicate)) {
    return (0, _utils.flatMap)(predicate, fieldsFromPredicates);
  } else if ((0, _utils.isObject)(predicate)) {
    return (0, _utils.flatMap)(Object.keys(predicate), function (field) {
      var predicateValue = predicate[field];
      return fieldsFromPredicates(predicateValue);
    });
  } else if (typeof predicate === "string" && predicate.startsWith("$")) {
    return [predicate.substr(1)];
  } else {
    return [];
  }
}

function fieldsFromCondition(condition) {
  return (0, _utils.flatMap)(Object.keys(condition), function (ref) {
    var refCondition = condition[ref];
    if (ref === _constants.OR || ref === _constants.AND) {
      return (0, _utils.flatMap)(refCondition, fieldsFromCondition);
    } else if (ref === _constants.NOT) {
      return fieldsFromCondition(refCondition);
    } else {
      return [(0, _utils.normRef)(ref)].concat(fieldsFromPredicates(refCondition));
    }
  });
}

function listAllFields(conditions) {
  var allFields = (0, _utils.flatMap)(conditions, fieldsFromCondition);
  return allFields.filter(function (field) {
    return field.indexOf(".") === -1;
  }).filter(function (v, i, a) {
    return allFields.indexOf(v) === i;
  });
}

function listInvalidFields(conditions, schema) {
  var allFields = listAllFields(conditions);
  return allFields.filter(function (field) {
    return schema.properties[field] === undefined;
  });
}

function validateConditionFields(conditions, schema) {
  var invalidFields = listInvalidFields(conditions, schema);
  if (invalidFields.length !== 0) {
    (0, _utils.toError)("Rule contains invalid fields " + invalidFields);
  }
}

/***/ }),

/***/ "./node_modules/ms/index.js":
/*!**********************************!*\
  !*** ./node_modules/ms/index.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  if (ms >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (ms >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (ms >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (ms >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  return plural(ms, d, 'day') ||
    plural(ms, h, 'hour') ||
    plural(ms, m, 'minute') ||
    plural(ms, s, 'second') ||
    ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, n, name) {
  if (ms < n) {
    return;
  }
  if (ms < n * 1.5) {
    return Math.floor(ms / n) + ' ' + name;
  }
  return Math.ceil(ms / n) + ' ' + name + 's';
}


/***/ }),

/***/ "./node_modules/object-assign/index.js":
/*!*********************************************!*\
  !*** ./node_modules/object-assign/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/


/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};


/***/ }),

/***/ "./node_modules/predicate/index.js":
/*!*****************************************!*\
  !*** ./node_modules/predicate/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


const utils = __webpack_require__(/*! ./lib/utils */ "./node_modules/predicate/lib/utils.js");
const predicate = {};
predicate.VERSION = '1.0.0';

[
  utils,
  __webpack_require__(/*! ./lib/predicates */ "./node_modules/predicate/lib/predicates.js"),
  __webpack_require__(/*! ./lib/chain */ "./node_modules/predicate/lib/chain.js"),
  __webpack_require__(/*! ./lib/other */ "./node_modules/predicate/lib/other.js"),
].reduce(utils.assign, predicate);

module.exports = predicate;


/***/ }),

/***/ "./node_modules/predicate/lib/chain.js":
/*!*********************************************!*\
  !*** ./node_modules/predicate/lib/chain.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


const predicates = __webpack_require__(/*! ./predicates */ "./node_modules/predicate/lib/predicates.js");
const predicate = module.exports;

// chaining mixin
class Lazy {
  constructor() {
    this.lazy = [];
  }

  valueOf() {
    return this.val();
  }

  val() {
    return this.lazy[this.method](function(args) {
      return args[0].apply(null, args[1]);
    });
  }
}

class Every extends Lazy {
  constructor() {
    super();
    this.method = 'every';
  }
}

class Some extends Lazy {
  constructor() {
    super();
    this.method = 'some';
  }
}

// Extend chaining methods onto the prototypes
[Every, Some].forEach(function(cls) {
  Object.keys(predicates).reduce(function(proto, fnName) {
    if (!predicates.fn(predicates[fnName])) return proto;

    proto[fnName] = function() {
      this.lazy.push([predicates[fnName], arguments]);
      return this;
    };

    return proto;
  }, cls.prototype);
});

predicate.all = predicate.every = function() {
  return new Every();
};

predicate.any = predicate.some = function() {
  return new Some();
};


/***/ }),

/***/ "./node_modules/predicate/lib/other.js":
/*!*********************************************!*\
  !*** ./node_modules/predicate/lib/other.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


const predicates = __webpack_require__(/*! ./predicates */ "./node_modules/predicate/lib/predicates.js");
const utils = __webpack_require__(/*! ./utils */ "./node_modules/predicate/lib/utils.js");
const predicate = module.exports;

predicate.ternary = function(pred, a, b) {
  if (predicates.bool(pred)) return pred ? a : b;
  if (predicates.undef(a)) return utils.partial(predicate.ternary, pred);
  if (predicates.undef(b)) return utils.partial(predicate.ternary, pred, a);
  return predicate.ternary(pred(a, b), a, b);
};

const _every = Array.prototype.every;
const _some = Array.prototype.some;

predicate.and = function() {
  const predicates = arguments;

  return function _and(val) {
    return _every.call(predicates, function(p) {
      return p(val);
    });
  };
};

predicate.or = function() {
  const predicates = arguments;

  return function _or(val) {
    return _some.call(predicates, function(p) {
      return p(val);
    });
  };
};


/***/ }),

/***/ "./node_modules/predicate/lib/predicates.js":
/*!**************************************************!*\
  !*** ./node_modules/predicate/lib/predicates.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


const utils = __webpack_require__(/*! ./utils */ "./node_modules/predicate/lib/utils.js");
const predicate = module.exports;

const curry = utils.curry;

if (Object.is) {
  predicate.is = curry(Object.is);
} else {
  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
  predicate.is = curry(function(v1, v2) {
    if (v1 === 0 && v2 === 0) {
      return 1 / v1 === 1 / v2;
    }
    if (v1 !== v1) {
      return v2 !== v2;
    }
    return v1 === v2;
  });
}

predicate.exists = function(val) {
  return val != null;
};

predicate.truthy = function(val) {
  // coerce for null != null
  return !!(val && predicate.exists(val));
};

predicate.falsey = utils.complement(predicate.truthy);

//---- value comparision methods

predicate.equal = curry(function(a, b) {
  return a === b;
});

predicate.eq = curry(function(a, b) {
  return a == b;
});

predicate.null = predicate.equal(null);
predicate.undef = predicate.equal(undefined);

predicate.lt = predicate.less = curry(function(a, b) {
  return a < b;
});

predicate.ltEq = predicate.le = predicate.lessEq = curry(function(a, b) {
  return predicate.equal(a, b) || predicate.less(a, b);
});

predicate.gt = predicate.greater = curry(function(a, b) {
  return a > b;
});

predicate.gtEq = predicate.ge = predicate.greaterEq = curry(function(a, b) {
  return predicate.equal(a, b) || predicate.greater(a, b);
});

// --- Type checking predicates

// Forces objects toString called returned as [object Object] for instance
const __toString = Object.prototype.toString;
const eqToStr = curry(function(str, val) {
  return predicate.equal(str, __toString.call(val));
});

//---- Object type checks

predicate.object = predicate.obj = function(val) {
  return val === Object(val);
};

predicate.array = predicate.arr = Array.isArray || eqToStr('[object Array]');
predicate.date = eqToStr('[object Date]');
predicate.regex = predicate.regexp = predicate.rgx = predicate.RegExp = eqToStr('[object RegExp]');

// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite
predicate.finite = Number.isFinite || function(val) {
  return predicate.number(val) && isFinite(val);
};

predicate.nan = predicate.NaN = predicate.is(NaN);

predicate.instance = curry(function(Cls, inst) {
  return inst instanceof Cls;
});

predicate.arguments = eqToStr('[object Arguments]');
predicate.error = predicate.instance(Error);

// creates fns for predicate.string, etc
const typeofBuilder = curry(function(type, val) {
  return predicate.equal(type, typeof val);
});

//--- Create typeof methods

// type of string and alias name
// predicate.fn, predicate.num, etc
[
  ['function', 'fn'],
  ['string', 'str'],
  ['boolean', 'bool']
].reduce(function(predicate, type) {
  predicate[type[0]] = predicate[type[1]] = typeofBuilder(type[0]);
  return predicate;
}, predicate);

predicate.number = predicate.num = function(val) {
  return typeof val === 'number' && predicate.not.NaN(val);
};

predicate.int = function(val) {
  return predicate.num(val) && predicate.zero(utils.mod(val, 1));
};

predicate.pos = function(val) {
  return predicate.num(val) && predicate.greater(val, 0);
};

predicate.neg = function(val) {
  return predicate.num(val) && predicate.less(val, 0);
};

predicate.zero = function(val) {
  return predicate.num(val) && predicate.equal(val, 0);
};

predicate.even = function(val) {
  return predicate.num(val) &&
          predicate.not.zero(val) &&
          predicate.zero(utils.mod(val, 2));
};

predicate.odd = function(val) {
  return predicate.num(val) &&
          predicate.not.zero(val) &&
          predicate.not.zero(utils.mod(val, 2));
};

predicate.contains = predicate.includes = curry(function(arrOrString, val) {
  if (!predicate.array(arrOrString) && !predicate.string(arrOrString)) {
    throw new TypeError('Expected an array or string');
  }

  if (predicate.string(arrOrString) && !predicate.string(val)) {
    return false;
  }

  if (predicate.NaN(val)) {
    return arrOrString.some(predicate.NaN);
  }

  return !!~arrOrString.indexOf(val);
});

const __has = Object.prototype.hasOwnProperty;
predicate.has = curry(function(o, key) {
  return __has.call(o, key);
});

predicate.empty = function(o) {
  if (predicate.not.exists(o)) return true;
  if (predicate.arr(o) || predicate.str(o)) return !o.length;
  if (predicate.obj(o)) {
    for (let k in o) if (predicate.has(o, k)) return false;
    return true;
  }
  throw new TypeError();
};

predicate.primitive = function(val) {
  return predicate.string(val) || predicate.num(val) || predicate.bool(val) ||
    predicate.null(val) || predicate.undef(val) || predicate.NaN(val);
};

predicate.matches = curry(function(rgx, val) {
  return rgx.test(val);
});

// Assign inverse of each predicate
predicate.not = Object.keys(predicate).reduce(function(acc, fnName) {
  acc[fnName] = utils.complement(predicate[fnName]);
  return acc;
}, {});


/***/ }),

/***/ "./node_modules/predicate/lib/utils.js":
/*!*********************************************!*\
  !*** ./node_modules/predicate/lib/utils.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

const predicate = module.exports;
const _slice = Array.prototype.slice;

// Useful for debuging curried functions
const setSrc = function(curried, src) {
  curried.toString = () => src.toString();
  curried.src = src;
  return curried;
};

// Curry's fn's with arity 2
const curry = predicate.curry = function(f) {
  return setSrc(function curried(a, b) {
    switch (arguments.length) {
      case 0: throw new TypeError('Function called with no arguments');
      case 1: return setSrc(function(b) {
        return f(a, b);
      }, f);
    }

    return f(a, b);
  }, f);
};

// TODO: es6ing this breaks!
predicate.partial = function (fn) {
  const args = _slice.call(arguments, 1);
  return function() {
    return fn.apply(null, args.concat(_slice.call(arguments)));
  };
};

predicate.complement = predicate.invert = function(pred) {
  return function () {
    const ret = pred.apply(null, arguments);
    // Handle curried fns
    if (typeof ret === 'function') return predicate.complement(ret);
    return !ret;
  };
};

predicate.mod = curry(function(a, b) {
  return a % b;
});

// assign b's props to a
predicate.assign = curry(Object.assign || function(a, b) {
  // use crummy for/in for perf purposes
  for (let prop in b) {
    if (b.hasOwnProperty(prop)) {
      a[prop] = b[prop];
    }
  }

  return a;
});


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/prop-types/checkPropTypes.js":
/*!***************************************************!*\
  !*** ./node_modules/prop-types/checkPropTypes.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var printWarning = function() {};

if (true) {
  var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ "./node_modules/prop-types/lib/ReactPropTypesSecret.js");
  var loggedTypeFailures = {};
  var has = Function.call.bind(Object.prototype.hasOwnProperty);

  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

/**
 * Assert that the values match with the type specs.
 * Error messages are memorized and will only be shown once.
 *
 * @param {object} typeSpecs Map of name to a ReactPropType
 * @param {object} values Runtime values that need to be type-checked
 * @param {string} location e.g. "prop", "context", "child context"
 * @param {string} componentName Name of the component for error messages.
 * @param {?Function} getStack Returns the component stack.
 * @private
 */
function checkPropTypes(typeSpecs, values, location, componentName, getStack) {
  if (true) {
    for (var typeSpecName in typeSpecs) {
      if (has(typeSpecs, typeSpecName)) {
        var error;
        // Prop type validation may throw. In case they do, we don't want to
        // fail the render phase where it didn't fail before. So we log it.
        // After these have been cleaned up, we'll let them throw.
        try {
          // This is intentionally an invariant that gets caught. It's the same
          // behavior as without this statement except with a better message.
          if (typeof typeSpecs[typeSpecName] !== 'function') {
            var err = Error(
              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +
              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'
            );
            err.name = 'Invariant Violation';
            throw err;
          }
          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);
        } catch (ex) {
          error = ex;
        }
        if (error && !(error instanceof Error)) {
          printWarning(
            (componentName || 'React class') + ': type specification of ' +
            location + ' `' + typeSpecName + '` is invalid; the type checker ' +
            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +
            'You may have forgotten to pass an argument to the type checker ' +
            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +
            'shape all require an argument).'
          );
        }
        if (error instanceof Error && !(error.message in loggedTypeFailures)) {
          // Only monitor this failure once because there tends to be a lot of the
          // same error.
          loggedTypeFailures[error.message] = true;

          var stack = getStack ? getStack() : '';

          printWarning(
            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')
          );
        }
      }
    }
  }
}

/**
 * Resets warning cache when testing.
 *
 * @private
 */
checkPropTypes.resetWarningCache = function() {
  if (true) {
    loggedTypeFailures = {};
  }
}

module.exports = checkPropTypes;


/***/ }),

/***/ "./node_modules/prop-types/factoryWithTypeCheckers.js":
/*!************************************************************!*\
  !*** ./node_modules/prop-types/factoryWithTypeCheckers.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");
var assign = __webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js");

var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ "./node_modules/prop-types/lib/ReactPropTypesSecret.js");
var checkPropTypes = __webpack_require__(/*! ./checkPropTypes */ "./node_modules/prop-types/checkPropTypes.js");

var has = Function.call.bind(Object.prototype.hasOwnProperty);
var printWarning = function() {};

if (true) {
  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

function emptyFunctionThatReturnsNull() {
  return null;
}

module.exports = function(isValidElement, throwOnDirectAccess) {
  /* global Symbol */
  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;
  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.

  /**
   * Returns the iterator method function contained on the iterable object.
   *
   * Be sure to invoke the function with the iterable as context:
   *
   *     var iteratorFn = getIteratorFn(myIterable);
   *     if (iteratorFn) {
   *       var iterator = iteratorFn.call(myIterable);
   *       ...
   *     }
   *
   * @param {?object} maybeIterable
   * @return {?function}
   */
  function getIteratorFn(maybeIterable) {
    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
    if (typeof iteratorFn === 'function') {
      return iteratorFn;
    }
  }

  /**
   * Collection of methods that allow declaration and validation of props that are
   * supplied to React components. Example usage:
   *
   *   var Props = require('ReactPropTypes');
   *   var MyArticle = React.createClass({
   *     propTypes: {
   *       // An optional string prop named "description".
   *       description: Props.string,
   *
   *       // A required enum prop named "category".
   *       category: Props.oneOf(['News','Photos']).isRequired,
   *
   *       // A prop named "dialog" that requires an instance of Dialog.
   *       dialog: Props.instanceOf(Dialog).isRequired
   *     },
   *     render: function() { ... }
   *   });
   *
   * A more formal specification of how these methods are used:
   *
   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)
   *   decl := ReactPropTypes.{type}(.isRequired)?
   *
   * Each and every declaration produces a function with the same signature. This
   * allows the creation of custom validation functions. For example:
   *
   *  var MyLink = React.createClass({
   *    propTypes: {
   *      // An optional string or URI prop named "href".
   *      href: function(props, propName, componentName) {
   *        var propValue = props[propName];
   *        if (propValue != null && typeof propValue !== 'string' &&
   *            !(propValue instanceof URI)) {
   *          return new Error(
   *            'Expected a string or an URI for ' + propName + ' in ' +
   *            componentName
   *          );
   *        }
   *      }
   *    },
   *    render: function() {...}
   *  });
   *
   * @internal
   */

  var ANONYMOUS = '<<anonymous>>';

  // Important!
  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.
  var ReactPropTypes = {
    array: createPrimitiveTypeChecker('array'),
    bool: createPrimitiveTypeChecker('boolean'),
    func: createPrimitiveTypeChecker('function'),
    number: createPrimitiveTypeChecker('number'),
    object: createPrimitiveTypeChecker('object'),
    string: createPrimitiveTypeChecker('string'),
    symbol: createPrimitiveTypeChecker('symbol'),

    any: createAnyTypeChecker(),
    arrayOf: createArrayOfTypeChecker,
    element: createElementTypeChecker(),
    elementType: createElementTypeTypeChecker(),
    instanceOf: createInstanceTypeChecker,
    node: createNodeChecker(),
    objectOf: createObjectOfTypeChecker,
    oneOf: createEnumTypeChecker,
    oneOfType: createUnionTypeChecker,
    shape: createShapeTypeChecker,
    exact: createStrictShapeTypeChecker,
  };

  /**
   * inlined Object.is polyfill to avoid requiring consumers ship their own
   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
   */
  /*eslint-disable no-self-compare*/
  function is(x, y) {
    // SameValue algorithm
    if (x === y) {
      // Steps 1-5, 7-10
      // Steps 6.b-6.e: +0 != -0
      return x !== 0 || 1 / x === 1 / y;
    } else {
      // Step 6.a: NaN == NaN
      return x !== x && y !== y;
    }
  }
  /*eslint-enable no-self-compare*/

  /**
   * We use an Error-like object for backward compatibility as people may call
   * PropTypes directly and inspect their output. However, we don't use real
   * Errors anymore. We don't inspect their stack anyway, and creating them
   * is prohibitively expensive if they are created too often, such as what
   * happens in oneOfType() for any type before the one that matched.
   */
  function PropTypeError(message) {
    this.message = message;
    this.stack = '';
  }
  // Make `instanceof Error` still work for returned errors.
  PropTypeError.prototype = Error.prototype;

  function createChainableTypeChecker(validate) {
    if (true) {
      var manualPropTypeCallCache = {};
      var manualPropTypeWarningCount = 0;
    }
    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
      componentName = componentName || ANONYMOUS;
      propFullName = propFullName || propName;

      if (secret !== ReactPropTypesSecret) {
        if (throwOnDirectAccess) {
          // New behavior only for users of `prop-types` package
          var err = new Error(
            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
            'Use `PropTypes.checkPropTypes()` to call them. ' +
            'Read more at http://fb.me/use-check-prop-types'
          );
          err.name = 'Invariant Violation';
          throw err;
        } else if ( true && typeof console !== 'undefined') {
          // Old behavior for people using React.PropTypes
          var cacheKey = componentName + ':' + propName;
          if (
            !manualPropTypeCallCache[cacheKey] &&
            // Avoid spamming the console because they are often not actionable except for lib authors
            manualPropTypeWarningCount < 3
          ) {
            printWarning(
              'You are manually calling a React.PropTypes validation ' +
              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +
              'and will throw in the standalone `prop-types` package. ' +
              'You may be seeing this warning due to a third-party PropTypes ' +
              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'
            );
            manualPropTypeCallCache[cacheKey] = true;
            manualPropTypeWarningCount++;
          }
        }
      }
      if (props[propName] == null) {
        if (isRequired) {
          if (props[propName] === null) {
            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));
          }
          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));
        }
        return null;
      } else {
        return validate(props, propName, componentName, location, propFullName);
      }
    }

    var chainedCheckType = checkType.bind(null, false);
    chainedCheckType.isRequired = checkType.bind(null, true);

    return chainedCheckType;
  }

  function createPrimitiveTypeChecker(expectedType) {
    function validate(props, propName, componentName, location, propFullName, secret) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== expectedType) {
        // `propValue` being instance of, say, date/regexp, pass the 'object'
        // check, but we can offer a more precise error message here rather than
        // 'of type `object`'.
        var preciseType = getPreciseType(propValue);

        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createAnyTypeChecker() {
    return createChainableTypeChecker(emptyFunctionThatReturnsNull);
  }

  function createArrayOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');
      }
      var propValue = props[propName];
      if (!Array.isArray(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));
      }
      for (var i = 0; i < propValue.length; i++) {
        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);
        if (error instanceof Error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!isValidElement(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!ReactIs.isValidElementType(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createInstanceTypeChecker(expectedClass) {
    function validate(props, propName, componentName, location, propFullName) {
      if (!(props[propName] instanceof expectedClass)) {
        var expectedClassName = expectedClass.name || ANONYMOUS;
        var actualClassName = getClassName(props[propName]);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createEnumTypeChecker(expectedValues) {
    if (!Array.isArray(expectedValues)) {
      if (true) {
        if (arguments.length > 1) {
          printWarning(
            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +
            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'
          );
        } else {
          printWarning('Invalid argument supplied to oneOf, expected an array.');
        }
      }
      return emptyFunctionThatReturnsNull;
    }

    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      for (var i = 0; i < expectedValues.length; i++) {
        if (is(propValue, expectedValues[i])) {
          return null;
        }
      }

      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {
        var type = getPreciseType(value);
        if (type === 'symbol') {
          return String(value);
        }
        return value;
      });
      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createObjectOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');
      }
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));
      }
      for (var key in propValue) {
        if (has(propValue, key)) {
          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
          if (error instanceof Error) {
            return error;
          }
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createUnionTypeChecker(arrayOfTypeCheckers) {
    if (!Array.isArray(arrayOfTypeCheckers)) {
       true ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : undefined;
      return emptyFunctionThatReturnsNull;
    }

    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
      var checker = arrayOfTypeCheckers[i];
      if (typeof checker !== 'function') {
        printWarning(
          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +
          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'
        );
        return emptyFunctionThatReturnsNull;
      }
    }

    function validate(props, propName, componentName, location, propFullName) {
      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
        var checker = arrayOfTypeCheckers[i];
        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {
          return null;
        }
      }

      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createNodeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      if (!isNode(props[propName])) {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      for (var key in shapeTypes) {
        var checker = shapeTypes[key];
        if (!checker) {
          continue;
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createStrictShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      // We need to check all keys in case some are required but missing from
      // props.
      var allKeys = assign({}, props[propName], shapeTypes);
      for (var key in allKeys) {
        var checker = shapeTypes[key];
        if (!checker) {
          return new PropTypeError(
            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +
            '\nBad object: ' + JSON.stringify(props[propName], null, '  ') +
            '\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')
          );
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }

    return createChainableTypeChecker(validate);
  }

  function isNode(propValue) {
    switch (typeof propValue) {
      case 'number':
      case 'string':
      case 'undefined':
        return true;
      case 'boolean':
        return !propValue;
      case 'object':
        if (Array.isArray(propValue)) {
          return propValue.every(isNode);
        }
        if (propValue === null || isValidElement(propValue)) {
          return true;
        }

        var iteratorFn = getIteratorFn(propValue);
        if (iteratorFn) {
          var iterator = iteratorFn.call(propValue);
          var step;
          if (iteratorFn !== propValue.entries) {
            while (!(step = iterator.next()).done) {
              if (!isNode(step.value)) {
                return false;
              }
            }
          } else {
            // Iterator will provide entry [k,v] tuples rather than values.
            while (!(step = iterator.next()).done) {
              var entry = step.value;
              if (entry) {
                if (!isNode(entry[1])) {
                  return false;
                }
              }
            }
          }
        } else {
          return false;
        }

        return true;
      default:
        return false;
    }
  }

  function isSymbol(propType, propValue) {
    // Native Symbol.
    if (propType === 'symbol') {
      return true;
    }

    // falsy value can't be a Symbol
    if (!propValue) {
      return false;
    }

    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'
    if (propValue['@@toStringTag'] === 'Symbol') {
      return true;
    }

    // Fallback for non-spec compliant Symbols which are polyfilled.
    if (typeof Symbol === 'function' && propValue instanceof Symbol) {
      return true;
    }

    return false;
  }

  // Equivalent of `typeof` but with special handling for array and regexp.
  function getPropType(propValue) {
    var propType = typeof propValue;
    if (Array.isArray(propValue)) {
      return 'array';
    }
    if (propValue instanceof RegExp) {
      // Old webkits (at least until Android 4.0) return 'function' rather than
      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/
      // passes PropTypes.object.
      return 'object';
    }
    if (isSymbol(propType, propValue)) {
      return 'symbol';
    }
    return propType;
  }

  // This handles more types than `getPropType`. Only used for error messages.
  // See `createPrimitiveTypeChecker`.
  function getPreciseType(propValue) {
    if (typeof propValue === 'undefined' || propValue === null) {
      return '' + propValue;
    }
    var propType = getPropType(propValue);
    if (propType === 'object') {
      if (propValue instanceof Date) {
        return 'date';
      } else if (propValue instanceof RegExp) {
        return 'regexp';
      }
    }
    return propType;
  }

  // Returns a string that is postfixed to a warning about an invalid type.
  // For example, "undefined" or "of type array"
  function getPostfixForTypeWarning(value) {
    var type = getPreciseType(value);
    switch (type) {
      case 'array':
      case 'object':
        return 'an ' + type;
      case 'boolean':
      case 'date':
      case 'regexp':
        return 'a ' + type;
      default:
        return type;
    }
  }

  // Returns class name of the object, if any.
  function getClassName(propValue) {
    if (!propValue.constructor || !propValue.constructor.name) {
      return ANONYMOUS;
    }
    return propValue.constructor.name;
  }

  ReactPropTypes.checkPropTypes = checkPropTypes;
  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;
  ReactPropTypes.PropTypes = ReactPropTypes;

  return ReactPropTypes;
};


/***/ }),

/***/ "./node_modules/prop-types/index.js":
/*!******************************************!*\
  !*** ./node_modules/prop-types/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

if (true) {
  var ReactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");

  // By explicitly using `prop-types` you are opting into new development behavior.
  // http://fb.me/prop-types-in-prod
  var throwOnDirectAccess = true;
  module.exports = __webpack_require__(/*! ./factoryWithTypeCheckers */ "./node_modules/prop-types/factoryWithTypeCheckers.js")(ReactIs.isElement, throwOnDirectAccess);
} else {}


/***/ }),

/***/ "./node_modules/prop-types/lib/ReactPropTypesSecret.js":
/*!*************************************************************!*\
  !*** ./node_modules/prop-types/lib/ReactPropTypesSecret.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

module.exports = ReactPropTypesSecret;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/BrowserDetector.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/BrowserDetector.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd-html5-backend/lib/cjs/utils/discount_lodash.js");
exports.isFirefox = discount_lodash_1.memoize(function () {
    return /firefox/i.test(navigator.userAgent);
});
exports.isSafari = discount_lodash_1.memoize(function () { return Boolean(window.safari); });


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/EnterLeaveCounter.js":
/*!***************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/EnterLeaveCounter.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd-html5-backend/lib/cjs/utils/discount_lodash.js");
var EnterLeaveCounter = /** @class */ (function () {
    function EnterLeaveCounter(isNodeInDocument) {
        this.entered = [];
        this.isNodeInDocument = isNodeInDocument;
    }
    EnterLeaveCounter.prototype.enter = function (enteringNode) {
        var _this = this;
        var previousLength = this.entered.length;
        var isNodeEntered = function (node) {
            return _this.isNodeInDocument(node) &&
                (!node.contains || node.contains(enteringNode));
        };
        this.entered = discount_lodash_1.union(this.entered.filter(isNodeEntered), [enteringNode]);
        return previousLength === 0 && this.entered.length > 0;
    };
    EnterLeaveCounter.prototype.leave = function (leavingNode) {
        var previousLength = this.entered.length;
        this.entered = discount_lodash_1.without(this.entered.filter(this.isNodeInDocument), leavingNode);
        return previousLength > 0 && this.entered.length === 0;
    };
    EnterLeaveCounter.prototype.reset = function () {
        this.entered = [];
    };
    return EnterLeaveCounter;
}());
exports.default = EnterLeaveCounter;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/HTML5Backend.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/HTML5Backend.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var EnterLeaveCounter_1 = __webpack_require__(/*! ./EnterLeaveCounter */ "./node_modules/react-dnd-html5-backend/lib/cjs/EnterLeaveCounter.js");
var BrowserDetector_1 = __webpack_require__(/*! ./BrowserDetector */ "./node_modules/react-dnd-html5-backend/lib/cjs/BrowserDetector.js");
var OffsetUtils_1 = __webpack_require__(/*! ./OffsetUtils */ "./node_modules/react-dnd-html5-backend/lib/cjs/OffsetUtils.js");
var NativeDragSources_1 = __webpack_require__(/*! ./NativeDragSources */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/index.js");
var NativeTypes = __webpack_require__(/*! ./NativeTypes */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js");
var HTML5Backend = /** @class */ (function () {
    function HTML5Backend(manager) {
        var _this = this;
        this.sourcePreviewNodes = new Map();
        this.sourcePreviewNodeOptions = new Map();
        this.sourceNodes = new Map();
        this.sourceNodeOptions = new Map();
        this.dragStartSourceIds = null;
        this.dropTargetIds = [];
        this.dragEnterTargetIds = [];
        this.currentNativeSource = null;
        this.currentNativeHandle = null;
        this.currentDragSourceNode = null;
        this.altKeyPressed = false;
        this.mouseMoveTimeoutTimer = null;
        this.asyncEndDragFrameId = null;
        this.dragOverTargetIds = null;
        this.getSourceClientOffset = function (sourceId) {
            return OffsetUtils_1.getNodeClientOffset(_this.sourceNodes.get(sourceId));
        };
        this.endDragNativeItem = function () {
            if (!_this.isDraggingNativeItem()) {
                return;
            }
            _this.actions.endDrag();
            _this.registry.removeSource(_this.currentNativeHandle);
            _this.currentNativeHandle = null;
            _this.currentNativeSource = null;
        };
        this.isNodeInDocument = function (node) {
            // Check the node either in the main document or in the current context
            return ((!!document && document.body.contains(node)) ||
                (!!_this.window && _this.window.document.body.contains(node)));
        };
        this.endDragIfSourceWasRemovedFromDOM = function () {
            var node = _this.currentDragSourceNode;
            if (_this.isNodeInDocument(node)) {
                return;
            }
            if (_this.clearCurrentDragSourceNode()) {
                _this.actions.endDrag();
            }
        };
        this.handleTopDragStartCapture = function () {
            _this.clearCurrentDragSourceNode();
            _this.dragStartSourceIds = [];
        };
        this.handleTopDragStart = function (e) {
            var dragStartSourceIds = _this.dragStartSourceIds;
            _this.dragStartSourceIds = null;
            var clientOffset = OffsetUtils_1.getEventClientOffset(e);
            // Avoid crashing if we missed a drop event or our previous drag died
            if (_this.monitor.isDragging()) {
                _this.actions.endDrag();
            }
            // Don't publish the source just yet (see why below)
            _this.actions.beginDrag(dragStartSourceIds || [], {
                publishSource: false,
                getSourceClientOffset: _this.getSourceClientOffset,
                clientOffset: clientOffset,
            });
            var dataTransfer = e.dataTransfer;
            var nativeType = NativeDragSources_1.matchNativeItemType(dataTransfer);
            if (_this.monitor.isDragging()) {
                if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {
                    // Use custom drag image if user specifies it.
                    // If child drag source refuses drag but parent agrees,
                    // use parent's node as drag image. Neither works in IE though.
                    var sourceId = _this.monitor.getSourceId();
                    var sourceNode = _this.sourceNodes.get(sourceId);
                    var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;
                    if (dragPreview) {
                        var _a = _this.getCurrentSourcePreviewNodeOptions(), anchorX = _a.anchorX, anchorY = _a.anchorY, offsetX = _a.offsetX, offsetY = _a.offsetY;
                        var anchorPoint = { anchorX: anchorX, anchorY: anchorY };
                        var offsetPoint = { offsetX: offsetX, offsetY: offsetY };
                        var dragPreviewOffset = OffsetUtils_1.getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);
                        dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);
                    }
                }
                try {
                    // Firefox won't drag without setting data
                    dataTransfer.setData('application/json', {});
                }
                catch (err) {
                    // IE doesn't support MIME types in setData
                }
                // Store drag source node so we can check whether
                // it is removed from DOM and trigger endDrag manually.
                _this.setCurrentDragSourceNode(e.target);
                // Now we are ready to publish the drag source.. or are we not?
                var captureDraggingState = _this.getCurrentSourcePreviewNodeOptions().captureDraggingState;
                if (!captureDraggingState) {
                    // Usually we want to publish it in the next tick so that browser
                    // is able to screenshot the current (not yet dragging) state.
                    //
                    // It also neatly avoids a situation where render() returns null
                    // in the same tick for the source element, and browser freaks out.
                    setTimeout(function () { return _this.actions.publishDragSource(); }, 0);
                }
                else {
                    // In some cases the user may want to override this behavior, e.g.
                    // to work around IE not supporting custom drag previews.
                    //
                    // When using a custom drag layer, the only way to prevent
                    // the default drag preview from drawing in IE is to screenshot
                    // the dragging state in which the node itself has zero opacity
                    // and height. In this case, though, returning null from render()
                    // will abruptly end the dragging, which is not obvious.
                    //
                    // This is the reason such behavior is strictly opt-in.
                    _this.actions.publishDragSource();
                }
            }
            else if (nativeType) {
                // A native item (such as URL) dragged from inside the document
                _this.beginDragNativeItem(nativeType);
            }
            else if (dataTransfer &&
                !dataTransfer.types &&
                ((e.target && !e.target.hasAttribute) ||
                    !e.target.hasAttribute('draggable'))) {
                // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.
                // Just let it drag. It's a native type (URL or text) and will be picked up in
                // dragenter handler.
                return;
            }
            else {
                // If by this time no drag source reacted, tell browser not to drag.
                e.preventDefault();
            }
        };
        this.handleTopDragEndCapture = function () {
            if (_this.clearCurrentDragSourceNode()) {
                // Firefox can dispatch this event in an infinite loop
                // if dragend handler does something like showing an alert.
                // Only proceed if we have not handled it already.
                _this.actions.endDrag();
            }
        };
        this.handleTopDragEnterCapture = function (e) {
            _this.dragEnterTargetIds = [];
            var isFirstEnter = _this.enterLeaveCounter.enter(e.target);
            if (!isFirstEnter || _this.monitor.isDragging()) {
                return;
            }
            var dataTransfer = e.dataTransfer;
            var nativeType = NativeDragSources_1.matchNativeItemType(dataTransfer);
            if (nativeType) {
                // A native item (such as file or URL) dragged from outside the document
                _this.beginDragNativeItem(nativeType);
            }
        };
        this.handleTopDragEnter = function (e) {
            var dragEnterTargetIds = _this.dragEnterTargetIds;
            _this.dragEnterTargetIds = [];
            if (!_this.monitor.isDragging()) {
                // This is probably a native item type we don't understand.
                return;
            }
            _this.altKeyPressed = e.altKey;
            if (!BrowserDetector_1.isFirefox()) {
                // Don't emit hover in `dragenter` on Firefox due to an edge case.
                // If the target changes position as the result of `dragenter`, Firefox
                // will still happily dispatch `dragover` despite target being no longer
                // there. The easy solution is to only fire `hover` in `dragover` on FF.
                _this.actions.hover(dragEnterTargetIds, {
                    clientOffset: OffsetUtils_1.getEventClientOffset(e),
                });
            }
            var canDrop = dragEnterTargetIds.some(function (targetId) {
                return _this.monitor.canDropOnTarget(targetId);
            });
            if (canDrop) {
                // IE requires this to fire dragover events
                e.preventDefault();
                if (e.dataTransfer) {
                    e.dataTransfer.dropEffect = _this.getCurrentDropEffect();
                }
            }
        };
        this.handleTopDragOverCapture = function () {
            _this.dragOverTargetIds = [];
        };
        this.handleTopDragOver = function (e) {
            var dragOverTargetIds = _this.dragOverTargetIds;
            _this.dragOverTargetIds = [];
            if (!_this.monitor.isDragging()) {
                // This is probably a native item type we don't understand.
                // Prevent default "drop and blow away the whole document" action.
                e.preventDefault();
                if (e.dataTransfer) {
                    e.dataTransfer.dropEffect = 'none';
                }
                return;
            }
            _this.altKeyPressed = e.altKey;
            _this.actions.hover(dragOverTargetIds || [], {
                clientOffset: OffsetUtils_1.getEventClientOffset(e),
            });
            var canDrop = (dragOverTargetIds || []).some(function (targetId) {
                return _this.monitor.canDropOnTarget(targetId);
            });
            if (canDrop) {
                // Show user-specified drop effect.
                e.preventDefault();
                if (e.dataTransfer) {
                    e.dataTransfer.dropEffect = _this.getCurrentDropEffect();
                }
            }
            else if (_this.isDraggingNativeItem()) {
                // Don't show a nice cursor but still prevent default
                // "drop and blow away the whole document" action.
                e.preventDefault();
            }
            else {
                e.preventDefault();
                if (e.dataTransfer) {
                    e.dataTransfer.dropEffect = 'none';
                }
            }
        };
        this.handleTopDragLeaveCapture = function (e) {
            if (_this.isDraggingNativeItem()) {
                e.preventDefault();
            }
            var isLastLeave = _this.enterLeaveCounter.leave(e.target);
            if (!isLastLeave) {
                return;
            }
            if (_this.isDraggingNativeItem()) {
                _this.endDragNativeItem();
            }
        };
        this.handleTopDropCapture = function (e) {
            _this.dropTargetIds = [];
            e.preventDefault();
            if (_this.isDraggingNativeItem()) {
                _this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer);
            }
            _this.enterLeaveCounter.reset();
        };
        this.handleTopDrop = function (e) {
            var dropTargetIds = _this.dropTargetIds;
            _this.dropTargetIds = [];
            _this.actions.hover(dropTargetIds, {
                clientOffset: OffsetUtils_1.getEventClientOffset(e),
            });
            _this.actions.drop({ dropEffect: _this.getCurrentDropEffect() });
            if (_this.isDraggingNativeItem()) {
                _this.endDragNativeItem();
            }
            else {
                _this.endDragIfSourceWasRemovedFromDOM();
            }
        };
        this.handleSelectStart = function (e) {
            var target = e.target;
            // Only IE requires us to explicitly say
            // we want drag drop operation to start
            if (typeof target.dragDrop !== 'function') {
                return;
            }
            // Inputs and textareas should be selectable
            if (target.tagName === 'INPUT' ||
                target.tagName === 'SELECT' ||
                target.tagName === 'TEXTAREA' ||
                target.isContentEditable) {
                return;
            }
            // For other targets, ask IE
            // to enable drag and drop
            e.preventDefault();
            target.dragDrop();
        };
        this.actions = manager.getActions();
        this.monitor = manager.getMonitor();
        this.registry = manager.getRegistry();
        this.context = manager.getContext();
        this.enterLeaveCounter = new EnterLeaveCounter_1.default(this.isNodeInDocument);
    }
    Object.defineProperty(HTML5Backend.prototype, "window", {
        // public for test
        get: function () {
            if (this.context && this.context.window) {
                return this.context.window;
            }
            else if (typeof window !== 'undefined') {
                return window;
            }
            return undefined;
        },
        enumerable: true,
        configurable: true
    });
    HTML5Backend.prototype.setup = function () {
        if (this.window === undefined) {
            return;
        }
        if (this.window.__isReactDndBackendSetUp) {
            throw new Error('Cannot have two HTML5 backends at the same time.');
        }
        this.window.__isReactDndBackendSetUp = true;
        this.addEventListeners(this.window);
    };
    HTML5Backend.prototype.teardown = function () {
        if (this.window === undefined) {
            return;
        }
        this.window.__isReactDndBackendSetUp = false;
        this.removeEventListeners(this.window);
        this.clearCurrentDragSourceNode();
        if (this.asyncEndDragFrameId) {
            this.window.cancelAnimationFrame(this.asyncEndDragFrameId);
        }
    };
    HTML5Backend.prototype.connectDragPreview = function (sourceId, node, options) {
        var _this = this;
        this.sourcePreviewNodeOptions.set(sourceId, options);
        this.sourcePreviewNodes.set(sourceId, node);
        return function () {
            _this.sourcePreviewNodes.delete(sourceId);
            _this.sourcePreviewNodeOptions.delete(sourceId);
        };
    };
    HTML5Backend.prototype.connectDragSource = function (sourceId, node, options) {
        var _this = this;
        this.sourceNodes.set(sourceId, node);
        this.sourceNodeOptions.set(sourceId, options);
        var handleDragStart = function (e) { return _this.handleDragStart(e, sourceId); };
        var handleSelectStart = function (e) { return _this.handleSelectStart(e); };
        node.setAttribute('draggable', 'true');
        node.addEventListener('dragstart', handleDragStart);
        node.addEventListener('selectstart', handleSelectStart);
        return function () {
            _this.sourceNodes.delete(sourceId);
            _this.sourceNodeOptions.delete(sourceId);
            node.removeEventListener('dragstart', handleDragStart);
            node.removeEventListener('selectstart', handleSelectStart);
            node.setAttribute('draggable', 'false');
        };
    };
    HTML5Backend.prototype.connectDropTarget = function (targetId, node) {
        var _this = this;
        var handleDragEnter = function (e) { return _this.handleDragEnter(e, targetId); };
        var handleDragOver = function (e) { return _this.handleDragOver(e, targetId); };
        var handleDrop = function (e) { return _this.handleDrop(e, targetId); };
        node.addEventListener('dragenter', handleDragEnter);
        node.addEventListener('dragover', handleDragOver);
        node.addEventListener('drop', handleDrop);
        return function () {
            node.removeEventListener('dragenter', handleDragEnter);
            node.removeEventListener('dragover', handleDragOver);
            node.removeEventListener('drop', handleDrop);
        };
    };
    HTML5Backend.prototype.addEventListeners = function (target) {
        // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813
        if (!target.addEventListener) {
            return;
        }
        target.addEventListener('dragstart', this
            .handleTopDragStart);
        target.addEventListener('dragstart', this.handleTopDragStartCapture, true);
        target.addEventListener('dragend', this.handleTopDragEndCapture, true);
        target.addEventListener('dragenter', this
            .handleTopDragEnter);
        target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);
        target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);
        target.addEventListener('dragover', this.handleTopDragOver);
        target.addEventListener('dragover', this.handleTopDragOverCapture, true);
        target.addEventListener('drop', this.handleTopDrop);
        target.addEventListener('drop', this.handleTopDropCapture, true);
    };
    HTML5Backend.prototype.removeEventListeners = function (target) {
        // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813
        if (!target.removeEventListener) {
            return;
        }
        target.removeEventListener('dragstart', this.handleTopDragStart);
        target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);
        target.removeEventListener('dragend', this.handleTopDragEndCapture, true);
        target.removeEventListener('dragenter', this
            .handleTopDragEnter);
        target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);
        target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);
        target.removeEventListener('dragover', this
            .handleTopDragOver);
        target.removeEventListener('dragover', this.handleTopDragOverCapture, true);
        target.removeEventListener('drop', this.handleTopDrop);
        target.removeEventListener('drop', this.handleTopDropCapture, true);
    };
    HTML5Backend.prototype.getCurrentSourceNodeOptions = function () {
        var sourceId = this.monitor.getSourceId();
        var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);
        return __assign({ dropEffect: this.altKeyPressed ? 'copy' : 'move' }, (sourceNodeOptions || {}));
    };
    HTML5Backend.prototype.getCurrentDropEffect = function () {
        if (this.isDraggingNativeItem()) {
            // It makes more sense to default to 'copy' for native resources
            return 'copy';
        }
        return this.getCurrentSourceNodeOptions().dropEffect;
    };
    HTML5Backend.prototype.getCurrentSourcePreviewNodeOptions = function () {
        var sourceId = this.monitor.getSourceId();
        var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);
        return __assign({ anchorX: 0.5, anchorY: 0.5, captureDraggingState: false }, (sourcePreviewNodeOptions || {}));
    };
    HTML5Backend.prototype.isDraggingNativeItem = function () {
        var itemType = this.monitor.getItemType();
        return Object.keys(NativeTypes).some(function (key) { return NativeTypes[key] === itemType; });
    };
    HTML5Backend.prototype.beginDragNativeItem = function (type) {
        this.clearCurrentDragSourceNode();
        this.currentNativeSource = NativeDragSources_1.createNativeDragSource(type);
        this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);
        this.actions.beginDrag([this.currentNativeHandle]);
    };
    HTML5Backend.prototype.setCurrentDragSourceNode = function (node) {
        var _this = this;
        this.clearCurrentDragSourceNode();
        this.currentDragSourceNode = node;
        // A timeout of > 0 is necessary to resolve Firefox issue referenced
        // See:
        //   * https://github.com/react-dnd/react-dnd/pull/928
        //   * https://github.com/react-dnd/react-dnd/issues/869
        var MOUSE_MOVE_TIMEOUT = 1000;
        // Receiving a mouse event in the middle of a dragging operation
        // means it has ended and the drag source node disappeared from DOM,
        // so the browser didn't dispatch the dragend event.
        //
        // We need to wait before we start listening for mousemove events.
        // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event
        // immediately in some browsers.
        //
        // See:
        //   * https://github.com/react-dnd/react-dnd/pull/928
        //   * https://github.com/react-dnd/react-dnd/issues/869
        //
        this.mouseMoveTimeoutTimer = setTimeout(function () {
            return (_this.window &&
                _this.window.addEventListener('mousemove', _this.endDragIfSourceWasRemovedFromDOM, true));
        }, MOUSE_MOVE_TIMEOUT);
    };
    HTML5Backend.prototype.clearCurrentDragSourceNode = function () {
        if (this.currentDragSourceNode) {
            this.currentDragSourceNode = null;
            if (this.window) {
                this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);
                this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);
            }
            this.mouseMoveTimeoutTimer = null;
            return true;
        }
        return false;
    };
    HTML5Backend.prototype.handleDragStart = function (e, sourceId) {
        if (!this.dragStartSourceIds) {
            this.dragStartSourceIds = [];
        }
        this.dragStartSourceIds.unshift(sourceId);
    };
    HTML5Backend.prototype.handleDragEnter = function (e, targetId) {
        this.dragEnterTargetIds.unshift(targetId);
    };
    HTML5Backend.prototype.handleDragOver = function (e, targetId) {
        if (this.dragOverTargetIds === null) {
            this.dragOverTargetIds = [];
        }
        this.dragOverTargetIds.unshift(targetId);
    };
    HTML5Backend.prototype.handleDrop = function (e, targetId) {
        this.dropTargetIds.unshift(targetId);
    };
    return HTML5Backend;
}());
exports.default = HTML5Backend;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/MonotonicInterpolant.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/MonotonicInterpolant.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var MonotonicInterpolant = /** @class */ (function () {
    function MonotonicInterpolant(xs, ys) {
        var length = xs.length;
        // Rearrange xs and ys so that xs is sorted
        var indexes = [];
        for (var i = 0; i < length; i++) {
            indexes.push(i);
        }
        indexes.sort(function (a, b) { return (xs[a] < xs[b] ? -1 : 1); });
        // Get consecutive differences and slopes
        var dys = [];
        var dxs = [];
        var ms = [];
        var dx;
        var dy;
        for (var i = 0; i < length - 1; i++) {
            dx = xs[i + 1] - xs[i];
            dy = ys[i + 1] - ys[i];
            dxs.push(dx);
            dys.push(dy);
            ms.push(dy / dx);
        }
        // Get degree-1 coefficients
        var c1s = [ms[0]];
        for (var i = 0; i < dxs.length - 1; i++) {
            var m2 = ms[i];
            var mNext = ms[i + 1];
            if (m2 * mNext <= 0) {
                c1s.push(0);
            }
            else {
                dx = dxs[i];
                var dxNext = dxs[i + 1];
                var common = dx + dxNext;
                c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));
            }
        }
        c1s.push(ms[ms.length - 1]);
        // Get degree-2 and degree-3 coefficients
        var c2s = [];
        var c3s = [];
        var m;
        for (var i = 0; i < c1s.length - 1; i++) {
            m = ms[i];
            var c1 = c1s[i];
            var invDx = 1 / dxs[i];
            var common = c1 + c1s[i + 1] - m - m;
            c2s.push((m - c1 - common) * invDx);
            c3s.push(common * invDx * invDx);
        }
        this.xs = xs;
        this.ys = ys;
        this.c1s = c1s;
        this.c2s = c2s;
        this.c3s = c3s;
    }
    MonotonicInterpolant.prototype.interpolate = function (x) {
        var _a = this, xs = _a.xs, ys = _a.ys, c1s = _a.c1s, c2s = _a.c2s, c3s = _a.c3s;
        // The rightmost point in the dataset should give an exact result
        var i = xs.length - 1;
        if (x === xs[i]) {
            return ys[i];
        }
        // Search for the interval x is in, returning the corresponding y if x is one of the original xs
        var low = 0;
        var high = c3s.length - 1;
        var mid;
        while (low <= high) {
            mid = Math.floor(0.5 * (low + high));
            var xHere = xs[mid];
            if (xHere < x) {
                low = mid + 1;
            }
            else if (xHere > x) {
                high = mid - 1;
            }
            else {
                return ys[mid];
            }
        }
        i = Math.max(0, high);
        // Interpolate
        var diff = x - xs[i];
        var diffSq = diff * diff;
        return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;
    };
    return MonotonicInterpolant;
}());
exports.default = MonotonicInterpolant;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/NativeDragSource.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/NativeDragSource.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var NativeDragSource = /** @class */ (function () {
    function NativeDragSource(config) {
        var _this = this;
        this.config = config;
        this.item = {};
        Object.keys(this.config.exposeProperties).forEach(function (property) {
            Object.defineProperty(_this.item, property, {
                configurable: true,
                enumerable: true,
                get: function () {
                    // eslint-disable-next-line no-console
                    console.warn("Browser doesn't allow reading \"" + property + "\" until the drop event.");
                    return null;
                },
            });
        });
    }
    NativeDragSource.prototype.mutateItemByReadingDataTransfer = function (dataTransfer) {
        var _this = this;
        var newProperties = {};
        if (dataTransfer) {
            Object.keys(this.config.exposeProperties).forEach(function (property) {
                newProperties[property] = {
                    value: _this.config.exposeProperties[property](dataTransfer, _this.config.matchesTypes),
                };
            });
        }
        Object.defineProperties(this.item, newProperties);
    };
    NativeDragSource.prototype.canDrag = function () {
        return true;
    };
    NativeDragSource.prototype.beginDrag = function () {
        return this.item;
    };
    NativeDragSource.prototype.isDragging = function (monitor, handle) {
        return handle === monitor.getSourceId();
    };
    NativeDragSource.prototype.endDrag = function () {
        // empty
    };
    return NativeDragSource;
}());
exports.NativeDragSource = NativeDragSource;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/getDataFromDataTransfer.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/getDataFromDataTransfer.js ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {
    var result = typesToTry.reduce(function (resultSoFar, typeToTry) { return resultSoFar || dataTransfer.getData(typeToTry); }, '');
    return result != null ? result : defaultValue;
}
exports.getDataFromDataTransfer = getDataFromDataTransfer;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/index.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var nativeTypesConfig_1 = __webpack_require__(/*! ./nativeTypesConfig */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/nativeTypesConfig.js");
var NativeDragSource_1 = __webpack_require__(/*! ./NativeDragSource */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/NativeDragSource.js");
function createNativeDragSource(type) {
    return new NativeDragSource_1.NativeDragSource(nativeTypesConfig_1.nativeTypesConfig[type]);
}
exports.createNativeDragSource = createNativeDragSource;
function matchNativeItemType(dataTransfer) {
    if (!dataTransfer) {
        return null;
    }
    var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);
    return (Object.keys(nativeTypesConfig_1.nativeTypesConfig).filter(function (nativeItemType) {
        var matchesTypes = nativeTypesConfig_1.nativeTypesConfig[nativeItemType].matchesTypes;
        return matchesTypes.some(function (t) { return dataTransferTypes.indexOf(t) > -1; });
    })[0] || null);
}
exports.matchNativeItemType = matchNativeItemType;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/nativeTypesConfig.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/nativeTypesConfig.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var _a;
Object.defineProperty(exports, "__esModule", { value: true });
var NativeTypes = __webpack_require__(/*! ../NativeTypes */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js");
var getDataFromDataTransfer_1 = __webpack_require__(/*! ./getDataFromDataTransfer */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/getDataFromDataTransfer.js");
exports.nativeTypesConfig = (_a = {},
    _a[NativeTypes.FILE] = {
        exposeProperties: {
            files: function (dataTransfer) {
                return Array.prototype.slice.call(dataTransfer.files);
            },
            items: function (dataTransfer) { return dataTransfer.items; },
        },
        matchesTypes: ['Files'],
    },
    _a[NativeTypes.URL] = {
        exposeProperties: {
            urls: function (dataTransfer, matchesTypes) {
                return getDataFromDataTransfer_1.getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\n');
            },
        },
        matchesTypes: ['Url', 'text/uri-list'],
    },
    _a[NativeTypes.TEXT] = {
        exposeProperties: {
            text: function (dataTransfer, matchesTypes) {
                return getDataFromDataTransfer_1.getDataFromDataTransfer(dataTransfer, matchesTypes, '');
            },
        },
        matchesTypes: ['Text', 'text/plain'],
    },
    _a);


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.FILE = '__NATIVE_FILE__';
exports.URL = '__NATIVE_URL__';
exports.TEXT = '__NATIVE_TEXT__';


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/OffsetUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/OffsetUtils.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var BrowserDetector_1 = __webpack_require__(/*! ./BrowserDetector */ "./node_modules/react-dnd-html5-backend/lib/cjs/BrowserDetector.js");
var MonotonicInterpolant_1 = __webpack_require__(/*! ./MonotonicInterpolant */ "./node_modules/react-dnd-html5-backend/lib/cjs/MonotonicInterpolant.js");
var ELEMENT_NODE = 1;
function getNodeClientOffset(node) {
    var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;
    if (!el) {
        return null;
    }
    var _a = el.getBoundingClientRect(), top = _a.top, left = _a.left;
    return { x: left, y: top };
}
exports.getNodeClientOffset = getNodeClientOffset;
function getEventClientOffset(e) {
    return {
        x: e.clientX,
        y: e.clientY,
    };
}
exports.getEventClientOffset = getEventClientOffset;
function isImageNode(node) {
    return (node.nodeName === 'IMG' &&
        (BrowserDetector_1.isFirefox() || !document.documentElement.contains(node)));
}
function getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {
    var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;
    var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight;
    // Work around @2x coordinate discrepancies in browsers
    if (BrowserDetector_1.isSafari() && isImage) {
        dragPreviewHeight /= window.devicePixelRatio;
        dragPreviewWidth /= window.devicePixelRatio;
    }
    return { dragPreviewWidth: dragPreviewWidth, dragPreviewHeight: dragPreviewHeight };
}
function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {
    // The browsers will use the image intrinsic size under different conditions.
    // Firefox only cares if it's an image, but WebKit also wants it to be detached.
    var isImage = isImageNode(dragPreview);
    var dragPreviewNode = isImage ? sourceNode : dragPreview;
    var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);
    var offsetFromDragPreview = {
        x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,
        y: clientOffset.y - dragPreviewNodeOffsetFromClient.y,
    };
    var sourceWidth = sourceNode.offsetWidth, sourceHeight = sourceNode.offsetHeight;
    var anchorX = anchorPoint.anchorX, anchorY = anchorPoint.anchorY;
    var _a = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight), dragPreviewWidth = _a.dragPreviewWidth, dragPreviewHeight = _a.dragPreviewHeight;
    var calculateYOffset = function () {
        var interpolantY = new MonotonicInterpolant_1.default([0, 0.5, 1], [
            // Dock to the top
            offsetFromDragPreview.y,
            // Align at the center
            (offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,
            // Dock to the bottom
            offsetFromDragPreview.y + dragPreviewHeight - sourceHeight,
        ]);
        var y = interpolantY.interpolate(anchorY);
        // Work around Safari 8 positioning bug
        if (BrowserDetector_1.isSafari() && isImage) {
            // We'll have to wait for @3x to see if this is entirely correct
            y += (window.devicePixelRatio - 1) * dragPreviewHeight;
        }
        return y;
    };
    var calculateXOffset = function () {
        // Interpolate coordinates depending on anchor point
        // If you know a simpler way to do this, let me know
        var interpolantX = new MonotonicInterpolant_1.default([0, 0.5, 1], [
            // Dock to the left
            offsetFromDragPreview.x,
            // Align at the center
            (offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,
            // Dock to the right
            offsetFromDragPreview.x + dragPreviewWidth - sourceWidth,
        ]);
        return interpolantX.interpolate(anchorX);
    };
    // Force offsets if specified in the options.
    var offsetX = offsetPoint.offsetX, offsetY = offsetPoint.offsetY;
    var isManualOffsetX = offsetX === 0 || offsetX;
    var isManualOffsetY = offsetY === 0 || offsetY;
    return {
        x: isManualOffsetX ? offsetX : calculateXOffset(),
        y: isManualOffsetY ? offsetY : calculateYOffset(),
    };
}
exports.getDragPreviewOffset = getDragPreviewOffset;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/getEmptyImage.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/getEmptyImage.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var emptyImage;
function getEmptyImage() {
    if (!emptyImage) {
        emptyImage = new Image();
        emptyImage.src =
            'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';
    }
    return emptyImage;
}
exports.default = getEmptyImage;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/index.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var HTML5Backend_1 = __webpack_require__(/*! ./HTML5Backend */ "./node_modules/react-dnd-html5-backend/lib/cjs/HTML5Backend.js");
var getEmptyImage_1 = __webpack_require__(/*! ./getEmptyImage */ "./node_modules/react-dnd-html5-backend/lib/cjs/getEmptyImage.js");
exports.getEmptyImage = getEmptyImage_1.default;
var NativeTypes = __webpack_require__(/*! ./NativeTypes */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js");
exports.NativeTypes = NativeTypes;
function createHTML5Backend(manager) {
    return new HTML5Backend_1.default(manager);
}
exports.default = createHTML5Backend;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/utils/discount_lodash.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/utils/discount_lodash.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function memoize(fn) {
    var result = null;
    var memoized = function () {
        if (result == null) {
            result = fn();
        }
        return result;
    };
    return memoized;
}
exports.memoize = memoize;
/**
 * drop-in replacement for _.without
 */
function without(items, item) {
    return items.filter(function (i) { return i !== item; });
}
exports.without = without;
function union(itemsA, itemsB) {
    var set = new Set();
    var insertItem = function (item) { return set.add(item); };
    itemsA.forEach(insertItem);
    itemsB.forEach(insertItem);
    var result = [];
    set.forEach(function (key) { return result.push(key); });
    return result;
}
exports.union = union;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DragDropContext.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DragDropContext.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = __webpack_require__(/*! react */ "react");
var dnd_core_1 = __webpack_require__(/*! dnd-core */ "./node_modules/dnd-core/lib/cjs/index.js");
var checkDecoratorArguments_1 = __webpack_require__(/*! ./utils/checkDecoratorArguments */ "./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js");
var isRefable_1 = __webpack_require__(/*! ./utils/isRefable */ "./node_modules/react-dnd/lib/cjs/utils/isRefable.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var hoistStatics = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
/**
 * Create the React Context
 */
exports.context = React.createContext({
    dragDropManager: undefined,
});
exports.Consumer = exports.context.Consumer, exports.Provider = exports.context.Provider;
/**
 * Creates the context object we're providing
 * @param backend
 * @param context
 */
function createChildContext(backend, context, debugMode) {
    return {
        dragDropManager: dnd_core_1.createDragDropManager(backend, context, debugMode),
    };
}
exports.createChildContext = createChildContext;
/**
 * A React component that provides the React-DnD context
 */
exports.DragDropContextProvider = function (_a) {
    var children = _a.children, props = __rest(_a, ["children"]);
    var contextValue = 'manager' in props
        ? { dragDropManager: props.manager }
        : createChildContext(props.backend, props.context, props.debugMode);
    return React.createElement(exports.Provider, { value: contextValue }, children);
};
/**
 * Wrap the root component of your application with DragDropContext decorator to set up React DnD.
 * This lets you specify the backend, and sets up the shared DnD state behind the scenes.
 * @param backendFactory The DnD backend factory
 * @param backendContext The backend context
 */
function DragDropContext(backendFactory, backendContext, debugMode) {
    checkDecoratorArguments_1.default('DragDropContext', 'backend', backendFactory);
    var childContext = createChildContext(backendFactory, backendContext, debugMode);
    return function decorateContext(DecoratedComponent) {
        var Decorated = DecoratedComponent;
        var displayName = Decorated.displayName || Decorated.name || 'Component';
        var DragDropContextContainer = /** @class */ (function (_super) {
            __extends(DragDropContextContainer, _super);
            function DragDropContextContainer() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.ref = React.createRef();
                _this.getManager = function () { return childContext.dragDropManager; };
                return _this;
            }
            DragDropContextContainer.prototype.getDecoratedComponentInstance = function () {
                invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');
                return this.ref.current;
            };
            DragDropContextContainer.prototype.render = function () {
                return (React.createElement(exports.Provider, { value: childContext },
                    React.createElement(Decorated, __assign({}, this.props, { ref: isRefable_1.isRefable(Decorated) ? this.ref : null }))));
            };
            DragDropContextContainer.DecoratedComponent = DecoratedComponent;
            DragDropContextContainer.displayName = "DragDropContext(" + displayName + ")";
            return DragDropContextContainer;
        }(React.Component));
        return hoistStatics(DragDropContextContainer, DecoratedComponent);
    };
}
exports.DragDropContext = DragDropContext;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DragLayer.js":
/*!*****************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DragLayer.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = __webpack_require__(/*! react */ "react");
var checkDecoratorArguments_1 = __webpack_require__(/*! ./utils/checkDecoratorArguments */ "./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js");
var DragDropContext_1 = __webpack_require__(/*! ./DragDropContext */ "./node_modules/react-dnd/lib/cjs/DragDropContext.js");
var isRefable_1 = __webpack_require__(/*! ./utils/isRefable */ "./node_modules/react-dnd/lib/cjs/utils/isRefable.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var hoistStatics = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
function DragLayer(collect, options) {
    if (options === void 0) { options = {}; }
    checkDecoratorArguments_1.default('DragLayer', 'collect[, options]', collect, options);
    invariant(typeof collect === 'function', 'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);
    invariant(discount_lodash_1.isPlainObject(options), 'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. ' +
        'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);
    return function decorateLayer(DecoratedComponent) {
        var Decorated = DecoratedComponent;
        var _a = options.arePropsEqual, arePropsEqual = _a === void 0 ? shallowEqual : _a;
        var displayName = Decorated.displayName || Decorated.name || 'Component';
        var DragLayerContainer = /** @class */ (function (_super) {
            __extends(DragLayerContainer, _super);
            function DragLayerContainer() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.isCurrentlyMounted = false;
                _this.ref = React.createRef();
                _this.handleChange = function () {
                    if (!_this.isCurrentlyMounted) {
                        return;
                    }
                    var nextState = _this.getCurrentState();
                    if (!shallowEqual(nextState, _this.state)) {
                        _this.setState(nextState);
                    }
                };
                return _this;
            }
            DragLayerContainer.prototype.getDecoratedComponentInstance = function () {
                invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');
                return this.ref.current;
            };
            DragLayerContainer.prototype.shouldComponentUpdate = function (nextProps, nextState) {
                return (!arePropsEqual(nextProps, this.props) ||
                    !shallowEqual(nextState, this.state));
            };
            DragLayerContainer.prototype.componentDidMount = function () {
                this.isCurrentlyMounted = true;
                this.handleChange();
            };
            DragLayerContainer.prototype.componentWillUnmount = function () {
                this.isCurrentlyMounted = false;
                if (this.unsubscribeFromOffsetChange) {
                    this.unsubscribeFromOffsetChange();
                    this.unsubscribeFromOffsetChange = undefined;
                }
                if (this.unsubscribeFromStateChange) {
                    this.unsubscribeFromStateChange();
                    this.unsubscribeFromStateChange = undefined;
                }
            };
            DragLayerContainer.prototype.render = function () {
                var _this = this;
                return (React.createElement(DragDropContext_1.Consumer, null, function (_a) {
                    var dragDropManager = _a.dragDropManager;
                    if (dragDropManager === undefined) {
                        return null;
                    }
                    _this.receiveDragDropManager(dragDropManager);
                    // Let componentDidMount fire to initialize the collected state
                    if (!_this.isCurrentlyMounted) {
                        return null;
                    }
                    return (React.createElement(Decorated, __assign({}, _this.props, _this.state, { ref: isRefable_1.isRefable(Decorated) ? _this.ref : null })));
                }));
            };
            DragLayerContainer.prototype.receiveDragDropManager = function (dragDropManager) {
                if (this.manager !== undefined) {
                    return;
                }
                this.manager = dragDropManager;
                invariant(typeof dragDropManager === 'object', 'Could not find the drag and drop manager in the context of %s. ' +
                    'Make sure to wrap the top-level component of your app with DragDropContext. ' +
                    'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);
                var monitor = this.manager.getMonitor();
                this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);
                this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);
            };
            DragLayerContainer.prototype.getCurrentState = function () {
                if (!this.manager) {
                    return {};
                }
                var monitor = this.manager.getMonitor();
                return collect(monitor, this.props);
            };
            DragLayerContainer.displayName = "DragLayer(" + displayName + ")";
            DragLayerContainer.DecoratedComponent = DecoratedComponent;
            return DragLayerContainer;
        }(React.Component));
        return hoistStatics(DragLayerContainer, DecoratedComponent);
    };
}
exports.default = DragLayer;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DragPreviewImage.js":
/*!************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DragPreviewImage.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var React = __webpack_require__(/*! react */ "react");
/*
 * A utility for rendering a drag preview image
 */
var DragPreviewImage = React.memo(function (_a) {
    var connect = _a.connect, src = _a.src;
    if (typeof Image !== 'undefined') {
        var img_1 = new Image();
        img_1.src = src;
        img_1.onload = function () { return connect(img_1); };
    }
    return null;
});
DragPreviewImage.displayName = 'DragPreviewImage';
exports.default = DragPreviewImage;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DragSource.js":
/*!******************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DragSource.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var checkDecoratorArguments_1 = __webpack_require__(/*! ./utils/checkDecoratorArguments */ "./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js");
var decorateHandler_1 = __webpack_require__(/*! ./decorateHandler */ "./node_modules/react-dnd/lib/cjs/decorateHandler.js");
var registerSource_1 = __webpack_require__(/*! ./registerSource */ "./node_modules/react-dnd/lib/cjs/registerSource.js");
var createSourceFactory_1 = __webpack_require__(/*! ./createSourceFactory */ "./node_modules/react-dnd/lib/cjs/createSourceFactory.js");
var DragSourceMonitorImpl_1 = __webpack_require__(/*! ./DragSourceMonitorImpl */ "./node_modules/react-dnd/lib/cjs/DragSourceMonitorImpl.js");
var SourceConnector_1 = __webpack_require__(/*! ./SourceConnector */ "./node_modules/react-dnd/lib/cjs/SourceConnector.js");
var isValidType_1 = __webpack_require__(/*! ./utils/isValidType */ "./node_modules/react-dnd/lib/cjs/utils/isValidType.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
/**
 * Decorates a component as a dragsource
 * @param type The dragsource type
 * @param spec The drag source specification
 * @param collect The props collector function
 * @param options DnD options
 */
function DragSource(type, spec, collect, options) {
    if (options === void 0) { options = {}; }
    checkDecoratorArguments_1.default('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);
    var getType = type;
    if (typeof type !== 'function') {
        invariant(isValidType_1.default(type), 'Expected "type" provided as the first argument to DragSource to be ' +
            'a string, or a function that returns a string given the current props. ' +
            'Instead, received %s. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);
        getType = function () { return type; };
    }
    invariant(discount_lodash_1.isPlainObject(spec), 'Expected "spec" provided as the second argument to DragSource to be ' +
        'a plain object. Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);
    var createSource = createSourceFactory_1.default(spec);
    invariant(typeof collect === 'function', 'Expected "collect" provided as the third argument to DragSource to be ' +
        'a function that returns a plain object of props to inject. ' +
        'Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);
    invariant(discount_lodash_1.isPlainObject(options), 'Expected "options" provided as the fourth argument to DragSource to be ' +
        'a plain object when specified. ' +
        'Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);
    return function decorateSource(DecoratedComponent) {
        return decorateHandler_1.default({
            containerDisplayName: 'DragSource',
            createHandler: createSource,
            registerHandler: registerSource_1.default,
            createConnector: function (backend) { return new SourceConnector_1.default(backend); },
            createMonitor: function (manager) {
                return new DragSourceMonitorImpl_1.default(manager);
            },
            DecoratedComponent: DecoratedComponent,
            getType: getType,
            collect: collect,
            options: options,
        });
    };
}
exports.default = DragSource;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DragSourceMonitorImpl.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DragSourceMonitorImpl.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var isCallingCanDrag = false;
var isCallingIsDragging = false;
var DragSourceMonitorImpl = /** @class */ (function () {
    function DragSourceMonitorImpl(manager) {
        this.sourceId = null;
        this.internalMonitor = manager.getMonitor();
    }
    DragSourceMonitorImpl.prototype.receiveHandlerId = function (sourceId) {
        this.sourceId = sourceId;
    };
    DragSourceMonitorImpl.prototype.getHandlerId = function () {
        return this.sourceId;
    };
    DragSourceMonitorImpl.prototype.canDrag = function () {
        invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');
        try {
            isCallingCanDrag = true;
            return this.internalMonitor.canDragSource(this.sourceId);
        }
        finally {
            isCallingCanDrag = false;
        }
    };
    DragSourceMonitorImpl.prototype.isDragging = function () {
        if (!this.sourceId) {
            return false;
        }
        invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');
        try {
            isCallingIsDragging = true;
            return this.internalMonitor.isDraggingSource(this.sourceId);
        }
        finally {
            isCallingIsDragging = false;
        }
    };
    DragSourceMonitorImpl.prototype.subscribeToStateChange = function (listener, options) {
        return this.internalMonitor.subscribeToStateChange(listener, options);
    };
    DragSourceMonitorImpl.prototype.isDraggingSource = function (sourceId) {
        return this.internalMonitor.isDraggingSource(sourceId);
    };
    DragSourceMonitorImpl.prototype.isOverTarget = function (targetId, options) {
        return this.internalMonitor.isOverTarget(targetId, options);
    };
    DragSourceMonitorImpl.prototype.getTargetIds = function () {
        return this.internalMonitor.getTargetIds();
    };
    DragSourceMonitorImpl.prototype.isSourcePublic = function () {
        return this.internalMonitor.isSourcePublic();
    };
    DragSourceMonitorImpl.prototype.getSourceId = function () {
        return this.internalMonitor.getSourceId();
    };
    DragSourceMonitorImpl.prototype.subscribeToOffsetChange = function (listener) {
        return this.internalMonitor.subscribeToOffsetChange(listener);
    };
    DragSourceMonitorImpl.prototype.canDragSource = function (sourceId) {
        return this.internalMonitor.canDragSource(sourceId);
    };
    DragSourceMonitorImpl.prototype.canDropOnTarget = function (targetId) {
        return this.internalMonitor.canDropOnTarget(targetId);
    };
    DragSourceMonitorImpl.prototype.getItemType = function () {
        return this.internalMonitor.getItemType();
    };
    DragSourceMonitorImpl.prototype.getItem = function () {
        return this.internalMonitor.getItem();
    };
    DragSourceMonitorImpl.prototype.getDropResult = function () {
        return this.internalMonitor.getDropResult();
    };
    DragSourceMonitorImpl.prototype.didDrop = function () {
        return this.internalMonitor.didDrop();
    };
    DragSourceMonitorImpl.prototype.getInitialClientOffset = function () {
        return this.internalMonitor.getInitialClientOffset();
    };
    DragSourceMonitorImpl.prototype.getInitialSourceClientOffset = function () {
        return this.internalMonitor.getInitialSourceClientOffset();
    };
    DragSourceMonitorImpl.prototype.getSourceClientOffset = function () {
        return this.internalMonitor.getSourceClientOffset();
    };
    DragSourceMonitorImpl.prototype.getClientOffset = function () {
        return this.internalMonitor.getClientOffset();
    };
    DragSourceMonitorImpl.prototype.getDifferenceFromInitialOffset = function () {
        return this.internalMonitor.getDifferenceFromInitialOffset();
    };
    return DragSourceMonitorImpl;
}());
exports.default = DragSourceMonitorImpl;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DropTarget.js":
/*!******************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DropTarget.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var checkDecoratorArguments_1 = __webpack_require__(/*! ./utils/checkDecoratorArguments */ "./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js");
var decorateHandler_1 = __webpack_require__(/*! ./decorateHandler */ "./node_modules/react-dnd/lib/cjs/decorateHandler.js");
var registerTarget_1 = __webpack_require__(/*! ./registerTarget */ "./node_modules/react-dnd/lib/cjs/registerTarget.js");
var createTargetFactory_1 = __webpack_require__(/*! ./createTargetFactory */ "./node_modules/react-dnd/lib/cjs/createTargetFactory.js");
var isValidType_1 = __webpack_require__(/*! ./utils/isValidType */ "./node_modules/react-dnd/lib/cjs/utils/isValidType.js");
var DropTargetMonitorImpl_1 = __webpack_require__(/*! ./DropTargetMonitorImpl */ "./node_modules/react-dnd/lib/cjs/DropTargetMonitorImpl.js");
var TargetConnector_1 = __webpack_require__(/*! ./TargetConnector */ "./node_modules/react-dnd/lib/cjs/TargetConnector.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function DropTarget(type, spec, collect, options) {
    if (options === void 0) { options = {}; }
    checkDecoratorArguments_1.default('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);
    var getType = type;
    if (typeof type !== 'function') {
        invariant(isValidType_1.default(type, true), 'Expected "type" provided as the first argument to DropTarget to be ' +
            'a string, an array of strings, or a function that returns either given ' +
            'the current props. Instead, received %s. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);
        getType = function () { return type; };
    }
    invariant(discount_lodash_1.isPlainObject(spec), 'Expected "spec" provided as the second argument to DropTarget to be ' +
        'a plain object. Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);
    var createTarget = createTargetFactory_1.default(spec);
    invariant(typeof collect === 'function', 'Expected "collect" provided as the third argument to DropTarget to be ' +
        'a function that returns a plain object of props to inject. ' +
        'Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);
    invariant(discount_lodash_1.isPlainObject(options), 'Expected "options" provided as the fourth argument to DropTarget to be ' +
        'a plain object when specified. ' +
        'Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);
    return function decorateTarget(DecoratedComponent) {
        return decorateHandler_1.default({
            containerDisplayName: 'DropTarget',
            createHandler: createTarget,
            registerHandler: registerTarget_1.default,
            createMonitor: function (manager) {
                return new DropTargetMonitorImpl_1.default(manager);
            },
            createConnector: function (backend) { return new TargetConnector_1.default(backend); },
            DecoratedComponent: DecoratedComponent,
            getType: getType,
            collect: collect,
            options: options,
        });
    };
}
exports.default = DropTarget;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DropTargetMonitorImpl.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DropTargetMonitorImpl.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var isCallingCanDrop = false;
var DropTargetMonitorImpl = /** @class */ (function () {
    function DropTargetMonitorImpl(manager) {
        this.targetId = null;
        this.internalMonitor = manager.getMonitor();
    }
    DropTargetMonitorImpl.prototype.receiveHandlerId = function (targetId) {
        this.targetId = targetId;
    };
    DropTargetMonitorImpl.prototype.getHandlerId = function () {
        return this.targetId;
    };
    DropTargetMonitorImpl.prototype.subscribeToStateChange = function (listener, options) {
        return this.internalMonitor.subscribeToStateChange(listener, options);
    };
    DropTargetMonitorImpl.prototype.canDrop = function () {
        // Cut out early if the target id has not been set. This should prevent errors
        // where the user has an older version of dnd-core like in
        // https://github.com/react-dnd/react-dnd/issues/1310
        if (!this.targetId) {
            return false;
        }
        invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');
        try {
            isCallingCanDrop = true;
            return this.internalMonitor.canDropOnTarget(this.targetId);
        }
        finally {
            isCallingCanDrop = false;
        }
    };
    DropTargetMonitorImpl.prototype.isOver = function (options) {
        if (!this.targetId) {
            return false;
        }
        return this.internalMonitor.isOverTarget(this.targetId, options);
    };
    DropTargetMonitorImpl.prototype.getItemType = function () {
        return this.internalMonitor.getItemType();
    };
    DropTargetMonitorImpl.prototype.getItem = function () {
        return this.internalMonitor.getItem();
    };
    DropTargetMonitorImpl.prototype.getDropResult = function () {
        return this.internalMonitor.getDropResult();
    };
    DropTargetMonitorImpl.prototype.didDrop = function () {
        return this.internalMonitor.didDrop();
    };
    DropTargetMonitorImpl.prototype.getInitialClientOffset = function () {
        return this.internalMonitor.getInitialClientOffset();
    };
    DropTargetMonitorImpl.prototype.getInitialSourceClientOffset = function () {
        return this.internalMonitor.getInitialSourceClientOffset();
    };
    DropTargetMonitorImpl.prototype.getSourceClientOffset = function () {
        return this.internalMonitor.getSourceClientOffset();
    };
    DropTargetMonitorImpl.prototype.getClientOffset = function () {
        return this.internalMonitor.getClientOffset();
    };
    DropTargetMonitorImpl.prototype.getDifferenceFromInitialOffset = function () {
        return this.internalMonitor.getDifferenceFromInitialOffset();
    };
    return DropTargetMonitorImpl;
}());
exports.default = DropTargetMonitorImpl;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/SourceConnector.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/SourceConnector.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var wrapConnectorHooks_1 = __webpack_require__(/*! ./wrapConnectorHooks */ "./node_modules/react-dnd/lib/cjs/wrapConnectorHooks.js");
var isRef_1 = __webpack_require__(/*! ./utils/isRef */ "./node_modules/react-dnd/lib/cjs/utils/isRef.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
var SourceConnector = /** @class */ (function () {
    function SourceConnector(backend) {
        var _this = this;
        this.backend = backend;
        this.hooks = wrapConnectorHooks_1.default({
            dragSource: function (node, options) {
                _this.dragSourceOptions = options || null;
                if (isRef_1.isRef(node)) {
                    _this.dragSourceRef = node;
                }
                else {
                    _this.dragSourceNode = node;
                }
                _this.reconnectDragSource();
            },
            dragPreview: function (node, options) {
                _this.dragPreviewOptions = options || null;
                if (isRef_1.isRef(node)) {
                    _this.dragPreviewRef = node;
                }
                else {
                    _this.dragPreviewNode = node;
                }
                _this.reconnectDragPreview();
            },
        });
        this.handlerId = null;
        // The drop target may either be attached via ref or connect function
        this.dragSourceRef = null;
        this.dragSourceOptionsInternal = null;
        // The drag preview may either be attached via ref or connect function
        this.dragPreviewRef = null;
        this.dragPreviewOptionsInternal = null;
        this.lastConnectedHandlerId = null;
        this.lastConnectedDragSource = null;
        this.lastConnectedDragSourceOptions = null;
        this.lastConnectedDragPreview = null;
        this.lastConnectedDragPreviewOptions = null;
    }
    SourceConnector.prototype.receiveHandlerId = function (newHandlerId) {
        if (this.handlerId === newHandlerId) {
            return;
        }
        this.handlerId = newHandlerId;
        this.reconnect();
    };
    Object.defineProperty(SourceConnector.prototype, "connectTarget", {
        get: function () {
            return this.dragSource;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SourceConnector.prototype, "dragSourceOptions", {
        get: function () {
            return this.dragSourceOptionsInternal;
        },
        set: function (options) {
            this.dragSourceOptionsInternal = options;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SourceConnector.prototype, "dragPreviewOptions", {
        get: function () {
            return this.dragPreviewOptionsInternal;
        },
        set: function (options) {
            this.dragPreviewOptionsInternal = options;
        },
        enumerable: true,
        configurable: true
    });
    SourceConnector.prototype.reconnect = function () {
        this.reconnectDragSource();
        this.reconnectDragPreview();
    };
    SourceConnector.prototype.reconnectDragSource = function () {
        // if nothing has changed then don't resubscribe
        var didChange = this.didHandlerIdChange() ||
            this.didConnectedDragSourceChange() ||
            this.didDragSourceOptionsChange();
        if (didChange) {
            this.disconnectDragSource();
        }
        var dragSource = this.dragSource;
        if (!this.handlerId) {
            return;
        }
        if (!dragSource) {
            this.lastConnectedDragSource = dragSource;
            return;
        }
        if (didChange) {
            this.lastConnectedHandlerId = this.handlerId;
            this.lastConnectedDragSource = dragSource;
            this.lastConnectedDragSourceOptions = this.dragSourceOptions;
            this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);
        }
    };
    SourceConnector.prototype.reconnectDragPreview = function () {
        // if nothing has changed then don't resubscribe
        var didChange = this.didHandlerIdChange() ||
            this.didConnectedDragPreviewChange() ||
            this.didDragPreviewOptionsChange();
        if (didChange) {
            this.disconnectDragPreview();
        }
        var dragPreview = this.dragPreview;
        if (!this.handlerId || !dragPreview) {
            return;
        }
        if (didChange) {
            this.lastConnectedHandlerId = this.handlerId;
            this.lastConnectedDragPreview = dragPreview;
            this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;
            this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);
        }
    };
    SourceConnector.prototype.didHandlerIdChange = function () {
        return this.lastConnectedHandlerId !== this.handlerId;
    };
    SourceConnector.prototype.didConnectedDragSourceChange = function () {
        return this.lastConnectedDragSource !== this.dragSource;
    };
    SourceConnector.prototype.didConnectedDragPreviewChange = function () {
        return this.lastConnectedDragPreview !== this.dragPreview;
    };
    SourceConnector.prototype.didDragSourceOptionsChange = function () {
        return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);
    };
    SourceConnector.prototype.didDragPreviewOptionsChange = function () {
        return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);
    };
    SourceConnector.prototype.disconnectDragSource = function () {
        if (this.dragSourceUnsubscribe) {
            this.dragSourceUnsubscribe();
            this.dragSourceUnsubscribe = undefined;
            this.dragPreviewNode = null;
            this.dragPreviewRef = null;
        }
    };
    SourceConnector.prototype.disconnectDragPreview = function () {
        if (this.dragPreviewUnsubscribe) {
            this.dragPreviewUnsubscribe();
            this.dragPreviewUnsubscribe = undefined;
            this.dragPreviewNode = null;
            this.dragPreviewRef = null;
        }
    };
    Object.defineProperty(SourceConnector.prototype, "dragSource", {
        get: function () {
            return (this.dragSourceNode || (this.dragSourceRef && this.dragSourceRef.current));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SourceConnector.prototype, "dragPreview", {
        get: function () {
            return (this.dragPreviewNode ||
                (this.dragPreviewRef && this.dragPreviewRef.current));
        },
        enumerable: true,
        configurable: true
    });
    return SourceConnector;
}());
exports.default = SourceConnector;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/TargetConnector.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/TargetConnector.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var wrapConnectorHooks_1 = __webpack_require__(/*! ./wrapConnectorHooks */ "./node_modules/react-dnd/lib/cjs/wrapConnectorHooks.js");
var isRef_1 = __webpack_require__(/*! ./utils/isRef */ "./node_modules/react-dnd/lib/cjs/utils/isRef.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
var TargetConnector = /** @class */ (function () {
    function TargetConnector(backend) {
        var _this = this;
        this.backend = backend;
        this.hooks = wrapConnectorHooks_1.default({
            dropTarget: function (node, options) {
                _this.dropTargetOptions = options;
                if (isRef_1.isRef(node)) {
                    _this.dropTargetRef = node;
                }
                else {
                    _this.dropTargetNode = node;
                }
                _this.reconnect();
            },
        });
        this.handlerId = null;
        // The drop target may either be attached via ref or connect function
        this.dropTargetRef = null;
        this.dropTargetOptionsInternal = null;
        this.lastConnectedHandlerId = null;
        this.lastConnectedDropTarget = null;
        this.lastConnectedDropTargetOptions = null;
    }
    Object.defineProperty(TargetConnector.prototype, "connectTarget", {
        get: function () {
            return this.dropTarget;
        },
        enumerable: true,
        configurable: true
    });
    TargetConnector.prototype.reconnect = function () {
        // if nothing has changed then don't resubscribe
        var didChange = this.didHandlerIdChange() ||
            this.didDropTargetChange() ||
            this.didOptionsChange();
        if (didChange) {
            this.disconnectDropTarget();
        }
        var dropTarget = this.dropTarget;
        if (!this.handlerId) {
            return;
        }
        if (!dropTarget) {
            this.lastConnectedDropTarget = dropTarget;
            return;
        }
        if (didChange) {
            this.lastConnectedHandlerId = this.handlerId;
            this.lastConnectedDropTarget = dropTarget;
            this.lastConnectedDropTargetOptions = this.dropTargetOptions;
            this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);
        }
    };
    TargetConnector.prototype.receiveHandlerId = function (newHandlerId) {
        if (newHandlerId === this.handlerId) {
            return;
        }
        this.handlerId = newHandlerId;
        this.reconnect();
    };
    Object.defineProperty(TargetConnector.prototype, "dropTargetOptions", {
        get: function () {
            return this.dropTargetOptionsInternal;
        },
        set: function (options) {
            this.dropTargetOptionsInternal = options;
        },
        enumerable: true,
        configurable: true
    });
    TargetConnector.prototype.didHandlerIdChange = function () {
        return this.lastConnectedHandlerId !== this.handlerId;
    };
    TargetConnector.prototype.didDropTargetChange = function () {
        return this.lastConnectedDropTarget !== this.dropTarget;
    };
    TargetConnector.prototype.didOptionsChange = function () {
        return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);
    };
    TargetConnector.prototype.disconnectDropTarget = function () {
        if (this.unsubscribeDropTarget) {
            this.unsubscribeDropTarget();
            this.unsubscribeDropTarget = undefined;
        }
    };
    Object.defineProperty(TargetConnector.prototype, "dropTarget", {
        get: function () {
            return (this.dropTargetNode || (this.dropTargetRef && this.dropTargetRef.current));
        },
        enumerable: true,
        configurable: true
    });
    return TargetConnector;
}());
exports.default = TargetConnector;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/createSourceFactory.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/createSourceFactory.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var getDecoratedComponent_1 = __webpack_require__(/*! ./utils/getDecoratedComponent */ "./node_modules/react-dnd/lib/cjs/utils/getDecoratedComponent.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];
var REQUIRED_SPEC_METHODS = ['beginDrag'];
var SourceImpl = /** @class */ (function () {
    function SourceImpl(spec, monitor, ref) {
        var _this = this;
        this.spec = spec;
        this.monitor = monitor;
        this.ref = ref;
        this.props = null;
        this.beginDrag = function () {
            if (!_this.props) {
                return;
            }
            var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);
            if (true) {
                invariant(discount_lodash_1.isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' +
                    'Instead received %s. ' +
                    'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);
            }
            return item;
        };
    }
    SourceImpl.prototype.receiveProps = function (props) {
        this.props = props;
    };
    SourceImpl.prototype.canDrag = function () {
        if (!this.props) {
            return false;
        }
        if (!this.spec.canDrag) {
            return true;
        }
        return this.spec.canDrag(this.props, this.monitor);
    };
    SourceImpl.prototype.isDragging = function (globalMonitor, sourceId) {
        if (!this.props) {
            return false;
        }
        if (!this.spec.isDragging) {
            return sourceId === globalMonitor.getSourceId();
        }
        return this.spec.isDragging(this.props, this.monitor);
    };
    SourceImpl.prototype.endDrag = function () {
        if (!this.props) {
            return;
        }
        if (!this.spec.endDrag) {
            return;
        }
        this.spec.endDrag(this.props, this.monitor, getDecoratedComponent_1.getDecoratedComponent(this.ref));
    };
    return SourceImpl;
}());
function createSourceFactory(spec) {
    Object.keys(spec).forEach(function (key) {
        invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' +
            'some of the following keys: %s. ' +
            'Instead received a specification with an unexpected "%s" key. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);
        invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' +
            'Instead received a specification with %s: %s. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);
    });
    REQUIRED_SPEC_METHODS.forEach(function (key) {
        invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' +
            'Instead received a specification with %s: %s. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);
    });
    return function createSource(monitor, ref) {
        return new SourceImpl(spec, monitor, ref);
    };
}
exports.default = createSourceFactory;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/createTargetFactory.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/createTargetFactory.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var getDecoratedComponent_1 = __webpack_require__(/*! ./utils/getDecoratedComponent */ "./node_modules/react-dnd/lib/cjs/utils/getDecoratedComponent.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];
var TargetImpl = /** @class */ (function () {
    function TargetImpl(spec, monitor, ref) {
        this.spec = spec;
        this.monitor = monitor;
        this.ref = ref;
        this.props = null;
    }
    TargetImpl.prototype.receiveProps = function (props) {
        this.props = props;
    };
    TargetImpl.prototype.receiveMonitor = function (monitor) {
        this.monitor = monitor;
    };
    TargetImpl.prototype.canDrop = function () {
        if (!this.spec.canDrop) {
            return true;
        }
        return this.spec.canDrop(this.props, this.monitor);
    };
    TargetImpl.prototype.hover = function () {
        if (!this.spec.hover) {
            return;
        }
        this.spec.hover(this.props, this.monitor, getDecoratedComponent_1.getDecoratedComponent(this.ref));
    };
    TargetImpl.prototype.drop = function () {
        if (!this.spec.drop) {
            return undefined;
        }
        var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);
        if (true) {
            invariant(typeof dropResult === 'undefined' || discount_lodash_1.isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' +
                'Instead received %s. ' +
                'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);
        }
        return dropResult;
    };
    return TargetImpl;
}());
function createTargetFactory(spec) {
    Object.keys(spec).forEach(function (key) {
        invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' +
            'some of the following keys: %s. ' +
            'Instead received a specification with an unexpected "%s" key. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);
        invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' +
            'Instead received a specification with %s: %s. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);
    });
    return function createTarget(monitor, ref) {
        return new TargetImpl(spec, monitor, ref);
    };
}
exports.default = createTargetFactory;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/decorateHandler.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/decorateHandler.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = __webpack_require__(/*! react */ "react");
var DragDropContext_1 = __webpack_require__(/*! ./DragDropContext */ "./node_modules/react-dnd/lib/cjs/DragDropContext.js");
var disposables_1 = __webpack_require__(/*! ./utils/disposables */ "./node_modules/react-dnd/lib/cjs/utils/disposables/index.js");
var isRefable_1 = __webpack_require__(/*! ./utils/isRefable */ "./node_modules/react-dnd/lib/cjs/utils/isRefable.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var hoistStatics = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
function decorateHandler(_a) {
    var DecoratedComponent = _a.DecoratedComponent, createHandler = _a.createHandler, createMonitor = _a.createMonitor, createConnector = _a.createConnector, registerHandler = _a.registerHandler, containerDisplayName = _a.containerDisplayName, getType = _a.getType, collect = _a.collect, options = _a.options;
    var _b = options.arePropsEqual, arePropsEqual = _b === void 0 ? shallowEqual : _b;
    var Decorated = DecoratedComponent;
    var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';
    var DragDropContainer = /** @class */ (function (_super) {
        __extends(DragDropContainer, _super);
        function DragDropContainer(props) {
            var _this = _super.call(this, props) || this;
            _this.decoratedRef = React.createRef();
            _this.handleChange = function () {
                var nextState = _this.getCurrentState();
                if (!shallowEqual(nextState, _this.state)) {
                    _this.setState(nextState);
                }
            };
            _this.disposable = new disposables_1.SerialDisposable();
            _this.receiveProps(props);
            _this.dispose();
            return _this;
        }
        DragDropContainer.prototype.getHandlerId = function () {
            return this.handlerId;
        };
        DragDropContainer.prototype.getDecoratedComponentInstance = function () {
            invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');
            return this.decoratedRef.current;
        };
        DragDropContainer.prototype.shouldComponentUpdate = function (nextProps, nextState) {
            return (!arePropsEqual(nextProps, this.props) ||
                !shallowEqual(nextState, this.state));
        };
        DragDropContainer.prototype.componentDidMount = function () {
            this.disposable = new disposables_1.SerialDisposable();
            this.currentType = undefined;
            this.receiveProps(this.props);
            this.handleChange();
        };
        DragDropContainer.prototype.componentDidUpdate = function (prevProps) {
            if (!arePropsEqual(this.props, prevProps)) {
                this.receiveProps(this.props);
                this.handleChange();
            }
        };
        DragDropContainer.prototype.componentWillUnmount = function () {
            this.dispose();
        };
        DragDropContainer.prototype.receiveProps = function (props) {
            if (!this.handler) {
                return;
            }
            this.handler.receiveProps(props);
            this.receiveType(getType(props));
        };
        DragDropContainer.prototype.receiveType = function (type) {
            if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {
                return;
            }
            if (type === this.currentType) {
                return;
            }
            this.currentType = type;
            var _a = registerHandler(type, this.handler, this.manager), handlerId = _a[0], unregister = _a[1];
            this.handlerId = handlerId;
            this.handlerMonitor.receiveHandlerId(handlerId);
            this.handlerConnector.receiveHandlerId(handlerId);
            var globalMonitor = this.manager.getMonitor();
            var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, { handlerIds: [handlerId] });
            this.disposable.setDisposable(new disposables_1.CompositeDisposable(new disposables_1.Disposable(unsubscribe), new disposables_1.Disposable(unregister)));
        };
        DragDropContainer.prototype.dispose = function () {
            this.disposable.dispose();
            if (this.handlerConnector) {
                this.handlerConnector.receiveHandlerId(null);
            }
        };
        DragDropContainer.prototype.getCurrentState = function () {
            if (!this.handlerConnector) {
                return {};
            }
            var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);
            if (true) {
                invariant(discount_lodash_1.isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' +
                    '%s for %s to return a plain object of props to inject. ' +
                    'Instead, received %s.', containerDisplayName, displayName, nextState);
            }
            return nextState;
        };
        DragDropContainer.prototype.render = function () {
            var _this = this;
            return (React.createElement(DragDropContext_1.Consumer, null, function (_a) {
                var dragDropManager = _a.dragDropManager;
                _this.receiveDragDropManager(dragDropManager);
                if (typeof requestAnimationFrame !== 'undefined') {
                    requestAnimationFrame(function () { return _this.handlerConnector.reconnect(); });
                }
                return (React.createElement(Decorated, __assign({}, _this.props, _this.getCurrentState(), { 
                    // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.
                    ref: isRefable_1.isRefable(Decorated) ? _this.decoratedRef : null })));
            }));
        };
        DragDropContainer.prototype.receiveDragDropManager = function (dragDropManager) {
            if (this.manager !== undefined) {
                return;
            }
            invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' +
                'Make sure to wrap the top-level component of your app with DragDropContext. ' +
                'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);
            if (dragDropManager === undefined) {
                return;
            }
            this.manager = dragDropManager;
            this.handlerMonitor = createMonitor(dragDropManager);
            this.handlerConnector = createConnector(dragDropManager.getBackend());
            this.handler = createHandler(this.handlerMonitor, this.decoratedRef);
        };
        DragDropContainer.DecoratedComponent = DecoratedComponent;
        DragDropContainer.displayName = containerDisplayName + "(" + displayName + ")";
        return DragDropContainer;
    }(React.Component));
    return hoistStatics(DragDropContainer, DecoratedComponent);
}
exports.default = decorateHandler;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/index.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
__export(__webpack_require__(/*! ./useDrag */ "./node_modules/react-dnd/lib/cjs/hooks/useDrag.js"));
__export(__webpack_require__(/*! ./useDrop */ "./node_modules/react-dnd/lib/cjs/hooks/useDrop.js"));
__export(__webpack_require__(/*! ./useDragLayer */ "./node_modules/react-dnd/lib/cjs/hooks/useDragLayer.js"));


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/internal/drag.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/internal/drag.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var registerSource_1 = __webpack_require__(/*! ../../registerSource */ "./node_modules/react-dnd/lib/cjs/registerSource.js");
var useDragDropManager_1 = __webpack_require__(/*! ./useDragDropManager */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useDragDropManager.js");
var DragSourceMonitorImpl_1 = __webpack_require__(/*! ../../DragSourceMonitorImpl */ "./node_modules/react-dnd/lib/cjs/DragSourceMonitorImpl.js");
var SourceConnector_1 = __webpack_require__(/*! ../../SourceConnector */ "./node_modules/react-dnd/lib/cjs/SourceConnector.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function useDragSourceMonitor() {
    var manager = useDragDropManager_1.useDragDropManager();
    var monitor = react_1.useMemo(function () { return new DragSourceMonitorImpl_1.default(manager); }, [manager]);
    var connector = react_1.useMemo(function () { return new SourceConnector_1.default(manager.getBackend()); }, [
        manager,
    ]);
    return [monitor, connector];
}
exports.useDragSourceMonitor = useDragSourceMonitor;
function useDragHandler(spec, monitor, connector) {
    var manager = useDragDropManager_1.useDragDropManager();
    // Can't use createSourceFactory, as semantics are different
    var handler = react_1.useMemo(function () {
        return {
            beginDrag: function () {
                var _a = spec.current, begin = _a.begin, item = _a.item;
                if (begin) {
                    var beginResult = begin(monitor);
                    invariant(beginResult == null || typeof beginResult === 'object', 'dragSpec.begin() must either return an object, undefined, or null');
                    return beginResult || item || {};
                }
                return item || {};
            },
            canDrag: function () {
                if (typeof spec.current.canDrag === 'boolean') {
                    return spec.current.canDrag;
                }
                else if (typeof spec.current.canDrag === 'function') {
                    return spec.current.canDrag(monitor);
                }
                else {
                    return true;
                }
            },
            isDragging: function (globalMonitor, target) {
                var isDragging = spec.current.isDragging;
                return isDragging
                    ? isDragging(monitor)
                    : target === globalMonitor.getSourceId();
            },
            endDrag: function () {
                var end = spec.current.end;
                if (end) {
                    end(monitor.getItem(), monitor);
                }
                connector.reconnect();
            },
        };
    }, []);
    react_1.useEffect(function registerHandler() {
        var _a = registerSource_1.default(spec.current.item.type, handler, manager), handlerId = _a[0], unregister = _a[1];
        monitor.receiveHandlerId(handlerId);
        connector.receiveHandlerId(handlerId);
        return unregister;
    }, []);
}
exports.useDragHandler = useDragHandler;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/internal/drop.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/internal/drop.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var registerTarget_1 = __webpack_require__(/*! ../../registerTarget */ "./node_modules/react-dnd/lib/cjs/registerTarget.js");
var useDragDropManager_1 = __webpack_require__(/*! ./useDragDropManager */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useDragDropManager.js");
var TargetConnector_1 = __webpack_require__(/*! ../../TargetConnector */ "./node_modules/react-dnd/lib/cjs/TargetConnector.js");
var DropTargetMonitorImpl_1 = __webpack_require__(/*! ../../DropTargetMonitorImpl */ "./node_modules/react-dnd/lib/cjs/DropTargetMonitorImpl.js");
function useDropTargetMonitor() {
    var manager = useDragDropManager_1.useDragDropManager();
    var monitor = react_1.useMemo(function () { return new DropTargetMonitorImpl_1.default(manager); }, [manager]);
    var connector = react_1.useMemo(function () { return new TargetConnector_1.default(manager.getBackend()); }, [
        manager,
    ]);
    return [monitor, connector];
}
exports.useDropTargetMonitor = useDropTargetMonitor;
function useDropHandler(spec, monitor, connector) {
    var manager = useDragDropManager_1.useDragDropManager();
    // Can't use createSourceFactory, as semantics are different
    var handler = react_1.useMemo(function () {
        return {
            canDrop: function () {
                var canDrop = spec.current.canDrop;
                return canDrop ? canDrop(monitor.getItem(), monitor) : true;
            },
            hover: function () {
                var hover = spec.current.hover;
                if (hover) {
                    hover(monitor.getItem(), monitor);
                }
            },
            drop: function () {
                var drop = spec.current.drop;
                if (drop) {
                    return drop(monitor.getItem(), monitor);
                }
            },
        };
    }, [monitor]);
    react_1.useEffect(function registerHandler() {
        var _a = registerTarget_1.default(spec.current.accept, handler, manager), handlerId = _a[0], unregister = _a[1];
        monitor.receiveHandlerId(handlerId);
        connector.receiveHandlerId(handlerId);
        return unregister;
    }, [monitor, connector]);
}
exports.useDropHandler = useDropHandler;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/internal/useCollector.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/internal/useCollector.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
var react_1 = __webpack_require__(/*! react */ "react");
/**
 *
 * @param monitor The monitor to colelct state from
 * @param collect The collecting function
 * @param onUpdate A method to invoke when updates occur
 */
function useCollector(monitor, collect, onUpdate) {
    var _a = react_1.useState(function () { return collect(monitor); }), collected = _a[0], setCollected = _a[1];
    var updateCollected = react_1.useCallback(function () {
        var nextValue = collect(monitor);
        if (!shallowEqual(collected, nextValue)) {
            setCollected(nextValue);
            if (onUpdate) {
                onUpdate();
            }
        }
    }, [collected, monitor, onUpdate]);
    return [collected, updateCollected];
}
exports.useCollector = useCollector;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/internal/useDragDropManager.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/internal/useDragDropManager.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var DragDropContext_1 = __webpack_require__(/*! ../../DragDropContext */ "./node_modules/react-dnd/lib/cjs/DragDropContext.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
/**
 * A hook to retrieve the DragDropManager from Context
 */
function useDragDropManager() {
    var dragDropManager = react_1.useContext(DragDropContext_1.context).dragDropManager;
    invariant(dragDropManager != null, 'Expected drag drop context');
    return dragDropManager;
}
exports.useDragDropManager = useDragDropManager;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/internal/useMonitorOutput.js":
/*!***************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/internal/useMonitorOutput.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var useCollector_1 = __webpack_require__(/*! ./useCollector */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useCollector.js");
function useMonitorOutput(monitor, collect, onCollect) {
    var _a = useCollector_1.useCollector(monitor, collect, onCollect), collected = _a[0], updateCollected = _a[1];
    react_1.useEffect(function subscribeToMonitorStateChange() {
        var handlerId = monitor.getHandlerId();
        if (handlerId == null) {
            return undefined;
        }
        return monitor.subscribeToStateChange(updateCollected, {
            handlerIds: [handlerId],
        });
    }, [monitor, updateCollected]);
    return collected;
}
exports.useMonitorOutput = useMonitorOutput;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/useDrag.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/useDrag.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var useMonitorOutput_1 = __webpack_require__(/*! ./internal/useMonitorOutput */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useMonitorOutput.js");
var drag_1 = __webpack_require__(/*! ./internal/drag */ "./node_modules/react-dnd/lib/cjs/hooks/internal/drag.js");
var react_1 = __webpack_require__(/*! react */ "react");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
/**
 * useDragSource hook
 * @param sourceSpec The drag source specification *
 */
function useDrag(spec) {
    var specRef = react_1.useRef(spec);
    specRef.current = spec;
    // TODO: wire options into createSourceConnector
    invariant(spec.item != null, 'item must be defined');
    invariant(spec.item.type != null, 'item type must be defined');
    var _a = drag_1.useDragSourceMonitor(), monitor = _a[0], connector = _a[1];
    drag_1.useDragHandler(specRef, monitor, connector);
    var result = useMonitorOutput_1.useMonitorOutput(monitor, specRef.current.collect || (function () { return ({}); }), function () { return connector.reconnect(); });
    var connectDragSource = react_1.useMemo(function () { return connector.hooks.dragSource(); }, [
        connector,
    ]);
    var connectDragPreview = react_1.useMemo(function () { return connector.hooks.dragPreview(); }, [
        connector,
    ]);
    react_1.useEffect(function () {
        connector.dragSourceOptions = specRef.current.options || null;
        connector.reconnect();
    }, [connector]);
    react_1.useEffect(function () {
        connector.dragPreviewOptions = specRef.current.previewOptions || null;
        connector.reconnect();
    }, [connector]);
    return [result, connectDragSource, connectDragPreview];
}
exports.useDrag = useDrag;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/useDragLayer.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/useDragLayer.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var useDragDropManager_1 = __webpack_require__(/*! ./internal/useDragDropManager */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useDragDropManager.js");
var useCollector_1 = __webpack_require__(/*! ./internal/useCollector */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useCollector.js");
/**
 * useDragLayer Hook
 * @param collector The property collector
 */
function useDragLayer(collect) {
    var dragDropManager = useDragDropManager_1.useDragDropManager();
    var monitor = dragDropManager.getMonitor();
    var _a = useCollector_1.useCollector(monitor, collect), collected = _a[0], updateCollected = _a[1];
    react_1.useEffect(function () { return monitor.subscribeToOffsetChange(updateCollected); });
    react_1.useEffect(function () { return monitor.subscribeToStateChange(updateCollected); });
    return collected;
}
exports.useDragLayer = useDragLayer;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/useDrop.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/useDrop.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var useMonitorOutput_1 = __webpack_require__(/*! ./internal/useMonitorOutput */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useMonitorOutput.js");
var drop_1 = __webpack_require__(/*! ./internal/drop */ "./node_modules/react-dnd/lib/cjs/hooks/internal/drop.js");
var react_1 = __webpack_require__(/*! react */ "react");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
/**
 * useDropTarget Hook
 * @param spec The drop target specification
 */
function useDrop(spec) {
    var specRef = react_1.useRef(spec);
    specRef.current = spec;
    invariant(spec.accept != null, 'accept must be defined');
    var _a = drop_1.useDropTargetMonitor(), monitor = _a[0], connector = _a[1];
    drop_1.useDropHandler(specRef, monitor, connector);
    var result = useMonitorOutput_1.useMonitorOutput(monitor, specRef.current.collect || (function () { return ({}); }), function () { return connector.reconnect(); });
    var connectDropTarget = react_1.useMemo(function () { return connector.hooks.dropTarget(); }, [
        connector,
    ]);
    react_1.useEffect(function () {
        connector.dropTargetOptions = spec.options || null;
        connector.reconnect();
    }, [spec.options]);
    return [result, connectDropTarget];
}
exports.useDrop = useDrop;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/index.js":
/*!*************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var DragDropContext_1 = __webpack_require__(/*! ./DragDropContext */ "./node_modules/react-dnd/lib/cjs/DragDropContext.js");
exports.DragDropContext = DragDropContext_1.DragDropContext;
exports.DragDropContextProvider = DragDropContext_1.DragDropContextProvider;
exports.DragDropContextConsumer = DragDropContext_1.Consumer;
var DragLayer_1 = __webpack_require__(/*! ./DragLayer */ "./node_modules/react-dnd/lib/cjs/DragLayer.js");
exports.DragLayer = DragLayer_1.default;
var DragSource_1 = __webpack_require__(/*! ./DragSource */ "./node_modules/react-dnd/lib/cjs/DragSource.js");
exports.DragSource = DragSource_1.default;
var DropTarget_1 = __webpack_require__(/*! ./DropTarget */ "./node_modules/react-dnd/lib/cjs/DropTarget.js");
exports.DropTarget = DropTarget_1.default;
var DragPreviewImage_1 = __webpack_require__(/*! ./DragPreviewImage */ "./node_modules/react-dnd/lib/cjs/DragPreviewImage.js");
exports.DragPreviewImage = DragPreviewImage_1.default;
var hooks_1 = __webpack_require__(/*! ./hooks */ "./node_modules/react-dnd/lib/cjs/hooks/index.js");
exports.useDrag = hooks_1.useDrag;
exports.useDragLayer = hooks_1.useDragLayer;
exports.useDrop = hooks_1.useDrop;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/registerSource.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/registerSource.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function registerSource(type, source, manager) {
    var registry = manager.getRegistry();
    var sourceId = registry.addSource(type, source);
    return [sourceId, function () { return registry.removeSource(sourceId); }];
}
exports.default = registerSource;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/registerTarget.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/registerTarget.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function registerTarget(type, target, manager) {
    var registry = manager.getRegistry();
    var targetId = registry.addTarget(type, target);
    return [targetId, function () { return registry.removeTarget(targetId); }];
}
exports.default = registerTarget;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function checkDecoratorArguments(functionName, signature) {
    var args = [];
    for (var _i = 2; _i < arguments.length; _i++) {
        args[_i - 2] = arguments[_i];
    }
    if (true) {
        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {
            var arg = args_1[_a];
            if (arg && arg.prototype && arg.prototype.render) {
                // eslint-disable-next-line no-console
                console.error('You seem to be applying the arguments in the wrong order. ' +
                    ("It should be " + functionName + "(" + signature + ")(Component), not the other way around. ") +
                    'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');
                return;
            }
        }
    }
}
exports.default = checkDecoratorArguments;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/cloneWithRef.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/cloneWithRef.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function setRef(ref, node) {
    if (typeof ref === 'function') {
        ref(node);
    }
    else {
        ref.current = node;
    }
}
function cloneWithRef(element, newRef) {
    var previousRef = element.ref;
    invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' +
        'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' +
        'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');
    if (!previousRef) {
        // When there is no ref on the element, use the new ref directly
        return react_1.cloneElement(element, {
            ref: newRef,
        });
    }
    return react_1.cloneElement(element, {
        ref: function (node) {
            setRef(newRef, node);
            if (previousRef) {
                setRef(previousRef, node);
            }
        },
    });
}
exports.default = cloneWithRef;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isFunction(input) {
    return typeof input === 'function';
}
exports.isFunction = isFunction;
function noop() {
    // noop
}
exports.noop = noop;
function isObjectLike(input) {
    return typeof input === 'object' && input !== null;
}
function isPlainObject(input) {
    if (!isObjectLike(input)) {
        return false;
    }
    if (Object.getPrototypeOf(input) === null) {
        return true;
    }
    var proto = input;
    while (Object.getPrototypeOf(proto) !== null) {
        proto = Object.getPrototypeOf(proto);
    }
    return Object.getPrototypeOf(input) === proto;
}
exports.isPlainObject = isPlainObject;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/disposables/CompositeDisposable.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/disposables/CompositeDisposable.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Represents a group of disposable resources that are disposed together.
 * @constructor
 */
var CompositeDisposable = /** @class */ (function () {
    function CompositeDisposable() {
        var disposables = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            disposables[_i] = arguments[_i];
        }
        this.isDisposed = false;
        this.disposables = disposables;
    }
    /**
     * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.
     * @param {Any} item Disposable to add.
     */
    CompositeDisposable.prototype.add = function (item) {
        if (this.isDisposed) {
            item.dispose();
        }
        else {
            this.disposables.push(item);
        }
    };
    /**
     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.
     * @param {Any} item Disposable to remove.
     * @returns {Boolean} true if found; false otherwise.
     */
    CompositeDisposable.prototype.remove = function (item) {
        var shouldDispose = false;
        if (!this.isDisposed) {
            var idx = this.disposables.indexOf(item);
            if (idx !== -1) {
                shouldDispose = true;
                this.disposables.splice(idx, 1);
                item.dispose();
            }
        }
        return shouldDispose;
    };
    /**
     *  Disposes all disposables in the group and removes them from the group but
     *  does not dispose the CompositeDisposable.
     */
    CompositeDisposable.prototype.clear = function () {
        if (!this.isDisposed) {
            var len = this.disposables.length;
            var currentDisposables = new Array(len);
            for (var i = 0; i < len; i++) {
                currentDisposables[i] = this.disposables[i];
            }
            this.disposables = [];
            for (var i = 0; i < len; i++) {
                currentDisposables[i].dispose();
            }
        }
    };
    /**
     *  Disposes all disposables in the group and removes them from the group.
     */
    CompositeDisposable.prototype.dispose = function () {
        if (!this.isDisposed) {
            this.isDisposed = true;
            var len = this.disposables.length;
            var currentDisposables = new Array(len);
            for (var i = 0; i < len; i++) {
                currentDisposables[i] = this.disposables[i];
            }
            this.disposables = [];
            for (var i = 0; i < len; i++) {
                currentDisposables[i].dispose();
            }
        }
    };
    return CompositeDisposable;
}());
exports.CompositeDisposable = CompositeDisposable;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/disposables/Disposable.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/disposables/Disposable.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var discount_lodash_1 = __webpack_require__(/*! ../discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
/**
 * Provides a set of static methods for creating Disposables.
 * @param {Function} action Action to run during the first call to dispose.
 * The action is guaranteed to be run at most once.
 */
var Disposable = /** @class */ (function () {
    function Disposable(action) {
        this.isDisposed = false;
        this.action = discount_lodash_1.isFunction(action) ? action : discount_lodash_1.noop;
    }
    /**
     * Validates whether the given object is a disposable
     * @param {Object} Object to test whether it has a dispose method
     * @returns {Boolean} true if a disposable object, else false.
     */
    Disposable.isDisposable = function (d) {
        return d && discount_lodash_1.isFunction(d.dispose);
    };
    Disposable._fixup = function (result) {
        return Disposable.isDisposable(result) ? result : Disposable.empty;
    };
    /**
     * Creates a disposable object that invokes the specified action when disposed.
     * @param {Function} dispose Action to run during the first call to dispose.
     * The action is guaranteed to be run at most once.
     * @return {Disposable} The disposable object that runs the given action upon disposal.
     */
    Disposable.create = function (action) {
        return new Disposable(action);
    };
    /** Performs the task of cleaning up resources. */
    Disposable.prototype.dispose = function () {
        if (!this.isDisposed) {
            this.action();
            this.isDisposed = true;
        }
    };
    /**
     * Gets the disposable that does nothing when disposed.
     */
    Disposable.empty = { dispose: discount_lodash_1.noop };
    return Disposable;
}());
exports.Disposable = Disposable;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/disposables/SerialDisposable.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/disposables/SerialDisposable.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Represents a disposable resource whose underlying disposable resource can
 * be replaced by another disposable resource, causing automatic disposal of
 * the previous underlying disposable resource.
 */
var SerialDisposable = /** @class */ (function () {
    function SerialDisposable() {
        this.isDisposed = false;
    }
    /**
     * Gets the underlying disposable.
     * @returns {Any} the underlying disposable.
     */
    SerialDisposable.prototype.getDisposable = function () {
        return this.current;
    };
    SerialDisposable.prototype.setDisposable = function (value) {
        var shouldDispose = this.isDisposed;
        if (!shouldDispose) {
            var old = this.current;
            this.current = value;
            if (old) {
                old.dispose();
            }
        }
        if (shouldDispose && value) {
            value.dispose();
        }
    };
    /** Performs the task of cleaning up resources. */
    SerialDisposable.prototype.dispose = function () {
        if (!this.isDisposed) {
            this.isDisposed = true;
            var old = this.current;
            this.current = undefined;
            if (old) {
                old.dispose();
            }
        }
    };
    return SerialDisposable;
}());
exports.SerialDisposable = SerialDisposable;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/disposables/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/disposables/index.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
__export(__webpack_require__(/*! ./Disposable */ "./node_modules/react-dnd/lib/cjs/utils/disposables/Disposable.js"));
__export(__webpack_require__(/*! ./SerialDisposable */ "./node_modules/react-dnd/lib/cjs/utils/disposables/SerialDisposable.js"));
__export(__webpack_require__(/*! ./CompositeDisposable */ "./node_modules/react-dnd/lib/cjs/utils/disposables/CompositeDisposable.js"));


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/getDecoratedComponent.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/getDecoratedComponent.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function getDecoratedComponent(instanceRef) {
    var currentRef = instanceRef.current;
    if (currentRef == null) {
        return null;
    }
    else if (currentRef.decoratedRef) {
        // go through the private field in decorateHandler to avoid the invariant hit
        return currentRef.decoratedRef.current;
    }
    else {
        return currentRef;
    }
}
exports.getDecoratedComponent = getDecoratedComponent;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/isRef.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/isRef.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isRef(obj) {
    return (obj !== null && typeof obj === 'object' && obj.hasOwnProperty('current'));
}
exports.isRef = isRef;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/isRefable.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/isRefable.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isClassComponent(Component) {
    return (Component &&
        Component.prototype &&
        typeof Component.prototype.render === 'function');
}
function isRefForwardingComponent(C) {
    return (C && C.$$typeof && C.$$typeof.toString() === 'Symbol(react.forward_ref)');
}
exports.isRefForwardingComponent = isRefForwardingComponent;
function isRefable(C) {
    return isClassComponent(C) || isRefForwardingComponent(C);
}
exports.isRefable = isRefable;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/isValidType.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/isValidType.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isValidType(type, allowArray) {
    return (typeof type === 'string' ||
        typeof type === 'symbol' ||
        (!!allowArray &&
            Array.isArray(type) &&
            type.every(function (t) { return isValidType(t, false); })));
}
exports.default = isValidType;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/polyfills/endsWith.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/polyfills/endsWith.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

if (!String.prototype.endsWith) {
    String.prototype.endsWith = function (search, thisLen) {
        if (thisLen === undefined || thisLen > this.length) {
            thisLen = this.length;
        }
        return this.substring(thisLen - search.length, thisLen) === search;
    };
}


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/wrapConnectorHooks.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/wrapConnectorHooks.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var cloneWithRef_1 = __webpack_require__(/*! ./utils/cloneWithRef */ "./node_modules/react-dnd/lib/cjs/utils/cloneWithRef.js");
__webpack_require__(/*! ./utils/polyfills/endsWith */ "./node_modules/react-dnd/lib/cjs/utils/polyfills/endsWith.js");
function throwIfCompositeComponentElement(element) {
    // Custom components can no longer be wrapped directly in React DnD 2.0
    // so that we don't need to depend on findDOMNode() from react-dom.
    if (typeof element.type === 'string') {
        return;
    }
    var displayName = element.type.displayName || element.type.name || 'the component';
    throw new Error('Only native element nodes can now be passed to React DnD connectors.' +
        ("You can either wrap " + displayName + " into a <div>, or turn it into a ") +
        'drag source or a drop target itself.');
}
function wrapHookToRecognizeElement(hook) {
    return function (elementOrNode, options) {
        if (elementOrNode === void 0) { elementOrNode = null; }
        if (options === void 0) { options = null; }
        // When passed a node, call the hook straight away.
        if (!react_1.isValidElement(elementOrNode)) {
            var node = elementOrNode;
            hook(node, options);
            // return the node so it can be chained (e.g. when within callback refs
            // <div ref={node => connectDragSource(connectDropTarget(node))}/>
            return node;
        }
        // If passed a ReactElement, clone it and attach this function as a ref.
        // This helps us achieve a neat API where user doesn't even know that refs
        // are being used under the hood.
        var element = elementOrNode;
        throwIfCompositeComponentElement(element);
        // When no options are passed, use the hook directly
        var ref = options ? function (node) { return hook(node, options); } : hook;
        return cloneWithRef_1.default(element, ref);
    };
}
function wrapConnectorHooks(hooks) {
    var wrappedHooks = {};
    Object.keys(hooks).forEach(function (key) {
        var hook = hooks[key];
        // ref objects should be passed straight through without wrapping
        if (key.endsWith('Ref')) {
            wrappedHooks[key] = hooks[key];
        }
        else {
            var wrappedHook_1 = wrapHookToRecognizeElement(hook);
            wrappedHooks[key] = function () { return wrappedHook_1; };
        }
    });
    return wrappedHooks;
}
exports.default = wrapConnectorHooks;


/***/ }),

/***/ "./node_modules/react-is/cjs/react-is.development.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-is/cjs/react-is.development.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/** @license React v16.8.6
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */





if (true) {
  (function() {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

// The Symbol used to tag the ReactElement-like types. If there is no native Symbol
// nor polyfill, then a plain number is used for performance.
var hasSymbol = typeof Symbol === 'function' && Symbol.for;

var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;
var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;
var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;
var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;
var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;
var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;
var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace;
var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;
var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;
var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;
var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;
var REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;
var REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;

function isValidElementType(type) {
  return typeof type === 'string' || typeof type === 'function' ||
  // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE);
}

/**
 * Forked from fbjs/warning:
 * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js
 *
 * Only change is we use console.warn instead of console.error,
 * and do nothing when 'console' is not supported.
 * This really simplifies the code.
 * ---
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var lowPriorityWarning = function () {};

{
  var printWarning = function (format) {
    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    var argIndex = 0;
    var message = 'Warning: ' + format.replace(/%s/g, function () {
      return args[argIndex++];
    });
    if (typeof console !== 'undefined') {
      console.warn(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };

  lowPriorityWarning = function (condition, format) {
    if (format === undefined) {
      throw new Error('`lowPriorityWarning(condition, format, ...args)` requires a warning ' + 'message argument');
    }
    if (!condition) {
      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
        args[_key2 - 2] = arguments[_key2];
      }

      printWarning.apply(undefined, [format].concat(args));
    }
  };
}

var lowPriorityWarning$1 = lowPriorityWarning;

function typeOf(object) {
  if (typeof object === 'object' && object !== null) {
    var $$typeof = object.$$typeof;
    switch ($$typeof) {
      case REACT_ELEMENT_TYPE:
        var type = object.type;

        switch (type) {
          case REACT_ASYNC_MODE_TYPE:
          case REACT_CONCURRENT_MODE_TYPE:
          case REACT_FRAGMENT_TYPE:
          case REACT_PROFILER_TYPE:
          case REACT_STRICT_MODE_TYPE:
          case REACT_SUSPENSE_TYPE:
            return type;
          default:
            var $$typeofType = type && type.$$typeof;

            switch ($$typeofType) {
              case REACT_CONTEXT_TYPE:
              case REACT_FORWARD_REF_TYPE:
              case REACT_PROVIDER_TYPE:
                return $$typeofType;
              default:
                return $$typeof;
            }
        }
      case REACT_LAZY_TYPE:
      case REACT_MEMO_TYPE:
      case REACT_PORTAL_TYPE:
        return $$typeof;
    }
  }

  return undefined;
}

// AsyncMode is deprecated along with isAsyncMode
var AsyncMode = REACT_ASYNC_MODE_TYPE;
var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
var ContextConsumer = REACT_CONTEXT_TYPE;
var ContextProvider = REACT_PROVIDER_TYPE;
var Element = REACT_ELEMENT_TYPE;
var ForwardRef = REACT_FORWARD_REF_TYPE;
var Fragment = REACT_FRAGMENT_TYPE;
var Lazy = REACT_LAZY_TYPE;
var Memo = REACT_MEMO_TYPE;
var Portal = REACT_PORTAL_TYPE;
var Profiler = REACT_PROFILER_TYPE;
var StrictMode = REACT_STRICT_MODE_TYPE;
var Suspense = REACT_SUSPENSE_TYPE;

var hasWarnedAboutDeprecatedIsAsyncMode = false;

// AsyncMode should be deprecated
function isAsyncMode(object) {
  {
    if (!hasWarnedAboutDeprecatedIsAsyncMode) {
      hasWarnedAboutDeprecatedIsAsyncMode = true;
      lowPriorityWarning$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');
    }
  }
  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
}
function isConcurrentMode(object) {
  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
}
function isContextConsumer(object) {
  return typeOf(object) === REACT_CONTEXT_TYPE;
}
function isContextProvider(object) {
  return typeOf(object) === REACT_PROVIDER_TYPE;
}
function isElement(object) {
  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
}
function isForwardRef(object) {
  return typeOf(object) === REACT_FORWARD_REF_TYPE;
}
function isFragment(object) {
  return typeOf(object) === REACT_FRAGMENT_TYPE;
}
function isLazy(object) {
  return typeOf(object) === REACT_LAZY_TYPE;
}
function isMemo(object) {
  return typeOf(object) === REACT_MEMO_TYPE;
}
function isPortal(object) {
  return typeOf(object) === REACT_PORTAL_TYPE;
}
function isProfiler(object) {
  return typeOf(object) === REACT_PROFILER_TYPE;
}
function isStrictMode(object) {
  return typeOf(object) === REACT_STRICT_MODE_TYPE;
}
function isSuspense(object) {
  return typeOf(object) === REACT_SUSPENSE_TYPE;
}

exports.typeOf = typeOf;
exports.AsyncMode = AsyncMode;
exports.ConcurrentMode = ConcurrentMode;
exports.ContextConsumer = ContextConsumer;
exports.ContextProvider = ContextProvider;
exports.Element = Element;
exports.ForwardRef = ForwardRef;
exports.Fragment = Fragment;
exports.Lazy = Lazy;
exports.Memo = Memo;
exports.Portal = Portal;
exports.Profiler = Profiler;
exports.StrictMode = StrictMode;
exports.Suspense = Suspense;
exports.isValidElementType = isValidElementType;
exports.isAsyncMode = isAsyncMode;
exports.isConcurrentMode = isConcurrentMode;
exports.isContextConsumer = isContextConsumer;
exports.isContextProvider = isContextProvider;
exports.isElement = isElement;
exports.isForwardRef = isForwardRef;
exports.isFragment = isFragment;
exports.isLazy = isLazy;
exports.isMemo = isMemo;
exports.isPortal = isPortal;
exports.isProfiler = isProfiler;
exports.isStrictMode = isStrictMode;
exports.isSuspense = isSuspense;
  })();
}


/***/ }),

/***/ "./node_modules/react-is/index.js":
/*!****************************************!*\
  !*** ./node_modules/react-is/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


if (false) {} else {
  module.exports = __webpack_require__(/*! ./cjs/react-is.development.js */ "./node_modules/react-is/cjs/react-is.development.js");
}


/***/ }),

/***/ "./node_modules/redux/es/redux.js":
/*!****************************************!*\
  !*** ./node_modules/redux/es/redux.js ***!
  \****************************************/
/*! exports provided: createStore, combineReducers, bindActionCreators, applyMiddleware, compose, __DO_NOT_USE__ActionTypes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createStore", function() { return createStore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "combineReducers", function() { return combineReducers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bindActionCreators", function() { return bindActionCreators; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "applyMiddleware", function() { return applyMiddleware; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compose", function() { return compose; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__DO_NOT_USE__ActionTypes", function() { return ActionTypes; });
/* harmony import */ var symbol_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! symbol-observable */ "./node_modules/symbol-observable/es/index.js");


/**
 * These are private action types reserved by Redux.
 * For any unknown actions, you must return the current state.
 * If the current state is undefined, you must return the initial state.
 * Do not reference these action types directly in your code.
 */
var randomString = function randomString() {
  return Math.random().toString(36).substring(7).split('').join('.');
};

var ActionTypes = {
  INIT: "@@redux/INIT" + randomString(),
  REPLACE: "@@redux/REPLACE" + randomString(),
  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {
    return "@@redux/PROBE_UNKNOWN_ACTION" + randomString();
  }
};

/**
 * @param {any} obj The object to inspect.
 * @returns {boolean} True if the argument appears to be a plain object.
 */
function isPlainObject(obj) {
  if (typeof obj !== 'object' || obj === null) return false;
  var proto = obj;

  while (Object.getPrototypeOf(proto) !== null) {
    proto = Object.getPrototypeOf(proto);
  }

  return Object.getPrototypeOf(obj) === proto;
}

/**
 * Creates a Redux store that holds the state tree.
 * The only way to change the data in the store is to call `dispatch()` on it.
 *
 * There should only be a single store in your app. To specify how different
 * parts of the state tree respond to actions, you may combine several reducers
 * into a single reducer function by using `combineReducers`.
 *
 * @param {Function} reducer A function that returns the next state tree, given
 * the current state tree and the action to handle.
 *
 * @param {any} [preloadedState] The initial state. You may optionally specify it
 * to hydrate the state from the server in universal apps, or to restore a
 * previously serialized user session.
 * If you use `combineReducers` to produce the root reducer function, this must be
 * an object with the same shape as `combineReducers` keys.
 *
 * @param {Function} [enhancer] The store enhancer. You may optionally specify it
 * to enhance the store with third-party capabilities such as middleware,
 * time travel, persistence, etc. The only store enhancer that ships with Redux
 * is `applyMiddleware()`.
 *
 * @returns {Store} A Redux store that lets you read the state, dispatch actions
 * and subscribe to changes.
 */

function createStore(reducer, preloadedState, enhancer) {
  var _ref2;

  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {
    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function');
  }

  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {
    enhancer = preloadedState;
    preloadedState = undefined;
  }

  if (typeof enhancer !== 'undefined') {
    if (typeof enhancer !== 'function') {
      throw new Error('Expected the enhancer to be a function.');
    }

    return enhancer(createStore)(reducer, preloadedState);
  }

  if (typeof reducer !== 'function') {
    throw new Error('Expected the reducer to be a function.');
  }

  var currentReducer = reducer;
  var currentState = preloadedState;
  var currentListeners = [];
  var nextListeners = currentListeners;
  var isDispatching = false;

  function ensureCanMutateNextListeners() {
    if (nextListeners === currentListeners) {
      nextListeners = currentListeners.slice();
    }
  }
  /**
   * Reads the state tree managed by the store.
   *
   * @returns {any} The current state tree of your application.
   */


  function getState() {
    if (isDispatching) {
      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');
    }

    return currentState;
  }
  /**
   * Adds a change listener. It will be called any time an action is dispatched,
   * and some part of the state tree may potentially have changed. You may then
   * call `getState()` to read the current state tree inside the callback.
   *
   * You may call `dispatch()` from a change listener, with the following
   * caveats:
   *
   * 1. The subscriptions are snapshotted just before every `dispatch()` call.
   * If you subscribe or unsubscribe while the listeners are being invoked, this
   * will not have any effect on the `dispatch()` that is currently in progress.
   * However, the next `dispatch()` call, whether nested or not, will use a more
   * recent snapshot of the subscription list.
   *
   * 2. The listener should not expect to see all state changes, as the state
   * might have been updated multiple times during a nested `dispatch()` before
   * the listener is called. It is, however, guaranteed that all subscribers
   * registered before the `dispatch()` started will be called with the latest
   * state by the time it exits.
   *
   * @param {Function} listener A callback to be invoked on every dispatch.
   * @returns {Function} A function to remove this change listener.
   */


  function subscribe(listener) {
    if (typeof listener !== 'function') {
      throw new Error('Expected the listener to be a function.');
    }

    if (isDispatching) {
      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');
    }

    var isSubscribed = true;
    ensureCanMutateNextListeners();
    nextListeners.push(listener);
    return function unsubscribe() {
      if (!isSubscribed) {
        return;
      }

      if (isDispatching) {
        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');
      }

      isSubscribed = false;
      ensureCanMutateNextListeners();
      var index = nextListeners.indexOf(listener);
      nextListeners.splice(index, 1);
    };
  }
  /**
   * Dispatches an action. It is the only way to trigger a state change.
   *
   * The `reducer` function, used to create the store, will be called with the
   * current state tree and the given `action`. Its return value will
   * be considered the **next** state of the tree, and the change listeners
   * will be notified.
   *
   * The base implementation only supports plain object actions. If you want to
   * dispatch a Promise, an Observable, a thunk, or something else, you need to
   * wrap your store creating function into the corresponding middleware. For
   * example, see the documentation for the `redux-thunk` package. Even the
   * middleware will eventually dispatch plain object actions using this method.
   *
   * @param {Object} action A plain object representing “what changed”. It is
   * a good idea to keep actions serializable so you can record and replay user
   * sessions, or use the time travelling `redux-devtools`. An action must have
   * a `type` property which may not be `undefined`. It is a good idea to use
   * string constants for action types.
   *
   * @returns {Object} For convenience, the same action object you dispatched.
   *
   * Note that, if you use a custom middleware, it may wrap `dispatch()` to
   * return something else (for example, a Promise you can await).
   */


  function dispatch(action) {
    if (!isPlainObject(action)) {
      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');
    }

    if (typeof action.type === 'undefined') {
      throw new Error('Actions may not have an undefined "type" property. ' + 'Have you misspelled a constant?');
    }

    if (isDispatching) {
      throw new Error('Reducers may not dispatch actions.');
    }

    try {
      isDispatching = true;
      currentState = currentReducer(currentState, action);
    } finally {
      isDispatching = false;
    }

    var listeners = currentListeners = nextListeners;

    for (var i = 0; i < listeners.length; i++) {
      var listener = listeners[i];
      listener();
    }

    return action;
  }
  /**
   * Replaces the reducer currently used by the store to calculate the state.
   *
   * You might need this if your app implements code splitting and you want to
   * load some of the reducers dynamically. You might also need this if you
   * implement a hot reloading mechanism for Redux.
   *
   * @param {Function} nextReducer The reducer for the store to use instead.
   * @returns {void}
   */


  function replaceReducer(nextReducer) {
    if (typeof nextReducer !== 'function') {
      throw new Error('Expected the nextReducer to be a function.');
    }

    currentReducer = nextReducer;
    dispatch({
      type: ActionTypes.REPLACE
    });
  }
  /**
   * Interoperability point for observable/reactive libraries.
   * @returns {observable} A minimal observable of state changes.
   * For more information, see the observable proposal:
   * https://github.com/tc39/proposal-observable
   */


  function observable() {
    var _ref;

    var outerSubscribe = subscribe;
    return _ref = {
      /**
       * The minimal observable subscription method.
       * @param {Object} observer Any object that can be used as an observer.
       * The observer object should have a `next` method.
       * @returns {subscription} An object with an `unsubscribe` method that can
       * be used to unsubscribe the observable from the store, and prevent further
       * emission of values from the observable.
       */
      subscribe: function subscribe(observer) {
        if (typeof observer !== 'object' || observer === null) {
          throw new TypeError('Expected the observer to be an object.');
        }

        function observeState() {
          if (observer.next) {
            observer.next(getState());
          }
        }

        observeState();
        var unsubscribe = outerSubscribe(observeState);
        return {
          unsubscribe: unsubscribe
        };
      }
    }, _ref[symbol_observable__WEBPACK_IMPORTED_MODULE_0__["default"]] = function () {
      return this;
    }, _ref;
  } // When a store is created, an "INIT" action is dispatched so that every
  // reducer returns their initial state. This effectively populates
  // the initial state tree.


  dispatch({
    type: ActionTypes.INIT
  });
  return _ref2 = {
    dispatch: dispatch,
    subscribe: subscribe,
    getState: getState,
    replaceReducer: replaceReducer
  }, _ref2[symbol_observable__WEBPACK_IMPORTED_MODULE_0__["default"]] = observable, _ref2;
}

/**
 * Prints a warning in the console if it exists.
 *
 * @param {String} message The warning message.
 * @returns {void}
 */
function warning(message) {
  /* eslint-disable no-console */
  if (typeof console !== 'undefined' && typeof console.error === 'function') {
    console.error(message);
  }
  /* eslint-enable no-console */


  try {
    // This error was thrown as a convenience so that if you enable
    // "break on all exceptions" in your console,
    // it would pause the execution at this line.
    throw new Error(message);
  } catch (e) {} // eslint-disable-line no-empty

}

function getUndefinedStateErrorMessage(key, action) {
  var actionType = action && action.type;
  var actionDescription = actionType && "action \"" + String(actionType) + "\"" || 'an action';
  return "Given " + actionDescription + ", reducer \"" + key + "\" returned undefined. " + "To ignore an action, you must explicitly return the previous state. " + "If you want this reducer to hold no value, you can return null instead of undefined.";
}

function getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {
  var reducerKeys = Object.keys(reducers);
  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';

  if (reducerKeys.length === 0) {
    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';
  }

  if (!isPlainObject(inputState)) {
    return "The " + argumentName + " has unexpected type of \"" + {}.toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1] + "\". Expected argument to be an object with the following " + ("keys: \"" + reducerKeys.join('", "') + "\"");
  }

  var unexpectedKeys = Object.keys(inputState).filter(function (key) {
    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];
  });
  unexpectedKeys.forEach(function (key) {
    unexpectedKeyCache[key] = true;
  });
  if (action && action.type === ActionTypes.REPLACE) return;

  if (unexpectedKeys.length > 0) {
    return "Unexpected " + (unexpectedKeys.length > 1 ? 'keys' : 'key') + " " + ("\"" + unexpectedKeys.join('", "') + "\" found in " + argumentName + ". ") + "Expected to find one of the known reducer keys instead: " + ("\"" + reducerKeys.join('", "') + "\". Unexpected keys will be ignored.");
  }
}

function assertReducerShape(reducers) {
  Object.keys(reducers).forEach(function (key) {
    var reducer = reducers[key];
    var initialState = reducer(undefined, {
      type: ActionTypes.INIT
    });

    if (typeof initialState === 'undefined') {
      throw new Error("Reducer \"" + key + "\" returned undefined during initialization. " + "If the state passed to the reducer is undefined, you must " + "explicitly return the initial state. The initial state may " + "not be undefined. If you don't want to set a value for this reducer, " + "you can use null instead of undefined.");
    }

    if (typeof reducer(undefined, {
      type: ActionTypes.PROBE_UNKNOWN_ACTION()
    }) === 'undefined') {
      throw new Error("Reducer \"" + key + "\" returned undefined when probed with a random type. " + ("Don't try to handle " + ActionTypes.INIT + " or other actions in \"redux/*\" ") + "namespace. They are considered private. Instead, you must return the " + "current state for any unknown actions, unless it is undefined, " + "in which case you must return the initial state, regardless of the " + "action type. The initial state may not be undefined, but can be null.");
    }
  });
}
/**
 * Turns an object whose values are different reducer functions, into a single
 * reducer function. It will call every child reducer, and gather their results
 * into a single state object, whose keys correspond to the keys of the passed
 * reducer functions.
 *
 * @param {Object} reducers An object whose values correspond to different
 * reducer functions that need to be combined into one. One handy way to obtain
 * it is to use ES6 `import * as reducers` syntax. The reducers may never return
 * undefined for any action. Instead, they should return their initial state
 * if the state passed to them was undefined, and the current state for any
 * unrecognized action.
 *
 * @returns {Function} A reducer function that invokes every reducer inside the
 * passed object, and builds a state object with the same shape.
 */


function combineReducers(reducers) {
  var reducerKeys = Object.keys(reducers);
  var finalReducers = {};

  for (var i = 0; i < reducerKeys.length; i++) {
    var key = reducerKeys[i];

    if (true) {
      if (typeof reducers[key] === 'undefined') {
        warning("No reducer provided for key \"" + key + "\"");
      }
    }

    if (typeof reducers[key] === 'function') {
      finalReducers[key] = reducers[key];
    }
  }

  var finalReducerKeys = Object.keys(finalReducers);
  var unexpectedKeyCache;

  if (true) {
    unexpectedKeyCache = {};
  }

  var shapeAssertionError;

  try {
    assertReducerShape(finalReducers);
  } catch (e) {
    shapeAssertionError = e;
  }

  return function combination(state, action) {
    if (state === void 0) {
      state = {};
    }

    if (shapeAssertionError) {
      throw shapeAssertionError;
    }

    if (true) {
      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);

      if (warningMessage) {
        warning(warningMessage);
      }
    }

    var hasChanged = false;
    var nextState = {};

    for (var _i = 0; _i < finalReducerKeys.length; _i++) {
      var _key = finalReducerKeys[_i];
      var reducer = finalReducers[_key];
      var previousStateForKey = state[_key];
      var nextStateForKey = reducer(previousStateForKey, action);

      if (typeof nextStateForKey === 'undefined') {
        var errorMessage = getUndefinedStateErrorMessage(_key, action);
        throw new Error(errorMessage);
      }

      nextState[_key] = nextStateForKey;
      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;
    }

    return hasChanged ? nextState : state;
  };
}

function bindActionCreator(actionCreator, dispatch) {
  return function () {
    return dispatch(actionCreator.apply(this, arguments));
  };
}
/**
 * Turns an object whose values are action creators, into an object with the
 * same keys, but with every function wrapped into a `dispatch` call so they
 * may be invoked directly. This is just a convenience method, as you can call
 * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.
 *
 * For convenience, you can also pass a single function as the first argument,
 * and get a function in return.
 *
 * @param {Function|Object} actionCreators An object whose values are action
 * creator functions. One handy way to obtain it is to use ES6 `import * as`
 * syntax. You may also pass a single function.
 *
 * @param {Function} dispatch The `dispatch` function available on your Redux
 * store.
 *
 * @returns {Function|Object} The object mimicking the original object, but with
 * every action creator wrapped into the `dispatch` call. If you passed a
 * function as `actionCreators`, the return value will also be a single
 * function.
 */


function bindActionCreators(actionCreators, dispatch) {
  if (typeof actionCreators === 'function') {
    return bindActionCreator(actionCreators, dispatch);
  }

  if (typeof actionCreators !== 'object' || actionCreators === null) {
    throw new Error("bindActionCreators expected an object or a function, instead received " + (actionCreators === null ? 'null' : typeof actionCreators) + ". " + "Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?");
  }

  var keys = Object.keys(actionCreators);
  var boundActionCreators = {};

  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    var actionCreator = actionCreators[key];

    if (typeof actionCreator === 'function') {
      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);
    }
  }

  return boundActionCreators;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    var ownKeys = Object.keys(source);

    if (typeof Object.getOwnPropertySymbols === 'function') {
      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {
        return Object.getOwnPropertyDescriptor(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

/**
 * Composes single-argument functions from right to left. The rightmost
 * function can take multiple arguments as it provides the signature for
 * the resulting composite function.
 *
 * @param {...Function} funcs The functions to compose.
 * @returns {Function} A function obtained by composing the argument functions
 * from right to left. For example, compose(f, g, h) is identical to doing
 * (...args) => f(g(h(...args))).
 */
function compose() {
  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {
    funcs[_key] = arguments[_key];
  }

  if (funcs.length === 0) {
    return function (arg) {
      return arg;
    };
  }

  if (funcs.length === 1) {
    return funcs[0];
  }

  return funcs.reduce(function (a, b) {
    return function () {
      return a(b.apply(void 0, arguments));
    };
  });
}

/**
 * Creates a store enhancer that applies middleware to the dispatch method
 * of the Redux store. This is handy for a variety of tasks, such as expressing
 * asynchronous actions in a concise manner, or logging every action payload.
 *
 * See `redux-thunk` package as an example of the Redux middleware.
 *
 * Because middleware is potentially asynchronous, this should be the first
 * store enhancer in the composition chain.
 *
 * Note that each middleware will be given the `dispatch` and `getState` functions
 * as named arguments.
 *
 * @param {...Function} middlewares The middleware chain to be applied.
 * @returns {Function} A store enhancer applying the middleware.
 */

function applyMiddleware() {
  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {
    middlewares[_key] = arguments[_key];
  }

  return function (createStore) {
    return function () {
      var store = createStore.apply(void 0, arguments);

      var _dispatch = function dispatch() {
        throw new Error("Dispatching while constructing your middleware is not allowed. " + "Other middleware would not be applied to this dispatch.");
      };

      var middlewareAPI = {
        getState: store.getState,
        dispatch: function dispatch() {
          return _dispatch.apply(void 0, arguments);
        }
      };
      var chain = middlewares.map(function (middleware) {
        return middleware(middlewareAPI);
      });
      _dispatch = compose.apply(void 0, chain)(store.dispatch);
      return _objectSpread({}, store, {
        dispatch: _dispatch
      });
    };
  };
}

/*
 * This is a dummy function to check if the function name has been altered by minification.
 * If the function has been minified and NODE_ENV !== 'production', warn the user.
 */

function isCrushed() {}

if ( true && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {
  warning('You are currently using minified code outside of NODE_ENV === "production". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');
}




/***/ }),

/***/ "./node_modules/selectn/index.js":
/*!***************************************!*\
  !*** ./node_modules/selectn/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var curry2 = __webpack_require__(/*! curry2 */ "./node_modules/curry2/index.js")
var debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")('selectn')
var dotted = __webpack_require__(/*! brackets2dots */ "./node_modules/brackets2dots/index.js")
var splits = __webpack_require__(/*! dotsplit.js */ "./node_modules/dotsplit.js/index.js")
var string = Object.prototype.toString

module.exports = curry2(selectn)

/**
 * Curried property accessor function that resolves deeply-nested object properties via dot/bracket-notation
 * string path while mitigating `TypeErrors` via friendly and composable API.
 *
 * @param {String|Array} path
 * Dot/bracket-notation string path or array.
 *
 * @param {Object} object
 * Object to access.
 *
 * @return {Function|*|undefined}
 * (1) returns `selectn/1` when partially applied.
 * (2) returns value at path if path exists.
 * (3) returns undefined if path does not exist.
 */
function selectn (path, object) {
  debug('arguments:', {
    path: path,
    object: object
  })

  var idx = -1
  var seg = string.call(path) === '[object Array]' ? path : splits(dotted(path))
  var end = seg.length
  var ref = end ? object : void 0

  while (++idx < end) {
    if (Object(ref) !== ref) return void 0
    ref = ref[seg[idx]]
  }

  debug('ref:', ref)
  return typeof ref === 'function' ? ref() : ref
}


/***/ }),

/***/ "./node_modules/shallowequal/index.js":
/*!********************************************!*\
  !*** ./node_modules/shallowequal/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

//

module.exports = function shallowEqual(objA, objB, compare, compareContext) {
  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;

  if (ret !== void 0) {
    return !!ret;
  }

  if (objA === objB) {
    return true;
  }

  if (typeof objA !== "object" || !objA || typeof objB !== "object" || !objB) {
    return false;
  }

  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);

  // Test for A's keys different from B.
  for (var idx = 0; idx < keysA.length; idx++) {
    var key = keysA[idx];

    if (!bHasOwnProperty(key)) {
      return false;
    }

    var valueA = objA[key];
    var valueB = objB[key];

    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;

    if (ret === false || (ret === void 0 && valueA !== valueB)) {
      return false;
    }
  }

  return true;
};


/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),

/***/ "./node_modules/symbol-observable/es/index.js":
/*!****************************************************!*\
  !*** ./node_modules/symbol-observable/es/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _ponyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ponyfill.js */ "./node_modules/symbol-observable/es/ponyfill.js");
/* global window */


var root;

if (typeof self !== 'undefined') {
  root = self;
} else if (typeof window !== 'undefined') {
  root = window;
} else if (typeof global !== 'undefined') {
  root = global;
} else if (true) {
  root = module;
} else {}

var result = Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__["default"])(root);
/* harmony default export */ __webpack_exports__["default"] = (result);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../../webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./node_modules/symbol-observable/es/ponyfill.js":
/*!*******************************************************!*\
  !*** ./node_modules/symbol-observable/es/ponyfill.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return symbolObservablePonyfill; });
function symbolObservablePonyfill(root) {
	var result;
	var Symbol = root.Symbol;

	if (typeof Symbol === 'function') {
		if (Symbol.observable) {
			result = Symbol.observable;
		} else {
			result = Symbol('observable');
			Symbol.observable = result;
		}
	} else {
		result = '@@observable';
	}

	return result;
};


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/webpack/buildin/harmony-module.js":
/*!*******************************************!*\
  !*** (webpack)/buildin/harmony-module.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(originalModule) {
	if (!originalModule.webpackPolyfill) {
		var module = Object.create(originalModule);
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		Object.defineProperty(module, "exports", {
			enumerable: true
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/edit-pod-name.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/edit-pod-name.js ***!
  \************************************************************/
/*! exports provided: EditPodName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditPodName", function() { return EditPodName; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* harmony import */ var _sluggable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sluggable */ "./ui/js/pods-dfv/src/admin/edit-pod/sluggable.js");
 // Pods dependencies


 // WordPress dependencies
// noinspection JSUnresolvedVariable

var __ = wp.i18n.__;
var _wp$data = wp.data,
    withSelect = _wp$data.withSelect,
    withDispatch = _wp$data.withDispatch;
var compose = wp.compose.compose;
var EditPodName = compose([withSelect(function (select) {
  return {
    podName: select(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]).getPodName()
  };
}), withDispatch(function (dispatch) {
  return {
    setPodName: dispatch(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]).setPodName
  };
})])(function (props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, __('Edit Pod: ', 'pods'), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_sluggable__WEBPACK_IMPORTED_MODULE_2__["PodsDFVSluggable"], {
    value: props.podName,
    updateValue: props.setPodName
  }));
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/edit-pod.js":
/*!*******************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/edit-pod.js ***!
  \*******************************************************/
/*! exports provided: PodsDFVEditPod */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVEditPod", function() { return PodsDFVEditPod; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _with_drag_drop_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./with-drag-drop-context */ "./ui/js/pods-dfv/src/admin/edit-pod/with-drag-drop-context.js");
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* harmony import */ var _handle_submit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./handle-submit */ "./ui/js/pods-dfv/src/admin/edit-pod/handle-submit.js");
/* harmony import */ var _save_status_message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./save-status-message */ "./ui/js/pods-dfv/src/admin/edit-pod/save-status-message.js");
/* harmony import */ var _edit_pod_name__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./edit-pod-name */ "./ui/js/pods-dfv/src/admin/edit-pod/edit-pod-name.js");
/* harmony import */ var _components_tabs_pods_nav_tab__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/tabs/pods-nav-tab */ "./ui/js/pods-dfv/src/components/tabs/pods-nav-tab.js");
/* harmony import */ var _main_tabs_active_tab_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./main-tabs/active-tab-content */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/active-tab-content.js");
/* harmony import */ var _postbox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./postbox */ "./ui/js/pods-dfv/src/admin/edit-pod/postbox.js");
 // Pods dependencies








 // WordPress dependencies

var _wp$data = wp.data,
    withSelect = _wp$data.withSelect,
    withDispatch = _wp$data.withDispatch;
var compose = wp.compose.compose;
var StoreSubscribe = compose([withSelect(function (select) {
  var storeSelect = select(_store_constants__WEBPACK_IMPORTED_MODULE_2__["STORE_KEY_EDIT_POD"]);
  return {
    tabs: storeSelect.getTabs(),
    activeTab: storeSelect.getActiveTab()
  };
}), withDispatch(function (dispatch) {
  var storeDispatch = dispatch(_store_constants__WEBPACK_IMPORTED_MODULE_2__["STORE_KEY_EDIT_POD"]);
  return {
    setActiveTab: storeDispatch.setActiveTab
  };
})]);
var EditPod = StoreSubscribe(function (props) {
  //--! Todo: debugging only
  window.select = wp.data.select('pods/edit-pod');
  window.dispatch = wp.data.dispatch('pods/edit-pod'); //--! Todo: debugging only

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form", {
    onSubmit: function onSubmit(e) {
      return Object(_handle_submit__WEBPACK_IMPORTED_MODULE_3__["handleSubmit"])(e, props);
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_edit_pod_name__WEBPACK_IMPORTED_MODULE_5__["EditPodName"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_save_status_message__WEBPACK_IMPORTED_MODULE_4__["SaveStatusMessage"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_tabs_pods_nav_tab__WEBPACK_IMPORTED_MODULE_6__["PodsNavTab"], {
    tabs: props.tabs,
    activeTab: props.activeTab,
    setActiveTab: props.setActiveTab
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "poststuff"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "post-body",
    className: "columns-2"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_main_tabs_active_tab_content__WEBPACK_IMPORTED_MODULE_7__["ActiveTabContent"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_postbox__WEBPACK_IMPORTED_MODULE_8__["Postbox"], null))));
});
var PodsDFVEditPod = Object(_with_drag_drop_context__WEBPACK_IMPORTED_MODULE_1__["default"])(EditPod);

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/handle-submit.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/handle-submit.js ***!
  \************************************************************/
/*! exports provided: handleSubmit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "handleSubmit", function() { return handleSubmit; });
var AJAX_ACTION = 'pods_admin_proto';
var handleSubmit = function handleSubmit(e, props) {
  e.preventDefault();
  var requestData = {
    'id': props.podMeta.id,
    'name': props.podMeta.name,
    'old_name': props.podMeta.name,
    '_wpnonce': props.nonce,
    'fields': props.fields
  };
  /*
  props.setSaveStatus( saveStatuses.SAVING );
  fetch( `${ajaxurl}?pods_ajax=1&action=${AJAX_ACTION}`, {
  	method: 'POST',
  	headers: {
  		'Accept': 'application/json',
  		'Content-Type': 'application/json'
  	},
  	body: JSON.stringify( requestData )
  } )
  .then(
  	( result ) => {
  		console.log( result );
  		props.setSaveStatus( saveStatuses.SAVE_SUCCESS );
  	},
  	( error ) => {
  		console.log( error );
  		props.setSaveStatus( saveStatuses.SAVE_ERROR );
  	}
  );
   */
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/active-tab-content.js":
/*!***************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/active-tab-content.js ***!
  \***************************************************************************/
/*! exports provided: ActiveTabContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActiveTabContent", function() { return ActiveTabContent; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* harmony import */ var _dynamic_tab_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dynamic-tab-content */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/dynamic-tab-content.js");
/* harmony import */ var _field_groups__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./field-groups */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.js");
 // WordPress dependencies

var _wp$data = wp.data,
    withSelect = _wp$data.withSelect,
    withDispatch = _wp$data.withDispatch;
var compose = wp.compose.compose; // Pods dependencies




var StoreSubscribe = compose([withSelect(function (select) {
  var storeSelect = select(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]);
  return {
    activeTab: storeSelect.getActiveTab(),
    tabOptions: storeSelect.getTabOptions(storeSelect.getActiveTab()),
    groups: storeSelect.getGroups(),
    getOptionValue: storeSelect.getOptionValue,
    getGroupFields: storeSelect.getGroupFields,
    groupList: storeSelect.getGroupList()
  };
}), withDispatch(function (dispatch) {
  var storeDispatch = dispatch(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]);
  return {
    setOptionValue: storeDispatch.setOptionValue,
    setGroupList: storeDispatch.setGroupList,
    moveGroup: storeDispatch.moveGroup
  };
})]);
/**
 * ActiveTabContent
 *
 * Display the content for the active tab, manage-fields is treated special
 */

var ActiveTabContent = StoreSubscribe(function (props) {
  var Component;

  if ('manage-fields' === props.activeTab) {
    Component = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_field_groups__WEBPACK_IMPORTED_MODULE_3__["FieldGroups"], {
      groups: props.groups,
      getGroupFields: props.getGroupFields,
      groupList: props.groupList,
      setGroupList: props.setGroupList,
      moveGroup: props.moveGroup
    });
  } else {
    Component = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_dynamic_tab_content__WEBPACK_IMPORTED_MODULE_2__["DynamicTabContent"], {
      tabOptions: props.tabOptions,
      getOptionValue: props.getOptionValue,
      setOptionValue: props.setOptionValue
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "post-body-content",
    className: "pods-nav-tab-group pods-manage-field"
  }, Component);
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/dynamic-tab-content.js":
/*!****************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/dynamic-tab-content.js ***!
  \****************************************************************************/
/*! exports provided: DynamicTabContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicTabContent", function() { return DynamicTabContent; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "lodash");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_field_option__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/field-option */ "./ui/js/pods-dfv/src/components/field-option.js");


 // WordPress Dependencies
// noinspection JSUnresolvedVariable

var _wp$i18n = wp.i18n,
    sprintf = _wp$i18n.sprintf,
    __ = _wp$i18n.__; // Pod dependencies



var MISSING = __('[MISSING DEFAULT]', 'pods');
/**
 * option data format
 * {
 *     optionName: {
 *         // default may get removed... merge it into value on the server side,
 *         // it's a one-time thing
 *         default: '',
 *         depends-on: { optionName: dependentValue },
 *         help: 'help',
 *         label: 'XXX %s',
 *         label_param: 'optionName',
 *         param_default: 'Item',
 *         type: 'text, boolean, number, pick, file'
 *         value: ''
 *     }
 * }
 */

/**
 * DynamicTabContent
 */


var DynamicTabContent = function DynamicTabContent(props) {
  var tabOptions = props.tabOptions,
      getOptionValue = props.getOptionValue,
      setOptionValue = props.setOptionValue;

  var getLabelValue = function getLabelValue(labelFormat, paramOption, paramDefault) {
    if (!paramOption) {
      return labelFormat;
    }

    var param = getOptionValue(paramOption) || paramDefault || MISSING;
    return sprintf(labelFormat, param);
  };

  return tabOptions.map(function (option) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DependentFieldOption, {
      key: option.name,
      fieldType: option.type,
      name: option.name,
      label: getLabelValue(option.label, option.label_param, option.param_default),
      value: option.value || '',
      dependents: option['depends-on'],
      helpText: option.help,
      getOptionValue: getOptionValue,
      setOptionValue: setOptionValue
    });
  });
};
DynamicTabContent.propTypes = {
  tabOptions: prop_types__WEBPACK_IMPORTED_MODULE_1__["array"].isRequired,
  getOptionValue: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  setOptionValue: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};
/**
 * DependentFieldOption
 *
 * Conditionally display a FieldOption (depends-on support)
 */

var DependentFieldOption = function DependentFieldOption(props) {
  var fieldType = props.fieldType,
      name = props.name,
      label = props.label,
      value = props.value,
      dependents = props.dependents;
  var getOptionValue = props.getOptionValue,
      setOptionValue = props.setOptionValue;

  var handleInputChange = function handleInputChange(e) {
    var target = e.target;
    var value = 'checkbox' === target.type ? target.checked : target.value;
    setOptionValue(name, value);
  };

  if (!meetsDependencies(dependents, getOptionValue)) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_field_option__WEBPACK_IMPORTED_MODULE_3__["PodsFieldOption"], {
    fieldType: fieldType,
    name: name,
    value: value,
    label: label,
    onChange: handleInputChange,
    helpText: props.helpText
  });
};

DependentFieldOption.propTypes = {
  fieldType: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  value: prop_types__WEBPACK_IMPORTED_MODULE_1__["any"].isRequired,
  label: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  dependents: prop_types__WEBPACK_IMPORTED_MODULE_1__["object"],
  helpText: prop_types__WEBPACK_IMPORTED_MODULE_1__["any"],
  getOptionValue: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  setOptionValue: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};
/**
 *
 * @param {object|object[]} dependencies Dictionary in the form optionName: requiredVal
 * @param {function} getOptionValue Selector to lookup option values by name
 *
 * @return {boolean} Whether or not the specified dependencies are met
 */

var meetsDependencies = function meetsDependencies(dependencies, getOptionValue) {
  var retVal = true;

  if (dependencies && Object(lodash__WEBPACK_IMPORTED_MODULE_2__["isObject"])(dependencies)) {
    Object(lodash__WEBPACK_IMPORTED_MODULE_2__["each"])(dependencies, function (dependentValue, dependentOptionName) {
      // Loose comparison required, values may be 1/0 expecting true/false
      // noinspection EqualityComparisonWithCoercionJS
      if (getOptionValue(dependentOptionName) != dependentValue) {
        retVal = false;
        return false; // Early-exits the loop only, not the function
      }
    });
  }

  return retVal;
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-group.js":
/*!********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-group.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "lodash");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dnd-html5-backend */ "./node_modules/react-dnd-html5-backend/lib/cjs/index.js");
/* harmony import */ var react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _group_drag_source__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./group-drag-source */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-source.js");
/* harmony import */ var _group_drop_target__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./group-drop-target */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drop-target.js");
/* harmony import */ var _field_list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./field-list */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-list.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }








var useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState;
var Dashicon = wp.components.Dashicon; // eslint-disable-next-line react/display-name

var FieldGroup = Object(react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function (props, ref) {
  var connectDragSource = props.connectDragSource,
      connectDropTarget = props.connectDropTarget,
      connectDragPreview = props.connectDragPreview,
      isDragging = props.isDragging;
  var groupName = props.groupName,
      getGroupFields = props.getGroupFields;

  var _useState = useState(false),
      _useState2 = _slicedToArray(_useState, 2),
      expanded = _useState2[0],
      setExpanded = _useState2[1];

  var wrapperRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(ref);
  var dragHandleRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(ref);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (connectDragPreview) {
      // Use empty image as a drag preview so browsers don't draw it,
      // we use our custom drag layer instead.
      connectDragPreview(Object(react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_3__["getEmptyImage"])(), {
        // IE fallback: specify that we'd rather screenshot the node
        // when it already knows it's being dragged so we can hide it with CSS.
        captureDraggingState: true
      });
    }
  });
  connectDropTarget(wrapperRef);
  connectDragSource(dragHandleRef);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useImperativeHandle"])(ref, function () {
    return {
      getWrapperNode: function getWrapperNode() {
        return wrapperRef.current;
      },
      getHandleNode: function getHandleNode() {
        return dragHandleRef.current;
      }
    };
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group-wrapper",
    ref: wrapperRef,
    style: {
      opacity: isDragging ? 0 : 1
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group--title",
    onClick: function onClick() {
      return setExpanded(!expanded);
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    ref: dragHandleRef,
    className: "pods-field-group--handle",
    style: {
      cursor: isDragging ? 'ns-resize' : null
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "menu"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group--name"
  }, groupName), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group--manage"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group--toggle"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: expanded ? 'arrow-up' : 'arrow-down'
  })))), expanded && !isDragging && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_field_list__WEBPACK_IMPORTED_MODULE_6__["FieldList"], {
    fields: getGroupFields(groupName)
  }));
});
FieldGroup.propTypes = {
  groupName: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  index: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"].isRequired,
  getGroupFields: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  handleBeginDrag: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  handleDragCancel: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  moveGroup: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  // This comes from the drop target
  connectDropTarget: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  // These come from the drag source
  connectDragSource: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  connectDragPreview: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  isDragging: prop_types__WEBPACK_IMPORTED_MODULE_1__["bool"].isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(lodash__WEBPACK_IMPORTED_MODULE_2__["flow"])(_group_drop_target__WEBPACK_IMPORTED_MODULE_5__["default"], _group_drag_source__WEBPACK_IMPORTED_MODULE_4__["default"])(FieldGroup));

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.js":
/*!*********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.js ***!
  \*********************************************************************/
/*! exports provided: FieldGroups */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldGroups", function() { return FieldGroups; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _group_drag_layer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./group-drag-layer */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-layer.js");
/* harmony import */ var _field_group__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./field-group */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-group.js");
/* harmony import */ var _field_groups_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./field-groups.scss */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss");
/* harmony import */ var _field_groups_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_field_groups_scss__WEBPACK_IMPORTED_MODULE_4__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }






var FieldGroups = function FieldGroups(_ref) {
  var groups = _ref.groups,
      getGroupFields = _ref.getGroupFields,
      groupList = _ref.groupList,
      setGroupList = _ref.setGroupList,
      moveGroup = _ref.moveGroup;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(groupList),
      _useState2 = _slicedToArray(_useState, 2),
      originalList = _useState2[0],
      setOriginalList = _useState2[1];

  var handleBeginDrag = function handleBeginDrag() {
    // Take a snapshot of the list state when dragging begins
    setOriginalList(groupList);
  };

  var handleDragCancel = function handleDragCancel() {
    // Items are re-ordered on the fly, be sure to reset on cancel
    setGroupList(originalList);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "field-groups"
  }, groups.map(function (group, index) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_field_group__WEBPACK_IMPORTED_MODULE_3__["default"], {
      key: group.name,
      groupName: group.name,
      index: index,
      getGroupFields: getGroupFields,
      moveGroup: moveGroup,
      handleBeginDrag: handleBeginDrag,
      handleDragCancel: handleDragCancel
    });
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_group_drag_layer__WEBPACK_IMPORTED_MODULE_2__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-button-group--container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#"
  }, "Add Group"), " ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#"
  }, "Add Field")));
};
FieldGroups.propTypes = {
  groups: prop_types__WEBPACK_IMPORTED_MODULE_1__["array"].isRequired,
  getGroupFields: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  moveGroup: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  groupList: prop_types__WEBPACK_IMPORTED_MODULE_1__["array"].isRequired,
  setGroupList: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss":
/*!***********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./field-groups.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-list.js":
/*!*******************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-list.js ***!
  \*******************************************************************/
/*! exports provided: FieldList, FieldListItem, FieldHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldList", function() { return FieldList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldListItem", function() { return FieldListItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldHeader", function() { return FieldHeader; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _manage_fields_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./manage-fields.scss */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss");
/* harmony import */ var _manage_fields_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_manage_fields_scss__WEBPACK_IMPORTED_MODULE_2__);


 // WordPress dependencies
// noinspection JSUnresolvedVariable

var __ = wp.i18n.__;
var Dashicon = wp.components.Dashicon;
var FieldList = function FieldList(props) {
  if (0 === props.fields.length) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "pods-manage-fields no-fields"
    }, __('There are no fields in this group', 'pods'));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-manage-fields"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FieldHeader, null), props.fields.map(function (field) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FieldListItem, {
      key: field.id,
      id: field.id,
      fieldLabel: field.label,
      fieldName: field.name,
      required: field.required,
      type: field.type
    });
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FieldHeader, null));
};
FieldList.propTypes = {
  fields: prop_types__WEBPACK_IMPORTED_MODULE_1__["array"].isRequired
};
/**
 *
 */

var FieldListItem = function FieldListItem(props) {
  var id = props.id,
      fieldName = props.fieldName,
      fieldLabel = props.fieldLabel,
      required = props.required,
      type = props.type;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field--wrapper"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field pods-field--handle"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "menu"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field pods-field--label"
  }, fieldLabel, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: required && 'pods-field--required'
  }, "*"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field--id"
  }, "[id = ", id, "]")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field pods-field--name"
  }, fieldName), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field pods-field--type"
  }, type, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field--id"
  }, "[type = [STILL NEED THIS]]")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field pods-field--actions"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "edit"
  }), " ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "admin-page"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "trash"
  })));
};
FieldListItem.propTypes = {
  id: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"].isRequired,
  fieldName: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  fieldLabel: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  required: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  type: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired
};
/**
 *
 */

var FieldHeader = function FieldHeader() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field--wrapper-labels"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field--wrapper-label-items"
  }, "Label"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field--wrapper-label-items"
  }, "Name"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field--wrapper-label-items"
  }, "Field Type"));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-layer.js":
/*!*************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-layer.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dnd */ "./node_modules/react-dnd/lib/cjs/index.js");
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dnd__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");




var Dashicon = wp.components.Dashicon;

var getLayerStyles = function getLayerStyles(_ref) {
  var item = _ref.item;
  return {
    position: 'fixed',
    opacity: .6,
    pointerEvents: 'none',
    zIndex: 100,
    left: item.left,
    top: 0,
    width: '100%',
    height: '100%'
  };
}; // Lock the dragging axis


var getItemStyles = function getItemStyles(_ref2) {
  var item = _ref2.item,
      initialOffset = _ref2.initialOffset,
      currentOffset = _ref2.currentOffset;

  if (!initialOffset || !currentOffset) {
    return {
      display: 'none'
    };
  } else {
    return {
      width: item.width,
      transform: "translate(".concat(initialOffset.x, "px, ").concat(currentOffset.y, "px"),
      filter: 'drop-shadow(5px 5px 5px #BBB)'
    };
  }
};

var CustomDragLayer = function CustomDragLayer(props) {
  var item = props.item,
      itemType = props.itemType,
      isDragging = props.isDragging;

  if (!isDragging || _store_constants__WEBPACK_IMPORTED_MODULE_3__["uiConstants"].dragItemTypes.GROUP !== itemType) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: getLayerStyles(props)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: getItemStyles(props)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group-wrapper",
    style: {
      cursor: 'ns-resize'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group--title"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group--handle"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "menu"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group--name"
  }, item.groupName), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group--manage"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group--toggle"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: 'arrow-down'
  })))))));
};

CustomDragLayer.propTypes = {
  item: prop_types__WEBPACK_IMPORTED_MODULE_1__["shape"]({
    groupName: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
    index: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"].isRequired
  }),
  itemType: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"],
  isDragging: prop_types__WEBPACK_IMPORTED_MODULE_1__["bool"].isRequired,
  currentOffset: prop_types__WEBPACK_IMPORTED_MODULE_1__["shape"]({
    x: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"],
    y: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"]
  }),
  initialOffset: prop_types__WEBPACK_IMPORTED_MODULE_1__["shape"]({
    x: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"],
    y: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"]
  })
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_dnd__WEBPACK_IMPORTED_MODULE_2__["DragLayer"])(function (monitor) {
  return {
    item: monitor.getItem(),
    itemType: monitor.getItemType(),
    initialOffset: monitor.getInitialSourceClientOffset(),
    currentOffset: monitor.getSourceClientOffset(),
    isDragging: monitor.isDragging()
  };
})(CustomDragLayer));

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-source.js":
/*!**************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-source.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dnd */ "./node_modules/react-dnd/lib/cjs/index.js");
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_dnd__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");


var dragItemTypes = _store_constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].dragItemTypes;
var dragSpec = {
  beginDrag: function beginDrag(props, monitor, component) {
    var wrapperNode = component.decoratedRef.current.getWrapperNode();
    var handleNode = component.decoratedRef.current.getHandleNode();
    var wrapperRect = wrapperNode.getBoundingClientRect();
    var handleRect = handleNode.getBoundingClientRect();
    props.handleBeginDrag();
    return {
      groupName: props.groupName,
      index: props.index,
      width: wrapperRect.width,
      left: wrapperRect.left - handleRect.left
    };
  },
  endDrag: function endDrag(props, monitor) {
    // Items are re-ordered on the fly, be sure to reset on cancel
    if (!monitor.didDrop()) {
      props.handleDragCancel();
    }
  }
};

var collect = function collect(connect, monitor) {
  return {
    connectDragSource: connect.dragSource(),
    connectDragPreview: connect.dragPreview(),
    isDragging: monitor.isDragging()
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_dnd__WEBPACK_IMPORTED_MODULE_0__["DragSource"])(dragItemTypes.GROUP, dragSpec, collect));

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drop-target.js":
/*!**************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drop-target.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dnd */ "./node_modules/react-dnd/lib/cjs/index.js");
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_dnd__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");


var dragItemTypes = _store_constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].dragItemTypes;
var dropSpec = {
  hover: function hover(props, monitor, component) {
    if (!component) {
      return null;
    } // node = HTML Div element from imperative API


    var node = component.getWrapperNode();

    if (!node) {
      return null;
    }

    var dragIndex = monitor.getItem().index;
    var hoverIndex = props.index; // Don't replace items with themselves

    if (dragIndex === hoverIndex) {
      return;
    }

    var hoverBoundingRect = node.getBoundingClientRect();
    var hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;
    var clientOffset = monitor.getClientOffset();
    var hoverClientY = clientOffset.y - hoverBoundingRect.top; // Only perform the move when the mouse has crossed half of the item's height
    // Dragging downwards, only move when the cursor is below 50%

    if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {
      return;
    } // Dragging upwards, only move when the cursor is above 50%


    if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {
      return;
    } // Time to actually perform the action


    props.moveGroup(dragIndex, hoverIndex); // Note: we're mutating the monitor item here! Generally it's
    // better to avoid mutations but it's good here for the sake of
    // performance to avoid expensive index searches.

    monitor.getItem().index = hoverIndex;
  }
};

var collect = function collect(connect) {
  return {
    connectDropTarget: connect.dropTarget()
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_dnd__WEBPACK_IMPORTED_MODULE_0__["DropTarget"])(dragItemTypes.GROUP, dropSpec, collect));

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss":
/*!************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./manage-fields.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/postbox.js":
/*!******************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/postbox.js ***!
  \******************************************************/
/*! exports provided: Postbox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Postbox", function() { return Postbox; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* eslint-disable react/prop-types */


var __ = wp.i18n.__;
var withSelect = wp.data.withSelect;
var Postbox = withSelect(function (select) {
  return {
    isSaving: select(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]).isSaving()
  };
})(function (props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "postbox-container-1",
    className: "postbox-container pods_floatmenu"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "side-info-field",
    className: "inner-sidebar"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "side-sortables"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "submitdiv",
    className: "postbox pods-no-toggle"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, __('Manage', 'pods'), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("small", null, "(", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "/wp-admin/admin.php?page=pods&action=manage"
  }, __('« Back to Manage', 'pods')), ")"))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "inside"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "submitbox",
    id: "submitpost"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "major-publishing-actions"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "delete-action"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#not-implemented",
    className: "submitdelete deletion pods-confirm"
  }, __('Delete Pod', 'pods'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "publishing-action"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Spinner, {
    isSaving: props.isSaving
  }), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: "button-primary",
    type: "submit"
  }, __('Save Pod', 'pods'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "clear"
  }))))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-submittable-fields"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "side-sortables",
    className: "meta-box-sortables"
  })))));
});

var Spinner = function Spinner(props) {
  if (props.isSaving) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      src: "/wp-admin/images/wpspin_light.gif",
      alt: ""
    });
  }

  return null;
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/save-status-message.js":
/*!******************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/save-status-message.js ***!
  \******************************************************************/
/*! exports provided: SaveStatusMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaveStatusMessage", function() { return SaveStatusMessage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* eslint-disable react/prop-types */


/* WordPress dependencies */
// noinspection JSUnresolvedVariable

var __ = wp.i18n.__;
var withSelect = wp.data.withSelect;
var SaveStatusMessage = withSelect(function (select) {
  return {
    saveStatus: select(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]).getSaveStatus()
  };
})(function (props) {
  switch (props.saveStatus) {
    case _store_constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].saveStatuses.SAVING:
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "message",
        className: "notice notice-warning"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, __('Saving Pod...', 'pods'))));

    case _store_constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].saveStatuses.SAVE_SUCCESS:
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "message",
        className: "updated fade"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, __('Success!', 'pods')), "\xA0"
      /* &nbsp; */
      , __('Pod saved successfully.', 'pods')));

    case _store_constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].saveStatuses.SAVE_ERROR:
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "message",
        className: "notice error"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, __('Save Error', 'pods'))));

    default:
      return null;
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/sluggable.js":
/*!********************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/sluggable.js ***!
  \********************************************************/
/*! exports provided: PodsDFVSluggable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVSluggable", function() { return PodsDFVSluggable; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



var useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState;
/* WordPress dependencies */
// noinspection JSUnresolvedVariable

var __ = wp.i18n.__;
var PodsDFVSluggable = function PodsDFVSluggable(props) {
  var _useState = useState(false),
      _useState2 = _slicedToArray(_useState, 2),
      editing = _useState2[0],
      setEditing = _useState2[1];

  var _useState3 = useState(props.value),
      _useState4 = _slicedToArray(_useState3, 2),
      localValue = _useState4[0],
      setLocalValue = _useState4[1];

  var handleValueChange = function handleValueChange(newValue) {
    setLocalValue(newValue);
  };

  var handleEditClick = function handleEditClick() {
    setEditing(true);
  };

  var handleOkClick = function handleOkClick() {
    setEditing(false);
    props.updateValue(localValue);
  };

  var handleCancelClick = function handleCancelClick(e) {
    e.preventDefault();
    setEditing(false);
    setLocalValue(props.value);
  };

  if (!editing) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NotEditing, {
      value: props.value,
      handleEditClick: handleEditClick
    });
  } else {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Editing, {
      value: localValue,
      handleValueChange: handleValueChange,
      handleOkClick: handleOkClick,
      handleCancelClick: handleCancelClick
    });
  }
};
PodsDFVSluggable.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  updateValue: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};

var NotEditing = function NotEditing(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("em", {
    onClick: props.handleEditClick,
    style: {
      cursor: 'pointer'
    }
  }, props.value), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "button",
    className: "edit-slug-button button",
    value: __('Edit', 'pods'),
    onClick: props.handleEditClick
  }));
};

NotEditing.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  handleEditClick: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};

var Editing = function Editing(props) {
  var handleFocus = function handleFocus(e) {
    return e.target.select();
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "text",
    autoFocus: true,
    id: "pods-form-ui-name",
    name: "name",
    className: "pods-form-ui-field pods-form-ui-field-type-text pods-form-ui-field-name-name",
    value: props.value,
    onChange: function onChange(e) {
      return props.handleValueChange(e.target.value);
    },
    onFocus: handleFocus,
    maxLength: "46",
    size: "25"
  }), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "button",
    className: "save-button button",
    value: __('OK', 'pods'),
    onClick: props.handleOkClick
  }), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    className: "cancel",
    onClick: props.handleCancelClick
  }, __('Cancel', 'pods')));
};

Editing.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  handleValueChange: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  handleOkClick: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  handleCancelClick: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/actions.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/actions.js ***!
  \************************************************************/
/*! exports provided: setActiveTab, setSaveStatus, setOptionValue, setOptionItemValue, setGroupList, moveGroup, setPodName, setPodMetaValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setActiveTab", function() { return setActiveTab; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setSaveStatus", function() { return setSaveStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setOptionValue", function() { return setOptionValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setOptionItemValue", function() { return setOptionItemValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setGroupList", function() { return setGroupList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "moveGroup", function() { return moveGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPodName", function() { return setPodName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPodMetaValue", function() { return setPodMetaValue; });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");

/**
 * UI
 */

var setActiveTab = function setActiveTab(activeTab) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["uiConstants"].actions.SET_ACTIVE_TAB,
    activeTab: activeTab
  };
};
var setSaveStatus = function setSaveStatus(saveStatus) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["uiConstants"].actions.SET_SAVE_STATUS,
    saveStatus: saveStatus
  };
};
/**
 * Options
 */

var setOptionValue = function setOptionValue(name, value) {
  return setOptionItemValue(name, 'value', value);
};
var setOptionItemValue = function setOptionItemValue(optionName, itemName, itemValue) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["optionConstants"].actions.SET_OPTION_ITEM_VALUE,
    optionName: optionName,
    itemName: itemName,
    itemValue: itemValue
  };
};
/**
 * Groups
 */

var setGroupList = function setGroupList(groupList) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["groupConstants"].actions.SET_GROUP_LIST,
    groupList: groupList
  };
};
var moveGroup = function moveGroup(oldIndex, newIndex) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["groupConstants"].actions.MOVE_GROUP,
    oldIndex: oldIndex,
    newIndex: newIndex
  };
};
/**
 * Pod meta
 */

var setPodName = function setPodName(name) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["podMetaConstants"].actions.SET_POD_NAME,
    name: name
  };
};
var setPodMetaValue = function setPodMetaValue(key, value) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["podMetaConstants"].actions.SET_POD_META_VALUE,
    key: key,
    value: value
  };
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js":
/*!**************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js ***!
  \**************************************************************/
/*! exports provided: STORE_KEY_EDIT_POD, uiConstants, optionConstants, groupConstants, podMetaConstants, initialUIState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STORE_KEY_EDIT_POD", function() { return STORE_KEY_EDIT_POD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uiConstants", function() { return uiConstants; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "optionConstants", function() { return optionConstants; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groupConstants", function() { return groupConstants; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "podMetaConstants", function() { return podMetaConstants; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialUIState", function() { return initialUIState; });
var STORE_KEY_EDIT_POD = 'pods/edit-pod';
var uiConstants = {
  actions: {
    SET_ACTIVE_TAB: 'SET_ACTIVE_TAB',
    SET_SAVE_STATUS: 'SET_SAVE_STATUS'
  },
  tabNames: {
    MANAGE_FIELDS: 'manage-fields',
    LABELS: 'labels',
    ADMIN_UI: 'admin-ui',
    ADVANCED_OPTIONS: 'advanced',
    AUTO_TEMPLATE_OPTIONS: 'pods-pfat',
    REST_API: 'rest-api'
  },
  saveStatuses: {
    NONE: '',
    SAVING: 'SAVING',
    SAVE_SUCCESS: 'SAVE_SUCCESS',
    SAVE_ERROR: 'SAVE_ERROR'
  },
  dragItemTypes: {
    GROUP: 'GROUP',
    FIELD: 'FIELD'
  }
};
var optionConstants = {
  actions: {
    SET_OPTION_ITEM_VALUE: 'SET_OPTION_ITEM_VALUE'
  }
};
var groupConstants = {
  actions: {
    SET_GROUP_LIST: 'SET_GROUP_LIST',
    MOVE_GROUP: 'MOVE_GROUP'
  }
};
var podMetaConstants = {
  actions: {
    SET_POD_NAME: 'SET_POD_NAME',
    SET_POD_META_VALUE: 'SET_POD_META_VALUE'
  }
};
var initialUIState = {
  activeTab: uiConstants.tabNames.MANAGE_FIELDS,
  saveStatus: uiConstants.saveStatuses.NONE
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/reducer.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/reducer.js ***!
  \************************************************************/
/*! exports provided: setObjectValue, ui, groups, options, podMeta, fields, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setObjectValue", function() { return setObjectValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ui", function() { return ui; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groups", function() { return groups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "options", function() { return options; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "podMeta", function() { return podMeta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fields", function() { return fields; });
/* harmony import */ var _state_paths__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state-paths */ "./ui/js/pods-dfv/src/admin/edit-pod/store/state-paths.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var combineReducers = wp.data.combineReducers; // Helper function

var setObjectValue = function setObjectValue(object, key, value) {
  return _objectSpread({}, object, _defineProperty({}, key, value));
}; // UI

var ui = function ui() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _constants__WEBPACK_IMPORTED_MODULE_1__["initialUIState"];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var actions = _constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].actions,
      saveStatuses = _constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].saveStatuses;

  switch (action.type) {
    case actions.SET_ACTIVE_TAB:
      {
        // Use the default if the tab name doesn't exist
        var newTab = _constants__WEBPACK_IMPORTED_MODULE_1__["initialUIState"].activeTab;
        var tabIndex = _state_paths__WEBPACK_IMPORTED_MODULE_0__["TAB_LIST"].tailGetFrom(state).indexOf(action.activeTab);

        if (-1 !== tabIndex) {
          newTab = action.activeTab;
        }

        return _objectSpread({}, state, {
          activeTab: newTab
        });
      }

    case actions.SET_SAVE_STATUS:
      {
        var newStatus = action.saveStatus;

        if (!Object.values(saveStatuses).includes(newStatus)) {
          newStatus = _constants__WEBPACK_IMPORTED_MODULE_1__["initialUIState"].saveStatus;
        }

        return _objectSpread({}, state, {
          saveStatus: newStatus
        });
      }

    default:
      return state;
  }
};
var groups = function groups() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var actions = _constants__WEBPACK_IMPORTED_MODULE_1__["groupConstants"].actions;

  if (actions.MOVE_GROUP === action.type) {
    var oldIndex = action.oldIndex,
        newIndex = action.newIndex;
    var groupList = _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUP_LIST"].tailGetFrom(state); // Index bounds checking

    if (null === oldIndex || null === newIndex || oldIndex === newIndex) {
      return state;
    }

    if (oldIndex >= groupList.length || 0 > oldIndex) {
      return state;
    }

    if (newIndex >= groupList.length || 0 > newIndex) {
      return state;
    }

    var newGroupList = _toConsumableArray(groupList);

    newGroupList.splice(newIndex, 0, newGroupList.splice(oldIndex, 1)[0]);
    return _objectSpread({}, state, _defineProperty({}, _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUP_LIST"].tailPath, newGroupList));
  } else if (actions.SET_GROUP_LIST === action.type) {
    return _objectSpread({}, state, _defineProperty({}, _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUP_LIST"].tailPath, action.groupList));
  } else {
    return state;
  }
};
var options = function options() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var actions = _constants__WEBPACK_IMPORTED_MODULE_1__["optionConstants"].actions;

  if (actions.SET_OPTION_ITEM_VALUE === action.type) {
    var optionName = action.optionName,
        itemName = action.itemName,
        itemValue = action.itemValue;
    return _objectSpread({}, state, _defineProperty({}, optionName, setObjectValue(state[optionName], itemName, itemValue)));
  } else {
    return state;
  }
}; // Pod meta

var podMeta = function podMeta() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var actions = _constants__WEBPACK_IMPORTED_MODULE_1__["podMetaConstants"].actions;

  switch (action.type) {
    case actions.SET_POD_NAME:
      return _objectSpread({}, state, {
        name: action.name
      });

    case actions.SET_POD_META_VALUE:
      return _objectSpread({}, state, _defineProperty({}, action.key, action.value));

    default:
      return state;
  }
}; // Fields

var fields = function fields() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return state;
};
/* harmony default export */ __webpack_exports__["default"] = (combineReducers({
  ui: ui,
  podMeta: podMeta,
  options: options,
  groups: groups,
  fields: fields
}));

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/selectors.js":
/*!**************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/selectors.js ***!
  \**************************************************************/
/*! exports provided: getState, getPodName, getPodMetaValue, getActiveTab, getTab, getTabList, getTabs, getTabOptionsList, getTabOptions, getSaveStatus, isSaving, getOption, getOptionItemValue, getOptionValue, getGroupList, getGroup, getGroups, getFieldList, getGroupFields, getFields, getField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getState", function() { return getState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPodName", function() { return getPodName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPodMetaValue", function() { return getPodMetaValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getActiveTab", function() { return getActiveTab; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTab", function() { return getTab; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTabList", function() { return getTabList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTabs", function() { return getTabs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTabOptionsList", function() { return getTabOptionsList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTabOptions", function() { return getTabOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSaveStatus", function() { return getSaveStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSaving", function() { return isSaving; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOption", function() { return getOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOptionItemValue", function() { return getOptionItemValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOptionValue", function() { return getOptionValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupList", function() { return getGroupList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroup", function() { return getGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroups", function() { return getGroups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFieldList", function() { return getFieldList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupFields", function() { return getGroupFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFields", function() { return getFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getField", function() { return getField; });
/* harmony import */ var _state_paths__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state-paths */ "./ui/js/pods-dfv/src/admin/edit-pod/store/state-paths.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");

 // Everything

var getState = function getState(state) {
  return state;
}; //-- Pod meta

var getPodName = function getPodName(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["POD_NAME"].getFrom(state);
};
var getPodMetaValue = function getPodMetaValue(state, key) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["POD_META"].getFrom(state)[key];
}; //-- Tabs

var getActiveTab = function getActiveTab(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["ACTIVE_TAB"].getFrom(state);
};
var getTab = function getTab(state, tabName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["TABS_BY_NAME"].getFrom(state)[tabName];
};
var getTabList = function getTabList(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["TAB_LIST"].getFrom(state);
};
var getTabs = function getTabs(state) {
  return getTabList(state).map(function (tabName) {
    return getTab(state, tabName);
  });
};
var getTabOptionsList = function getTabOptionsList(state, tabName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["TAB_OPTIONS_LIST"].getFrom(state)[tabName];
};
var getTabOptions = function getTabOptions(state, tabName) {
  return getTabOptionsList(state, tabName).map(function (optionName) {
    return getOption(state, optionName);
  });
}; //-- Save status

var getSaveStatus = function getSaveStatus(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["SAVE_STATUS"].getFrom(state);
};
var isSaving = function isSaving(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["SAVE_STATUS"].getFrom(state) === _constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].saveStatuses.SAVING;
}; //-- Options

var getOption = function getOption(state, optionName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["OPTIONS"].getFrom(state)[optionName];
};
var getOptionItemValue = function getOptionItemValue(state, optionName, itemName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["OPTIONS"].getFrom(state)[optionName][itemName];
};
var getOptionValue = function getOptionValue(state, optionName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["OPTIONS"].getFrom(state)[optionName].value;
}; //-- Groups

var getGroupList = function getGroupList(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUP_LIST"].getFrom(state);
};
var getGroup = function getGroup(state, groupName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUPS_BY_NAME"].getFrom(state)[groupName];
};
var getGroups = function getGroups(state) {
  return getGroupList(state).map(function (groupName) {
    return getGroup(state, groupName);
  });
};
var getFieldList = function getFieldList(state, groupName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUP_FIELD_LIST"].getFrom(state)[groupName];
};
var getGroupFields = function getGroupFields(state, groupName) {
  return getFieldList(state, groupName).map(function (fieldName) {
    return getField(state, fieldName);
  });
}; //-- Fields

var getFields = function getFields(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["FIELDS"].getFrom(state);
};
var getField = function getField(state, fieldName) {
  return getFields(state)[fieldName];
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/state-paths.js":
/*!****************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/state-paths.js ***!
  \****************************************************************/
/*! exports provided: createStatePath, POD_META, POD_NAME, POD_ID, FIELDS, GROUPS, GROUPS_BY_NAME, GROUP_LIST, GROUP_FIELD_LIST, UI, ACTIVE_TAB, SAVE_STATUS, TABS, TAB_LIST, TABS_BY_NAME, TAB_OPTIONS_LIST, OPTIONS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createStatePath", function() { return createStatePath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "POD_META", function() { return POD_META; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "POD_NAME", function() { return POD_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "POD_ID", function() { return POD_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FIELDS", function() { return FIELDS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GROUPS", function() { return GROUPS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GROUPS_BY_NAME", function() { return GROUPS_BY_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GROUP_LIST", function() { return GROUP_LIST; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GROUP_FIELD_LIST", function() { return GROUP_FIELD_LIST; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UI", function() { return UI; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ACTIVE_TAB", function() { return ACTIVE_TAB; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SAVE_STATUS", function() { return SAVE_STATUS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TABS", function() { return TABS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TAB_LIST", function() { return TAB_LIST; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TABS_BY_NAME", function() { return TABS_BY_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TAB_OPTIONS_LIST", function() { return TAB_OPTIONS_LIST; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPTIONS", function() { return OPTIONS; });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "lodash");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var tailPath = function tailPath(dotPath) {
  return Object(lodash__WEBPACK_IMPORTED_MODULE_0__["tail"])(dotPath.split('.')).join('.');
};

var _createTree = function createTree(value, dotPath) {
  return dotPath.split('.').reduceRight(function (acc, currentValue) {
    return _defineProperty({}, currentValue, acc);
  }, value);
};

var _getFrom = function getFrom(state, dotPath) {
  return dotPath.split('.').reduce(function (value, el) {
    return value[el];
  }, state);
};

var createStatePath = function createStatePath(path) {
  return {
    // path 'ui.tabs.tabList', tailPath: 'tabs.tabList'
    path: path,
    tailPath: tailPath(path),
    getFrom: function getFrom(state) {
      var dotPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : path;
      return _getFrom(state, dotPath);
    },
    tailGetFrom: function tailGetFrom(state) {
      return _getFrom(state, tailPath(path));
    },
    createTree: function createTree(value) {
      var dotPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : path;
      return _createTree(value, dotPath);
    },
    tailCreateTree: function tailCreateTree(value) {
      return _createTree(value, tailPath(path));
    }
  };
};
var POD_META = createStatePath('podMeta');
var POD_NAME = createStatePath("".concat(POD_META.path, ".name"));
var POD_ID = createStatePath("".concat(POD_META.path, ".id"));
var FIELDS = createStatePath('fields');
var GROUPS = createStatePath('groups');
var GROUPS_BY_NAME = createStatePath("".concat(GROUPS.path, ".byName")); // Ordered list of group names as an array: [ 'group1', 'group2', ... ]

var GROUP_LIST = createStatePath("".concat(GROUPS.path, ".groupList")); // One to many relationship:
// { 'group1': [ 'field1', 'field2', ...], 'group2': [...] }

var GROUP_FIELD_LIST = createStatePath("".concat(GROUPS.path, ".groupFieldList"));
var UI = createStatePath('ui');
var ACTIVE_TAB = createStatePath("".concat(UI.path, ".activeTab"));
var SAVE_STATUS = createStatePath("".concat(UI.path, ".saveStatus"));
var TABS = createStatePath("".concat(UI.path, ".tabs")); // Ordered list of tab names as an array: [ 'tab1', 'tab2', ... ]

var TAB_LIST = createStatePath("".concat(TABS.path, ".tabList")); // Tab objects keyed by tab name:
// { tab1: {tab object}, tab2: {tab object}, ...}

var TABS_BY_NAME = createStatePath("".concat(TABS.path, ".byName")); // One to many relationship tab => options:
// { 'tab1': [ 'option1', 'option2', ...], 'tab2': [...] }

var TAB_OPTIONS_LIST = createStatePath("".concat(TABS.path, ".tabOptionsList")); // Pod option list keyed by option name:
// { can_export: {object}, show_ui: {object}, etc }

var OPTIONS = createStatePath('options');

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/store.js":
/*!**********************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/store.js ***!
  \**********************************************************/
/*! exports provided: initStore */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initStore", function() { return initStore; });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "lodash");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _state_paths__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./state-paths */ "./ui/js/pods-dfv/src/admin/edit-pod/store/state-paths.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reducer */ "./ui/js/pods-dfv/src/admin/edit-pod/store/reducer.js");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./selectors */ "./ui/js/pods-dfv/src/admin/edit-pod/store/selectors.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./actions */ "./ui/js/pods-dfv/src/admin/edit-pod/store/actions.js");






var registerStore = wp.data.registerStore;
var initStore = function initStore(props) {
  var initialState = Object(lodash__WEBPACK_IMPORTED_MODULE_0__["merge"])(_state_paths__WEBPACK_IMPORTED_MODULE_1__["UI"].createTree(_constants__WEBPACK_IMPORTED_MODULE_2__["initialUIState"]), props);
  return registerStore(_constants__WEBPACK_IMPORTED_MODULE_2__["STORE_KEY_EDIT_POD"], {
    reducer: _reducer__WEBPACK_IMPORTED_MODULE_3__["default"],
    selectors: _selectors__WEBPACK_IMPORTED_MODULE_4__,
    actions: _actions__WEBPACK_IMPORTED_MODULE_5__,
    initialState: initialState
  });
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/with-drag-drop-context.js":
/*!*********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/with-drag-drop-context.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dnd */ "./node_modules/react-dnd/lib/cjs/index.js");
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_dnd__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dnd-html5-backend */ "./node_modules/react-dnd-html5-backend/lib/cjs/index.js");
/* harmony import */ var react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1__);


/* harmony default export */ __webpack_exports__["default"] = (Object(react_dnd__WEBPACK_IMPORTED_MODULE_0__["DragDropContext"])(react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1___default.a));

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/base-input.js":
/*!*****************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/base-input.js ***!
  \*****************************************************/
/*! exports provided: PodsDFVBaseInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVBaseInput", function() { return PodsDFVBaseInput; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* eslint-disable react/prop-types */

var PodsDFVBaseInput = function PodsDFVBaseInput(props) {
  // Default implementation if onChange is omitted from props
  function handleChange(event) {
    props.setValue(event.target.value);
  } // noinspection JSUnresolvedVariable


  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: props.type,
    name: props.htmlAttr.name,
    id: props.htmlAttr.id,
    className: props.className,
    "data-name-clean": props.htmlAttr.name_clean,
    placeholder: props.fieldConfig.text_placeholder,
    maxLength: props.fieldConfig.text_max_length,
    value: props.value,
    readOnly: !!props.fieldConfig.readonly,
    onChange: props.onChange || handleChange,
    onBlur: props.onBlur,
    min: props.min,
    max: props.max
  });
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/field-container.js":
/*!**********************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/field-container.js ***!
  \**********************************************************/
/*! exports provided: PodsDFVFieldContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVFieldContainer", function() { return PodsDFVFieldContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _validation_messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validation-messages */ "./ui/js/pods-dfv/src/components/validation-messages.js");
/* harmony import */ var _validation_validation_rules__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../validation/validation-rules */ "./ui/js/pods-dfv/src/validation/validation-rules.js");
/* harmony import */ var _validation_validation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../validation/validation */ "./ui/js/pods-dfv/src/validation/validation.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/* eslint-disable react/prop-types */





var useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState;
var PodsDFVFieldContainer = function PodsDFVFieldContainer(props) {
  var Field = props.fieldComponent;

  var _useState = useState(props.fieldItemData[0] || ''),
      _useState2 = _slicedToArray(_useState, 2),
      value = _useState2[0],
      setValue = _useState2[1];

  var validation = Object(_validation_validation__WEBPACK_IMPORTED_MODULE_4__["podsValidation"])();
  var validationMessages = validation.useValidation(value);
  validation.addRules([{
    rule: _validation_validation_rules__WEBPACK_IMPORTED_MODULE_3__["validationRules"].required(value, props.fieldConfig.label),
    condition: '1' === props.fieldConfig.required
  }]);
  var fieldClasses = classnames__WEBPACK_IMPORTED_MODULE_1___default()(props.htmlAttr["class"], {
    'pods-validate-error': validationMessages.length
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-dfv-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Field, _extends({
    value: value,
    setValue: setValue,
    validation: validation,
    className: fieldClasses
  }, props)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_validation_messages__WEBPACK_IMPORTED_MODULE_2__["PodsDFVValidationMessages"], {
    messages: validationMessages
  }));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/field-option.js":
/*!*******************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/field-option.js ***!
  \*******************************************************/
/*! exports provided: PodsFieldOption */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsFieldOption", function() { return PodsFieldOption; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _help_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./help-tooltip */ "./ui/js/pods-dfv/src/components/help-tooltip.js");



var PodsFieldOption = function PodsFieldOption(props) {
  var fieldType = props.fieldType,
      name = props.name,
      value = props.value,
      label = props.label,
      onChange = props.onChange,
      helpText = props.helpText;

  var toBool = function toBool(stringOrNumber) {
    // Force any strings to numeric first
    return !!+stringOrNumber;
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-option"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    className: "pods-form-ui-label pods-form-ui-label-".concat(name),
    htmlFor: name
  }, label, helpText && 'help' !== helpText && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_help_tooltip__WEBPACK_IMPORTED_MODULE_2__["HelpTooltip"], {
    helpText: helpText
  })), 'boolean' === fieldType ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "checkbox",
    id: name,
    name: name,
    checked: toBool(value),
    onChange: onChange
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "text",
    id: name,
    name: name,
    value: value,
    onChange: onChange
  }));
};
PodsFieldOption.propTypes = {
  fieldType: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  value: prop_types__WEBPACK_IMPORTED_MODULE_1__["any"].isRequired,
  label: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  helpText: prop_types__WEBPACK_IMPORTED_MODULE_1__["any"]
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/help-tooltip.js":
/*!*******************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/help-tooltip.js ***!
  \*******************************************************/
/*! exports provided: HelpTooltip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HelpTooltip", function() { return HelpTooltip; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);


var _wp$components = wp.components,
    Tooltip = _wp$components.Tooltip,
    Dashicon = _wp$components.Dashicon;
var HelpTooltip = function HelpTooltip(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tooltip, {
    text: props.helpText
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "editor-help"
  })));
};
HelpTooltip.propTypes = {
  helpText: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/tabs/pods-nav-tab.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/tabs/pods-nav-tab.js ***!
  \************************************************************/
/*! exports provided: PodsNavTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsNavTab", function() { return PodsNavTab; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);



var PodsNavTab = function PodsNavTab(_ref) {
  var tabs = _ref.tabs,
      activeTab = _ref.activeTab,
      setActiveTab = _ref.setActiveTab;

  var getClassName = function getClassName(tabName) {
    return classnames__WEBPACK_IMPORTED_MODULE_2___default()('nav-tab pods-nav-tab-link', {
      'nav-tab-active': tabName === activeTab
    });
  };

  var handleClick = function handleClick(e, tabName) {
    e.preventDefault();
    setActiveTab(tabName);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
    className: "nav-tab-wrapper pods-nav-tabs"
  }, tabs.map(function (thisTab) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      key: thisTab.name,
      href: "#pods-".concat(thisTab.name),
      className: getClassName(thisTab.name),
      onClick: function onClick(e) {
        return handleClick(e, thisTab.name);
      }
    }, thisTab.titleText);
  }));
};
PodsNavTab.propTypes = {
  tabs: prop_types__WEBPACK_IMPORTED_MODULE_1__["arrayOf"](prop_types__WEBPACK_IMPORTED_MODULE_1__["shape"]({
    name: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"],
    titleText: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"]
  })).isRequired,
  activeTab: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  setActiveTab: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/validation-messages.js":
/*!**************************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/validation-messages.js ***!
  \**************************************************************/
/*! exports provided: PodsDFVValidationMessage, PodsDFVValidationMessages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVValidationMessage", function() { return PodsDFVValidationMessage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVValidationMessages", function() { return PodsDFVValidationMessages; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* eslint-disable react/prop-types */

var PodsDFVValidationMessage = function PodsDFVValidationMessage(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "notice notice-error"
  }, props.message);
};
var PodsDFVValidationMessages = function PodsDFVValidationMessages(props) {
  return props.messages.map(function (thisMessage) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PodsDFVValidationMessage, {
      key: thisMessage,
      message: thisMessage
    });
  });
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/dfv-modal.js":
/*!**********************************************!*\
  !*** ./ui/js/pods-dfv/src/core/dfv-modal.js ***!
  \**********************************************/
/*! exports provided: PodsDFVModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVModal", function() { return PodsDFVModal; });
/*global jQuery, _, Backbone, PodsMn, wp, PodsI18n */

/**
 * A frame for displaying a modal popup with iframe content
 *
 * @augments wp.media.view.Frame
 */
var PodsDFVModal = wp.media.view.Modal.extend({
  /**
   * @param {Object} options
   * @returns {wp.media.view.Modal} Returns itself to allow chaining
   */
  close: function close(options) {
    var retVal = wp.media.view.Modal.prototype.close.apply(this, options); // Alert the listening control when we've been cancelled

    if (options && options.escape) {
      window.parent.jQuery(window.parent).trigger('dfv:modal:cancel');
    }

    return retVal;
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/gb-modal-listener.js":
/*!******************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/gb-modal-listener.js ***!
  \******************************************************/
/*! exports provided: PodsGbModalListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsGbModalListener", function() { return PodsGbModalListener; });
/**
 * Note: No checking is done here to make sure we're in a modal and that
 * Gutenberg is actually loaded.  Consuming code must make sure the implicit
 * Gutenberg dependencies exist (primarily wp.data) before calling through
 * to init().
 */
// The guard in front is to ensure wp.data exists before accessing select
var editorData = wp.data && wp.data.select('core/editor');
var unSubscribe;
/**
 * init() is the only exposed interface
 */

var PodsGbModalListener = {
  init: function init() {
    if (editorData.isCurrentPostPublished()) {
      // Post is published, this is an edit
      unSubscribe = wp.data.subscribe(saveListener);
    } else {
      // Unpublished post, this is an "add new" modal
      unSubscribe = wp.data.subscribe(publishListener);
    }
  }
}; //-------------------------------------------
// Helper functions, not externally exposed
//-------------------------------------------

/**
 *
 * @return string
 */

function getFeaturedImageURL() {
  var featuredImageId = editorData.getCurrentPostAttribute('featured_media');
  var url = ''; // Early exit if nothing was set

  if (!featuredImageId) {
    return url;
  }

  var media = wp.data.select('core').getMedia(featuredImageId);

  if (media) {
    var mediaSize = wp.hooks.applyFilters('editor.PostFeaturedImage.imageSize', 'post-thumbnail', '');

    if (media.media_details && media.media_details.sizes && media.media_details.sizes[mediaSize]) {
      url = media.media_details.sizes[mediaSize].source_url;
    } else {
      url = media.source_url;
    }
  }

  return url;
}
/**
 * Handles "add new" modals
 */


function publishListener() {
  if (editorData.isCurrentPostPublished()) {
    unSubscribe();
    triggerUpdateEvent({
      'icon': getFeaturedImageURL(),
      'link': editorData.getPermalink(),
      'edit_link': "post.php?post=".concat(editorData.getCurrentPostId(), "&action=edit&pods_modal=1"),
      'selected': true // Automatically select add new records

    });
  }
}
/**
 * Handles "edit existing" modals
 */


function saveListener() {
  if (saveListener.wasSaving) {
    // The wasSaving flag already ignores autosave so we only need to
    // check isSavingPost()
    if (!editorData.isSavingPost()) {
      // Currently on save failure we'll remain subscribed and try
      // listening for the next save attempt
      saveListener.wasSaving = false;

      if (editorData.didPostSaveRequestSucceed()) {
        unSubscribe();
        triggerUpdateEvent({
          'icon': getFeaturedImageURL()
        });
      }
    }
  } else {
    saveListener.wasSaving = isUserSaving();
  }
}
/**
 * Whether or not an active save is in progress due to user action (ignore autosaves)
 *
 * @return boolean
 */


function isUserSaving() {
  return !!(editorData.isSavingPost() && !editorData.isAutosavingPost());
}
/**
 * The event listener in the parent window will take care of closing the modal
 */


function triggerUpdateEvent(optionalData) {
  var defaultData = {
    'id': editorData.getCurrentPostId(),
    'name': editorData.getCurrentPostAttribute('title')
  };
  var postData = Object.assign(defaultData, optionalData);
  window.parent.jQuery(window.parent).trigger('dfv:modal:update', postData);
}

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/iframe-frame.js":
/*!*************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/iframe-frame.js ***!
  \*************************************************/
/*! exports provided: IframeFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IframeFrame", function() { return IframeFrame; });
/* harmony import */ var _dfv_modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dfv-modal */ "./ui/js/pods-dfv/src/core/dfv-modal.js");
/*global jQuery, _, Backbone, PodsMn, wp, PodsI18n */

/**
 * A frame for displaying a modal popup with iframe content
 *
 * @augments wp.media.view.Frame
 */

var IframeFrame = wp.media.view.Frame.extend({
  className: 'pods-modal-frame',
  template: _.template('<div class="media-frame-title" /><div class="media-frame-iframe" />'),
  regions: ['title', 'iframe'],
  initialize: function initialize() {
    wp.media.view.Frame.prototype.initialize.apply(this, arguments); // Ensure core UI is enabled.

    this.$el.addClass('wp-core-ui');
    this.initState();
    this.initModal();
    this.on('iframe:create:default', this.iframeContent, this);
    this.iframe.mode('default');
    this.on('title:create:default', this.createTitle, this);
    this.title.mode('default');
    this.on('title:render', function (view) {
      view.$el.append('<span class="dashicons dashicons-arrow-down"></span>');
    });
  },
  initState: function initState() {
    var title = this.options.title || PodsI18n.__('Add New Record');

    var src = this.options.src || '/';
    this.states.add([new wp.media.controller.State({
      id: 'default',
      title: title,
      src: src
    })]);
    this.options.state = 'default';
  },
  initModal: function initModal() {
    this.modal = new _dfv_modal__WEBPACK_IMPORTED_MODULE_0__["PodsDFVModal"]({
      controller: this
    });
    this.modal.content(this);
  },
  render: function render() {
    // Activate the default state if no active state exists.
    if (!this.state() && this.options.state) {
      this.setState(this.options.state);
    }
    /**
     * call 'render' directly on the parent class
     */


    return wp.media.view.Frame.prototype.render.apply(this, arguments);
  },

  /**
   * @param {Object} content
   * @this wp.media.controller.Region
   */
  iframeContent: function iframeContent(content) {
    content.view = new wp.media.view.Iframe({
      controller: this
    });
  },
  createTitle: function createTitle(title) {
    title.view = new wp.media.View({
      controller: this,
      tagName: 'h1'
    });
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/pods-field-model.js":
/*!*****************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/pods-field-model.js ***!
  \*****************************************************/
/*! exports provided: PodsDFVFieldModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVFieldModel", function() { return PodsDFVFieldModel; });
/*global jQuery, _, Backbone, PodsMn */
var PodsDFVFieldModel = Backbone.Model.extend({
  defaults: {
    htmlAttr: {},
    fieldConfig: {}
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/pods-field-views.js":
/*!*****************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/pods-field-views.js ***!
  \*****************************************************/
/*! exports provided: PodsFieldListView, PodsFieldView, PodsDFVFieldLayout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsFieldListView", function() { return PodsFieldListView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsFieldView", function() { return PodsFieldView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVFieldLayout", function() { return PodsDFVFieldLayout; });
/*global jQuery, _, Backbone, PodsMn */

/**
 *
 */
var PodsFieldListView = PodsMn.CollectionView.extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  initialize: function initialize(options) {
    this.fieldModel = options.fieldModel;
    this.childViewOptions = {
      fieldModel: options.fieldModel
    };
  }
});
/**
 * @extends Backbone.View
 */

var PodsFieldView = PodsMn.View.extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  serializeData: function serializeData() {
    var fieldModel = this.options.fieldModel;
    var data = this.model ? this.model.toJSON() : {};
    data.htmlAttr = fieldModel.get('htmlAttr');
    data.fieldConfig = fieldModel.get('fieldConfig');
    return data;
  }
});
/**
 * Top-level "main field container"
 */

var PodsDFVFieldLayout = PodsMn.View.extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  initialize: function initialize(options) {
    this.fieldItemData = options.fieldItemData;
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/renderers/mn-renderer.js":
/*!**********************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/renderers/mn-renderer.js ***!
  \**********************************************************/
/*! exports provided: mnRenderer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mnRenderer", function() { return mnRenderer; });
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _pods_field_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pods-field-model */ "./ui/js/pods-dfv/src/core/pods-field-model.js");


function mnRenderer(FieldClass, element, data) {
  // Assemble the model and create the field
  var fieldModel = new _pods_field_model__WEBPACK_IMPORTED_MODULE_1__["PodsDFVFieldModel"]({
    htmlAttr: data.htmlAttr,
    fieldConfig: data.fieldConfig
  });
  var newField = new FieldClass({
    el: element,
    model: fieldModel,
    fieldItemData: data.fieldItemData
  }); // Render the field, trigger an event for the outside world, and stash a reference

  newField.render();
  jquery__WEBPACK_IMPORTED_MODULE_0___default()(element).trigger('render');
  return newField;
}

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/renderers/react-direct-renderer.js":
/*!********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/renderers/react-direct-renderer.js ***!
  \********************************************************************/
/*! exports provided: reactDirectRenderer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reactDirectRenderer", function() { return reactDirectRenderer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _admin_edit_pod_store_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../admin/edit-pod/store/store */ "./ui/js/pods-dfv/src/admin/edit-pod/store/store.js");



function reactDirectRenderer(FieldClass, element, props) {
  var Field = react__WEBPACK_IMPORTED_MODULE_0___default.a.createFactory(FieldClass); // Todo:
  //
  //  1: Need a generic way to initialize the stores.  This can't be inside
  // the component or it will revert to initial values on every render.
  // Kludged here for now to continue prototyping.
  //
  // 2: initialState (in initStore) will not arrive until WP 5.2.
  //

  Object(_admin_edit_pod_store_store__WEBPACK_IMPORTED_MODULE_2__["initStore"])(props);
  react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(Field(props), element);
}

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/renderers/react-renderer.js":
/*!*************************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/renderers/react-renderer.js ***!
  \*************************************************************/
/*! exports provided: reactRenderer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reactRenderer", function() { return reactRenderer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_field_container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/field-container */ "./ui/js/pods-dfv/src/components/field-container.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




function reactRenderer(FieldClass, element, props) {
  var Field = react__WEBPACK_IMPORTED_MODULE_0___default.a.createFactory(FieldClass);
  react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_field_container__WEBPACK_IMPORTED_MODULE_2__["PodsDFVFieldContainer"], _extends({
    fieldComponent: Field
  }, props)), element);
}

/***/ }),

/***/ "./ui/js/pods-dfv/src/field-manifest.js":
/*!**********************************************!*\
  !*** ./ui/js/pods-dfv/src/field-manifest.js ***!
  \**********************************************/
/*! exports provided: FileUpload, Pick, PodsDFVText, PodsDFVPassword, PodsDFVNumber, PodsDFVEmail, PodsDFVTextArea, PodsDFVEditPod */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _fields_file_upload_file_upload__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fields/file-upload/file-upload */ "./ui/js/pods-dfv/src/fields/file-upload/file-upload.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FileUpload", function() { return _fields_file_upload_file_upload__WEBPACK_IMPORTED_MODULE_0__["FileUpload"]; });

/* harmony import */ var _fields_pick_pick__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fields/pick/pick */ "./ui/js/pods-dfv/src/fields/pick/pick.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Pick", function() { return _fields_pick_pick__WEBPACK_IMPORTED_MODULE_1__["Pick"]; });

/* harmony import */ var _fields_text_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fields/text/text */ "./ui/js/pods-dfv/src/fields/text/text.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVText", function() { return _fields_text_text__WEBPACK_IMPORTED_MODULE_2__["PodsDFVText"]; });

/* harmony import */ var _fields_password_password__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fields/password/password */ "./ui/js/pods-dfv/src/fields/password/password.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVPassword", function() { return _fields_password_password__WEBPACK_IMPORTED_MODULE_3__["PodsDFVPassword"]; });

/* harmony import */ var _fields_number_number__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fields/number/number */ "./ui/js/pods-dfv/src/fields/number/number.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVNumber", function() { return _fields_number_number__WEBPACK_IMPORTED_MODULE_4__["PodsDFVNumber"]; });

/* harmony import */ var _fields_email_email__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fields/email/email */ "./ui/js/pods-dfv/src/fields/email/email.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVEmail", function() { return _fields_email_email__WEBPACK_IMPORTED_MODULE_5__["PodsDFVEmail"]; });

/* harmony import */ var _fields_textarea_textarea__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./fields/textarea/textarea */ "./ui/js/pods-dfv/src/fields/textarea/textarea.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVTextArea", function() { return _fields_textarea_textarea__WEBPACK_IMPORTED_MODULE_6__["PodsDFVTextArea"]; });

/* harmony import */ var _admin_edit_pod_edit_pod__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./admin/edit-pod/edit-pod */ "./ui/js/pods-dfv/src/admin/edit-pod/edit-pod.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVEditPod", function() { return _admin_edit_pod_edit_pod__WEBPACK_IMPORTED_MODULE_7__["PodsDFVEditPod"]; });










/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/email/email.js":
/*!**************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/email/email.js ***!
  \**************************************************/
/*! exports provided: PodsDFVEmail */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVEmail", function() { return PodsDFVEmail; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_base_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/base-input */ "./ui/js/pods-dfv/src/components/base-input.js");
/* harmony import */ var _validation_validation_rules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../validation/validation-rules */ "./ui/js/pods-dfv/src/validation/validation-rules.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* eslint-disable react/prop-types */



var PodsDFVEmail = function PodsDFVEmail(props) {
  props.validation.addRules([{
    rule: _validation_validation_rules__WEBPACK_IMPORTED_MODULE_2__["validationRules"].emailFormat(props.value),
    condition: true
  }]); // noinspection JSUnresolvedVariable

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_base_input__WEBPACK_IMPORTED_MODULE_1__["PodsDFVBaseInput"], _extends({
    type: '1' === props.fieldConfig.email_html5 ? 'email' : 'text'
  }, props));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file-upload/file-upload-model.js":
/*!********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file-upload/file-upload-model.js ***!
  \********************************************************************/
/*! exports provided: FileUploadModel, FileUploadCollection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadModel", function() { return FileUploadModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadCollection", function() { return FileUploadCollection; });
/*global jQuery, _, Backbone, PodsMn */

/**
 *
 */
var FileUploadModel = Backbone.Model.extend({
  defaults: {
    'id': 0,
    'icon': '',
    'name': '',
    'edit_link': '',
    'link': '',
    'download': ''
  }
});
/**
 *
 */

var FileUploadCollection = Backbone.Collection.extend({
  model: FileUploadModel
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file-upload/file-upload.js":
/*!**************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file-upload/file-upload.js ***!
  \**************************************************************/
/*! exports provided: FileUpload */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUpload", function() { return FileUpload; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/* harmony import */ var _file_upload_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./file-upload-model */ "./ui/js/pods-dfv/src/fields/file-upload/file-upload-model.js");
/* harmony import */ var _views_file_upload_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./views/file-upload-list */ "./ui/js/pods-dfv/src/fields/file-upload/views/file-upload-list.js");
/* harmony import */ var _views_file_upload_form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./views/file-upload-form */ "./ui/js/pods-dfv/src/fields/file-upload/views/file-upload-form.js");
/* harmony import */ var _uploaders_plupload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./uploaders/plupload */ "./ui/js/pods-dfv/src/fields/file-upload/uploaders/plupload.js");
/* harmony import */ var _uploaders_media_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./uploaders/media-modal */ "./ui/js/pods-dfv/src/fields/file-upload/uploaders/media-modal.js");
/*global jQuery, _, Backbone, PodsMn */
var template = "<div class=\"pods-ui-file-list pods-field-template-<%- fieldConfig.file_field_template %>\"></div>\n<div class=\"pods-ui-region\"></div>\n<div class=\"pods-ui-form\"></div>\n";






var Uploaders = [_uploaders_plupload__WEBPACK_IMPORTED_MODULE_4__["Plupload"], _uploaders_media_modal__WEBPACK_IMPORTED_MODULE_5__["MediaModal"]];
var UNLIMITED_FILES = 0;
/**
 * @extends Backbone.View
 */

var FileUpload = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsDFVFieldLayout"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  template: _.template(template),
  regions: {
    list: '.pods-ui-file-list',
    uiRegion: '.pods-ui-region',
    // "Utility" container for uploaders to use
    form: '.pods-ui-form'
  },
  childViewEvents: {
    'childview:remove:file:click': 'onChildviewRemoveFileClick',
    'childview:add:file:click': 'onChildviewAddFileClick'
  },
  uploader: {},

  /**
   *
   */
  onBeforeRender: function onBeforeRender() {
    if (this.collection === undefined) {
      this.collection = new _file_upload_model__WEBPACK_IMPORTED_MODULE_1__["FileUploadCollection"](this.fieldItemData);
    }
  },
  onRender: function onRender() {
    var listView = new _views_file_upload_list__WEBPACK_IMPORTED_MODULE_2__["FileUploadList"]({
      collection: this.collection,
      fieldModel: this.model
    });
    var formView = new _views_file_upload_form__WEBPACK_IMPORTED_MODULE_3__["FileUploadForm"]({
      fieldModel: this.model
    });
    this.showChildView('list', listView);
    this.showChildView('form', formView); // Setup the uploader and listen for a response event

    this.uploader = this.createUploader();
    this.listenTo(this.uploader, 'added:files', this.onAddedFiles);
  },

  /**
   * Fired by a remove:file:click trigger in any child view
   *
   * @param childView View that was the source of the event
   */
  onChildviewRemoveFileClick: function onChildviewRemoveFileClick(childView) {
    this.collection.remove(childView.model);
  },

  /**
   * Fired by a add:file:click trigger in any child view
   *
   * plupload fields should never generate this event, it places a shim over our button and handles the
   * event internally.  But this event does still come through with plupload fields in some browser
   * environments for reasons we've been unable to determine.
   */
  onChildviewAddFileClick: function onChildviewAddFileClick() {
    // Invoke the uploader
    if ('function' === typeof this.uploader.invoke) {
      this.uploader.invoke();
    }
  },

  /**
   * Concrete uploader implementations simply need to: this.trigger( 'added:files', newFiles )
   *
   * @param {Object[]} data An array of model objects to be added
   */
  onAddedFiles: function onAddedFiles(data) {
    var fieldConfig = this.model.get('fieldConfig');
    var fileLimit = +fieldConfig['file_limit']; // Unary plus to force to number

    var newCollection, filteredModels; // Get a copy of the existing collection with the new files added

    newCollection = this.collection.clone();
    newCollection.add(data); // Enforce the file limit option if one is set

    if (UNLIMITED_FILES === fileLimit) {
      filteredModels = newCollection.models;
    } else {
      // Number of uploads is limited: keep the last N models, FIFO/queue style
      filteredModels = newCollection.filter(function (model) {
        return newCollection.indexOf(model) >= newCollection.length - fileLimit;
      });
    }

    this.collection.reset(filteredModels);
  },
  createUploader: function createUploader() {
    var fieldConfig = this.model.get('fieldConfig');
    var targetUploader = fieldConfig['file_uploader'];
    var Uploader;
    jQuery.each(Uploaders, function (index, thisUploader) {
      if (targetUploader === thisUploader.prototype.fileUploader) {
        Uploader = thisUploader;
        return false;
      }
    });

    if (Uploader !== undefined) {
      this.uploader = new Uploader({
        // We provide regular DOM element for the button
        browseButton: this.getRegion('form').getEl('.pods-dfv-list-add').get(),
        uiRegion: this.getRegion('uiRegion'),
        fieldConfig: fieldConfig
      });
      return this.uploader;
    } else {
      // @todo sprintf type with PodsI18n.__()
      throw "Could not locate file uploader '".concat(targetUploader, "'");
    }
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file-upload/uploaders/media-modal.js":
/*!************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file-upload/uploaders/media-modal.js ***!
  \************************************************************************/
/*! exports provided: MediaModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MediaModal", function() { return MediaModal; });
/* harmony import */ var _pods_file_uploader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pods-file-uploader */ "./ui/js/pods-dfv/src/fields/file-upload/uploaders/pods-file-uploader.js");
/* eslint-disable camelcase */

/*global jQuery, _, Backbone, PodsMn, wp, PodsI18n */

var MediaModal = _pods_file_uploader__WEBPACK_IMPORTED_MODULE_0__["PodsFileUploader"].extend({
  mediaObject: {},
  fileUploader: 'attachment',
  invoke: function invoke() {
    if (wp.Uploader.defaults.filters.mime_types === undefined) {
      wp.Uploader.defaults.filters.mime_types = [{
        title: PodsI18n.__('Allowed Files'),
        extensions: '*'
      }];
    }

    var defaultExt = wp.Uploader.defaults.filters.mime_types[0].extensions;
    wp.Uploader.defaults.filters.mime_types[0].extensions = this.fieldConfig['limit_extensions']; // set our settings
    // noinspection EqualityComparisonWithCoercionJS ("1" is every bit as valid to us as 1)

    this.mediaObject = wp.media({
      title: this.fieldConfig['file_modal_title'],
      multiple: 1 != this.fieldConfig['file_limit'],
      library: {
        type: this.fieldConfig['limit_types']
      },
      // Customize the submit button.
      button: {
        // Set the text of the button.
        text: this.fieldConfig['file_modal_add_button']
      }
    }); // One-shot callback ( event, callback, context )

    this.mediaObject.once('select', this.onMediaSelect, this); // open the frame

    this.mediaObject.open();
    this.mediaObject.content.mode(this.fieldConfig['file_attachment_tab']); // Reset the allowed file extensions

    wp.Uploader.defaults.filters.mime_types[0].extensions = defaultExt;
  },
  onMediaSelect: function onMediaSelect() {
    var selection = this.mediaObject.state().get('selection');
    var newFiles = [];

    if (!selection) {
      return;
    } // loop through the selected files


    selection.each(function (attachment) {
      var sizes = attachment.attributes.sizes;
      var attachmentThumbnail; // by default use the generic icon

      attachmentThumbnail = attachment.attributes.icon; // only thumbnails have sizes which is what we're on the hunt for

      if (sizes !== undefined) {
        // Get thumbnail if it exists
        if (sizes.thumbnail !== undefined && sizes.thumbnail.url !== undefined) {
          attachmentThumbnail = sizes.thumbnail.url;
        } else if (sizes.full !== undefined && sizes.full.url !== undefined) {
          // If thumbnail doesn't exist, get full because this is a small image
          attachmentThumbnail = sizes.full.url;
        }
      }

      newFiles.push({
        id: attachment.attributes.id,
        icon: attachmentThumbnail,
        name: attachment.attributes.title,
        edit_link: attachment.attributes.editLink,
        link: attachment.attributes.link,
        download: attachment.attributes.url
      });
    }); // Fire an event with an array of models to be added

    this.trigger('added:files', newFiles);
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file-upload/uploaders/plupload.js":
/*!*********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file-upload/uploaders/plupload.js ***!
  \*********************************************************************/
/*! exports provided: Plupload */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Plupload", function() { return Plupload; });
/* harmony import */ var _pods_file_uploader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pods-file-uploader */ "./ui/js/pods-dfv/src/fields/file-upload/uploaders/pods-file-uploader.js");
/* harmony import */ var _views_file_upload_queue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/file-upload-queue */ "./ui/js/pods-dfv/src/fields/file-upload/views/file-upload-queue.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/* eslint-disable camelcase */

/*global jQuery, _, Backbone, PodsMn, wp, plupload, PodsI18n */


var Plupload = _pods_file_uploader__WEBPACK_IMPORTED_MODULE_0__["PodsFileUploader"].extend({
  plupload: {},
  fileUploader: 'plupload',
  initialize: function initialize() {
    // Set the browse button argument for plupload... it's required
    this.fieldConfig['plupload_init']['browse_button'] = this.browseButton;
    this.plupload = new plupload.Uploader(this.fieldConfig['plupload_init']);
    this.plupload.init(); // Setup all callbacks: ( event_name, callback, context )

    this.plupload.bind('FilesAdded', this.onFilesAdded, this);
    this.plupload.bind('UploadProgress', this.onUploadProgress, this);
    this.plupload.bind('FileUploaded', this.onFileUploaded, this);
  },

  /**
   * Fired after files have been selected from the dialog
   *
   * @param up
   * @param files
   */
  onFilesAdded: function onFilesAdded(up, files) {
    var model, collection, view; // Assemble the collection data for the file queue

    collection = new Backbone.Collection();
    jQuery.each(files, function (index, file) {
      model = new _views_file_upload_queue__WEBPACK_IMPORTED_MODULE_1__["FileUploadQueueModel"]({
        id: file.id,
        filename: file.name
      });
      collection.add(model);
    }); // Create a new view based on the collection

    view = new _views_file_upload_queue__WEBPACK_IMPORTED_MODULE_1__["FileUploadQueue"]({
      collection: collection
    });
    view.render(); // Generate the HTML, not attached to the DOM yet
    // Reset the region in case any error messages are hanging around from a previous upload
    // and show the new file upload queue

    this.uiRegion.reset();
    this.uiRegion.show(view); // Stash references

    this.queueCollection = collection;
    up.refresh();
    up.start();
  },

  /**
   *
   * @param up
   * @param file
   */
  onUploadProgress: function onUploadProgress(up, file) {
    var model = this.queueCollection.get(file.id);
    model.set({
      progress: file.percent
    });
  },

  /**
   *
   * @param up
   * @param file
   * @param resp
   */
  onFileUploaded: function onFileUploaded(up, file, resp) {
    var model = this.queueCollection.get(file.id);
    var response = resp.response;
    var newFile = [];
    var json; // Error condition 1

    if ('Error: ' === resp.response.substr(0, 7)) {
      response = response.substr(7);

      if (window.console) {
        console.log(response);
      }

      model.set({
        progress: 0,
        errorMsg: response
      }); // Error condition 2
    } else if ('<e>' === resp.response.substr(0, 3)) {
      response = jQuery(response).text(); // Strip tags, text only

      if (window.console) {
        console.log(response);
      }

      model.set({
        progress: 0,
        errorMsg: response
      });
    } else {
      json = response.match(/{.*}$/);

      if (null !== json && 0 < json.length) {
        json = jQuery.parseJSON(json[0]);
      } else {
        json = {};
      }

      if ('object' !== _typeof(json) || jQuery.isEmptyObject(json)) {
        if (window.console) {
          console.log(response);
        }

        if (window.console) {
          console.log(json);
        }

        model.set({
          progress: 0,
          errorMsg: PodsI18n.__('Error uploading file: ') + file.name
        });
        return;
      }

      newFile = {
        id: json.ID,
        icon: json.thumbnail,
        name: json.post_title,
        edit_link: json.edit_link,
        link: json.link,
        download: json.download
      }; // Remove the file from the upload queue model and trigger an event for the hosting container

      model.trigger('destroy', model);
      this.trigger('added:files', newFile);
    }
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file-upload/uploaders/pods-file-uploader.js":
/*!*******************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file-upload/uploaders/pods-file-uploader.js ***!
  \*******************************************************************************/
/*! exports provided: PodsFileUploader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsFileUploader", function() { return PodsFileUploader; });
/*global jQuery, _, Backbone, PodsMn */

/**
 *
 * @param {Object} options
 *
 * @param {Object} options.browseButton   Existing and attached DOM node
 * @param {Object} options.uiRegion       Marionette.Region object
 * @param {Object} options.fieldConfig
 *
 * @param {string} options.fieldConfig.file_modal_title
 * @param {string} options.fieldConfig.file_modal_add_button
 * @param {string} options.fieldConfig.file_limit
 * @param {string} options.fieldConfig.limit_extensions
 * @param {string} options.fieldConfig.limit_types
 * @param {string} options.fieldConfig.file_attachment_tab
 *
 * @param {Object} options.fieldConfig.plupload_init
 * @param {Object} options.fieldConfig.plupload_init.browse_button
 *
 * @class
 */
var PodsFileUploader = PodsMn.Object.extend({
  constructor: function constructor(options) {
    // Magically set the object properties we need, they'll just "be there" for the concrete instance
    this.browseButton = options.browseButton;
    this.uiRegion = options.uiRegion;
    this.fieldConfig = options.fieldConfig;
    PodsMn.Object.call(this, options);
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file-upload/views/file-upload-form.js":
/*!*************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file-upload/views/file-upload-form.js ***!
  \*************************************************************************/
/*! exports provided: FileUploadForm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadForm", function() { return FileUploadForm; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<a class=\"button pods-dfv-list-add\" href=\"#\" tabindex=\"2\"><%= fieldConfig.file_add_button %></a>";

var FileUploadForm = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'div',
  template: _.template(template),
  ui: {
    addButton: '.pods-dfv-list-add'
  },
  triggers: {
    'click @ui.addButton': 'childview:add:file:click'
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file-upload/views/file-upload-list.js":
/*!*************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file-upload/views/file-upload-list.js ***!
  \*************************************************************************/
/*! exports provided: FileUploadItem, FileUploadList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadItem", function() { return FileUploadItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadList", function() { return FileUploadList; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<input\n\tname=\"<%- htmlAttr.name %>[<%- id %>][id]\"\n\tdata-name-clean=\"<%- htmlAttr.name_clean %>-id\"\n\tid=\"<%- htmlAttr.id %>-<%- id %>-id\"\n\tclass=\"<%- htmlAttr.class %>\"\n\ttype=\"hidden\"\n\tvalue=\"<%- id %>\" />\n<ul class=\"pods-dfv-list-meta media-item\">\n\t<% if ( 1 != fieldConfig.file_limit ) { %>\n\t\t<li class=\"pods-dfv-list-col pods-dfv-list-handle\"><span><%- PodsI18n.__( 'Reorder' ) %></span></li>\n\t<% } %>\n\t<li class=\"pods-dfv-list-col pods-dfv-list-icon\"><img class=\"pinkynail\" src=\"<%- icon %>\" alt=\"<%- PodsI18n.__( 'Icon' ) %>\"></li>\n\t<li class=\"pods-dfv-list-col pods-dfv-list-name\">\n\t\t<% if ( 0 != fieldConfig.file_edit_title ) { %>\n\t\t\t<input\n\t\t\t\tname=\"<%- htmlAttr.name %>[<%- id %>][title]\"\n\t\t\t\tdata-name-clean=\"<%- htmlAttr.name_clean %>-title\"\n\t\t\t\tid=\"pods-form-ui-<%- htmlAttr.name_clean %>-<%- id %>-title\"\n\t\t\t\tclass=\"pods-form-ui-field-type-text pods-form-ui-field-name-<%- htmlAttr.name_clean %>-title\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tvalue=\"<%- name %>\"\n\t\t\t\ttabindex=\"2\"\n\t\t\t\tmaxlength=\"255\" />\n\t\t<% } else { %>\n\t\t\t<%- name %>\n\t\t<% } %>\n\t</li>\n\t<li class=\"pods-dfv-list-col pods-dfv-list-actions\">\n\t\t<ul>\n\t\t\t<li class=\"pods-dfv-list-col pods-dfv-list-remove\">\n\t\t\t\t<a href=\"#remove\" title=\"<%- PodsI18n.__( 'Deselect' ) %>\"><%- PodsI18n.__( 'Deselect' ) %></a>\n\t\t\t</li>\n\t\t\t<% if ( 1 == fieldConfig.file_linked && '' != download ) { %>\n\t\t\t\t<li class=\"pods-dfv-list-col pods-dfv-list-download\">\n\t\t\t\t\t<a href=\"<%- download %>\" target=\"_blank\" title=\"<%- PodsI18n.__( 'Download' ) %>\"><%- PodsI18n.__( 'Download' ) %></a>\n\t\t\t\t</li>\n\t\t\t<% } %>\n\t\t\t<% if ( 1 == fieldConfig.file_show_edit_link && '' != edit_link ) { %>\n\t\t\t\t<li class=\"pods-dfv-list-col pods-dfv-list-edit\">\n\t\t\t\t\t<a href=\"<%- edit_link %>\" target=\"_blank\" title=\"<%- PodsI18n.__( 'Edit' ) %>\"><%- PodsI18n.__( 'Edit' ) %></a>\n\t\t\t\t</li>\n\t\t\t<% } %>\n\t\t</ul>\n\t</li>\n</ul>\n";

/**
 * Individual list items, representing a single file
 */

var FileUploadItem = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'li',
  template: _.template(template),
  className: 'pods-dfv-list-item',
  ui: {
    dragHandle: '.pods-dfv-list-handle',
    editLink: '.pods-dfv-list-edit-link',
    viewLink: '.pods-dfv-list-link',
    downloadLink: '.pods-dfv-list-download',
    removeButton: '.pods-dfv-list-remove',
    itemName: '.pods-dfv-list-name'
  },
  triggers: {
    'click @ui.removeButton': 'remove:file:click'
  }
});
/**
 * The file list container
 */

var FileUploadList = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldListView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'ul',
  className: 'pods-dfv-list',
  childView: FileUploadItem,
  childViewTriggers: {
    'remove:file:click': 'childview:remove:file:click'
  },
  onAttach: function onAttach() {
    var fieldConfig = this.options.fieldModel.get('fieldConfig');
    var sort_axis = 'y'; // @todo
    // http://stackoverflow.com/questions/1735372/jquery-sortable-list-scroll-bar-jumps-up-when-sorting/4187833#4187833

    if (1 != fieldConfig['file_limit']) {
      if ('tiles' == fieldConfig['file_field_template']) {
        sort_axis = '';
      } // init sortable


      this.$el.sortable({
        containment: 'parent',
        axis: sort_axis,
        scrollSensitivity: 40,
        tolerance: 'pointer',
        opacity: 0.6
      });
    }
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file-upload/views/file-upload-queue.js":
/*!**************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file-upload/views/file-upload-queue.js ***!
  \**************************************************************************/
/*! exports provided: FileUploadQueueModel, FileUploadQueueItem, FileUploadQueue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadQueueModel", function() { return FileUploadQueueModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadQueueItem", function() { return FileUploadQueueItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadQueue", function() { return FileUploadQueue; });
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<ul class=\"pods-dfv-list-meta media-item\">\n\t<% if ( '' === errorMsg ) { %>\n\t\t<li class=\"pods-dfv-list-col pods-progress\"><div class=\"progress-bar\" style=\"width: <%- progress %>%;\"></div></li>\n\t<% } %>\n\t<li class=\"pods-dfv-list-col pods-dfv-list-name\"><%- filename %></li>\n</ul>\n<% if ( '' !== errorMsg ) { %>\n\t<div class=\"error\"><%- errorMsg %></div>\n<% } %>\n";
var FileUploadQueueModel = Backbone.Model.extend({
  defaults: {
    id: 0,
    filename: '',
    progress: 0,
    errorMsg: ''
  }
});
/**
 *
 */

var FileUploadQueueItem = PodsMn.View.extend({
  model: FileUploadQueueModel,
  tagName: 'li',
  template: _.template(template),
  attributes: function attributes() {
    return {
      "class": 'pods-dfv-list-item',
      id: this.model.get('id')
    };
  },
  modelEvents: {
    'change': 'onModelChanged'
  },
  onModelChanged: function onModelChanged() {
    this.render();
  }
});
/**
 *
 */

var FileUploadQueue = PodsMn.CollectionView.extend({
  tagName: 'ul',
  className: 'pods-dfv-list pods-dfv-list-queue',
  childView: FileUploadQueueItem
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/number/number.js":
/*!****************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/number/number.js ***!
  \****************************************************/
/*! exports provided: PodsDFVNumber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVNumber", function() { return PodsDFVNumber; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_base_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/base-input */ "./ui/js/pods-dfv/src/components/base-input.js");
/* harmony import */ var _validation_validation_rules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../validation/validation-rules */ "./ui/js/pods-dfv/src/validation/validation-rules.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* eslint-disable react/prop-types */



var PodsDFVNumber = function PodsDFVNumber(props) {
  // noinspection JSUnresolvedVariable
  props.validation.addRules([{
    rule: _validation_validation_rules__WEBPACK_IMPORTED_MODULE_2__["validationRules"].max(props.value, props.fieldConfig.number_max),
    condition: true
  }, {
    rule: _validation_validation_rules__WEBPACK_IMPORTED_MODULE_2__["validationRules"].min(props.value, props.fieldConfig.number_min),
    condition: true
  }]); // noinspection JSUnresolvedVariable

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_base_input__WEBPACK_IMPORTED_MODULE_1__["PodsDFVBaseInput"], _extends({
    type: '1' === props.fieldConfig.number_html5 ? 'number' : 'text',
    min: props.fieldConfig.number_min,
    max: props.fieldConfig.number_max
  }, props));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/password/password.js":
/*!********************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/password/password.js ***!
  \********************************************************/
/*! exports provided: PodsDFVPassword */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVPassword", function() { return PodsDFVPassword; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_base_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/base-input */ "./ui/js/pods-dfv/src/components/base-input.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var PodsDFVPassword = function PodsDFVPassword(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_base_input__WEBPACK_IMPORTED_MODULE_1__["PodsDFVBaseInput"], _extends({
    type: "password"
  }, props));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/pick-field-model.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/pick-field-model.js ***!
  \************************************************************/
/*! exports provided: PickFieldModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PickFieldModel", function() { return PickFieldModel; });
/*global jQuery, _, Backbone, PodsMn */
var PickFieldModel = Backbone.Model.extend({
  defaults: {
    'view_name': 'select',
    'iframe_src': '',
    'pick_format_type': 'single',
    'pick_show_icon': false,
    'pick_show_view_link': false,
    'pick_show_edit_link': false
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/pick.js":
/*!************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/pick.js ***!
  \************************************************/
/*! exports provided: Pick */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pick", function() { return Pick; });
/* harmony import */ var _core_pods_field_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/pods-field-model */ "./ui/js/pods-dfv/src/core/pods-field-model.js");
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/* harmony import */ var _core_iframe_frame__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/iframe-frame */ "./ui/js/pods-dfv/src/core/iframe-frame.js");
/* harmony import */ var _relationship_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./relationship-model */ "./ui/js/pods-dfv/src/fields/pick/relationship-model.js");
/* harmony import */ var _pick_field_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pick-field-model */ "./ui/js/pods-dfv/src/fields/pick/pick-field-model.js");
/* harmony import */ var _views_radio_view__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./views/radio-view */ "./ui/js/pods-dfv/src/fields/pick/views/radio-view.js");
/* harmony import */ var _views_checkbox_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./views/checkbox-view */ "./ui/js/pods-dfv/src/fields/pick/views/checkbox-view.js");
/* harmony import */ var _views_select_view__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./views/select-view */ "./ui/js/pods-dfv/src/fields/pick/views/select-view.js");
/* harmony import */ var _views_list_view__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./views/list-view */ "./ui/js/pods-dfv/src/fields/pick/views/list-view.js");
/* harmony import */ var _views_add_new__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./views/add-new */ "./ui/js/pods-dfv/src/fields/pick/views/add-new.js");
/* eslint-disable camelcase */

/*global jQuery, _, Backbone, PodsMn, wp, PodsI18n */
var template = "<%if ( fieldConfig.view_name === 'list' ) { %>\n\t<div class=\"pods-ui-list-autocomplete\"></div>\n<% } %>\n\n<div class=\"pods-pick-values\"></div>\n\n<% if ( fieldConfig.iframe_src != '' ) { %>\n\t<div class=\"pods-ui-add-new\"></div>\n<% } %>";










var views = {
  'checkbox': _views_checkbox_view__WEBPACK_IMPORTED_MODULE_6__["CheckboxView"],
  'select': _views_select_view__WEBPACK_IMPORTED_MODULE_7__["SelectView"],
  'select2': _views_select_view__WEBPACK_IMPORTED_MODULE_7__["SelectView"],
  // SelectView handles select2 as well
  'radio': _views_radio_view__WEBPACK_IMPORTED_MODULE_5__["RadioView"],
  'list': _views_list_view__WEBPACK_IMPORTED_MODULE_8__["ListView"]
};
var modalIFrame;
/**
 * @extends Backbone.View
 */

var Pick = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_1__["PodsDFVFieldLayout"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  template: _.template(template),
  regions: {
    autocomplete: '.pods-ui-list-autocomplete',
    list: '.pods-pick-values',
    addNew: '.pods-ui-add-new'
  },
  childViewEvents: {
    'childview:remove:item:click': 'onChildviewRemoveItemClick',
    'childview:edit:item:click': 'onChildviewEditItemClick',
    'childview:selection:limit:over': 'onChildviewSelectionLimitOver',
    'childview:selection:limit:under': 'onChildviewSelectionLimitUnder',
    'childview:change:selected': 'onChildviewChangeSelected',
    'childview:add:new': 'onChildviewAddNew'
  },

  /**
   *
   */
  onBeforeRender: function onBeforeRender() {
    if (this.collection === undefined) {
      this.collection = new _relationship_model__WEBPACK_IMPORTED_MODULE_3__["RelationshipCollection"](this.fieldItemData);
    }
  },

  /**
   *
   */
  onRender: function onRender() {
    this.fieldConfig = new _pick_field_model__WEBPACK_IMPORTED_MODULE_4__["PickFieldModel"](this.model.get('fieldConfig')); // Add New?
    // noinspection EqualityComparisonWithCoercionJS (why would we reject "1"?)

    if ('' !== this.fieldConfig.get('iframe_src') && 1 == this.fieldConfig.get('pick_allow_add_new')) {
      this.showAddNew();
    } // Autocomplete?


    if ('list' === this.fieldConfig.get('view_name')) {
      this.buildAutocomplete();
    } // Build the list last, events fired by the list (like selection limit) may impact state in other views we manage


    this.showList();
  },

  /**
   * This is for the List View's autocomplete for select from existing
   */
  buildAutocomplete: function buildAutocomplete() {
    var fieldConfig, model, collection, view;
    var pickLimit = +this.fieldConfig.get('pick_limit'); // Unary plus forces cast to number

    fieldConfig = {
      view_name: 'select2',
      pick_format_type: 'multi',
      selectFromExisting: true,
      ajax_data: this.fieldConfig.get('ajax_data'),
      select2_overrides: this.fieldConfig.get('select2_overrides'),
      label: this.fieldConfig.get('label'),
      pick_limit: pickLimit
    }; // The autocomplete portion of List View doesn't track selected items; disable if we're at the selection limit

    if (this.collection.filterBySelected().length >= pickLimit && 0 !== pickLimit) {
      fieldConfig.limitDisable = true;
      this.onChildviewSelectionLimitOver();
    } else {
      this.onChildviewSelectionLimitUnder();
    }

    model = new _core_pods_field_model__WEBPACK_IMPORTED_MODULE_0__["PodsDFVFieldModel"]({
      fieldConfig: fieldConfig
    });
    collection = this.collection.filterByUnselected();
    view = new _views_select_view__WEBPACK_IMPORTED_MODULE_7__["SelectView"]({
      collection: collection,
      fieldModel: model
    }); // Provide a custom list filter for the autocomplete portion's AJAX data lists

    view.filterAjaxList = this.filterAjaxList.bind(this); // Rebuild from scratch

    this.showChildView('autocomplete', view);
  },

  /**
   *
   */
  showList: function showList() {
    var viewName, View, list; // Setup the view to be used

    viewName = this.fieldConfig.get('view_name');

    if (views[viewName] === undefined) {
      throw new Error("Invalid view name \"".concat(viewName, "\""));
    }

    View = views[viewName];
    list = new View({
      collection: this.collection,
      fieldModel: this.model
    });
    this.showChildView('list', list);
  },

  /**
   *
   */
  showAddNew: function showAddNew() {
    var addNew = new _views_add_new__WEBPACK_IMPORTED_MODULE_9__["AddNew"]({
      fieldModel: this.model
    });
    this.showChildView('addNew', addNew);
  },

  /**
   * List Views need to filter items already selected from their select from existing list.  The AJAX function
   * itself does not filter.
   *
   * @param data
   */
  filterAjaxList: function filterAjaxList(data) {
    var selectedItems = this.collection.filterBySelected();
    var returnList = []; // Loop through the items returned via ajax

    _.each(data.results, function (element) {
      element.text = element.name; // Select2 needs the "text" key but our model uses "name"
      // Only keep choices that haven't been selected yet, we don't want selected items in the autocomplete portion

      if (!selectedItems.get(element.id)) {
        returnList.push(element);
      }
    }); // The collection may be partial in ajax mode, make sure we add any items we didn't yet have


    this.collection.add(returnList);
    this.getChildView('autocomplete').setCollection(this.collection.filterByUnselected());
    return {
      'results': returnList
    };
  },

  /**
   *
   * @param childView
   */
  onChildviewSelectionLimitOver: function onChildviewSelectionLimitOver(childView) {
    var addNew = this.getChildView('addNew');

    if (addNew) {
      addNew.disable();
    }
  },

  /**
   *
   * @param childView
   */
  onChildviewSelectionLimitUnder: function onChildviewSelectionLimitUnder(childView) {
    var addNew = this.getChildView('addNew');

    if (addNew) {
      addNew.enable();
    }
  },

  /**
   * "Remove" in list view just toggles an item's selected attribute
   *
   * @param childView
   */
  onChildviewRemoveItemClick: function onChildviewRemoveItemClick(childView) {
    childView.model.toggleSelected();
    this.getChildView('list').render(); // Keep autocomplete in sync, removed items should now be available choices

    if ('list' === this.fieldConfig.get('view_name')) {
      this.buildAutocomplete();
    }
  },

  /**
   * @param childView
   */
  onChildviewAddNew: function onChildviewAddNew(childView) {
    var fieldConfig = this.model.get('fieldConfig');
    modalIFrame = new _core_iframe_frame__WEBPACK_IMPORTED_MODULE_2__["IframeFrame"]({
      title: fieldConfig.iframe_title_add,
      src: fieldConfig.iframe_src
    });
    this.setModalListeners();
    modalIFrame.modal.open();
  },

  /**
   * @param childView
   */
  onChildviewEditItemClick: function onChildviewEditItemClick(childView) {
    var fieldConfig = this.model.get('fieldConfig');
    modalIFrame = new _core_iframe_frame__WEBPACK_IMPORTED_MODULE_2__["IframeFrame"]({
      title: fieldConfig.iframe_title_edit,
      src: childView.ui.editButton.attr('href')
    });
    this.setModalListeners();
    modalIFrame.modal.open();
  },

  /**
   *
   * @param childView
   */
  onChildviewChangeSelected: function onChildviewChangeSelected(childView) {
    // Refresh the autocomplete and List View lists on autocomplete selection
    if (childView.fieldConfig.selectFromExisting) {
      _.defer(this.buildAutocomplete.bind(this));

      this.getChildView('list').render();
    }
  },
  setModalListeners: function setModalListeners() {
    jQuery(window).on('dfv:modal:update', this.modalSuccess.bind(this));
    jQuery(window).on('dfv:modal:cancel', this.modalCancel.bind(this));
  },
  clearModalListeners: function clearModalListeners() {
    jQuery(window).off('dfv:modal:update');
    jQuery(window).off('dfv:modal:cancel');
  },

  /**
   * @param event
   * @param data
   */
  modalSuccess: function modalSuccess(event, data) {
    var itemModel = this.collection.get(data.id);

    if (itemModel) {
      // Edit: update an existing model and force a re-render
      itemModel.set(data);
      this.getChildView('list').render();
    } else {
      // Add new: create a new model in the collection
      this.collection.add(data);
    }

    this.clearModalListeners();
    modalIFrame.modal.close({});
  },

  /**
   *
   */
  modalCancel: function modalCancel() {
    this.clearModalListeners();
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/relationship-model.js":
/*!**************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/relationship-model.js ***!
  \**************************************************************/
/*! exports provided: RelationshipModel, RelationshipCollection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RelationshipModel", function() { return RelationshipModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RelationshipCollection", function() { return RelationshipCollection; });
/*global jQuery, _, Backbone, PodsMn */

/**
 *
 */
var RelationshipModel = Backbone.Model.extend({
  defaults: {
    'id': 0,
    'name': '',
    'icon': '',
    'link': '',
    'edit_link': '',
    'selected': false
  },
  toggleSelected: function toggleSelected() {
    this.set('selected', !this.get('selected'));
  }
});
/**
 *
 */

var RelationshipCollection = Backbone.Collection.extend({
  model: RelationshipModel,

  /**
   *
   * @param { ?string[] } ids
   */
  setSelected: function setSelected(ids) {
    this.map(function (thisModel) {
      var selected = _.contains(ids, thisModel.get('id') + '');

      thisModel.set('selected', selected);
    });
  },

  /**
   * Return a new collection containing just the selected items in this one
   *
   * @returns {*}
   */
  filterBySelected: function filterBySelected() {
    // Get an array with only the selected items
    var filtered = this.filter(function (itemModel) {
      return itemModel.get('selected');
    }); // this.filter is going to return an array, so create a collection out of it

    return new RelationshipCollection(filtered);
  },

  /**
   * Return a new collection containing just the unselected items in this one
   *
   * @returns {*}
   */
  filterByUnselected: function filterByUnselected() {
    // Get an array with only the unselected items
    var filtered = this.filter(function (itemModel) {
      return !itemModel.get('selected');
    }); // this.filter is going to return an array, so create a collection out of it

    return new RelationshipCollection(filtered);
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/views/add-new.js":
/*!*********************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/views/add-new.js ***!
  \*********************************************************/
/*! exports provided: AddNew */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddNew", function() { return AddNew; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<a href=\"/wp-admin?pods_modal=1\"\n\t\tclass=\"button pods-related-add-new pods-modal\"\n\t\tdata-pod-id=\"<%- fieldConfig.pod_id %>\"\n\t\tdata-field-id=\"<%- fieldConfig.id %>\"\n\t\tdata-item-id=\"<%- fieldConfig.item_id %>\">\n\t<%- PodsI18n.__( 'Add New' ) %>\n</a>\n";

var DISABLED_CLASS = 'button-disabled';
var AddNew = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'div',
  className: 'podsform-dfv-list-relationship-container',
  ui: {
    addButton: 'a.pods-related-add-new'
  },
  template: _.template(template),
  triggers: {
    'click @ui.addButton': 'add:new:click'
  },

  /**
   *
   */
  disable: function disable() {
    var addButton = this.getUI('addButton');
    addButton.addClass(DISABLED_CLASS); // Note: this just styles the link (button), click event enforces
  },

  /**
   *
   */
  enable: function enable() {
    var addButton = this.getUI('addButton');
    addButton.removeClass(DISABLED_CLASS); // Note: this just styles the link (button), click event enforces
  },

  /**
   *
   */
  onAddNewClick: function onAddNewClick() {
    var addButton = this.getUI('addButton'); // Only pass the event up the view chain if we're enabled

    if (!addButton.hasClass(DISABLED_CLASS)) {
      this.trigger('childview:add:new', this);
    }
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/views/checkbox-view.js":
/*!***************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/views/checkbox-view.js ***!
  \***************************************************************/
/*! exports provided: CheckboxItem, CheckboxView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckboxItem", function() { return CheckboxItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckboxView", function() { return CheckboxView; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<div class=\"pods-field pods-boolean\">\n\t<input\n\t\tname=\"<%- htmlAttr.name %>[<%= ordinal %>]\"\n\t\t<%= selected ? 'checked=\"checked\"' : '' %>\n\t\tdata-name-clean=\"<%- htmlAttr.name_clean %>\"\n\t\tdata-label=\"<%- fieldConfig.label %>\"\n\t\tid=\"<%- htmlAttr.id %><%= ordinal %>\"\n\t\tclass=\"pods-form-ui-field-type-pick\"\n\t\ttype=\"checkbox\" tabindex=\"2\" value=\"<%- id %>\">\n\t<label class=\"pods-form-ui-label\" for=\"<%- htmlAttr.id %><%= ordinal %>\">\n\t\t<%= name %>\n\t</label>\n</div>\n";

/**
 *
 */

var CheckboxItem = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'li',
  template: _.template(template),
  className: 'pods-pick',
  ui: {
    checkbox: 'input.pods-form-ui-field-type-pick'
  },
  triggers: {
    'click @ui.checkbox': 'toggle:selected'
  },
  modelEvents: {
    'change': 'modelChanged'
  },
  templateContext: function templateContext() {
    return {
      ordinal: this.model.collection.indexOf(this.model)
    };
  },
  modelChanged: function modelChanged() {
    this.render();
  }
});
/**
 *
 */

var CheckboxView = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldListView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'ul',
  className: 'pods-checkbox-view',
  childView: CheckboxItem,
  childViewEvents: {
    'toggle:selected': 'onChildviewToggleSelected'
  },

  /**
   *
   */
  onAttach: function onAttach() {
    // Check initial selection limit status and enforce it if needed
    if (!this.validateSelectionLimit()) {
      this.selectionLimitOver();
    }
  },

  /**
   *
   * @param childView
   */
  onChildviewToggleSelected: function onChildviewToggleSelected(childView) {
    childView.model.toggleSelected(); // Dynamically enforce selection limit

    if (this.validateSelectionLimit()) {
      this.selectionLimitUnder();
    } else {
      this.selectionLimitOver();
    }
  },

  /**
   * @returns {boolean} true if unlimited selections are allowed or we're below the selection limit
   */
  validateSelectionLimit: function validateSelectionLimit() {
    var fieldConfig = this.fieldModel.get('fieldConfig');
    var limit, numSelected;
    limit = +fieldConfig.pick_limit; // Unary plus will implicitly cast to number

    numSelected = this.collection.filterBySelected().length;
    return 0 === limit || numSelected < limit;
  },

  /**
   *
   */
  selectionLimitOver: function selectionLimitOver() {
    this.$el.find('input:checkbox:not(:checked)').prop('disabled', true);
    this.trigger('selection:limit:over', this);
  },

  /**
   *
   */
  selectionLimitUnder: function selectionLimitUnder() {
    this.$el.find('input:checkbox').prop('disabled', false);
    this.trigger('selection:limit:under', this);
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/views/list-view.js":
/*!***********************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/views/list-view.js ***!
  \***********************************************************/
/*! exports provided: ListItem, ListView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListItem", function() { return ListItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListView", function() { return ListView; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<input\n\t\t<% if ( 'single' === fieldConfig.pick_format_type ) { %>\n\t\t\tname=\"<%- htmlAttr.name %>\"\n\t\t\tid=\"<%- htmlAttr.id %>\"\n\t\t<% } else { %>\n\t\t\tname=\"<%- htmlAttr.name %>[<%= ordinal %>]\"\n\t\t\tid=\"<%- htmlAttr.id %><%= ordinal %>\"\n\t\t<% } %>\n\t\tdata-name-clean=\"<%- htmlAttr.name_clean %>\"\n\t\ttype=\"hidden\"\n\t\tvalue=\"<%- id %>\">\n<ul class=\"pods-dfv-list-meta relationship-item\">\n\t<% if ( 1 != fieldConfig.pick_limit ) { %>\n\t\t<li class=\"pods-dfv-list-col pods-dfv-list-handle\"><span><%- PodsI18n.__( 'Reorder' ) %></span></li>\n\t<% } %>\n\t<% if ( 1 == fieldConfig.pick_show_icon ) { %>\n\t\t<li class=\"pods-dfv-list-col pods-dfv-list-icon\">\n\t\t\t<% if ( '' == icon ) { %>\n\t\t\t\t<% if ( /^dashicons/.test( fieldConfig.default_icon ) ) { %>\n\t\t\t\t\t<span class=\"pinkynail dashicons <%- fieldConfig.default_icon %>\"></span>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<img class=\"pinkynail\" src=\"<%- fieldConfig.default_icon %>\" alt=\"Icon\">\n\t\t\t\t<% } %>\n\t\t\t<% } else { %>\n\t\t\t\t<% if ( /^dashicons/.test( icon ) ) { %>\n\t\t\t\t\t<span class=\"pinkynail dashicons <%- icon %>\"></span>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<img class=\"pinkynail\" src=\"<%- icon %>\" alt=\"Icon\">\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\t\t</li>\n\t<% } %>\n\t<li class=\"pods-dfv-list-col pods-dfv-list-name\">\n\t\t<%= name %>\n\t</li>\n\t<li class=\"pods-dfv-list-col pods-dfv-list-remove\"><a href=\"#remove\" title=\"<%- PodsI18n.__( 'Deselect' ) %>\"><%- PodsI18n.__( 'Deselect' ) %></a></li>\n\t<% if ( 1 == fieldConfig.pick_show_view_link && '' != link ) { %>\n\t\t<li class=\"pods-dfv-list-col pods-dfv-list-link\"><a href=\"<%- link %>\" title=\"<%- PodsI18n.__( 'View' ) %>\"  target=\"_blank\"><%- PodsI18n.__( 'View' ) %></a></li>\n\t<% } %>\n\t<% if ( 1 == fieldConfig.pick_show_edit_link && '' != edit_link ) { %>\n\t\t<li class=\"pods-dfv-list-col pods-dfv-list-edit\"><a href=\"<%- edit_link %>\" title=\"<%- PodsI18n.__( 'Edit' ) %>\" target=\"_blank\"><%- PodsI18n.__( 'Edit' ) %></a></li>\n\t<% } %>\n</ul>\n";

/**
 *
 */

var ListItem = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'li',
  className: 'pods-dfv-list-item pods-relationship',
  template: _.template(template),
  ui: {
    removeButton: '.pods-dfv-list-remove a',
    editButton: '.pods-dfv-list-edit a'
  },
  triggers: {
    'click @ui.removeButton': 'remove:item:click',
    'click @ui.editButton': 'edit:item:click'
  },
  templateContext: function templateContext() {
    return {
      ordinal: this.model.collection.indexOf(this.model)
    };
  }
});
/**
 *  Represents the markup of the container as a whole
 */

var ListView = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldListView"].extend({
  // Cache the template function for the overall container
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'ul',
  className: 'pods-dfv-list pods-relationship',
  childView: ListItem,
  // Pass these up the containment chain
  childViewTriggers: {
    'remove:item:click': 'childview:remove:item:click',
    'edit:item:click': 'childview:edit:item:click'
  },
  filter: function filter(child, index, collection) {
    return child.attributes.selected;
  },
  onAttach: function onAttach() {
    var fieldConfig = this.options.fieldModel.get('fieldConfig'); // @todo
    // http://stackoverflow.com/questions/1735372/jquery-sortable-list-scroll-bar-jumps-up-when-sorting/4187833#4187833

    if (1 !== fieldConfig['pick_limit']) {
      // init sortable
      this.$el.sortable({
        containment: 'parent',
        axis: 'y',
        scrollSensitivity: 40,
        tolerance: 'pointer',
        opacity: 0.6
      });
    }
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/views/radio-view.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/views/radio-view.js ***!
  \************************************************************/
/*! exports provided: RadioItem, RadioView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RadioItem", function() { return RadioItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RadioView", function() { return RadioView; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<div class=\"pods-field pods-boolean\">\n\t<input\n\t\t\tname=\"<%- htmlAttr.name %>\"\n\t\t\tdata-name-clean=\"<%- htmlAttr.name_clean %>\"\n\t\t\tdata-label=\"<%- fieldConfig.label %>\"\n\t\t\tid=\"<%- htmlAttr.id %><%= ordinal %>\"\n\t\t\tclass=\"pods-form-ui-field-type-pick pods-form-ui-field-name-<%- htmlAttr.name_clean %>\"\n\t\t\ttype=\"radio\"\n\t\t\t<% if ( selected ) { %>\n\t\t\t\tchecked=\"CHECKED\"\n\t\t\t<% } %>\n\t\t\tvalue=\"<%- id %>\"\n\t\t\ttabindex=\"2\">\n\t<label\n\t\tclass=\"pods-form-ui-label pods-form-ui-label-<%- htmlAttr.id %><%= ordinal %>\"\n\t\tfor=\"<%- htmlAttr.id %><%= ordinal %>\">\n\t\t<%= name %>\n\t</label>\n</div>\n";

/**
 *
 */

var RadioItem = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'li',
  template: _.template(template),
  templateContext: function templateContext() {
    return {
      ordinal: this.model.collection.indexOf(this.model) + 1 // One based indexing unlike checkboxes

    };
  },
  modelChanged: function modelChanged() {
    this.render();
  }
});
/**
 *
 */

var RadioView = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldListView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'ul',
  className: 'pods-radio',
  childView: RadioItem
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/views/select-view.js":
/*!*************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/views/select-view.js ***!
  \*************************************************************/
/*! exports provided: SelectItem, Optgroup, SelectView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectItem", function() { return SelectItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Optgroup", function() { return Optgroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectView", function() { return SelectView; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/* harmony import */ var _relationship_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../relationship-model */ "./ui/js/pods-dfv/src/fields/pick/relationship-model.js");
/*global jQuery, _, Backbone, PodsMn, select2, sprintf, wp, ajaxurl, PodsI18n */
// Note: this is a template-less view


var SELECT2_UL_TARGET = 'ul.select2-selection__rendered';
var SELECT2_SELECTED_TARGET = '.select2-selection__choice';
/**
 * option
 *
 * @extends Backbone.View
 */

var SelectItem = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'option',
  template: false,
  initialize: function initialize(options) {
    this.$el.val(this.model.get('id'));
    this.$el.html(this.model.get('name'));

    if (this.model.get('selected')) {
      this.$el.prop('selected', 'selected');
    }
  }
});
/**
 * optgroup
 *
 * @extends Backbone.View
 */

var Optgroup = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldListView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'optgroup',
  childView: SelectItem,
  attributes: function attributes() {
    return {
      label: this.model.get('label')
    };
  }
});
/**
 * select
 *
 * @extends Backbone.View
 */

var SelectView = PodsMn.CollectionView.extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'select',
  triggers: {
    'change': {
      event: 'change:selected',
      stopPropagation: false
    }
  },
  multiLastValidSelection: [],

  /**
   *
   * @param newCollection
   */
  setCollection: function setCollection(newCollection) {
    this.collection = newCollection;
  },

  /**
   *
   * @param options
   */
  initialize: function initialize(options) {
    this.fieldModel = options.fieldModel;
    this.fieldConfig = this.fieldModel.get('fieldConfig');
  },

  /**
   * Set the proper child view (optgroups or no)
   *
   * @param item
   * @returns {*}
   */
  childView: function childView(item) {
    if (this.fieldConfig.optgroup) {
      return Optgroup;
    } else {
      return SelectItem;
    }
  },

  /**
   * todo: We're bypassing the PodsFieldListView functionality, need to explicitly include it for now
   *
   * @param model
   * @param index
   * @returns {{fieldModel: *}}
   */
  childViewOptions: function childViewOptions(model, index) {
    var returnOptions = {
      fieldModel: this.fieldModel
    };

    if (this.fieldConfig.optgroup) {
      returnOptions.collection = new _relationship_model__WEBPACK_IMPORTED_MODULE_1__["RelationshipCollection"](model.get('collection'));
    }

    return returnOptions;
  },

  /**
   * todo: We're bypassing the PodsFieldListView functionality, need to explicitly include it for now
   *
   * @returns {{}}
   */
  serializeData: function serializeData() {
    var fieldModel = this.options.fieldModel;
    var data = this.model ? this.model.toJSON() : {};
    data.htmlAttr = fieldModel.get('attributes');
    data.fieldConfig = fieldModel.get('fieldConfig');
    return data;
  },

  /**
   *
   */
  attributes: function attributes() {
    /**
     * @param {string} htmlAttr.name
     * @param {string} htmlAttr.class
     * @param {string} htmlAttr.name_clean
     * @param {string} htmlAttr.id
     *
     * @param {string} fieldConfig.pick_format_type 'single' or 'multi'
     */
    var fieldModel = this.options.fieldModel;
    var htmlAttr = fieldModel.get('htmlAttr');
    var fieldConfig = fieldModel.get('fieldConfig');
    var name = htmlAttr.name;

    if ('multi' === fieldConfig.pick_format_type) {
      name = name + '[]';
    }

    return {
      'name': name,
      'class': htmlAttr["class"],
      'data-name-clean': htmlAttr.name_clean,
      'id': htmlAttr.id,
      'tabindex': '2',
      'multiple': 'multi' === fieldConfig.pick_format_type
    };
  },

  /**
   * Setup to be done once attached to the DOM.  Select2 has some setup needs.
   *
   * @var {RelationshipCollection} this.collection
   */
  onAttach: function onAttach() {
    var view_name = this.fieldConfig.view_name;
    var format_type = this.fieldConfig.pick_format_type; // Initialize select2 fields

    if ('select2' === view_name) {
      this.setupSelect2();
    } // Check initial selection limit status for regular multiselect and enforce it if needed


    if ('select' === view_name && 'multi' === format_type) {
      // Store initial selection in case we need to revert back from an invalid state
      this.multiLastValidSelection = this.$el.val();
    } // If we're at the limit: disable all unselected items so no selections can be added


    if (!this.validateSelectionLimit()) {
      this.selectionLimitOver();
    }
  },

  /**
   * @var {RelationshipCollection} this.collection
   */
  onChangeSelected: function onChangeSelected() {
    var limit = +this.fieldConfig.pick_limit; // Unary plus will implicitly cast to number

    var view_name = this.fieldConfig.view_name;
    var format_type = this.fieldConfig.pick_format_type; // Regular multiselect may need to reject the selection change

    if ('select' === view_name && 'multi' === format_type) {
      // Has the selection gone OVER the limit?  Can occur with consecutive item selection.
      if (null !== this.$el.val() && 0 !== limit && limit < this.$el.val().length) {
        // Revert to the last valid selection and punt on what they attempted
        this.$el.val(this.multiLastValidSelection);
        window.alert("".concat(PodsI18n.__('You can only select'), " ").concat(sprintf(PodsI18n._n('%s item', '%s items', limit), limit)));
        this.trigger('childview:change:selected', this);
        return;
      }
    } // Update the collection and last valid selection based on the new selections


    this.collection.setSelected(this.$el.val());
    this.multiLastValidSelection = this.$el.val(); // Dynamically enforce selection limits

    if (this.validateSelectionLimit()) {
      this.selectionLimitUnder();
    } else {
      this.selectionLimitOver();
    }

    this.trigger('childview:change:selected', this);
  },
  onBeforeDetach: function onBeforeDetach() {
    this.$el.selectWoo('destroy');
  },

  /**
   * @var {RelationshipCollection} this.collection
   *
   * @returns {boolean} true if unlimited selections are allowed or we're below the selection limit
   */
  validateSelectionLimit: function validateSelectionLimit() {
    var limit, numSelected;
    limit = +this.fieldConfig.pick_limit; // Unary plus will implicitly cast to number

    numSelected = this.collection.filterBySelected().length;
    return 0 === limit || numSelected < limit;
  },

  /**
   *
   */
  selectionLimitOver: function selectionLimitOver() {
    var viewName = this.fieldConfig.view_name;
    var formatType = this.fieldConfig.pick_format_type;

    if ('select' === viewName && 'multi' === formatType) {
      // At the limit: disable all unselected items so no further selections can be added
      this.$el.find('option:not(:selected)').prop('disabled', true);
    }

    this.trigger('childview:selection:limit:over', this);
  },

  /**
   *
   */
  selectionLimitUnder: function selectionLimitUnder() {
    var viewName = this.fieldConfig.view_name;
    var formatType = this.fieldConfig.pick_format_type;

    if ('select' === viewName && 'multi' === formatType) {
      // Not at limit, make sure all items are enabled
      this.$el.find('option').prop('disabled', false);
    }

    this.trigger('childview:selection:limit:under', this);
  },

  /**
   * No filtering, by default.  Consuming views can override this function to provide custom filtering
   * (e.g. List View needs to filter items already selected for its select from existing list)
   *
   * @param data
   */
  filterAjaxList: function filterAjaxList(data) {
    var selectedItems = this.collection.filterBySelected();
    var returnList = [];

    _.each(data.results, function (element) {
      element.text = element.name; // Select2 needs the "text" key but our model uses "name"
      // Only keep choices that haven't been selected yet, we don't want selected items in the autocomplete portion

      if (!selectedItems.get(element.id)) {
        returnList.push(element);
      }
    });

    return {
      'results': returnList
    };
  },

  /**
   * Initialize Select2, setup drag-drop reordering
   */
  setupSelect2: function setupSelect2() {
    var self = this;
    var $select2 = this.$el;
    var fieldConfig = this.options.fieldModel.get('fieldConfig');
    var ajaxData = fieldConfig.ajax_data;
    var select2Overrides = fieldConfig.select2_overrides;
    var limit = fieldConfig.pick_limit;
    var isSingle = 'single' === fieldConfig.pick_format_type;
    var selectedCount = this.collection.filterBySelected().length;
    var $ulContainer, select2Options, placeholder; // 'placeholder' for single select requires an empty option.  None of the examples set selected but
    // it did not work for me in testing with just an empty option like the examples.
    //
    // https://select2.org/placeholders#single-select-placeholders
    // https://github.com/select2/select2/issues/3553

    if (0 === selectedCount && isSingle) {
      $select2.prepend('<option selected="selected">');
    } // ToDo:
    // limitDisable is only used to control the List View's select2 component, it won't be set
    // for regular autocomplete.  This function should be generic and not have to poke around with
    // special properties like this for exception cases.


    if (fieldConfig.limitDisable) {
      placeholder = "".concat(PodsI18n.__('You can only select'), " ").concat(sprintf(PodsI18n._n('%s item', '%s items', limit), limit));
    } else {
      placeholder = "".concat(PodsI18n.__('Search'), " ").concat(fieldConfig.label, "...");
    }

    select2Options = {
      maximumSelectionLength: isSingle ? undefined : limit,
      // Should not be set for single select, messes up placeholder
      placeholder: placeholder,
      allowClear: isSingle,
      disabled: fieldConfig.limitDisable,
      tags: fieldConfig.pick_taggable,
      escapeMarkup: function escapeMarkup(text) {
        return text;
      }
    };

    if (ajaxData.ajax) {
      jQuery.extend(select2Options, {
        minimumInputLength: ajaxData.minimum_input_length,
        ajax: {
          url: ajaxurl + '?pods_ajax=1',
          type: 'POST',
          dataType: 'json',
          delay: ajaxData.delay,
          data: function data(params) {
            return {
              _wpnonce: ajaxData._wpnonce,
              action: 'pods_relationship',
              method: 'select2',
              pod: ajaxData.pod,
              field: ajaxData.field,
              uri: ajaxData.uri,
              id: ajaxData.id,
              query: params.term // ToDo: term{lang}

            };
          },
          processResults: function processResults(data, params) {
            return self.filterAjaxList(data, params);
          }
        }
      });
    } // Initialize select2


    $select2.selectWoo(jQuery.extend(true, select2Options, select2Overrides)); // Get a reference to the ul container of the visual UI portion.  Can't do this until select2 is initialized

    $ulContainer = $select2.parent().find(SELECT2_UL_TARGET); // Make the list drag-drop sortable

    $ulContainer.sortable({
      containment: 'parent'
    }); // With select2 4.0, sortable is just reordering the UI elements.  Keep the underlying select/option list
    // synced with the changes.  See: https://github.com/select2/select2/issues/3004

    $ulContainer.on('sortstop', function () {
      var $selected = $ulContainer.find(SELECT2_SELECTED_TARGET).get().reverse();
      jQuery($selected).each(function () {
        var id = jQuery(this).data('data').id;
        var option = $select2.find('option[value="' + id + '"]')[0];
        $select2.prepend(option);
      });
    });
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/text/text.js":
/*!************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/text/text.js ***!
  \************************************************/
/*! exports provided: PodsDFVText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVText", function() { return PodsDFVText; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_base_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/base-input */ "./ui/js/pods-dfv/src/components/base-input.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var PodsDFVText = function PodsDFVText(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_base_input__WEBPACK_IMPORTED_MODULE_1__["PodsDFVBaseInput"], _extends({
    type: "text"
  }, props));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/textarea/textarea.js":
/*!********************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/textarea/textarea.js ***!
  \********************************************************/
/*! exports provided: PodsDFVTextArea */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVTextArea", function() { return PodsDFVTextArea; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* eslint-disable react/prop-types */

var PodsDFVTextArea = function PodsDFVTextArea(props) {
  // Default implementation if onChange is omitted from props
  function handleChange(event) {
    props.setValue(event.target.value);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea", {
    value: props.value,
    name: props.htmlAttr.name,
    id: props.htmlAttr.id,
    className: props.className,
    "data-name-clean": props.htmlAttr.name_clean,
    "data-label": props.fieldConfig.label,
    onChange: props.onChange || handleChange,
    onBlur: props.onBlur
  }, props.value);
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/model-manifest.js":
/*!**********************************************!*\
  !*** ./ui/js/pods-dfv/src/model-manifest.js ***!
  \**********************************************/
/*! exports provided: PodsDFVFieldModel, RelationshipModel, RelationshipCollection, FileUploadModel, FileUploadCollection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_pods_field_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/pods-field-model */ "./ui/js/pods-dfv/src/core/pods-field-model.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVFieldModel", function() { return _core_pods_field_model__WEBPACK_IMPORTED_MODULE_0__["PodsDFVFieldModel"]; });

/* harmony import */ var _fields_pick_relationship_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fields/pick/relationship-model */ "./ui/js/pods-dfv/src/fields/pick/relationship-model.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RelationshipModel", function() { return _fields_pick_relationship_model__WEBPACK_IMPORTED_MODULE_1__["RelationshipModel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RelationshipCollection", function() { return _fields_pick_relationship_model__WEBPACK_IMPORTED_MODULE_1__["RelationshipCollection"]; });

/* harmony import */ var _fields_file_upload_file_upload_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fields/file-upload/file-upload-model */ "./ui/js/pods-dfv/src/fields/file-upload/file-upload-model.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FileUploadModel", function() { return _fields_file_upload_file_upload_model__WEBPACK_IMPORTED_MODULE_2__["FileUploadModel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FileUploadCollection", function() { return _fields_file_upload_file_upload_model__WEBPACK_IMPORTED_MODULE_2__["FileUploadCollection"]; });





/***/ }),

/***/ "./ui/js/pods-dfv/src/pods-dfv.js":
/*!****************************************!*\
  !*** ./ui/js/pods-dfv/src/pods-dfv.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_renderers_mn_renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/renderers/mn-renderer */ "./ui/js/pods-dfv/src/core/renderers/mn-renderer.js");
/* harmony import */ var _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/renderers/react-renderer */ "./ui/js/pods-dfv/src/core/renderers/react-renderer.js");
/* harmony import */ var _core_renderers_react_direct_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/renderers/react-direct-renderer */ "./ui/js/pods-dfv/src/core/renderers/react-direct-renderer.js");
/* harmony import */ var _core_gb_modal_listener__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/gb-modal-listener */ "./ui/js/pods-dfv/src/core/gb-modal-listener.js");
/* harmony import */ var _field_manifest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./field-manifest */ "./ui/js/pods-dfv/src/field-manifest.js");
/* harmony import */ var _model_manifest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./model-manifest */ "./ui/js/pods-dfv/src/model-manifest.js");







var SCRIPT_TARGET = 'script.pods-dfv-field-data'; // What scripts to look for

var fieldClasses = {
  'file': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["FileUpload"],
    renderer: _core_renderers_mn_renderer__WEBPACK_IMPORTED_MODULE_1__["mnRenderer"]
  },
  'avatar': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["FileUpload"],
    renderer: _core_renderers_mn_renderer__WEBPACK_IMPORTED_MODULE_1__["mnRenderer"]
  },
  'pick': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["Pick"],
    renderer: _core_renderers_mn_renderer__WEBPACK_IMPORTED_MODULE_1__["mnRenderer"]
  },
  'text': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVText"],
    renderer: _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__["reactRenderer"]
  },
  'password': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVPassword"],
    renderer: _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__["reactRenderer"]
  },
  'number': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVNumber"],
    renderer: _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__["reactRenderer"]
  },
  'email': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVEmail"],
    renderer: _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__["reactRenderer"]
  },
  'paragraph': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVTextArea"],
    renderer: _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__["reactRenderer"]
  },
  'edit-pod': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVEditPod"],
    renderer: _core_renderers_react_direct_renderer__WEBPACK_IMPORTED_MODULE_3__["reactDirectRenderer"]
  }
};
var PodsDFV = {
  fields: fieldClasses,
  models: _model_manifest__WEBPACK_IMPORTED_MODULE_6__,
  fieldInstances: {},

  /**
   *
   */
  init: function init() {
    // Find all in-line data scripts
    jquery__WEBPACK_IMPORTED_MODULE_0___default()(SCRIPT_TARGET).each(function () {
      var parent = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parent().get(0);
      var data = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.parseJSON(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).html()); // Kludge to disable the "Add New" button if we're inside a media modal.  This should
      // eventually be ironed out so we can use Add New from this context (see #4864)

      if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parents('.media-modal-content').length) {
        // eslint-disable-next-line
        data.fieldConfig.pick_allow_add_new = 0;
      } // Ignore anything that doesn't have the field type set


      if (data.fieldType !== undefined) {
        var field = fieldClasses[data.fieldType];

        if (field !== undefined) {
          //self.fieldInstances[ data.htmlAttr.id ] = field.renderer( field.fieldClass, data );
          field.renderer(field.FieldClass, parent, data);
        }
      }

      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).remove();
    });
  },
  isModalWindow: function isModalWindow() {
    return -1 !== location.search.indexOf('pods_modal=');
  },
  isGutenbergEditorLoaded: function isGutenbergEditorLoaded() {
    return wp.data !== undefined && wp.data.select('core/editor') !== undefined;
  }
};
/* harmony default export */ __webpack_exports__["default"] = (PodsDFV);
/**
 * Kick everything off on DOMContentLoaded
 */

document.addEventListener('DOMContentLoaded', function () {
  PodsDFV.init(); // Load the Gutenberg modal listener if we're inside a Pods modal with Gutenberg active

  if (PodsDFV.isModalWindow() && PodsDFV.isGutenbergEditorLoaded()) {
    _core_gb_modal_listener__WEBPACK_IMPORTED_MODULE_4__["PodsGbModalListener"].init();
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/validation/validation-rules.js":
/*!***********************************************************!*\
  !*** ./ui/js/pods-dfv/src/validation/validation-rules.js ***!
  \***********************************************************/
/*! exports provided: validationRules */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validationRules", function() { return validationRules; });
var _wp$i18n = wp.i18n,
    __ = _wp$i18n.__,
    sprintf = _wp$i18n.sprintf;
var validationRules = {
  required: function required(value, fieldLabel) {
    return {
      facts: {
        value: value
      },
      conditions: {
        value: {
          equal: ''
        }
      },
      event: {
        message: sprintf(__('%s is required.', 'pods'), fieldLabel)
      }
    };
  },
  max: function max(value, _max) {
    return {
      facts: {
        numericValue: value * 1,
        max: _max * 1
      },
      conditions: {
        numericValue: {
          greater: '$max'
        }
      },
      event: {
        message: sprintf(__('Exceeds the maximum value of %s', 'pods'), _max)
      }
    };
  },
  min: function min(value, _min) {
    return {
      facts: {
        numericValue: value * 1,
        min: _min * 1
      },
      conditions: {
        numericValue: {
          less: '$min'
        }
      },
      event: {
        message: sprintf(__('Below the minimum value of %s', 'pods'), _min)
      }
    };
  },
  emailFormat: function emailFormat(value) {
    var emailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return {
      facts: {
        value: value,
        emailRegex: emailRegex
      },
      conditions: {
        not: {
          or: [{
            value: {
              equal: ''
            }
          }, {
            emailRegex: {
              matches: value
            }
          }]
        }
      },
      event: {
        message: __('Invalid email address format')
      }
    };
  }
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/validation/validation.js":
/*!*****************************************************!*\
  !*** ./ui/js/pods-dfv/src/validation/validation.js ***!
  \*****************************************************/
/*! exports provided: podsValidation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "podsValidation", function() { return podsValidation; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var json_rules_engine_simplified__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! json-rules-engine-simplified */ "./node_modules/json-rules-engine-simplified/lib/index.js");
/* harmony import */ var json_rules_engine_simplified__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(json_rules_engine_simplified__WEBPACK_IMPORTED_MODULE_1__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }


var useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState;
var useEffect = react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect;

/**
 *
 * @return
 * {
 *     {function} addRules
 *     {function} useValidation,
 * 	}
 */

var podsValidation = function podsValidation() {
  var _useState = useState([]),
      _useState2 = _slicedToArray(_useState, 2),
      validationMessages = _useState2[0],
      setValidationMessages = _useState2[1];

  var rules = [];
  var facts = {};
  /**
   *
   * @param conditionalRules
   */

  var addRules = function addRules(conditionalRules) {
    conditionalRules.forEach(function (conditionalRule) {
      if (conditionalRule.condition) {
        rules.push(conditionalRule.rule);

        if (conditionalRule.rule.facts) {
          facts = Object.assign(facts, conditionalRule.rule.facts);
        }
      }
    });
  };
  /**
   *
   * @return {Promise<any>}
   */


  var checkValidation = function checkValidation() {
    var rulesEngine = new json_rules_engine_simplified__WEBPACK_IMPORTED_MODULE_1___default.a(rules);
    var messages = [];
    return new Promise(function (resolve) {
      // noinspection JSUnresolvedFunction
      rulesEngine.run(facts).then(function (events) {
        events.forEach(function (event) {
          messages.push(event.message);
        });
      })["finally"](function () {
        resolve(messages);
      });
    });
  };
  /**
   *
   * @param {string} value The field's value
   *
   * @return {string} Array of messages for all validation failures
   */


  var useValidation = function useValidation(value) {
    useEffect(function () {
      checkValidation().then(function (messages) {
        return setValidationMessages(messages);
      });
    }, [value]);
    return validationMessages;
  };

  return {
    addRules: addRules,
    useValidation: useValidation
  };
};

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = jQuery;

/***/ }),

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = lodash;

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "React" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = React;

/***/ }),

/***/ "react-dom":
/*!***************************!*\
  !*** external "ReactDOM" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ReactDOM;

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FzYXAvYnJvd3Nlci1hc2FwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc2FwL2Jyb3dzZXItcmF3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9icmFja2V0czJkb3RzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvZmllbGQtZ3JvdXBzLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL21haW4tdGFicy9tYW5hZ2UtZmllbGRzLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3VycnkyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2RlYnVnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL0RyYWdEcm9wTWFuYWdlckltcGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvRHJhZ0Ryb3BNb25pdG9ySW1wbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9IYW5kbGVyUmVnaXN0cnlJbXBsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL2FjdGlvbnMvZHJhZ0Ryb3AvYmVnaW5EcmFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL2FjdGlvbnMvZHJhZ0Ryb3AvZHJvcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9hY3Rpb25zL2RyYWdEcm9wL2VuZERyYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvYWN0aW9ucy9kcmFnRHJvcC9ob3Zlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9hY3Rpb25zL2RyYWdEcm9wL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL2FjdGlvbnMvZHJhZ0Ryb3AvbG9jYWwvc2V0Q2xpZW50T2Zmc2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL2FjdGlvbnMvZHJhZ0Ryb3AvcHVibGlzaERyYWdTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvYWN0aW9ucy9kcmFnRHJvcC90eXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9hY3Rpb25zL3JlZ2lzdHJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL2NvbnRyYWN0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9mYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvaW50ZXJmYWNlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9yZWR1Y2Vycy9kaXJ0eUhhbmRsZXJJZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvcmVkdWNlcnMvZHJhZ09mZnNldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9yZWR1Y2Vycy9kcmFnT3BlcmF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL3JlZHVjZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL3JlZHVjZXJzL3JlZkNvdW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL3JlZHVjZXJzL3N0YXRlSWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvdXRpbHMvY29vcmRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL3V0aWxzL2RpcnRpbmVzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy91dGlscy9kaXNjb3VudF9sb2Rhc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvdXRpbHMvZXF1YWxpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvdXRpbHMvZ2V0TmV4dFVuaXF1ZUlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL3V0aWxzL21hdGNoZXNUeXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb3RzcGxpdC5qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmFzdC1iaW5kL2JpbmQtbG9vcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvZGlzdC9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy5janMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ludmFyaWFudC9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uLXJ1bGVzLWVuZ2luZS1zaW1wbGlmaWVkL2xpYi9FbmdpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzb24tcnVsZXMtZW5naW5lLXNpbXBsaWZpZWQvbGliL2FwcGxpY2FibGVBY3Rpb25zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uLXJ1bGVzLWVuZ2luZS1zaW1wbGlmaWVkL2xpYi9jaGVja0ZpZWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uLXJ1bGVzLWVuZ2luZS1zaW1wbGlmaWVkL2xpYi9jb25kaXRpb25zTWVldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbi1ydWxlcy1lbmdpbmUtc2ltcGxpZmllZC9saWIvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uLXJ1bGVzLWVuZ2luZS1zaW1wbGlmaWVkL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbi1ydWxlcy1lbmdpbmUtc2ltcGxpZmllZC9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzb24tcnVsZXMtZW5naW5lLXNpbXBsaWZpZWQvbGliL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcmVkaWNhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ByZWRpY2F0ZS9saWIvY2hhaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ByZWRpY2F0ZS9saWIvb3RoZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ByZWRpY2F0ZS9saWIvcHJlZGljYXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJlZGljYXRlL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kLWh0bWw1LWJhY2tlbmQvbGliL2Nqcy9Ccm93c2VyRGV0ZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvRW50ZXJMZWF2ZUNvdW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvSFRNTDVCYWNrZW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQtaHRtbDUtYmFja2VuZC9saWIvY2pzL01vbm90b25pY0ludGVycG9sYW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQtaHRtbDUtYmFja2VuZC9saWIvY2pzL05hdGl2ZURyYWdTb3VyY2VzL05hdGl2ZURyYWdTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvTmF0aXZlRHJhZ1NvdXJjZXMvZ2V0RGF0YUZyb21EYXRhVHJhbnNmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvTmF0aXZlRHJhZ1NvdXJjZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvTmF0aXZlRHJhZ1NvdXJjZXMvbmF0aXZlVHlwZXNDb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvTmF0aXZlVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvT2Zmc2V0VXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvZ2V0RW1wdHlJbWFnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kLWh0bWw1LWJhY2tlbmQvbGliL2Nqcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kLWh0bWw1LWJhY2tlbmQvbGliL2Nqcy91dGlscy9kaXNjb3VudF9sb2Rhc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL0RyYWdEcm9wQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvRHJhZ0xheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9EcmFnUHJldmlld0ltYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9EcmFnU291cmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9EcmFnU291cmNlTW9uaXRvckltcGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL0Ryb3BUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL0Ryb3BUYXJnZXRNb25pdG9ySW1wbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvU291cmNlQ29ubmVjdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9UYXJnZXRDb25uZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2NyZWF0ZVNvdXJjZUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2NyZWF0ZVRhcmdldEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2RlY29yYXRlSGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvaG9va3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2hvb2tzL2ludGVybmFsL2RyYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2hvb2tzL2ludGVybmFsL2Ryb3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2hvb2tzL2ludGVybmFsL3VzZUNvbGxlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvaG9va3MvaW50ZXJuYWwvdXNlRHJhZ0Ryb3BNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9ob29rcy9pbnRlcm5hbC91c2VNb25pdG9yT3V0cHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9ob29rcy91c2VEcmFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9ob29rcy91c2VEcmFnTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2hvb2tzL3VzZURyb3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9yZWdpc3RlclNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvcmVnaXN0ZXJUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL3V0aWxzL2NoZWNrRGVjb3JhdG9yQXJndW1lbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy91dGlscy9jbG9uZVdpdGhSZWYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL3V0aWxzL2Rpc2NvdW50X2xvZGFzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvZGlzcG9zYWJsZXMvQ29tcG9zaXRlRGlzcG9zYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvZGlzcG9zYWJsZXMvRGlzcG9zYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvZGlzcG9zYWJsZXMvU2VyaWFsRGlzcG9zYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvZGlzcG9zYWJsZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL3V0aWxzL2dldERlY29yYXRlZENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvaXNSZWYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL3V0aWxzL2lzUmVmYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvaXNWYWxpZFR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL3V0aWxzL3BvbHlmaWxscy9lbmRzV2l0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvd3JhcENvbm5lY3Rvckhvb2tzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9yZWR1eC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2VsZWN0bi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hhbGxvd2VxdWFsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvcG9ueWZpbGwuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vaGFybW9ueS1tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL2VkaXQtcG9kLW5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL2VkaXQtcG9kLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9oYW5kbGUtc3VibWl0LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvYWN0aXZlLXRhYi1jb250ZW50LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvZHluYW1pYy10YWItY29udGVudC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2QvbWFpbi10YWJzL2ZpZWxkLWdyb3VwLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvZmllbGQtZ3JvdXBzLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvZmllbGQtZ3JvdXBzLnNjc3M/NGVjZiIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2QvbWFpbi10YWJzL2ZpZWxkLWxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL21haW4tdGFicy9ncm91cC1kcmFnLWxheWVyLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvZ3JvdXAtZHJhZy1zb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL21haW4tdGFicy9ncm91cC1kcm9wLXRhcmdldC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2QvbWFpbi10YWJzL21hbmFnZS1maWVsZHMuc2Nzcz8wOTNhIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9wb3N0Ym94LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zYXZlLXN0YXR1cy1tZXNzYWdlLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zbHVnZ2FibGUuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL3N0b3JlL2FjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL3N0b3JlL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvc3RvcmUvcmVkdWNlci5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvc3RvcmUvc2VsZWN0b3JzLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9zdGF0ZS1wYXRocy5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvc3RvcmUvc3RvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL3dpdGgtZHJhZy1kcm9wLWNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2NvbXBvbmVudHMvYmFzZS1pbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvY29tcG9uZW50cy9maWVsZC1jb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2NvbXBvbmVudHMvZmllbGQtb3B0aW9uLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9jb21wb25lbnRzL2hlbHAtdG9vbHRpcC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvY29tcG9uZW50cy90YWJzL3BvZHMtbmF2LXRhYi5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvY29tcG9uZW50cy92YWxpZGF0aW9uLW1lc3NhZ2VzLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9jb3JlL2Rmdi1tb2RhbC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvY29yZS9nYi1tb2RhbC1saXN0ZW5lci5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvY29yZS9pZnJhbWUtZnJhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2NvcmUvcG9kcy1maWVsZC1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvY29yZS9wb2RzLWZpZWxkLXZpZXdzLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9jb3JlL3JlbmRlcmVycy9tbi1yZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvY29yZS9yZW5kZXJlcnMvcmVhY3QtZGlyZWN0LXJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9jb3JlL3JlbmRlcmVycy9yZWFjdC1yZW5kZXJlci5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGQtbWFuaWZlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9lbWFpbC9lbWFpbC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUtdXBsb2FkL2ZpbGUtdXBsb2FkLW1vZGVsLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS11cGxvYWQvZmlsZS11cGxvYWQuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlLXVwbG9hZC91cGxvYWRlcnMvbWVkaWEtbW9kYWwuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlLXVwbG9hZC91cGxvYWRlcnMvcGx1cGxvYWQuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlLXVwbG9hZC91cGxvYWRlcnMvcG9kcy1maWxlLXVwbG9hZGVyLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS11cGxvYWQvdmlld3MvZmlsZS11cGxvYWQtZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUtdXBsb2FkL3ZpZXdzL2ZpbGUtdXBsb2FkLWxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlLXVwbG9hZC92aWV3cy9maWxlLXVwbG9hZC1xdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL251bWJlci9udW1iZXIuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9wYXNzd29yZC9wYXNzd29yZC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svcGljay1maWVsZC1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svcGljay5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svcmVsYXRpb25zaGlwLW1vZGVsLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9hZGQtbmV3LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9jaGVja2JveC12aWV3LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9saXN0LXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9waWNrL3ZpZXdzL3JhZGlvLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9waWNrL3ZpZXdzL3NlbGVjdC12aWV3LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvdGV4dC90ZXh0LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvdGV4dGFyZWEvdGV4dGFyZWEuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL21vZGVsLW1hbmlmZXN0LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9wb2RzLWRmdi5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvdmFsaWRhdGlvbi92YWxpZGF0aW9uLXJ1bGVzLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy92YWxpZGF0aW9uL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwialF1ZXJ5XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibG9kYXNoXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdERPTVwiIl0sIm5hbWVzIjpbIl9fIiwid3AiLCJpMThuIiwiZGF0YSIsIndpdGhTZWxlY3QiLCJ3aXRoRGlzcGF0Y2giLCJjb21wb3NlIiwiRWRpdFBvZE5hbWUiLCJzZWxlY3QiLCJwb2ROYW1lIiwiU1RPUkVfS0VZX0VESVRfUE9EIiwiZ2V0UG9kTmFtZSIsImRpc3BhdGNoIiwic2V0UG9kTmFtZSIsInByb3BzIiwiU3RvcmVTdWJzY3JpYmUiLCJzdG9yZVNlbGVjdCIsInRhYnMiLCJnZXRUYWJzIiwiYWN0aXZlVGFiIiwiZ2V0QWN0aXZlVGFiIiwic3RvcmVEaXNwYXRjaCIsInNldEFjdGl2ZVRhYiIsIkVkaXRQb2QiLCJ3aW5kb3ciLCJlIiwiaGFuZGxlU3VibWl0IiwiUG9kc0RGVkVkaXRQb2QiLCJ3aXRoRHJhZ0Ryb3BDb250ZXh0IiwiQUpBWF9BQ1RJT04iLCJwcmV2ZW50RGVmYXVsdCIsInJlcXVlc3REYXRhIiwicG9kTWV0YSIsImlkIiwibmFtZSIsIm5vbmNlIiwiZmllbGRzIiwidGFiT3B0aW9ucyIsImdldFRhYk9wdGlvbnMiLCJncm91cHMiLCJnZXRHcm91cHMiLCJnZXRPcHRpb25WYWx1ZSIsImdldEdyb3VwRmllbGRzIiwiZ3JvdXBMaXN0IiwiZ2V0R3JvdXBMaXN0Iiwic2V0T3B0aW9uVmFsdWUiLCJzZXRHcm91cExpc3QiLCJtb3ZlR3JvdXAiLCJBY3RpdmVUYWJDb250ZW50IiwiQ29tcG9uZW50Iiwic3ByaW50ZiIsIk1JU1NJTkciLCJEeW5hbWljVGFiQ29udGVudCIsImdldExhYmVsVmFsdWUiLCJsYWJlbEZvcm1hdCIsInBhcmFtT3B0aW9uIiwicGFyYW1EZWZhdWx0IiwicGFyYW0iLCJtYXAiLCJvcHRpb24iLCJ0eXBlIiwibGFiZWwiLCJsYWJlbF9wYXJhbSIsInBhcmFtX2RlZmF1bHQiLCJ2YWx1ZSIsImhlbHAiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJpc1JlcXVpcmVkIiwiRGVwZW5kZW50RmllbGRPcHRpb24iLCJmaWVsZFR5cGUiLCJkZXBlbmRlbnRzIiwiaGFuZGxlSW5wdXRDaGFuZ2UiLCJ0YXJnZXQiLCJjaGVja2VkIiwibWVldHNEZXBlbmRlbmNpZXMiLCJoZWxwVGV4dCIsImRlcGVuZGVuY2llcyIsInJldFZhbCIsImlzT2JqZWN0IiwiZWFjaCIsImRlcGVuZGVudFZhbHVlIiwiZGVwZW5kZW50T3B0aW9uTmFtZSIsInVzZVN0YXRlIiwiUmVhY3QiLCJEYXNoaWNvbiIsImNvbXBvbmVudHMiLCJGaWVsZEdyb3VwIiwiZm9yd2FyZFJlZiIsInJlZiIsImNvbm5lY3REcmFnU291cmNlIiwiY29ubmVjdERyb3BUYXJnZXQiLCJjb25uZWN0RHJhZ1ByZXZpZXciLCJpc0RyYWdnaW5nIiwiZ3JvdXBOYW1lIiwiZXhwYW5kZWQiLCJzZXRFeHBhbmRlZCIsIndyYXBwZXJSZWYiLCJ1c2VSZWYiLCJkcmFnSGFuZGxlUmVmIiwidXNlRWZmZWN0IiwiZ2V0RW1wdHlJbWFnZSIsImNhcHR1cmVEcmFnZ2luZ1N0YXRlIiwidXNlSW1wZXJhdGl2ZUhhbmRsZSIsImdldFdyYXBwZXJOb2RlIiwiY3VycmVudCIsImdldEhhbmRsZU5vZGUiLCJvcGFjaXR5IiwiY3Vyc29yIiwiaW5kZXgiLCJoYW5kbGVCZWdpbkRyYWciLCJoYW5kbGVEcmFnQ2FuY2VsIiwiZmxvdyIsImRyb3BUYXJnZXQiLCJkcmFnU291cmNlIiwiRmllbGRHcm91cHMiLCJvcmlnaW5hbExpc3QiLCJzZXRPcmlnaW5hbExpc3QiLCJncm91cCIsIkZpZWxkTGlzdCIsImxlbmd0aCIsImZpZWxkIiwicmVxdWlyZWQiLCJGaWVsZExpc3RJdGVtIiwiZmllbGROYW1lIiwiZmllbGRMYWJlbCIsIkZpZWxkSGVhZGVyIiwiZ2V0TGF5ZXJTdHlsZXMiLCJpdGVtIiwicG9zaXRpb24iLCJwb2ludGVyRXZlbnRzIiwiekluZGV4IiwibGVmdCIsInRvcCIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0SXRlbVN0eWxlcyIsImluaXRpYWxPZmZzZXQiLCJjdXJyZW50T2Zmc2V0IiwiZGlzcGxheSIsInRyYW5zZm9ybSIsIngiLCJ5IiwiZmlsdGVyIiwiQ3VzdG9tRHJhZ0xheWVyIiwiaXRlbVR5cGUiLCJ1aUNvbnN0YW50cyIsImRyYWdJdGVtVHlwZXMiLCJHUk9VUCIsIm51bWJlciIsIkRyYWdMYXllciIsIm1vbml0b3IiLCJnZXRJdGVtIiwiZ2V0SXRlbVR5cGUiLCJnZXRJbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0IiwiZ2V0U291cmNlQ2xpZW50T2Zmc2V0IiwiZHJhZ1NwZWMiLCJiZWdpbkRyYWciLCJjb21wb25lbnQiLCJ3cmFwcGVyTm9kZSIsImRlY29yYXRlZFJlZiIsImhhbmRsZU5vZGUiLCJ3cmFwcGVyUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhhbmRsZVJlY3QiLCJlbmREcmFnIiwiZGlkRHJvcCIsImNvbGxlY3QiLCJjb25uZWN0IiwiZHJhZ1ByZXZpZXciLCJEcmFnU291cmNlIiwiZHJvcFNwZWMiLCJob3ZlciIsIm5vZGUiLCJkcmFnSW5kZXgiLCJob3ZlckluZGV4IiwiaG92ZXJCb3VuZGluZ1JlY3QiLCJob3Zlck1pZGRsZVkiLCJib3R0b20iLCJjbGllbnRPZmZzZXQiLCJnZXRDbGllbnRPZmZzZXQiLCJob3ZlckNsaWVudFkiLCJEcm9wVGFyZ2V0IiwiUG9zdGJveCIsImlzU2F2aW5nIiwiU3Bpbm5lciIsIlNhdmVTdGF0dXNNZXNzYWdlIiwic2F2ZVN0YXR1cyIsImdldFNhdmVTdGF0dXMiLCJzYXZlU3RhdHVzZXMiLCJTQVZJTkciLCJTQVZFX1NVQ0NFU1MiLCJTQVZFX0VSUk9SIiwiUG9kc0RGVlNsdWdnYWJsZSIsImVkaXRpbmciLCJzZXRFZGl0aW5nIiwibG9jYWxWYWx1ZSIsInNldExvY2FsVmFsdWUiLCJoYW5kbGVWYWx1ZUNoYW5nZSIsIm5ld1ZhbHVlIiwiaGFuZGxlRWRpdENsaWNrIiwiaGFuZGxlT2tDbGljayIsInVwZGF0ZVZhbHVlIiwiaGFuZGxlQ2FuY2VsQ2xpY2siLCJOb3RFZGl0aW5nIiwiRWRpdGluZyIsImhhbmRsZUZvY3VzIiwiYWN0aW9ucyIsIlNFVF9BQ1RJVkVfVEFCIiwic2V0U2F2ZVN0YXR1cyIsIlNFVF9TQVZFX1NUQVRVUyIsInNldE9wdGlvbkl0ZW1WYWx1ZSIsIm9wdGlvbk5hbWUiLCJpdGVtTmFtZSIsIml0ZW1WYWx1ZSIsIm9wdGlvbkNvbnN0YW50cyIsIlNFVF9PUFRJT05fSVRFTV9WQUxVRSIsImdyb3VwQ29uc3RhbnRzIiwiU0VUX0dST1VQX0xJU1QiLCJvbGRJbmRleCIsIm5ld0luZGV4IiwiTU9WRV9HUk9VUCIsInBvZE1ldGFDb25zdGFudHMiLCJTRVRfUE9EX05BTUUiLCJzZXRQb2RNZXRhVmFsdWUiLCJrZXkiLCJTRVRfUE9EX01FVEFfVkFMVUUiLCJ0YWJOYW1lcyIsIk1BTkFHRV9GSUVMRFMiLCJMQUJFTFMiLCJBRE1JTl9VSSIsIkFEVkFOQ0VEX09QVElPTlMiLCJBVVRPX1RFTVBMQVRFX09QVElPTlMiLCJSRVNUX0FQSSIsIk5PTkUiLCJGSUVMRCIsImluaXRpYWxVSVN0YXRlIiwiY29tYmluZVJlZHVjZXJzIiwic2V0T2JqZWN0VmFsdWUiLCJvYmplY3QiLCJ1aSIsInN0YXRlIiwiYWN0aW9uIiwibmV3VGFiIiwidGFiSW5kZXgiLCJwYXRocyIsInRhaWxHZXRGcm9tIiwiaW5kZXhPZiIsIm5ld1N0YXR1cyIsIk9iamVjdCIsInZhbHVlcyIsImluY2x1ZGVzIiwibmV3R3JvdXBMaXN0Iiwic3BsaWNlIiwidGFpbFBhdGgiLCJvcHRpb25zIiwiZ2V0U3RhdGUiLCJnZXRGcm9tIiwiZ2V0UG9kTWV0YVZhbHVlIiwiZ2V0VGFiIiwidGFiTmFtZSIsImdldFRhYkxpc3QiLCJnZXRUYWJPcHRpb25zTGlzdCIsImdldE9wdGlvbiIsImdldE9wdGlvbkl0ZW1WYWx1ZSIsImdldEdyb3VwIiwiZ2V0RmllbGRMaXN0IiwiZ2V0RmllbGQiLCJnZXRGaWVsZHMiLCJkb3RQYXRoIiwidGFpbCIsInNwbGl0Iiwiam9pbiIsImNyZWF0ZVRyZWUiLCJyZWR1Y2VSaWdodCIsImFjYyIsImN1cnJlbnRWYWx1ZSIsInJlZHVjZSIsImVsIiwiY3JlYXRlU3RhdGVQYXRoIiwicGF0aCIsInRhaWxDcmVhdGVUcmVlIiwiUE9EX01FVEEiLCJQT0RfTkFNRSIsIlBPRF9JRCIsIkZJRUxEUyIsIkdST1VQUyIsIkdST1VQU19CWV9OQU1FIiwiR1JPVVBfTElTVCIsIkdST1VQX0ZJRUxEX0xJU1QiLCJVSSIsIkFDVElWRV9UQUIiLCJTQVZFX1NUQVRVUyIsIlRBQlMiLCJUQUJfTElTVCIsIlRBQlNfQllfTkFNRSIsIlRBQl9PUFRJT05TX0xJU1QiLCJPUFRJT05TIiwicmVnaXN0ZXJTdG9yZSIsImluaXRTdG9yZSIsImluaXRpYWxTdGF0ZSIsIm1lcmdlIiwicmVkdWNlciIsInNlbGVjdG9ycyIsIkRyYWdEcm9wQ29udGV4dCIsIkhUTUw1QmFja2VuZCIsIlBvZHNERlZCYXNlSW5wdXQiLCJoYW5kbGVDaGFuZ2UiLCJldmVudCIsInNldFZhbHVlIiwiaHRtbEF0dHIiLCJjbGFzc05hbWUiLCJuYW1lX2NsZWFuIiwiZmllbGRDb25maWciLCJ0ZXh0X3BsYWNlaG9sZGVyIiwidGV4dF9tYXhfbGVuZ3RoIiwicmVhZG9ubHkiLCJvbkNoYW5nZSIsIm9uQmx1ciIsIm1pbiIsIm1heCIsIlBvZHNERlZGaWVsZENvbnRhaW5lciIsIkZpZWxkIiwiZmllbGRDb21wb25lbnQiLCJmaWVsZEl0ZW1EYXRhIiwidmFsaWRhdGlvbiIsInBvZHNWYWxpZGF0aW9uIiwidmFsaWRhdGlvbk1lc3NhZ2VzIiwidXNlVmFsaWRhdGlvbiIsImFkZFJ1bGVzIiwicnVsZSIsInZhbGlkYXRpb25SdWxlcyIsImNvbmRpdGlvbiIsImZpZWxkQ2xhc3NlcyIsImNsYXNzTmFtZXMiLCJQb2RzRmllbGRPcHRpb24iLCJ0b0Jvb2wiLCJzdHJpbmdPck51bWJlciIsImFueSIsIlRvb2x0aXAiLCJIZWxwVG9vbHRpcCIsIlBvZHNOYXZUYWIiLCJnZXRDbGFzc05hbWUiLCJoYW5kbGVDbGljayIsInRoaXNUYWIiLCJ0aXRsZVRleHQiLCJzdHJpbmciLCJQb2RzREZWVmFsaWRhdGlvbk1lc3NhZ2UiLCJtZXNzYWdlIiwiUG9kc0RGVlZhbGlkYXRpb25NZXNzYWdlcyIsIm1lc3NhZ2VzIiwidGhpc01lc3NhZ2UiLCJQb2RzREZWTW9kYWwiLCJtZWRpYSIsInZpZXciLCJNb2RhbCIsImV4dGVuZCIsImNsb3NlIiwicHJvdG90eXBlIiwiYXBwbHkiLCJlc2NhcGUiLCJwYXJlbnQiLCJqUXVlcnkiLCJ0cmlnZ2VyIiwiZWRpdG9yRGF0YSIsInVuU3Vic2NyaWJlIiwiUG9kc0diTW9kYWxMaXN0ZW5lciIsImluaXQiLCJpc0N1cnJlbnRQb3N0UHVibGlzaGVkIiwic3Vic2NyaWJlIiwic2F2ZUxpc3RlbmVyIiwicHVibGlzaExpc3RlbmVyIiwiZ2V0RmVhdHVyZWRJbWFnZVVSTCIsImZlYXR1cmVkSW1hZ2VJZCIsImdldEN1cnJlbnRQb3N0QXR0cmlidXRlIiwidXJsIiwiZ2V0TWVkaWEiLCJtZWRpYVNpemUiLCJob29rcyIsImFwcGx5RmlsdGVycyIsIm1lZGlhX2RldGFpbHMiLCJzaXplcyIsInNvdXJjZV91cmwiLCJ0cmlnZ2VyVXBkYXRlRXZlbnQiLCJnZXRQZXJtYWxpbmsiLCJnZXRDdXJyZW50UG9zdElkIiwid2FzU2F2aW5nIiwiaXNTYXZpbmdQb3N0IiwiZGlkUG9zdFNhdmVSZXF1ZXN0U3VjY2VlZCIsImlzVXNlclNhdmluZyIsImlzQXV0b3NhdmluZ1Bvc3QiLCJvcHRpb25hbERhdGEiLCJkZWZhdWx0RGF0YSIsInBvc3REYXRhIiwiYXNzaWduIiwiSWZyYW1lRnJhbWUiLCJGcmFtZSIsInRlbXBsYXRlIiwiXyIsInJlZ2lvbnMiLCJpbml0aWFsaXplIiwiYXJndW1lbnRzIiwiJGVsIiwiYWRkQ2xhc3MiLCJpbml0U3RhdGUiLCJpbml0TW9kYWwiLCJvbiIsImlmcmFtZUNvbnRlbnQiLCJpZnJhbWUiLCJtb2RlIiwiY3JlYXRlVGl0bGUiLCJ0aXRsZSIsImFwcGVuZCIsIlBvZHNJMThuIiwic3JjIiwic3RhdGVzIiwiYWRkIiwiY29udHJvbGxlciIsIlN0YXRlIiwibW9kYWwiLCJjb250ZW50IiwicmVuZGVyIiwic2V0U3RhdGUiLCJJZnJhbWUiLCJWaWV3IiwidGFnTmFtZSIsIlBvZHNERlZGaWVsZE1vZGVsIiwiQmFja2JvbmUiLCJNb2RlbCIsImRlZmF1bHRzIiwiUG9kc0ZpZWxkTGlzdFZpZXciLCJQb2RzTW4iLCJDb2xsZWN0aW9uVmlldyIsImNoaWxkVmlld0V2ZW50UHJlZml4IiwiZmllbGRNb2RlbCIsImNoaWxkVmlld09wdGlvbnMiLCJQb2RzRmllbGRWaWV3Iiwic2VyaWFsaXplRGF0YSIsIm1vZGVsIiwidG9KU09OIiwiZ2V0IiwiUG9kc0RGVkZpZWxkTGF5b3V0IiwibW5SZW5kZXJlciIsIkZpZWxkQ2xhc3MiLCJlbGVtZW50IiwibmV3RmllbGQiLCJyZWFjdERpcmVjdFJlbmRlcmVyIiwiY3JlYXRlRmFjdG9yeSIsIlJlYWN0RE9NIiwicmVhY3RSZW5kZXJlciIsIlBvZHNERlZFbWFpbCIsImVtYWlsRm9ybWF0IiwiZW1haWxfaHRtbDUiLCJGaWxlVXBsb2FkTW9kZWwiLCJGaWxlVXBsb2FkQ29sbGVjdGlvbiIsIkNvbGxlY3Rpb24iLCJVcGxvYWRlcnMiLCJQbHVwbG9hZCIsIk1lZGlhTW9kYWwiLCJVTkxJTUlURURfRklMRVMiLCJGaWxlVXBsb2FkIiwibGlzdCIsInVpUmVnaW9uIiwiZm9ybSIsImNoaWxkVmlld0V2ZW50cyIsInVwbG9hZGVyIiwib25CZWZvcmVSZW5kZXIiLCJjb2xsZWN0aW9uIiwidW5kZWZpbmVkIiwib25SZW5kZXIiLCJsaXN0VmlldyIsIkZpbGVVcGxvYWRMaXN0IiwiZm9ybVZpZXciLCJGaWxlVXBsb2FkRm9ybSIsInNob3dDaGlsZFZpZXciLCJjcmVhdGVVcGxvYWRlciIsImxpc3RlblRvIiwib25BZGRlZEZpbGVzIiwib25DaGlsZHZpZXdSZW1vdmVGaWxlQ2xpY2siLCJjaGlsZFZpZXciLCJyZW1vdmUiLCJvbkNoaWxkdmlld0FkZEZpbGVDbGljayIsImludm9rZSIsImZpbGVMaW1pdCIsIm5ld0NvbGxlY3Rpb24iLCJmaWx0ZXJlZE1vZGVscyIsImNsb25lIiwibW9kZWxzIiwicmVzZXQiLCJ0YXJnZXRVcGxvYWRlciIsIlVwbG9hZGVyIiwidGhpc1VwbG9hZGVyIiwiZmlsZVVwbG9hZGVyIiwiYnJvd3NlQnV0dG9uIiwiZ2V0UmVnaW9uIiwiZ2V0RWwiLCJQb2RzRmlsZVVwbG9hZGVyIiwibWVkaWFPYmplY3QiLCJmaWx0ZXJzIiwibWltZV90eXBlcyIsImV4dGVuc2lvbnMiLCJkZWZhdWx0RXh0IiwibXVsdGlwbGUiLCJsaWJyYXJ5IiwiYnV0dG9uIiwidGV4dCIsIm9uY2UiLCJvbk1lZGlhU2VsZWN0Iiwib3BlbiIsInNlbGVjdGlvbiIsIm5ld0ZpbGVzIiwiYXR0YWNobWVudCIsImF0dHJpYnV0ZXMiLCJhdHRhY2htZW50VGh1bWJuYWlsIiwiaWNvbiIsInRodW1ibmFpbCIsImZ1bGwiLCJwdXNoIiwiZWRpdF9saW5rIiwiZWRpdExpbmsiLCJsaW5rIiwiZG93bmxvYWQiLCJwbHVwbG9hZCIsImJpbmQiLCJvbkZpbGVzQWRkZWQiLCJvblVwbG9hZFByb2dyZXNzIiwib25GaWxlVXBsb2FkZWQiLCJ1cCIsImZpbGVzIiwiZmlsZSIsIkZpbGVVcGxvYWRRdWV1ZU1vZGVsIiwiZmlsZW5hbWUiLCJGaWxlVXBsb2FkUXVldWUiLCJzaG93IiwicXVldWVDb2xsZWN0aW9uIiwicmVmcmVzaCIsInN0YXJ0Iiwic2V0IiwicHJvZ3Jlc3MiLCJwZXJjZW50IiwicmVzcCIsInJlc3BvbnNlIiwibmV3RmlsZSIsImpzb24iLCJzdWJzdHIiLCJjb25zb2xlIiwibG9nIiwiZXJyb3JNc2ciLCJtYXRjaCIsInBhcnNlSlNPTiIsImlzRW1wdHlPYmplY3QiLCJJRCIsInBvc3RfdGl0bGUiLCJjb25zdHJ1Y3RvciIsImNhbGwiLCJhZGRCdXR0b24iLCJ0cmlnZ2VycyIsIkZpbGVVcGxvYWRJdGVtIiwiZHJhZ0hhbmRsZSIsInZpZXdMaW5rIiwiZG93bmxvYWRMaW5rIiwicmVtb3ZlQnV0dG9uIiwiY2hpbGRWaWV3VHJpZ2dlcnMiLCJvbkF0dGFjaCIsInNvcnRfYXhpcyIsInNvcnRhYmxlIiwiY29udGFpbm1lbnQiLCJheGlzIiwic2Nyb2xsU2Vuc2l0aXZpdHkiLCJ0b2xlcmFuY2UiLCJGaWxlVXBsb2FkUXVldWVJdGVtIiwibW9kZWxFdmVudHMiLCJvbk1vZGVsQ2hhbmdlZCIsIlBvZHNERlZOdW1iZXIiLCJudW1iZXJfbWF4IiwibnVtYmVyX21pbiIsIm51bWJlcl9odG1sNSIsIlBvZHNERlZQYXNzd29yZCIsIlBpY2tGaWVsZE1vZGVsIiwidmlld3MiLCJDaGVja2JveFZpZXciLCJTZWxlY3RWaWV3IiwiUmFkaW9WaWV3IiwiTGlzdFZpZXciLCJtb2RhbElGcmFtZSIsIlBpY2siLCJhdXRvY29tcGxldGUiLCJhZGROZXciLCJSZWxhdGlvbnNoaXBDb2xsZWN0aW9uIiwic2hvd0FkZE5ldyIsImJ1aWxkQXV0b2NvbXBsZXRlIiwic2hvd0xpc3QiLCJwaWNrTGltaXQiLCJ2aWV3X25hbWUiLCJwaWNrX2Zvcm1hdF90eXBlIiwic2VsZWN0RnJvbUV4aXN0aW5nIiwiYWpheF9kYXRhIiwic2VsZWN0Ml9vdmVycmlkZXMiLCJwaWNrX2xpbWl0IiwiZmlsdGVyQnlTZWxlY3RlZCIsImxpbWl0RGlzYWJsZSIsIm9uQ2hpbGR2aWV3U2VsZWN0aW9uTGltaXRPdmVyIiwib25DaGlsZHZpZXdTZWxlY3Rpb25MaW1pdFVuZGVyIiwiZmlsdGVyQnlVbnNlbGVjdGVkIiwiZmlsdGVyQWpheExpc3QiLCJ2aWV3TmFtZSIsIkVycm9yIiwiQWRkTmV3Iiwic2VsZWN0ZWRJdGVtcyIsInJldHVybkxpc3QiLCJyZXN1bHRzIiwiZ2V0Q2hpbGRWaWV3Iiwic2V0Q29sbGVjdGlvbiIsImRpc2FibGUiLCJlbmFibGUiLCJvbkNoaWxkdmlld1JlbW92ZUl0ZW1DbGljayIsInRvZ2dsZVNlbGVjdGVkIiwib25DaGlsZHZpZXdBZGROZXciLCJpZnJhbWVfdGl0bGVfYWRkIiwiaWZyYW1lX3NyYyIsInNldE1vZGFsTGlzdGVuZXJzIiwib25DaGlsZHZpZXdFZGl0SXRlbUNsaWNrIiwiaWZyYW1lX3RpdGxlX2VkaXQiLCJlZGl0QnV0dG9uIiwiYXR0ciIsIm9uQ2hpbGR2aWV3Q2hhbmdlU2VsZWN0ZWQiLCJkZWZlciIsIm1vZGFsU3VjY2VzcyIsIm1vZGFsQ2FuY2VsIiwiY2xlYXJNb2RhbExpc3RlbmVycyIsIm9mZiIsIml0ZW1Nb2RlbCIsIlJlbGF0aW9uc2hpcE1vZGVsIiwic2V0U2VsZWN0ZWQiLCJpZHMiLCJ0aGlzTW9kZWwiLCJzZWxlY3RlZCIsImNvbnRhaW5zIiwiZmlsdGVyZWQiLCJESVNBQkxFRF9DTEFTUyIsImdldFVJIiwicmVtb3ZlQ2xhc3MiLCJvbkFkZE5ld0NsaWNrIiwiaGFzQ2xhc3MiLCJDaGVja2JveEl0ZW0iLCJjaGVja2JveCIsInRlbXBsYXRlQ29udGV4dCIsIm9yZGluYWwiLCJtb2RlbENoYW5nZWQiLCJ2YWxpZGF0ZVNlbGVjdGlvbkxpbWl0Iiwic2VsZWN0aW9uTGltaXRPdmVyIiwib25DaGlsZHZpZXdUb2dnbGVTZWxlY3RlZCIsInNlbGVjdGlvbkxpbWl0VW5kZXIiLCJsaW1pdCIsIm51bVNlbGVjdGVkIiwiZmluZCIsInByb3AiLCJMaXN0SXRlbSIsImNoaWxkIiwiUmFkaW9JdGVtIiwiU0VMRUNUMl9VTF9UQVJHRVQiLCJTRUxFQ1QyX1NFTEVDVEVEX1RBUkdFVCIsIlNlbGVjdEl0ZW0iLCJ2YWwiLCJodG1sIiwiT3B0Z3JvdXAiLCJzdG9wUHJvcGFnYXRpb24iLCJtdWx0aUxhc3RWYWxpZFNlbGVjdGlvbiIsIm9wdGdyb3VwIiwicmV0dXJuT3B0aW9ucyIsImZvcm1hdF90eXBlIiwic2V0dXBTZWxlY3QyIiwib25DaGFuZ2VTZWxlY3RlZCIsImFsZXJ0IiwiX24iLCJvbkJlZm9yZURldGFjaCIsInNlbGVjdFdvbyIsImZvcm1hdFR5cGUiLCJzZWxmIiwiJHNlbGVjdDIiLCJhamF4RGF0YSIsInNlbGVjdDJPdmVycmlkZXMiLCJpc1NpbmdsZSIsInNlbGVjdGVkQ291bnQiLCIkdWxDb250YWluZXIiLCJzZWxlY3QyT3B0aW9ucyIsInBsYWNlaG9sZGVyIiwicHJlcGVuZCIsIm1heGltdW1TZWxlY3Rpb25MZW5ndGgiLCJhbGxvd0NsZWFyIiwiZGlzYWJsZWQiLCJ0YWdzIiwicGlja190YWdnYWJsZSIsImVzY2FwZU1hcmt1cCIsImFqYXgiLCJtaW5pbXVtSW5wdXRMZW5ndGgiLCJtaW5pbXVtX2lucHV0X2xlbmd0aCIsImFqYXh1cmwiLCJkYXRhVHlwZSIsImRlbGF5IiwicGFyYW1zIiwiX3dwbm9uY2UiLCJtZXRob2QiLCJwb2QiLCJ1cmkiLCJxdWVyeSIsInRlcm0iLCJwcm9jZXNzUmVzdWx0cyIsIiRzZWxlY3RlZCIsInJldmVyc2UiLCJQb2RzREZWVGV4dCIsIlBvZHNERlZUZXh0QXJlYSIsIlNDUklQVF9UQVJHRVQiLCJyZW5kZXJlciIsIlBvZHNERlYiLCJmaWVsZEluc3RhbmNlcyIsInBhcmVudHMiLCJwaWNrX2FsbG93X2FkZF9uZXciLCJpc01vZGFsV2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJpc0d1dGVuYmVyZ0VkaXRvckxvYWRlZCIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImZhY3RzIiwiY29uZGl0aW9ucyIsImVxdWFsIiwibnVtZXJpY1ZhbHVlIiwiZ3JlYXRlciIsImxlc3MiLCJlbWFpbFJlZ2V4Iiwibm90Iiwib3IiLCJtYXRjaGVzIiwic2V0VmFsaWRhdGlvbk1lc3NhZ2VzIiwicnVsZXMiLCJjb25kaXRpb25hbFJ1bGVzIiwiZm9yRWFjaCIsImNvbmRpdGlvbmFsUnVsZSIsImNoZWNrVmFsaWRhdGlvbiIsInJ1bGVzRW5naW5lIiwiRW5naW5lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJydW4iLCJ0aGVuIiwiZXZlbnRzIl0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrREFBMEMsZ0NBQWdDO0FBQzFFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0VBQXdELGtCQUFrQjtBQUMxRTtBQUNBLHlEQUFpRCxjQUFjO0FBQy9EOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBeUMsaUNBQWlDO0FBQzFFLHdIQUFnSCxtQkFBbUIsRUFBRTtBQUNySTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUEyQiwwQkFBMEIsRUFBRTtBQUN2RCx5Q0FBaUMsZUFBZTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4REFBc0QsK0RBQStEOztBQUVySDtBQUNBOzs7QUFHQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDbEZhOztBQUViO0FBQ0EsY0FBYyxtQkFBTyxDQUFDLGlEQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLE1BQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNqRUEsOENBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGtCQUFrQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG9CQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7O0FDOU5hOztBQUViO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FB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Q0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7OztBQ3pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDJCQUEyQixtQkFBTyxDQUFDLGtEQUFTO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWSxPQUFPO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxJQUFJOzs7Ozs7Ozs7Ozs7O0FDNUxRO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7O0FDeEREO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNB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O0FBQ1YsNkJBQTZCO0FBQzdCLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixLQUFLO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsNEJBQTRCO0FBQzVCLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsSUFBcUM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxVQUFVLEtBQXFDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHNCQUFzQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsSUFBcUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsMkJBQTJCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxLQUFxQyw0RkFBNEYsU0FBTTtBQUM3STtBQUNBOztBQUVBLG1CQUFtQixnQ0FBZ0M7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLGdDQUFnQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7QUM5a0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLElBQXFDO0FBQ3pDLGdCQUFnQixtQkFBTyxDQUFDLGtEQUFVOztBQUVsQztBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQU8sQ0FBQyx1RkFBMkI7QUFDdEQsQ0FBQyxNQUFNLEVBSU47Ozs7Ozs7Ozs7Ozs7QUNsQkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViOztBQUVBOzs7Ozs7Ozs7Ozs7O0FDWGE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCx3QkFBd0IsbUJBQU8sQ0FBQyx3R0FBeUI7QUFDekQ7QUFDQTtBQUNBLENBQUM7QUFDRCwwREFBMEQsK0JBQStCLEVBQUU7Ozs7Ozs7Ozs7Ozs7QUNOOUU7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCx3QkFBd0IsbUJBQU8sQ0FBQyx3R0FBeUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7Ozs7Ozs7O0FDNUJhO0FBQ2I7QUFDQTtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RCwwQkFBMEIsbUJBQU8sQ0FBQyxnR0FBcUI7QUFDdkQsd0JBQXdCLG1CQUFPLENBQUMsNEZBQW1CO0FBQ25ELG9CQUFvQixtQkFBTyxDQUFDLG9GQUFlO0FBQzNDLDBCQUEwQixtQkFBTyxDQUFDLHNHQUFxQjtBQUN2RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRkFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLDBDQUEwQyxFQUFFO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsZ0NBQWdDLDJDQUEyQztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywyQ0FBMkM7QUFDdkYsOENBQThDLG1DQUFtQztBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywyQ0FBMkM7QUFDdkYsMkNBQTJDLDBDQUEwQztBQUNyRix1Q0FBdUMsc0NBQXNDO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esc0ZBQXNGLGFBQWE7QUFDbkc7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEZBQTRGLGVBQWU7QUFDM0c7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFFQTtBQUNBLEtBQUssS0FBd0MsRUFBRSxFQUU3Qzs7QUFFRixRQUFRLHNCQUFpQjtBQUN6Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7O0FBRUEsNkJBQTZCLG1CQUFtQjs7QUFFaEQ7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7OztBQzlZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFD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ZGZ2Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vdWkvanMvcG9kcy1kZnYvc3JjL3BvZHMtZGZ2LmpzXCIpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIHJhd0FzYXAgcHJvdmlkZXMgZXZlcnl0aGluZyB3ZSBuZWVkIGV4Y2VwdCBleGNlcHRpb24gbWFuYWdlbWVudC5cbnZhciByYXdBc2FwID0gcmVxdWlyZShcIi4vcmF3XCIpO1xuLy8gUmF3VGFza3MgYXJlIHJlY3ljbGVkIHRvIHJlZHVjZSBHQyBjaHVybi5cbnZhciBmcmVlVGFza3MgPSBbXTtcbi8vIFdlIHF1ZXVlIGVycm9ycyB0byBlbnN1cmUgdGhleSBhcmUgdGhyb3duIGluIHJpZ2h0IG9yZGVyIChGSUZPKS5cbi8vIEFycmF5LWFzLXF1ZXVlIGlzIGdvb2QgZW5vdWdoIGhlcmUsIHNpbmNlIHdlIGFyZSBqdXN0IGRlYWxpbmcgd2l0aCBleGNlcHRpb25zLlxudmFyIHBlbmRpbmdFcnJvcnMgPSBbXTtcbnZhciByZXF1ZXN0RXJyb3JUaHJvdyA9IHJhd0FzYXAubWFrZVJlcXVlc3RDYWxsRnJvbVRpbWVyKHRocm93Rmlyc3RFcnJvcik7XG5cbmZ1bmN0aW9uIHRocm93Rmlyc3RFcnJvcigpIHtcbiAgICBpZiAocGVuZGluZ0Vycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgcGVuZGluZ0Vycm9ycy5zaGlmdCgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDYWxscyBhIHRhc2sgYXMgc29vbiBhcyBwb3NzaWJsZSBhZnRlciByZXR1cm5pbmcsIGluIGl0cyBvd24gZXZlbnQsIHdpdGggcHJpb3JpdHlcbiAqIG92ZXIgb3RoZXIgZXZlbnRzIGxpa2UgYW5pbWF0aW9uLCByZWZsb3csIGFuZCByZXBhaW50LiBBbiBlcnJvciB0aHJvd24gZnJvbSBhblxuICogZXZlbnQgd2lsbCBub3QgaW50ZXJydXB0LCBub3IgZXZlbiBzdWJzdGFudGlhbGx5IHNsb3cgZG93biB0aGUgcHJvY2Vzc2luZyBvZlxuICogb3RoZXIgZXZlbnRzLCBidXQgd2lsbCBiZSByYXRoZXIgcG9zdHBvbmVkIHRvIGEgbG93ZXIgcHJpb3JpdHkgZXZlbnQuXG4gKiBAcGFyYW0ge3tjYWxsfX0gdGFzayBBIGNhbGxhYmxlIG9iamVjdCwgdHlwaWNhbGx5IGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBub1xuICogYXJndW1lbnRzLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGFzYXA7XG5mdW5jdGlvbiBhc2FwKHRhc2spIHtcbiAgICB2YXIgcmF3VGFzaztcbiAgICBpZiAoZnJlZVRhc2tzLmxlbmd0aCkge1xuICAgICAgICByYXdUYXNrID0gZnJlZVRhc2tzLnBvcCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJhd1Rhc2sgPSBuZXcgUmF3VGFzaygpO1xuICAgIH1cbiAgICByYXdUYXNrLnRhc2sgPSB0YXNrO1xuICAgIHJhd0FzYXAocmF3VGFzayk7XG59XG5cbi8vIFdlIHdyYXAgdGFza3Mgd2l0aCByZWN5Y2xhYmxlIHRhc2sgb2JqZWN0cy4gIEEgdGFzayBvYmplY3QgaW1wbGVtZW50c1xuLy8gYGNhbGxgLCBqdXN0IGxpa2UgYSBmdW5jdGlvbi5cbmZ1bmN0aW9uIFJhd1Rhc2soKSB7XG4gICAgdGhpcy50YXNrID0gbnVsbDtcbn1cblxuLy8gVGhlIHNvbGUgcHVycG9zZSBvZiB3cmFwcGluZyB0aGUgdGFzayBpcyB0byBjYXRjaCB0aGUgZXhjZXB0aW9uIGFuZCByZWN5Y2xlXG4vLyB0aGUgdGFzayBvYmplY3QgYWZ0ZXIgaXRzIHNpbmdsZSB1c2UuXG5SYXdUYXNrLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHRoaXMudGFzay5jYWxsKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGFzYXAub25lcnJvcikge1xuICAgICAgICAgICAgLy8gVGhpcyBob29rIGV4aXN0cyBwdXJlbHkgZm9yIHRlc3RpbmcgcHVycG9zZXMuXG4gICAgICAgICAgICAvLyBJdHMgbmFtZSB3aWxsIGJlIHBlcmlvZGljYWxseSByYW5kb21pemVkIHRvIGJyZWFrIGFueSBjb2RlIHRoYXRcbiAgICAgICAgICAgIC8vIGRlcGVuZHMgb24gaXRzIGV4aXN0ZW5jZS5cbiAgICAgICAgICAgIGFzYXAub25lcnJvcihlcnJvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJbiBhIHdlYiBicm93c2VyLCBleGNlcHRpb25zIGFyZSBub3QgZmF0YWwuIEhvd2V2ZXIsIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBzbG93aW5nIGRvd24gdGhlIHF1ZXVlIG9mIHBlbmRpbmcgdGFza3MsIHdlIHJldGhyb3cgdGhlIGVycm9yIGluIGFcbiAgICAgICAgICAgIC8vIGxvd2VyIHByaW9yaXR5IHR1cm4uXG4gICAgICAgICAgICBwZW5kaW5nRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgICAgcmVxdWVzdEVycm9yVGhyb3coKTtcbiAgICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRoaXMudGFzayA9IG51bGw7XG4gICAgICAgIGZyZWVUYXNrc1tmcmVlVGFza3MubGVuZ3RoXSA9IHRoaXM7XG4gICAgfVxufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vLyBVc2UgdGhlIGZhc3Rlc3QgbWVhbnMgcG9zc2libGUgdG8gZXhlY3V0ZSBhIHRhc2sgaW4gaXRzIG93biB0dXJuLCB3aXRoXG4vLyBwcmlvcml0eSBvdmVyIG90aGVyIGV2ZW50cyBpbmNsdWRpbmcgSU8sIGFuaW1hdGlvbiwgcmVmbG93LCBhbmQgcmVkcmF3XG4vLyBldmVudHMgaW4gYnJvd3NlcnMuXG4vL1xuLy8gQW4gZXhjZXB0aW9uIHRocm93biBieSBhIHRhc2sgd2lsbCBwZXJtYW5lbnRseSBpbnRlcnJ1cHQgdGhlIHByb2Nlc3Npbmcgb2Zcbi8vIHN1YnNlcXVlbnQgdGFza3MuIFRoZSBoaWdoZXIgbGV2ZWwgYGFzYXBgIGZ1bmN0aW9uIGVuc3VyZXMgdGhhdCBpZiBhblxuLy8gZXhjZXB0aW9uIGlzIHRocm93biBieSBhIHRhc2ssIHRoYXQgdGhlIHRhc2sgcXVldWUgd2lsbCBjb250aW51ZSBmbHVzaGluZyBhc1xuLy8gc29vbiBhcyBwb3NzaWJsZSwgYnV0IGlmIHlvdSB1c2UgYHJhd0FzYXBgIGRpcmVjdGx5LCB5b3UgYXJlIHJlc3BvbnNpYmxlIHRvXG4vLyBlaXRoZXIgZW5zdXJlIHRoYXQgbm8gZXhjZXB0aW9ucyBhcmUgdGhyb3duIGZyb20geW91ciB0YXNrLCBvciB0byBtYW51YWxseVxuLy8gY2FsbCBgcmF3QXNhcC5yZXF1ZXN0Rmx1c2hgIGlmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24uXG5tb2R1bGUuZXhwb3J0cyA9IHJhd0FzYXA7XG5mdW5jdGlvbiByYXdBc2FwKHRhc2spIHtcbiAgICBpZiAoIXF1ZXVlLmxlbmd0aCkge1xuICAgICAgICByZXF1ZXN0Rmx1c2goKTtcbiAgICAgICAgZmx1c2hpbmcgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBFcXVpdmFsZW50IHRvIHB1c2gsIGJ1dCBhdm9pZHMgYSBmdW5jdGlvbiBjYWxsLlxuICAgIHF1ZXVlW3F1ZXVlLmxlbmd0aF0gPSB0YXNrO1xufVxuXG52YXIgcXVldWUgPSBbXTtcbi8vIE9uY2UgYSBmbHVzaCBoYXMgYmVlbiByZXF1ZXN0ZWQsIG5vIGZ1cnRoZXIgY2FsbHMgdG8gYHJlcXVlc3RGbHVzaGAgYXJlXG4vLyBuZWNlc3NhcnkgdW50aWwgdGhlIG5leHQgYGZsdXNoYCBjb21wbGV0ZXMuXG52YXIgZmx1c2hpbmcgPSBmYWxzZTtcbi8vIGByZXF1ZXN0Rmx1c2hgIGlzIGFuIGltcGxlbWVudGF0aW9uLXNwZWNpZmljIG1ldGhvZCB0aGF0IGF0dGVtcHRzIHRvIGtpY2tcbi8vIG9mZiBhIGBmbHVzaGAgZXZlbnQgYXMgcXVpY2tseSBhcyBwb3NzaWJsZS4gYGZsdXNoYCB3aWxsIGF0dGVtcHQgdG8gZXhoYXVzdFxuLy8gdGhlIGV2ZW50IHF1ZXVlIGJlZm9yZSB5aWVsZGluZyB0byB0aGUgYnJvd3NlcidzIG93biBldmVudCBsb29wLlxudmFyIHJlcXVlc3RGbHVzaDtcbi8vIFRoZSBwb3NpdGlvbiBvZiB0aGUgbmV4dCB0YXNrIHRvIGV4ZWN1dGUgaW4gdGhlIHRhc2sgcXVldWUuIFRoaXMgaXNcbi8vIHByZXNlcnZlZCBiZXR3ZWVuIGNhbGxzIHRvIGBmbHVzaGAgc28gdGhhdCBpdCBjYW4gYmUgcmVzdW1lZCBpZlxuLy8gYSB0YXNrIHRocm93cyBhbiBleGNlcHRpb24uXG52YXIgaW5kZXggPSAwO1xuLy8gSWYgYSB0YXNrIHNjaGVkdWxlcyBhZGRpdGlvbmFsIHRhc2tzIHJlY3Vyc2l2ZWx5LCB0aGUgdGFzayBxdWV1ZSBjYW4gZ3Jvd1xuLy8gdW5ib3VuZGVkLiBUbyBwcmV2ZW50IG1lbW9yeSBleGhhdXN0aW9uLCB0aGUgdGFzayBxdWV1ZSB3aWxsIHBlcmlvZGljYWxseVxuLy8gdHJ1bmNhdGUgYWxyZWFkeS1jb21wbGV0ZWQgdGFza3MuXG52YXIgY2FwYWNpdHkgPSAxMDI0O1xuXG4vLyBUaGUgZmx1c2ggZnVuY3Rpb24gcHJvY2Vzc2VzIGFsbCB0YXNrcyB0aGF0IGhhdmUgYmVlbiBzY2hlZHVsZWQgd2l0aFxuLy8gYHJhd0FzYXBgIHVubGVzcyBhbmQgdW50aWwgb25lIG9mIHRob3NlIHRhc2tzIHRocm93cyBhbiBleGNlcHRpb24uXG4vLyBJZiBhIHRhc2sgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgYGZsdXNoYCBlbnN1cmVzIHRoYXQgaXRzIHN0YXRlIHdpbGwgcmVtYWluXG4vLyBjb25zaXN0ZW50IGFuZCB3aWxsIHJlc3VtZSB3aGVyZSBpdCBsZWZ0IG9mZiB3aGVuIGNhbGxlZCBhZ2Fpbi5cbi8vIEhvd2V2ZXIsIGBmbHVzaGAgZG9lcyBub3QgbWFrZSBhbnkgYXJyYW5nZW1lbnRzIHRvIGJlIGNhbGxlZCBhZ2FpbiBpZiBhblxuLy8gZXhjZXB0aW9uIGlzIHRocm93bi5cbmZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHdoaWxlIChpbmRleCA8IHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gaW5kZXg7XG4gICAgICAgIC8vIEFkdmFuY2UgdGhlIGluZGV4IGJlZm9yZSBjYWxsaW5nIHRoZSB0YXNrLiBUaGlzIGVuc3VyZXMgdGhhdCB3ZSB3aWxsXG4gICAgICAgIC8vIGJlZ2luIGZsdXNoaW5nIG9uIHRoZSBuZXh0IHRhc2sgdGhlIHRhc2sgdGhyb3dzIGFuIGVycm9yLlxuICAgICAgICBpbmRleCA9IGluZGV4ICsgMTtcbiAgICAgICAgcXVldWVbY3VycmVudEluZGV4XS5jYWxsKCk7XG4gICAgICAgIC8vIFByZXZlbnQgbGVha2luZyBtZW1vcnkgZm9yIGxvbmcgY2hhaW5zIG9mIHJlY3Vyc2l2ZSBjYWxscyB0byBgYXNhcGAuXG4gICAgICAgIC8vIElmIHdlIGNhbGwgYGFzYXBgIHdpdGhpbiB0YXNrcyBzY2hlZHVsZWQgYnkgYGFzYXBgLCB0aGUgcXVldWUgd2lsbFxuICAgICAgICAvLyBncm93LCBidXQgdG8gYXZvaWQgYW4gTyhuKSB3YWxrIGZvciBldmVyeSB0YXNrIHdlIGV4ZWN1dGUsIHdlIGRvbid0XG4gICAgICAgIC8vIHNoaWZ0IHRhc2tzIG9mZiB0aGUgcXVldWUgYWZ0ZXIgdGhleSBoYXZlIGJlZW4gZXhlY3V0ZWQuXG4gICAgICAgIC8vIEluc3RlYWQsIHdlIHBlcmlvZGljYWxseSBzaGlmdCAxMDI0IHRhc2tzIG9mZiB0aGUgcXVldWUuXG4gICAgICAgIGlmIChpbmRleCA+IGNhcGFjaXR5KSB7XG4gICAgICAgICAgICAvLyBNYW51YWxseSBzaGlmdCBhbGwgdmFsdWVzIHN0YXJ0aW5nIGF0IHRoZSBpbmRleCBiYWNrIHRvIHRoZVxuICAgICAgICAgICAgLy8gYmVnaW5uaW5nIG9mIHRoZSBxdWV1ZS5cbiAgICAgICAgICAgIGZvciAodmFyIHNjYW4gPSAwLCBuZXdMZW5ndGggPSBxdWV1ZS5sZW5ndGggLSBpbmRleDsgc2NhbiA8IG5ld0xlbmd0aDsgc2NhbisrKSB7XG4gICAgICAgICAgICAgICAgcXVldWVbc2Nhbl0gPSBxdWV1ZVtzY2FuICsgaW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcXVldWUubGVuZ3RoIC09IGluZGV4O1xuICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgaW5kZXggPSAwO1xuICAgIGZsdXNoaW5nID0gZmFsc2U7XG59XG5cbi8vIGByZXF1ZXN0Rmx1c2hgIGlzIGltcGxlbWVudGVkIHVzaW5nIGEgc3RyYXRlZ3kgYmFzZWQgb24gZGF0YSBjb2xsZWN0ZWQgZnJvbVxuLy8gZXZlcnkgYXZhaWxhYmxlIFNhdWNlTGFicyBTZWxlbml1bSB3ZWIgZHJpdmVyIHdvcmtlciBhdCB0aW1lIG9mIHdyaXRpbmcuXG4vLyBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC8xbUctNVVZR3VwNXF4R2RFTVdraFA2QldDejA1M05VYjJFMVFvVVRVMTZ1QS9lZGl0I2dpZD03ODM3MjQ1OTNcblxuLy8gU2FmYXJpIDYgYW5kIDYuMSBmb3IgZGVza3RvcCwgaVBhZCwgYW5kIGlQaG9uZSBhcmUgdGhlIG9ubHkgYnJvd3NlcnMgdGhhdFxuLy8gaGF2ZSBXZWJLaXRNdXRhdGlvbk9ic2VydmVyIGJ1dCBub3QgdW4tcHJlZml4ZWQgTXV0YXRpb25PYnNlcnZlci5cbi8vIE11c3QgdXNlIGBnbG9iYWxgIG9yIGBzZWxmYCBpbnN0ZWFkIG9mIGB3aW5kb3dgIHRvIHdvcmsgaW4gYm90aCBmcmFtZXMgYW5kIHdlYlxuLy8gd29ya2Vycy4gYGdsb2JhbGAgaXMgYSBwcm92aXNpb24gb2YgQnJvd3NlcmlmeSwgTXIsIE1ycywgb3IgTW9wLlxuXG4vKiBnbG9iYWxzIHNlbGYgKi9cbnZhciBzY29wZSA9IHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiBzZWxmO1xudmFyIEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyID0gc2NvcGUuTXV0YXRpb25PYnNlcnZlciB8fCBzY29wZS5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuXG4vLyBNdXRhdGlvbk9ic2VydmVycyBhcmUgZGVzaXJhYmxlIGJlY2F1c2UgdGhleSBoYXZlIGhpZ2ggcHJpb3JpdHkgYW5kIHdvcmtcbi8vIHJlbGlhYmx5IGV2ZXJ5d2hlcmUgdGhleSBhcmUgaW1wbGVtZW50ZWQuXG4vLyBUaGV5IGFyZSBpbXBsZW1lbnRlZCBpbiBhbGwgbW9kZXJuIGJyb3dzZXJzLlxuLy9cbi8vIC0gQW5kcm9pZCA0LTQuM1xuLy8gLSBDaHJvbWUgMjYtMzRcbi8vIC0gRmlyZWZveCAxNC0yOVxuLy8gLSBJbnRlcm5ldCBFeHBsb3JlciAxMVxuLy8gLSBpUGFkIFNhZmFyaSA2LTcuMVxuLy8gLSBpUGhvbmUgU2FmYXJpIDctNy4xXG4vLyAtIFNhZmFyaSA2LTdcbmlmICh0eXBlb2YgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJlcXVlc3RGbHVzaCA9IG1ha2VSZXF1ZXN0Q2FsbEZyb21NdXRhdGlvbk9ic2VydmVyKGZsdXNoKTtcblxuLy8gTWVzc2FnZUNoYW5uZWxzIGFyZSBkZXNpcmFibGUgYmVjYXVzZSB0aGV5IGdpdmUgZGlyZWN0IGFjY2VzcyB0byB0aGUgSFRNTFxuLy8gdGFzayBxdWV1ZSwgYXJlIGltcGxlbWVudGVkIGluIEludGVybmV0IEV4cGxvcmVyIDEwLCBTYWZhcmkgNS4wLTEsIGFuZCBPcGVyYVxuLy8gMTEtMTIsIGFuZCBpbiB3ZWIgd29ya2VycyBpbiBtYW55IGVuZ2luZXMuXG4vLyBBbHRob3VnaCBtZXNzYWdlIGNoYW5uZWxzIHlpZWxkIHRvIGFueSBxdWV1ZWQgcmVuZGVyaW5nIGFuZCBJTyB0YXNrcywgdGhleVxuLy8gd291bGQgYmUgYmV0dGVyIHRoYW4gaW1wb3NpbmcgdGhlIDRtcyBkZWxheSBvZiB0aW1lcnMuXG4vLyBIb3dldmVyLCB0aGV5IGRvIG5vdCB3b3JrIHJlbGlhYmx5IGluIEludGVybmV0IEV4cGxvcmVyIG9yIFNhZmFyaS5cblxuLy8gSW50ZXJuZXQgRXhwbG9yZXIgMTAgaXMgdGhlIG9ubHkgYnJvd3NlciB0aGF0IGhhcyBzZXRJbW1lZGlhdGUgYnV0IGRvZXNcbi8vIG5vdCBoYXZlIE11dGF0aW9uT2JzZXJ2ZXJzLlxuLy8gQWx0aG91Z2ggc2V0SW1tZWRpYXRlIHlpZWxkcyB0byB0aGUgYnJvd3NlcidzIHJlbmRlcmVyLCBpdCB3b3VsZCBiZVxuLy8gcHJlZmVycmFibGUgdG8gZmFsbGluZyBiYWNrIHRvIHNldFRpbWVvdXQgc2luY2UgaXQgZG9lcyBub3QgaGF2ZVxuLy8gdGhlIG1pbmltdW0gNG1zIHBlbmFsdHkuXG4vLyBVbmZvcnR1bmF0ZWx5IHRoZXJlIGFwcGVhcnMgdG8gYmUgYSBidWcgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTAgTW9iaWxlIChhbmRcbi8vIERlc2t0b3AgdG8gYSBsZXNzZXIgZXh0ZW50KSB0aGF0IHJlbmRlcnMgYm90aCBzZXRJbW1lZGlhdGUgYW5kXG4vLyBNZXNzYWdlQ2hhbm5lbCB1c2VsZXNzIGZvciB0aGUgcHVycG9zZXMgb2YgQVNBUC5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rcmlza293YWwvcS9pc3N1ZXMvMzk2XG5cbi8vIFRpbWVycyBhcmUgaW1wbGVtZW50ZWQgdW5pdmVyc2FsbHkuXG4vLyBXZSBmYWxsIGJhY2sgdG8gdGltZXJzIGluIHdvcmtlcnMgaW4gbW9zdCBlbmdpbmVzLCBhbmQgaW4gZm9yZWdyb3VuZFxuLy8gY29udGV4dHMgaW4gdGhlIGZvbGxvd2luZyBicm93c2Vycy5cbi8vIEhvd2V2ZXIsIG5vdGUgdGhhdCBldmVuIHRoaXMgc2ltcGxlIGNhc2UgcmVxdWlyZXMgbnVhbmNlcyB0byBvcGVyYXRlIGluIGFcbi8vIGJyb2FkIHNwZWN0cnVtIG9mIGJyb3dzZXJzLlxuLy9cbi8vIC0gRmlyZWZveCAzLTEzXG4vLyAtIEludGVybmV0IEV4cGxvcmVyIDYtOVxuLy8gLSBpUGFkIFNhZmFyaSA0LjNcbi8vIC0gTHlueCAyLjguN1xufSBlbHNlIHtcbiAgICByZXF1ZXN0Rmx1c2ggPSBtYWtlUmVxdWVzdENhbGxGcm9tVGltZXIoZmx1c2gpO1xufVxuXG4vLyBgcmVxdWVzdEZsdXNoYCByZXF1ZXN0cyB0aGF0IHRoZSBoaWdoIHByaW9yaXR5IGV2ZW50IHF1ZXVlIGJlIGZsdXNoZWQgYXNcbi8vIHNvb24gYXMgcG9zc2libGUuXG4vLyBUaGlzIGlzIHVzZWZ1bCB0byBwcmV2ZW50IGFuIGVycm9yIHRocm93biBpbiBhIHRhc2sgZnJvbSBzdGFsbGluZyB0aGUgZXZlbnRcbi8vIHF1ZXVlIGlmIHRoZSBleGNlcHRpb24gaGFuZGxlZCBieSBOb2RlLmpz4oCZc1xuLy8gYHByb2Nlc3Mub24oXCJ1bmNhdWdodEV4Y2VwdGlvblwiKWAgb3IgYnkgYSBkb21haW4uXG5yYXdBc2FwLnJlcXVlc3RGbHVzaCA9IHJlcXVlc3RGbHVzaDtcblxuLy8gVG8gcmVxdWVzdCBhIGhpZ2ggcHJpb3JpdHkgZXZlbnQsIHdlIGluZHVjZSBhIG11dGF0aW9uIG9ic2VydmVyIGJ5IHRvZ2dsaW5nXG4vLyB0aGUgdGV4dCBvZiBhIHRleHQgbm9kZSBiZXR3ZWVuIFwiMVwiIGFuZCBcIi0xXCIuXG5mdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjaykge1xuICAgIHZhciB0b2dnbGUgPSAxO1xuICAgIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjayk7XG4gICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuICAgICAgICB0b2dnbGUgPSAtdG9nZ2xlO1xuICAgICAgICBub2RlLmRhdGEgPSB0b2dnbGU7XG4gICAgfTtcbn1cblxuLy8gVGhlIG1lc3NhZ2UgY2hhbm5lbCB0ZWNobmlxdWUgd2FzIGRpc2NvdmVyZWQgYnkgTWFsdGUgVWJsIGFuZCB3YXMgdGhlXG4vLyBvcmlnaW5hbCBmb3VuZGF0aW9uIGZvciB0aGlzIGxpYnJhcnkuXG4vLyBodHRwOi8vd3d3Lm5vbmJsb2NraW5nLmlvLzIwMTEvMDYvd2luZG93bmV4dHRpY2suaHRtbFxuXG4vLyBTYWZhcmkgNi4wLjUgKGF0IGxlYXN0KSBpbnRlcm1pdHRlbnRseSBmYWlscyB0byBjcmVhdGUgbWVzc2FnZSBwb3J0cyBvbiBhXG4vLyBwYWdlJ3MgZmlyc3QgbG9hZC4gVGhhbmtmdWxseSwgdGhpcyB2ZXJzaW9uIG9mIFNhZmFyaSBzdXBwb3J0c1xuLy8gTXV0YXRpb25PYnNlcnZlcnMsIHNvIHdlIGRvbid0IG5lZWQgdG8gZmFsbCBiYWNrIGluIHRoYXQgY2FzZS5cblxuLy8gZnVuY3Rpb24gbWFrZVJlcXVlc3RDYWxsRnJvbU1lc3NhZ2VDaGFubmVsKGNhbGxiYWNrKSB7XG4vLyAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbi8vICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGNhbGxiYWNrO1xuLy8gICAgIHJldHVybiBmdW5jdGlvbiByZXF1ZXN0Q2FsbCgpIHtcbi8vICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbi8vICAgICB9O1xuLy8gfVxuXG4vLyBGb3IgcmVhc29ucyBleHBsYWluZWQgYWJvdmUsIHdlIGFyZSBhbHNvIHVuYWJsZSB0byB1c2UgYHNldEltbWVkaWF0ZWBcbi8vIHVuZGVyIGFueSBjaXJjdW1zdGFuY2VzLlxuLy8gRXZlbiBpZiB3ZSB3ZXJlLCB0aGVyZSBpcyBhbm90aGVyIGJ1ZyBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMC5cbi8vIEl0IGlzIG5vdCBzdWZmaWNpZW50IHRvIGFzc2lnbiBgc2V0SW1tZWRpYXRlYCB0byBgcmVxdWVzdEZsdXNoYCBiZWNhdXNlXG4vLyBgc2V0SW1tZWRpYXRlYCBtdXN0IGJlIGNhbGxlZCAqYnkgbmFtZSogYW5kIHRoZXJlZm9yZSBtdXN0IGJlIHdyYXBwZWQgaW4gYVxuLy8gY2xvc3VyZS5cbi8vIE5ldmVyIGZvcmdldC5cblxuLy8gZnVuY3Rpb24gbWFrZVJlcXVlc3RDYWxsRnJvbVNldEltbWVkaWF0ZShjYWxsYmFjaykge1xuLy8gICAgIHJldHVybiBmdW5jdGlvbiByZXF1ZXN0Q2FsbCgpIHtcbi8vICAgICAgICAgc2V0SW1tZWRpYXRlKGNhbGxiYWNrKTtcbi8vICAgICB9O1xuLy8gfVxuXG4vLyBTYWZhcmkgNi4wIGhhcyBhIHByb2JsZW0gd2hlcmUgdGltZXJzIHdpbGwgZ2V0IGxvc3Qgd2hpbGUgdGhlIHVzZXIgaXNcbi8vIHNjcm9sbGluZy4gVGhpcyBwcm9ibGVtIGRvZXMgbm90IGltcGFjdCBBU0FQIGJlY2F1c2UgU2FmYXJpIDYuMCBzdXBwb3J0c1xuLy8gbXV0YXRpb24gb2JzZXJ2ZXJzLCBzbyB0aGF0IGltcGxlbWVudGF0aW9uIGlzIHVzZWQgaW5zdGVhZC5cbi8vIEhvd2V2ZXIsIGlmIHdlIGV2ZXIgZWxlY3QgdG8gdXNlIHRpbWVycyBpbiBTYWZhcmksIHRoZSBwcmV2YWxlbnQgd29yay1hcm91bmRcbi8vIGlzIHRvIGFkZCBhIHNjcm9sbCBldmVudCBsaXN0ZW5lciB0aGF0IGNhbGxzIGZvciBhIGZsdXNoLlxuXG4vLyBgc2V0VGltZW91dGAgZG9lcyBub3QgY2FsbCB0aGUgcGFzc2VkIGNhbGxiYWNrIGlmIHRoZSBkZWxheSBpcyBsZXNzIHRoYW5cbi8vIGFwcHJveGltYXRlbHkgNyBpbiB3ZWIgd29ya2VycyBpbiBGaXJlZm94IDggdGhyb3VnaCAxOCwgYW5kIHNvbWV0aW1lcyBub3Rcbi8vIGV2ZW4gdGhlbi5cblxuZnVuY3Rpb24gbWFrZVJlcXVlc3RDYWxsRnJvbVRpbWVyKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuICAgICAgICAvLyBXZSBkaXNwYXRjaCBhIHRpbWVvdXQgd2l0aCBhIHNwZWNpZmllZCBkZWxheSBvZiAwIGZvciBlbmdpbmVzIHRoYXRcbiAgICAgICAgLy8gY2FuIHJlbGlhYmx5IGFjY29tbW9kYXRlIHRoYXQgcmVxdWVzdC4gVGhpcyB3aWxsIHVzdWFsbHkgYmUgc25hcHBlZFxuICAgICAgICAvLyB0byBhIDQgbWlsaXNlY29uZCBkZWxheSwgYnV0IG9uY2Ugd2UncmUgZmx1c2hpbmcsIHRoZXJlJ3Mgbm8gZGVsYXlcbiAgICAgICAgLy8gYmV0d2VlbiBldmVudHMuXG4gICAgICAgIHZhciB0aW1lb3V0SGFuZGxlID0gc2V0VGltZW91dChoYW5kbGVUaW1lciwgMCk7XG4gICAgICAgIC8vIEhvd2V2ZXIsIHNpbmNlIHRoaXMgdGltZXIgZ2V0cyBmcmVxdWVudGx5IGRyb3BwZWQgaW4gRmlyZWZveFxuICAgICAgICAvLyB3b3JrZXJzLCB3ZSBlbmxpc3QgYW4gaW50ZXJ2YWwgaGFuZGxlIHRoYXQgd2lsbCB0cnkgdG8gZmlyZVxuICAgICAgICAvLyBhbiBldmVudCAyMCB0aW1lcyBwZXIgc2Vjb25kIHVudGlsIGl0IHN1Y2NlZWRzLlxuICAgICAgICB2YXIgaW50ZXJ2YWxIYW5kbGUgPSBzZXRJbnRlcnZhbChoYW5kbGVUaW1lciwgNTApO1xuXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVRpbWVyKCkge1xuICAgICAgICAgICAgLy8gV2hpY2hldmVyIHRpbWVyIHN1Y2NlZWRzIHdpbGwgY2FuY2VsIGJvdGggdGltZXJzIGFuZFxuICAgICAgICAgICAgLy8gZXhlY3V0ZSB0aGUgY2FsbGJhY2suXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dEhhbmRsZSk7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSGFuZGxlKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vLyBUaGlzIGlzIGZvciBgYXNhcC5qc2Agb25seS5cbi8vIEl0cyBuYW1lIHdpbGwgYmUgcGVyaW9kaWNhbGx5IHJhbmRvbWl6ZWQgdG8gYnJlYWsgYW55IGNvZGUgdGhhdCBkZXBlbmRzIG9uXG4vLyBpdHMgZXhpc3RlbmNlLlxucmF3QXNhcC5tYWtlUmVxdWVzdENhbGxGcm9tVGltZXIgPSBtYWtlUmVxdWVzdENhbGxGcm9tVGltZXI7XG5cbi8vIEFTQVAgd2FzIG9yaWdpbmFsbHkgYSBuZXh0VGljayBzaGltIGluY2x1ZGVkIGluIFEuIFRoaXMgd2FzIGZhY3RvcmVkIG91dFxuLy8gaW50byB0aGlzIEFTQVAgcGFja2FnZS4gSXQgd2FzIGxhdGVyIGFkYXB0ZWQgdG8gUlNWUCB3aGljaCBtYWRlIGZ1cnRoZXJcbi8vIGFtZW5kbWVudHMuIFRoZXNlIGRlY2lzaW9ucywgcGFydGljdWxhcmx5IHRvIG1hcmdpbmFsaXplIE1lc3NhZ2VDaGFubmVsIGFuZFxuLy8gdG8gY2FwdHVyZSB0aGUgTXV0YXRpb25PYnNlcnZlciBpbXBsZW1lbnRhdGlvbiBpbiBhIGNsb3N1cmUsIHdlcmUgaW50ZWdyYXRlZFxuLy8gYmFjayBpbnRvIEFTQVAgcHJvcGVyLlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qcy9ibG9iL2NkZGY3MjMyNTQ2YTljZjg1ODUyNGI3NWNkZTZmOWVkZjcyNjIwYTcvbGliL3JzdnAvYXNhcC5qc1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKiFcbiAqIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBicmFja2V0czJkb3RzO1xuXG4vKiFcbiAqIHJlZ2V4cCBwYXR0ZXJucy5cbiAqL1xuXG52YXIgUkVQTEFDRV9CUkFDS0VUUyA9IC9cXFsoW15cXFtcXF1dKylcXF0vZztcbnZhciBMRlRfUlRfVFJJTV9ET1RTID0gL15bLl0qfFsuXSokL2c7XG5cbi8qKlxuICogQ29udmVydCBzdHJpbmcgd2l0aCBicmFja2V0IG5vdGF0aW9uIHRvIGRvdCBwcm9wZXJ0eSBub3RhdGlvbi5cbiAqXG4gKiAjIyMgRXhhbXBsZXM6XG4gKlxuICogICAgICBicmFja2V0czJkb3RzKCdncm91cFswXS5zZWN0aW9uLmEuc2VhdFszXScpXG4gKiAgICAgIC8vPT4gJ2dyb3VwLjAuc2VjdGlvbi5hLnNlYXQuMydcbiAqXG4gKiAgICAgIGJyYWNrZXRzMmRvdHMoJ1swXS5zZWN0aW9uLmEuc2VhdFszXScpXG4gKiAgICAgIC8vPT4gJzAuc2VjdGlvbi5hLnNlYXQuMydcbiAqXG4gKiAgICAgIGJyYWNrZXRzMmRvdHMoJ3Blb3BsZVsqXS5hZ2UnKVxuICogICAgICAvLz0+ICdwZW9wbGUuKi5hZ2UnXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBzdHJpbmdcbiAqIG9yaWdpbmFsIHN0cmluZ1xuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIGRvdC9icmFja2V0LW5vdGF0aW9uIHN0cmluZ1xuICovXG5cbmZ1bmN0aW9uIGJyYWNrZXRzMmRvdHMoc3RyaW5nKSB7XG4gIHJldHVybiAoe30pLnRvU3RyaW5nLmNhbGwoc3RyaW5nKSA9PSAnW29iamVjdCBTdHJpbmddJ1xuICAgICAgID8gc3RyaW5nLnJlcGxhY2UoUkVQTEFDRV9CUkFDS0VUUywgJy4kMScpLnJlcGxhY2UoTEZUX1JUX1RSSU1fRE9UUywgJycpXG4gICAgICAgOiAnJ1xufVxuIiwiLyohXG4gIENvcHlyaWdodCAoYykgMjAxNyBKZWQgV2F0c29uLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKE1JVCksIHNlZVxuICBodHRwOi8vamVkd2F0c29uLmdpdGh1Yi5pby9jbGFzc25hbWVzXG4qL1xuLyogZ2xvYmFsIGRlZmluZSAqL1xuXG4oZnVuY3Rpb24gKCkge1xuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIGhhc093biA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGNsYXNzTmFtZXMgKCkge1xuXHRcdHZhciBjbGFzc2VzID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGlmICghYXJnKSBjb250aW51ZTtcblxuXHRcdFx0dmFyIGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuXG5cdFx0XHRpZiAoYXJnVHlwZSA9PT0gJ3N0cmluZycgfHwgYXJnVHlwZSA9PT0gJ251bWJlcicpIHtcblx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGFyZyk7XG5cdFx0XHR9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoYXJnKSAmJiBhcmcubGVuZ3RoKSB7XG5cdFx0XHRcdHZhciBpbm5lciA9IGNsYXNzTmFtZXMuYXBwbHkobnVsbCwgYXJnKTtcblx0XHRcdFx0aWYgKGlubmVyKSB7XG5cdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGlubmVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChhcmdUeXBlID09PSAnb2JqZWN0Jykge1xuXHRcdFx0XHRmb3IgKHZhciBrZXkgaW4gYXJnKSB7XG5cdFx0XHRcdFx0aWYgKGhhc093bi5jYWxsKGFyZywga2V5KSAmJiBhcmdba2V5XSkge1xuXHRcdFx0XHRcdFx0Y2xhc3Nlcy5wdXNoKGtleSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNsYXNzZXMuam9pbignICcpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG5cdFx0Y2xhc3NOYW1lcy5kZWZhdWx0ID0gY2xhc3NOYW1lcztcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGNsYXNzTmFtZXM7XG5cdH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PT0gJ29iamVjdCcgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIHJlZ2lzdGVyIGFzICdjbGFzc25hbWVzJywgY29uc2lzdGVudCB3aXRoIG5wbSBwYWNrYWdlIG5hbWVcblx0XHRkZWZpbmUoJ2NsYXNzbmFtZXMnLCBbXSwgZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIGNsYXNzTmFtZXM7XG5cdFx0fSk7XG5cdH0gZWxzZSB7XG5cdFx0d2luZG93LmNsYXNzTmFtZXMgPSBjbGFzc05hbWVzO1xuXHR9XG59KCkpO1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIub3BhY2l0eS1naG9zdCB7XFxuICB0cmFuc2l0aW9uOiBhbGwgLjhzIGVhc2U7XFxuICBvcGFjaXR5OiAwLjQ7XFxuICBib3gtc2hhZG93OiAzcHggM3B4IDEwcHggM3B4IHJnYmEoMCwgMCwgMCwgMC4zKTtcXG4gIGN1cnNvcjogbnMtcmVzaXplOyB9XFxuXFxuLnBvZHMtZmllbGQtLXdyYXBwZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB0cmFuc2l0aW9uOiAyMDBtcyBlYXNlIGJhY2tncm91bmQtY29sb3I7IH1cXG4gIC5wb2RzLWZpZWxkLS13cmFwcGVyOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGVzbW9rZTsgfVxcblxcbi5wb2RzLWZpZWxkIHtcXG4gIHdpZHRoOiAyNSU7XFxuICBwYWRkaW5nOiA1cHggMjBweDsgfVxcblxcbi5wb2RzLWZpZWxkLS1oYW5kbGUge1xcbiAgd2lkdGg6IDIwcHg7XFxuICBvcGFjaXR5OiAuMjtcXG4gIHBhZGRpbmctbGVmdDogMTNweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDEzcHg7XFxuICBjdXJzb3I6IG1vdmU7IH1cXG5cXG4ucG9kcy1maWVsZC0tcmVxdWlyZWQge1xcbiAgY29sb3I6IHJlZDsgfVxcblxcbi5wb2RzLWZpZWxkLS1hY3Rpb25zIHtcXG4gIGRpc3BsYXk6IGZsZXg7IH1cXG5cXG4ucG9kcy1maWVsZC0tYWN0aW9ucyBpIHtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBjb2xvcjogIzAwNzNhYTsgfVxcbiAgLnBvZHMtZmllbGQtLWFjdGlvbnMgaTpob3ZlciB7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgY29sb3I6ICMwMGEwZDI7IH1cXG5cXG4ucG9kcy1maWVsZC0tbGFiZWwge1xcbiAgcGFkZGluZy1sZWZ0OiAwOyB9XFxuXFxuLnBvZHMtZmllbGQtLWxhYmVsOmhvdmVyIC5wb2RzLWZpZWxkLS1pZCxcXG4ucG9kcy1maWVsZC0tdHlwZTpob3ZlciAucG9kcy1maWVsZC0taWQge1xcbiAgb3BhY2l0eTogMTsgfVxcblxcbi5wb2RzLWZpZWxkLS1pZCB7XFxuICBmb250LXNpemU6IDEzcHg7XFxuICBjb2xvcjogIzk5OTtcXG4gIGRpc3BsYXk6IGlubGluZTtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2l0aW9uOiAyMDBtcyBlYXNlIG9wYWNpdHk7IH1cXG5cXG4ucG9kcy1maWVsZC0tbGFiZWwsXFxuLnBvZHMtZmllbGQtLW5hbWUge1xcbiAgY29sb3I6ICMwMDczYWE7IH1cXG4gIC5wb2RzLWZpZWxkLS1sYWJlbDpob3ZlcixcXG4gIC5wb2RzLWZpZWxkLS1uYW1lOmhvdmVyIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBjb2xvcjogIzAwYTBkMjsgfVxcblxcbi5wb2RzLWZpZWxkLS1sYWJlbCxcXG4ucG9kcy1maWVsZC0tdHlwZSB7XFxuICB3aWR0aDogMzAlOyB9XFxuXFxuLnBvZHMtZmllbGQtLXdyYXBwZXItbGFiZWxzIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XFxuICBmb250LXdlaWdodDogNjAwO1xcbiAgcGFkZGluZzogNnB4IDA7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZTVlNWU1O1xcbiAgYm9yZGVyLWxlZnQ6IG5vbmU7XFxuICBib3JkZXItcmlnaHQ6IG5vbmU7IH1cXG4gIC5wb2RzLWZpZWxkLS13cmFwcGVyLWxhYmVsczpmaXJzdC1jaGlsZCB7XFxuICAgIGJvcmRlci10b3A6IG5vbmU7IH1cXG5cXG4ucG9kcy1maWVsZC0td3JhcHBlci1sYWJlbHMgLnBvZHMtZmllbGQtLWhhbmRsZSB7XFxuICBjdXJzb3I6IGluaGVyaXQ7IH1cXG5cXG4ucG9kcy1maWVsZC0td3JhcHBlci1sYWJlbC1pdGVtcyB7XFxuICB3aWR0aDogMTcycHg7XFxuICBwYWRkaW5nOiAyMHB4IDIwcHggMTdweDtcXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsgfVxcbiAgLnBvZHMtZmllbGQtLXdyYXBwZXItbGFiZWwtaXRlbXM6Zmlyc3QtY2hpbGQge1xcbiAgICBtYXJnaW4tbGVmdDogMzZweDsgfVxcblxcbi5wb2RzLWZpZWxkLWdyb3VwLXdyYXBwZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7IH1cXG4gIC5wb2RzLWZpZWxkLWdyb3VwLXdyYXBwZXIgPiAucG9kcy1maWVsZC0td3JhcHBlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlc21va2U7IH1cXG4gICAgLnBvZHMtZmllbGQtZ3JvdXAtd3JhcHBlciA+IC5wb2RzLWZpZWxkLS13cmFwcGVyOmhvdmVyIHtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTRlNGU0OyB9XFxuICAucG9kcy1maWVsZC1ncm91cC13cmFwcGVyOmxhc3QtY2hpbGQge1xcbiAgICBib3JkZXItYm90dG9tOiAwOyB9XFxuXFxuLnBvZHMtZmllbGQtZ3JvdXAtLXRpdGxlIHtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgY29sb3I6ICMzMzM7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZTVlNWU1O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxcblxcbi5wb2RzLWZpZWxkLWdyb3VwLS1oYW5kbGUge1xcbiAgcGFkZGluZy1yaWdodDogMTNweDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBjdXJzb3I6IG1vdmU7IH1cXG5cXG4ucG9kcy1maWVsZC1ncm91cC0tbWFuYWdlIHtcXG4gIG1hcmdpbi1sZWZ0OiBhdXRvOyB9XFxuXFxuLnBvZHMtYnV0dG9uLWdyb3VwLS1jb250YWluZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcXG4gIG1hcmdpbi10b3A6IDEwcHg7IH1cXG5cXG4ucG9kcy1maWVsZC1ncm91cC0tdG9nZ2xlIHtcXG4gIGN1cnNvcjogcG9pbnRlcjsgfVxcblxcbi5wb2RzLWJ1dHRvbi1ncm91cC0taXRlbSB7XFxuICBwYWRkaW5nOiAxMHB4IDIwcHg7XFxuICBjb2xvcjogIzMzMztcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIHRyYW5zaXRpb246IDMwMG1zIGVhc2UgYmFja2dyb3VuZC1jb2xvcjsgfVxcbiAgLnBvZHMtYnV0dG9uLWdyb3VwLS1pdGVtOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2UwZTBlMDsgfVxcbiAgLnBvZHMtYnV0dG9uLWdyb3VwLS1pdGVtOmxhc3QtY2hpbGQge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTRiZjNhO1xcbiAgICBjb2xvcjogd2hpdGU7IH1cXG4gICAgLnBvZHMtYnV0dG9uLWdyb3VwLS1pdGVtOmxhc3QtY2hpbGQ6aG92ZXIge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM3YzllMzM7IH1cXG5cIiwgXCJcIl0pO1xuXG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5wb2RzLWZpZWxkLS13cmFwcGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgdHJhbnNpdGlvbjogMjAwbXMgZWFzZSBiYWNrZ3JvdW5kLWNvbG9yOyB9XFxuICAucG9kcy1maWVsZC0td3JhcHBlcjpob3ZlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmYmZiZmI7IH1cXG5cXG4ucG9kcy1tYW5hZ2UtZmllbGRzIHtcXG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgI2U1ZTVlNTtcXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlNWU1ZTU7IH1cXG5cXG4ucG9kcy1tYW5hZ2UtZmllbGRzLm5vLWZpZWxkcyB7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG4gIHBhZGRpbmc6IDFlbTsgfVxcblxcbmRpdi5wb2RzLW1hbmFnZS1mIC5wb2RzLWZpZWxkIHtcXG4gIHdpZHRoOiAyNSU7XFxuICBwYWRkaW5nOiAxMHB4IDIwcHg7IH1cXG5cXG4ucG9kcy1maWVsZC0taGFuZGxlIHtcXG4gIHdpZHRoOiBhdXRvO1xcbiAgb3BhY2l0eTogLjI7IH1cXG5cXG4ucG9kcy1maWVsZC0tcmVxdWlyZWQge1xcbiAgY29sb3I6IHJlZDsgfVxcblxcbi5wb2RzLWZpZWxkLS1hY3Rpb25zIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICB3aWR0aDogYXV0bzsgfVxcblxcbi5wb2RzLWZpZWxkLS1hY3Rpb25zIC5kYXNoaWNvbiB7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgY29sb3I6ICMwMDczYWE7IH1cXG4gIC5wb2RzLWZpZWxkLS1hY3Rpb25zIC5kYXNoaWNvbjpob3ZlciB7XFxuICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgY29sb3I6ICMwMGEwZDI7IH1cXG5cXG4ucG9kcy1maWVsZC0tbGFiZWwge1xcbiAgcGFkZGluZy1sZWZ0OiAwOyB9XFxuXFxuLnBvZHMtZmllbGQtLWxhYmVsOmhvdmVyIC5wb2RzLWZpZWxkLS1pZCxcXG4ucG9kcy1maWVsZC0tdHlwZTpob3ZlciAucG9kcy1maWVsZC0taWQge1xcbiAgb3BhY2l0eTogMTsgfVxcblxcbi5wb2RzLWZpZWxkLS1pZCB7XFxuICBmb250LXNpemU6IDEzcHg7XFxuICBjb2xvcjogIzk5OTtcXG4gIGRpc3BsYXk6IGlubGluZTtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2l0aW9uOiAyMDBtcyBlYXNlIG9wYWNpdHk7IH1cXG5cXG4ucG9kcy1maWVsZC0tbGFiZWwsXFxuLnBvZHMtZmllbGQtLW5hbWUge1xcbiAgY29sb3I6ICMwMDczYWE7IH1cXG4gIC5wb2RzLWZpZWxkLS1sYWJlbDpob3ZlcixcXG4gIC5wb2RzLWZpZWxkLS1uYW1lOmhvdmVyIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBjb2xvcjogIzAwYTBkMjsgfVxcblxcbi5wb2RzLWZpZWxkLS1sYWJlbCB7XFxuICBmbGV4OiAxOyB9XFxuXFxuLnBvZHMtZmllbGQtLW5hbWUge1xcbiAgZmxleDogMTsgfVxcblxcbi5wb2RzLWZpZWxkLS13cmFwcGVyLWxhYmVscyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHdoaXRlc21va2U7IH1cXG5cXG4ucG9kcy1maWVsZC0td3JhcHBlci1sYWJlbC1pdGVtcyB7XFxuICB3aWR0aDogMTcycHg7XFxuICBwYWRkaW5nOiAyMHB4IDIwcHggMTdweDtcXG4gIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDsgfVxcbiAgLnBvZHMtZmllbGQtLXdyYXBwZXItbGFiZWwtaXRlbXM6Zmlyc3QtY2hpbGQge1xcbiAgICBtYXJnaW4tbGVmdDogMzZweDsgfVxcblwiLCBcIlwiXSk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiAnQG1lZGlhICcgKyBpdGVtWzJdICsgJ3snICsgY29udGVudCArICd9JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfVxuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBtb2R1bGVzW2ldOyAvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG4gICAgICAvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuICAgICAgLy8gd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuICAgICAgLy8gSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXG4gICAgICBpZiAoaXRlbVswXSA9PSBudWxsIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGlmIChtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSAnKCcgKyBpdGVtWzJdICsgJykgYW5kICgnICsgbWVkaWFRdWVyeSArICcpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJztcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcbiAgcmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn0iLCIndXNlIHN0cmljdCdcblxuLyohXG4gKiBpbXBvcnRzLlxuICovXG5cbnZhciBiaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgfHwgcmVxdWlyZSgnZmFzdC1iaW5kJylcblxuLyohXG4gKiBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gY3VycnkyXG5cbi8qKlxuICogQ3VycnkgYSBiaW5hcnkgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEJpbmFyeSBmdW5jdGlvbiB0byBjdXJyeS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gW3NlbGZdXG4gKiBGdW5jdGlvbiBgdGhpc2AgY29udGV4dC5cbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbnwqfVxuICogSWYgcGFydGlhbGx5IGFwcGxpZWQsIHJldHVybiB1bmFyeSBmdW5jdGlvbiwgb3RoZXJ3aXNlLCByZXR1cm4gcmVzdWx0IG9mIGZ1bGwgYXBwbGljYXRpb24uXG4gKi9cblxuZnVuY3Rpb24gY3VycnkyIChmbiwgc2VsZikge1xuICB2YXIgb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gb3V0XG5cbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDFcbiAgICAgID8gZm4uYXBwbHkoc2VsZiwgYXJndW1lbnRzKVxuICAgICAgOiBiaW5kLmNhbGwoZm4sIHNlbGYsIGFyZ3VtZW50c1swXSlcbiAgfVxuXG4gIG91dC51bmN1cnJ5ID0gZnVuY3Rpb24gdW5jdXJyeSAoKSB7XG4gICAgcmV0dXJuIGZuXG4gIH1cblxuICByZXR1cm4gb3V0XG59XG4iLCIvKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kZWJ1ZycpO1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9ICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWVcbiAgICAgICAgICAgICAgICYmICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWUuc3RvcmFnZVxuICAgICAgICAgICAgICAgICAgPyBjaHJvbWUuc3RvcmFnZS5sb2NhbFxuICAgICAgICAgICAgICAgICAgOiBsb2NhbHN0b3JhZ2UoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG4gICdsaWdodHNlYWdyZWVuJyxcbiAgJ2ZvcmVzdGdyZWVuJyxcbiAgJ2dvbGRlbnJvZCcsXG4gICdkb2RnZXJibHVlJyxcbiAgJ2RhcmtvcmNoaWQnLFxuICAnY3JpbXNvbidcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuICAvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG4gIC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG4gIC8vIGV4cGxpY2l0bHlcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmIHdpbmRvdy5wcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG4gIHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuICAgIC8vIGlzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuICAgIC8vIGlzIGZpcmVmb3ggPj0gdjMxP1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pICYmIHBhcnNlSW50KFJlZ0V4cC4kMSwgMTApID49IDMxKSB8fFxuICAgIC8vIGRvdWJsZSBjaGVjayB3ZWJraXQgaW4gdXNlckFnZW50IGp1c3QgaW4gY2FzZSB3ZSBhcmUgaW4gYSB3b3JrZXJcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uKHYpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnIubWVzc2FnZTtcbiAgfVxufTtcblxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuICB2YXIgdXNlQ29sb3JzID0gdGhpcy51c2VDb2xvcnM7XG5cbiAgYXJnc1swXSA9ICh1c2VDb2xvcnMgPyAnJWMnIDogJycpXG4gICAgKyB0aGlzLm5hbWVzcGFjZVxuICAgICsgKHVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKVxuICAgICsgYXJnc1swXVxuICAgICsgKHVzZUNvbG9ycyA/ICclYyAnIDogJyAnKVxuICAgICsgJysnICsgZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdXNlQ29sb3JzKSByZXR1cm47XG5cbiAgdmFyIGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuICBhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKVxuXG4gIC8vIHRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG4gIC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cbiAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0QyA9IDA7XG4gIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIGlmICgnJSUnID09PSBtYXRjaCkgcmV0dXJuO1xuICAgIGluZGV4Kys7XG4gICAgaWYgKCclYycgPT09IG1hdGNoKSB7XG4gICAgICAvLyB3ZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgIC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG4gICAgICBsYXN0QyA9IGluZGV4O1xuICAgIH1cbiAgfSk7XG5cbiAgYXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUubG9nKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5sb2dgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgLy8gdGhpcyBoYWNrZXJ5IGlzIHJlcXVpcmVkIGZvciBJRTgvOSwgd2hlcmVcbiAgLy8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24gZG9lc24ndCBoYXZlICdhcHBseSdcbiAgcmV0dXJuICdvYmplY3QnID09PSB0eXBlb2YgY29uc29sZVxuICAgICYmIGNvbnNvbGUubG9nXG4gICAgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZS5sb2csIGNvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuICB0cnkge1xuICAgIGlmIChudWxsID09IG5hbWVzcGFjZXMpIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UuZGVidWcgPSBuYW1lc3BhY2VzO1xuICAgIH1cbiAgfSBjYXRjaChlKSB7fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gIHZhciByO1xuICB0cnkge1xuICAgIHIgPSBleHBvcnRzLnN0b3JhZ2UuZGVidWc7XG4gIH0gY2F0Y2goZSkge31cblxuICAvLyBJZiBkZWJ1ZyBpc24ndCBzZXQgaW4gTFMsIGFuZCB3ZSdyZSBpbiBFbGVjdHJvbiwgdHJ5IHRvIGxvYWQgJERFQlVHXG4gIGlmICghciAmJiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ2VudicgaW4gcHJvY2Vzcykge1xuICAgIHIgPSBwcm9jZXNzLmVudi5ERUJVRztcbiAgfVxuXG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqIEVuYWJsZSBuYW1lc3BhY2VzIGxpc3RlZCBpbiBgbG9jYWxTdG9yYWdlLmRlYnVnYCBpbml0aWFsbHkuXG4gKi9cblxuZXhwb3J0cy5lbmFibGUobG9hZCgpKTtcblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG4iLCJcbi8qKlxuICogVGhpcyBpcyB0aGUgY29tbW9uIGxvZ2ljIGZvciBib3RoIHRoZSBOb2RlLmpzIGFuZCB3ZWIgYnJvd3NlclxuICogaW1wbGVtZW50YXRpb25zIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY3JlYXRlRGVidWcuZGVidWcgPSBjcmVhdGVEZWJ1Z1snZGVmYXVsdCddID0gY3JlYXRlRGVidWc7XG5leHBvcnRzLmNvZXJjZSA9IGNvZXJjZTtcbmV4cG9ydHMuZGlzYWJsZSA9IGRpc2FibGU7XG5leHBvcnRzLmVuYWJsZSA9IGVuYWJsZTtcbmV4cG9ydHMuZW5hYmxlZCA9IGVuYWJsZWQ7XG5leHBvcnRzLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblxuLyoqXG4gKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cbiAqL1xuXG5leHBvcnRzLm5hbWVzID0gW107XG5leHBvcnRzLnNraXBzID0gW107XG5cbi8qKlxuICogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuICpcbiAqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMgPSB7fTtcblxuLyoqXG4gKiBQcmV2aW91cyBsb2cgdGltZXN0YW1wLlxuICovXG5cbnZhciBwcmV2VGltZTtcblxuLyoqXG4gKiBTZWxlY3QgYSBjb2xvci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuICB2YXIgaGFzaCA9IDAsIGk7XG5cbiAgZm9yIChpIGluIG5hbWVzcGFjZSkge1xuICAgIGhhc2ggID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuICB9XG5cbiAgcmV0dXJuIGV4cG9ydHMuY29sb3JzW01hdGguYWJzKGhhc2gpICUgZXhwb3J0cy5jb2xvcnMubGVuZ3RoXTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBkZWJ1Z2dlciB3aXRoIHRoZSBnaXZlbiBgbmFtZXNwYWNlYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cbiAgZnVuY3Rpb24gZGVidWcoKSB7XG4gICAgLy8gZGlzYWJsZWQ/XG4gICAgaWYgKCFkZWJ1Zy5lbmFibGVkKSByZXR1cm47XG5cbiAgICB2YXIgc2VsZiA9IGRlYnVnO1xuXG4gICAgLy8gc2V0IGBkaWZmYCB0aW1lc3RhbXBcbiAgICB2YXIgY3VyciA9ICtuZXcgRGF0ZSgpO1xuICAgIHZhciBtcyA9IGN1cnIgLSAocHJldlRpbWUgfHwgY3Vycik7XG4gICAgc2VsZi5kaWZmID0gbXM7XG4gICAgc2VsZi5wcmV2ID0gcHJldlRpbWU7XG4gICAgc2VsZi5jdXJyID0gY3VycjtcbiAgICBwcmV2VGltZSA9IGN1cnI7XG5cbiAgICAvLyB0dXJuIHRoZSBgYXJndW1lbnRzYCBpbnRvIGEgcHJvcGVyIEFycmF5XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGFyZ3NbMF0gPSBleHBvcnRzLmNvZXJjZShhcmdzWzBdKTtcblxuICAgIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGFyZ3NbMF0pIHtcbiAgICAgIC8vIGFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG4gICAgICBhcmdzLnVuc2hpZnQoJyVPJyk7XG4gICAgfVxuXG4gICAgLy8gYXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCBmdW5jdGlvbihtYXRjaCwgZm9ybWF0KSB7XG4gICAgICAvLyBpZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG4gICAgICBpZiAobWF0Y2ggPT09ICclJScpIHJldHVybiBtYXRjaDtcbiAgICAgIGluZGV4Kys7XG4gICAgICB2YXIgZm9ybWF0dGVyID0gZXhwb3J0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG4gICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGZvcm1hdHRlcikge1xuICAgICAgICB2YXIgdmFsID0gYXJnc1tpbmRleF07XG4gICAgICAgIG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuICAgICAgICAvLyBub3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG4gICAgICAgIGFyZ3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcblxuICAgIC8vIGFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG4gICAgZXhwb3J0cy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cbiAgICB2YXIgbG9nRm4gPSBkZWJ1Zy5sb2cgfHwgZXhwb3J0cy5sb2cgfHwgY29uc29sZS5sb2cuYmluZChjb25zb2xlKTtcbiAgICBsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgfVxuXG4gIGRlYnVnLm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcbiAgZGVidWcuZW5hYmxlZCA9IGV4cG9ydHMuZW5hYmxlZChuYW1lc3BhY2UpO1xuICBkZWJ1Zy51c2VDb2xvcnMgPSBleHBvcnRzLnVzZUNvbG9ycygpO1xuICBkZWJ1Zy5jb2xvciA9IHNlbGVjdENvbG9yKG5hbWVzcGFjZSk7XG5cbiAgLy8gZW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcbiAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzLmluaXQpIHtcbiAgICBleHBvcnRzLmluaXQoZGVidWcpO1xuICB9XG5cbiAgcmV0dXJuIGRlYnVnO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgYSBkZWJ1ZyBtb2RlIGJ5IG5hbWVzcGFjZXMuIFRoaXMgY2FuIGluY2x1ZGUgbW9kZXNcbiAqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcbiAgZXhwb3J0cy5zYXZlKG5hbWVzcGFjZXMpO1xuXG4gIGV4cG9ydHMubmFtZXMgPSBbXTtcbiAgZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4gIHZhciBzcGxpdCA9ICh0eXBlb2YgbmFtZXNwYWNlcyA9PT0gJ3N0cmluZycgPyBuYW1lc3BhY2VzIDogJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOyAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgIGV4cG9ydHMuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIGV4cG9ydHMuZW5hYmxlKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICB2YXIgaSwgbGVuO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYHZhbGAuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICByZXR1cm4gdmFsO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVkdXhfMSA9IHJlcXVpcmUoXCJyZWR1eFwiKTtcbnZhciByZWR1Y2Vyc18xID0gcmVxdWlyZShcIi4vcmVkdWNlcnNcIik7XG52YXIgZHJhZ0Ryb3BfMSA9IHJlcXVpcmUoXCIuL2FjdGlvbnMvZHJhZ0Ryb3BcIik7XG52YXIgRHJhZ0Ryb3BNb25pdG9ySW1wbF8xID0gcmVxdWlyZShcIi4vRHJhZ0Ryb3BNb25pdG9ySW1wbFwiKTtcbnZhciBIYW5kbGVyUmVnaXN0cnlJbXBsXzEgPSByZXF1aXJlKFwiLi9IYW5kbGVyUmVnaXN0cnlJbXBsXCIpO1xuZnVuY3Rpb24gbWFrZVN0b3JlSW5zdGFuY2UoZGVidWdNb2RlKSB7XG4gICAgLy8gVE9ETzogaWYgd2UgZXZlciBtYWtlIGEgcmVhY3QtbmF0aXZlIHZlcnNpb24gb2YgdGhpcyxcbiAgICAvLyB3ZSdsbCBuZWVkIHRvIGNvbnNpZGVyIGhvdyB0byBwdWxsIG9mZiBkZXYtdG9vbGluZ1xuICAgIHZhciByZWR1eERldlRvb2xzID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX187XG4gICAgcmV0dXJuIHJlZHV4XzEuY3JlYXRlU3RvcmUocmVkdWNlcnNfMS5kZWZhdWx0LCBkZWJ1Z01vZGUgJiZcbiAgICAgICAgcmVkdXhEZXZUb29scyAmJlxuICAgICAgICByZWR1eERldlRvb2xzKHtcbiAgICAgICAgICAgIG5hbWU6ICdkbmQtY29yZScsXG4gICAgICAgICAgICBpbnN0YW5jZUlkOiAnZG5kLWNvcmUnLFxuICAgICAgICB9KSk7XG59XG52YXIgRHJhZ0Ryb3BNYW5hZ2VySW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEcmFnRHJvcE1hbmFnZXJJbXBsKGNyZWF0ZUJhY2tlbmQsIGNvbnRleHQsIGRlYnVnTW9kZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7IGNvbnRleHQgPSB7fTsgfVxuICAgICAgICBpZiAoZGVidWdNb2RlID09PSB2b2lkIDApIHsgZGVidWdNb2RlID0gZmFsc2U7IH1cbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5pc1NldFVwID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFuZGxlUmVmQ291bnRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2hvdWxkU2V0VXAgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnJlZkNvdW50ID4gMDtcbiAgICAgICAgICAgIGlmIChzaG91bGRTZXRVcCAmJiAhX3RoaXMuaXNTZXRVcCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmJhY2tlbmQuc2V0dXAoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc1NldFVwID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFzaG91bGRTZXRVcCAmJiBfdGhpcy5pc1NldFVwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYmFja2VuZC50ZWFyZG93bigpO1xuICAgICAgICAgICAgICAgIF90aGlzLmlzU2V0VXAgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHN0b3JlID0gbWFrZVN0b3JlSW5zdGFuY2UoZGVidWdNb2RlKTtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgICAgICB0aGlzLm1vbml0b3IgPSBuZXcgRHJhZ0Ryb3BNb25pdG9ySW1wbF8xLmRlZmF1bHQoc3RvcmUsIG5ldyBIYW5kbGVyUmVnaXN0cnlJbXBsXzEuZGVmYXVsdChzdG9yZSkpO1xuICAgICAgICB0aGlzLmJhY2tlbmQgPSBjcmVhdGVCYWNrZW5kKHRoaXMpO1xuICAgICAgICBzdG9yZS5zdWJzY3JpYmUodGhpcy5oYW5kbGVSZWZDb3VudENoYW5nZSk7XG4gICAgfVxuICAgIERyYWdEcm9wTWFuYWdlckltcGwucHJvdG90eXBlLmdldENvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQ7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1hbmFnZXJJbXBsLnByb3RvdHlwZS5nZXRNb25pdG9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb25pdG9yO1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNYW5hZ2VySW1wbC5wcm90b3R5cGUuZ2V0QmFja2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFja2VuZDtcbiAgICB9O1xuICAgIERyYWdEcm9wTWFuYWdlckltcGwucHJvdG90eXBlLmdldFJlZ2lzdHJ5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb25pdG9yLnJlZ2lzdHJ5O1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNYW5hZ2VySW1wbC5wcm90b3R5cGUuZ2V0QWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hbmFnZXIgPSB0aGlzO1xuICAgICAgICB2YXIgZGlzcGF0Y2ggPSB0aGlzLnN0b3JlLmRpc3BhdGNoO1xuICAgICAgICBmdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gYWN0aW9uQ3JlYXRvci5hcHBseShtYW5hZ2VyLCBhcmdzKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBhY3Rpb25zID0gZHJhZ0Ryb3BfMS5kZWZhdWx0KHRoaXMpO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoYWN0aW9ucykucmVkdWNlKGZ1bmN0aW9uIChib3VuZEFjdGlvbnMsIGtleSkge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGFjdGlvbnNba2V5XTtcbiAgICAgICAgICAgIGJvdW5kQWN0aW9uc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBib3VuZEFjdGlvbnM7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9O1xuICAgIERyYWdEcm9wTWFuYWdlckltcGwucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgfTtcbiAgICByZXR1cm4gRHJhZ0Ryb3BNYW5hZ2VySW1wbDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBEcmFnRHJvcE1hbmFnZXJJbXBsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbWF0Y2hlc1R5cGVfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL21hdGNoZXNUeXBlXCIpO1xudmFyIGNvb3Jkc18xID0gcmVxdWlyZShcIi4vdXRpbHMvY29vcmRzXCIpO1xudmFyIGRpcnRpbmVzc18xID0gcmVxdWlyZShcIi4vdXRpbHMvZGlydGluZXNzXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xudmFyIERyYWdEcm9wTW9uaXRvckltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRHJhZ0Ryb3BNb25pdG9ySW1wbChzdG9yZSwgcmVnaXN0cnkpIHtcbiAgICAgICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xuICAgICAgICB0aGlzLnJlZ2lzdHJ5ID0gcmVnaXN0cnk7XG4gICAgfVxuICAgIERyYWdEcm9wTW9uaXRvckltcGwucHJvdG90eXBlLnN1YnNjcmliZVRvU3RhdGVDaGFuZ2UgPSBmdW5jdGlvbiAobGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0geyBoYW5kbGVySWRzOiB1bmRlZmluZWQgfTsgfVxuICAgICAgICB2YXIgaGFuZGxlcklkcyA9IG9wdGlvbnMuaGFuZGxlcklkcztcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJywgJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiBoYW5kbGVySWRzID09PSAndW5kZWZpbmVkJyB8fCBBcnJheS5pc0FycmF5KGhhbmRsZXJJZHMpLCAnaGFuZGxlcklkcywgd2hlbiBzcGVjaWZpZWQsIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4nKTtcbiAgICAgICAgdmFyIHByZXZTdGF0ZUlkID0gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLnN0YXRlSWQ7XG4gICAgICAgIHZhciBoYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZUlkID0gc3RhdGUuc3RhdGVJZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhblNraXBMaXN0ZW5lciA9IGN1cnJlbnRTdGF0ZUlkID09PSBwcmV2U3RhdGVJZCB8fFxuICAgICAgICAgICAgICAgICAgICAoY3VycmVudFN0YXRlSWQgPT09IHByZXZTdGF0ZUlkICsgMSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIWRpcnRpbmVzc18xLmFyZURpcnR5KHN0YXRlLmRpcnR5SGFuZGxlcklkcywgaGFuZGxlcklkcykpO1xuICAgICAgICAgICAgICAgIGlmICghY2FuU2tpcExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgcHJldlN0YXRlSWQgPSBjdXJyZW50U3RhdGVJZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuc3Vic2NyaWJlKGhhbmRsZUNoYW5nZSk7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5zdWJzY3JpYmVUb09mZnNldENoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpbnZhcmlhbnQodHlwZW9mIGxpc3RlbmVyID09PSAnZnVuY3Rpb24nLCAnbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICAgICAgICB2YXIgcHJldmlvdXNTdGF0ZSA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5kcmFnT2Zmc2V0O1xuICAgICAgICB2YXIgaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IF90aGlzLnN0b3JlLmdldFN0YXRlKCkuZHJhZ09mZnNldDtcbiAgICAgICAgICAgIGlmIChuZXh0U3RhdGUgPT09IHByZXZpb3VzU3RhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2aW91c1N0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuc3Vic2NyaWJlKGhhbmRsZUNoYW5nZSk7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5jYW5EcmFnU291cmNlID0gZnVuY3Rpb24gKHNvdXJjZUlkKSB7XG4gICAgICAgIGlmICghc291cmNlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5yZWdpc3RyeS5nZXRTb3VyY2Uoc291cmNlSWQpO1xuICAgICAgICBpbnZhcmlhbnQoc291cmNlLCAnRXhwZWN0ZWQgdG8gZmluZCBhIHZhbGlkIHNvdXJjZS4nKTtcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5jYW5EcmFnKHRoaXMsIHNvdXJjZUlkKTtcbiAgICB9O1xuICAgIERyYWdEcm9wTW9uaXRvckltcGwucHJvdG90eXBlLmNhbkRyb3BPblRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXRJZCkge1xuICAgICAgICAvLyB1bmRlZmluZWQgb24gaW5pdGlhbCByZW5kZXJcbiAgICAgICAgaWYgKCF0YXJnZXRJZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLnJlZ2lzdHJ5LmdldFRhcmdldCh0YXJnZXRJZCk7XG4gICAgICAgIGludmFyaWFudCh0YXJnZXQsICdFeHBlY3RlZCB0byBmaW5kIGEgdmFsaWQgdGFyZ2V0LicpO1xuICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZygpIHx8IHRoaXMuZGlkRHJvcCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRhcmdldFR5cGUgPSB0aGlzLnJlZ2lzdHJ5LmdldFRhcmdldFR5cGUodGFyZ2V0SWQpO1xuICAgICAgICB2YXIgZHJhZ2dlZEl0ZW1UeXBlID0gdGhpcy5nZXRJdGVtVHlwZSgpO1xuICAgICAgICByZXR1cm4gKG1hdGNoZXNUeXBlXzEuZGVmYXVsdCh0YXJnZXRUeXBlLCBkcmFnZ2VkSXRlbVR5cGUpICYmIHRhcmdldC5jYW5Ecm9wKHRoaXMsIHRhcmdldElkKSk7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5pc0RyYWdnaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbih0aGlzLmdldEl0ZW1UeXBlKCkpO1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuaXNEcmFnZ2luZ1NvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2VJZCkge1xuICAgICAgICAvLyB1bmRlZmluZWQgb24gaW5pdGlhbCByZW5kZXJcbiAgICAgICAgaWYgKCFzb3VyY2VJZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnJlZ2lzdHJ5LmdldFNvdXJjZShzb3VyY2VJZCwgdHJ1ZSk7XG4gICAgICAgIGludmFyaWFudChzb3VyY2UsICdFeHBlY3RlZCB0byBmaW5kIGEgdmFsaWQgc291cmNlLicpO1xuICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZygpIHx8ICF0aGlzLmlzU291cmNlUHVibGljKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlVHlwZSA9IHRoaXMucmVnaXN0cnkuZ2V0U291cmNlVHlwZShzb3VyY2VJZCk7XG4gICAgICAgIHZhciBkcmFnZ2VkSXRlbVR5cGUgPSB0aGlzLmdldEl0ZW1UeXBlKCk7XG4gICAgICAgIGlmIChzb3VyY2VUeXBlICE9PSBkcmFnZ2VkSXRlbVR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlLmlzRHJhZ2dpbmcodGhpcywgc291cmNlSWQpO1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuaXNPdmVyVGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldElkLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgc2hhbGxvdzogZmFsc2UgfTsgfVxuICAgICAgICAvLyB1bmRlZmluZWQgb24gaW5pdGlhbCByZW5kZXJcbiAgICAgICAgaWYgKCF0YXJnZXRJZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzaGFsbG93ID0gb3B0aW9ucy5zaGFsbG93O1xuICAgICAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRhcmdldFR5cGUgPSB0aGlzLnJlZ2lzdHJ5LmdldFRhcmdldFR5cGUodGFyZ2V0SWQpO1xuICAgICAgICB2YXIgZHJhZ2dlZEl0ZW1UeXBlID0gdGhpcy5nZXRJdGVtVHlwZSgpO1xuICAgICAgICBpZiAoZHJhZ2dlZEl0ZW1UeXBlICYmICFtYXRjaGVzVHlwZV8xLmRlZmF1bHQodGFyZ2V0VHlwZSwgZHJhZ2dlZEl0ZW1UeXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0YXJnZXRJZHMgPSB0aGlzLmdldFRhcmdldElkcygpO1xuICAgICAgICBpZiAoIXRhcmdldElkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSB0YXJnZXRJZHMuaW5kZXhPZih0YXJnZXRJZCk7XG4gICAgICAgIGlmIChzaGFsbG93KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXggPT09IHRhcmdldElkcy5sZW5ndGggLSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4ID4gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERyYWdEcm9wTW9uaXRvckltcGwucHJvdG90eXBlLmdldEl0ZW1UeXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmRyYWdPcGVyYXRpb24uaXRlbVR5cGU7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmRyYWdPcGVyYXRpb24uaXRlbTtcbiAgICB9O1xuICAgIERyYWdEcm9wTW9uaXRvckltcGwucHJvdG90eXBlLmdldFNvdXJjZUlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmRyYWdPcGVyYXRpb24uc291cmNlSWQ7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRUYXJnZXRJZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLmdldFN0YXRlKCkuZHJhZ09wZXJhdGlvbi50YXJnZXRJZHM7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXREcm9wUmVzdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmRyYWdPcGVyYXRpb24uZHJvcFJlc3VsdDtcbiAgICB9O1xuICAgIERyYWdEcm9wTW9uaXRvckltcGwucHJvdG90eXBlLmRpZERyb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLmdldFN0YXRlKCkuZHJhZ09wZXJhdGlvbi5kaWREcm9wO1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuaXNTb3VyY2VQdWJsaWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLmdldFN0YXRlKCkuZHJhZ09wZXJhdGlvbi5pc1NvdXJjZVB1YmxpYztcbiAgICB9O1xuICAgIERyYWdEcm9wTW9uaXRvckltcGwucHJvdG90eXBlLmdldEluaXRpYWxDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLmdldFN0YXRlKCkuZHJhZ09mZnNldC5pbml0aWFsQ2xpZW50T2Zmc2V0O1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0SW5pdGlhbFNvdXJjZUNsaWVudE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5kcmFnT2Zmc2V0LmluaXRpYWxTb3VyY2VDbGllbnRPZmZzZXQ7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLmdldFN0YXRlKCkuZHJhZ09mZnNldC5jbGllbnRPZmZzZXQ7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRTb3VyY2VDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb29yZHNfMS5nZXRTb3VyY2VDbGllbnRPZmZzZXQodGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmRyYWdPZmZzZXQpO1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0RGlmZmVyZW5jZUZyb21Jbml0aWFsT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29vcmRzXzEuZ2V0RGlmZmVyZW5jZUZyb21Jbml0aWFsT2Zmc2V0KHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5kcmFnT2Zmc2V0KTtcbiAgICB9O1xuICAgIHJldHVybiBEcmFnRHJvcE1vbml0b3JJbXBsO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IERyYWdEcm9wTW9uaXRvckltcGw7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWdpc3RyeV8xID0gcmVxdWlyZShcIi4vYWN0aW9ucy9yZWdpc3RyeVwiKTtcbnZhciBnZXROZXh0VW5pcXVlSWRfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2dldE5leHRVbmlxdWVJZFwiKTtcbnZhciBpbnRlcmZhY2VzXzEgPSByZXF1aXJlKFwiLi9pbnRlcmZhY2VzXCIpO1xudmFyIGNvbnRyYWN0c18xID0gcmVxdWlyZShcIi4vY29udHJhY3RzXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xudmFyIGFzYXAgPSByZXF1aXJlKCdhc2FwJyk7XG5mdW5jdGlvbiBnZXROZXh0SGFuZGxlcklkKHJvbGUpIHtcbiAgICB2YXIgaWQgPSBnZXROZXh0VW5pcXVlSWRfMS5kZWZhdWx0KCkudG9TdHJpbmcoKTtcbiAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgICAgY2FzZSBpbnRlcmZhY2VzXzEuSGFuZGxlclJvbGUuU09VUkNFOlxuICAgICAgICAgICAgcmV0dXJuIFwiU1wiICsgaWQ7XG4gICAgICAgIGNhc2UgaW50ZXJmYWNlc18xLkhhbmRsZXJSb2xlLlRBUkdFVDpcbiAgICAgICAgICAgIHJldHVybiBcIlRcIiArIGlkO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBIYW5kbGVyIFJvbGU6IFwiICsgcm9sZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFyc2VSb2xlRnJvbUhhbmRsZXJJZChoYW5kbGVySWQpIHtcbiAgICBzd2l0Y2ggKGhhbmRsZXJJZFswXSkge1xuICAgICAgICBjYXNlICdTJzpcbiAgICAgICAgICAgIHJldHVybiBpbnRlcmZhY2VzXzEuSGFuZGxlclJvbGUuU09VUkNFO1xuICAgICAgICBjYXNlICdUJzpcbiAgICAgICAgICAgIHJldHVybiBpbnRlcmZhY2VzXzEuSGFuZGxlclJvbGUuVEFSR0VUO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaW52YXJpYW50KGZhbHNlLCBcIkNhbm5vdCBwYXJzZSBoYW5kbGVyIElEOiBcIiArIGhhbmRsZXJJZCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWFwQ29udGFpbnNWYWx1ZShtYXAsIHNlYXJjaFZhbHVlKSB7XG4gICAgdmFyIGVudHJpZXMgPSBtYXAuZW50cmllcygpO1xuICAgIHZhciBpc0RvbmUgPSBmYWxzZTtcbiAgICBkbyB7XG4gICAgICAgIHZhciBfYSA9IGVudHJpZXMubmV4dCgpLCBkb25lID0gX2EuZG9uZSwgX2IgPSBfYS52YWx1ZSwgdmFsdWUgPSBfYlsxXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBzZWFyY2hWYWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaXNEb25lID0gZG9uZTtcbiAgICB9IHdoaWxlICghaXNEb25lKTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG52YXIgSGFuZGxlclJlZ2lzdHJ5SW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIYW5kbGVyUmVnaXN0cnlJbXBsKHN0b3JlKSB7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICAgICAgdGhpcy50eXBlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5kcmFnU291cmNlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5kcm9wVGFyZ2V0cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5waW5uZWRTb3VyY2VJZCA9IG51bGw7XG4gICAgICAgIHRoaXMucGlubmVkU291cmNlID0gbnVsbDtcbiAgICB9XG4gICAgSGFuZGxlclJlZ2lzdHJ5SW1wbC5wcm90b3R5cGUuYWRkU291cmNlID0gZnVuY3Rpb24gKHR5cGUsIHNvdXJjZSkge1xuICAgICAgICBjb250cmFjdHNfMS52YWxpZGF0ZVR5cGUodHlwZSk7XG4gICAgICAgIGNvbnRyYWN0c18xLnZhbGlkYXRlU291cmNlQ29udHJhY3Qoc291cmNlKTtcbiAgICAgICAgdmFyIHNvdXJjZUlkID0gdGhpcy5hZGRIYW5kbGVyKGludGVyZmFjZXNfMS5IYW5kbGVyUm9sZS5TT1VSQ0UsIHR5cGUsIHNvdXJjZSk7XG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocmVnaXN0cnlfMS5hZGRTb3VyY2Uoc291cmNlSWQpKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZUlkO1xuICAgIH07XG4gICAgSGFuZGxlclJlZ2lzdHJ5SW1wbC5wcm90b3R5cGUuYWRkVGFyZ2V0ID0gZnVuY3Rpb24gKHR5cGUsIHRhcmdldCkge1xuICAgICAgICBjb250cmFjdHNfMS52YWxpZGF0ZVR5cGUodHlwZSwgdHJ1ZSk7XG4gICAgICAgIGNvbnRyYWN0c18xLnZhbGlkYXRlVGFyZ2V0Q29udHJhY3QodGFyZ2V0KTtcbiAgICAgICAgdmFyIHRhcmdldElkID0gdGhpcy5hZGRIYW5kbGVyKGludGVyZmFjZXNfMS5IYW5kbGVyUm9sZS5UQVJHRVQsIHR5cGUsIHRhcmdldCk7XG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocmVnaXN0cnlfMS5hZGRUYXJnZXQodGFyZ2V0SWQpKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldElkO1xuICAgIH07XG4gICAgSGFuZGxlclJlZ2lzdHJ5SW1wbC5wcm90b3R5cGUuY29udGFpbnNIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIChtYXBDb250YWluc1ZhbHVlKHRoaXMuZHJhZ1NvdXJjZXMsIGhhbmRsZXIpIHx8XG4gICAgICAgICAgICBtYXBDb250YWluc1ZhbHVlKHRoaXMuZHJvcFRhcmdldHMsIGhhbmRsZXIpKTtcbiAgICB9O1xuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLmdldFNvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2VJZCwgaW5jbHVkZVBpbm5lZCkge1xuICAgICAgICBpZiAoaW5jbHVkZVBpbm5lZCA9PT0gdm9pZCAwKSB7IGluY2x1ZGVQaW5uZWQgPSBmYWxzZTsgfVxuICAgICAgICBpbnZhcmlhbnQodGhpcy5pc1NvdXJjZUlkKHNvdXJjZUlkKSwgJ0V4cGVjdGVkIGEgdmFsaWQgc291cmNlIElELicpO1xuICAgICAgICB2YXIgaXNQaW5uZWQgPSBpbmNsdWRlUGlubmVkICYmIHNvdXJjZUlkID09PSB0aGlzLnBpbm5lZFNvdXJjZUlkO1xuICAgICAgICB2YXIgc291cmNlID0gaXNQaW5uZWQgPyB0aGlzLnBpbm5lZFNvdXJjZSA6IHRoaXMuZHJhZ1NvdXJjZXMuZ2V0KHNvdXJjZUlkKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9O1xuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLmdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXRJZCkge1xuICAgICAgICBpbnZhcmlhbnQodGhpcy5pc1RhcmdldElkKHRhcmdldElkKSwgJ0V4cGVjdGVkIGEgdmFsaWQgdGFyZ2V0IElELicpO1xuICAgICAgICByZXR1cm4gdGhpcy5kcm9wVGFyZ2V0cy5nZXQodGFyZ2V0SWQpO1xuICAgIH07XG4gICAgSGFuZGxlclJlZ2lzdHJ5SW1wbC5wcm90b3R5cGUuZ2V0U291cmNlVHlwZSA9IGZ1bmN0aW9uIChzb3VyY2VJZCkge1xuICAgICAgICBpbnZhcmlhbnQodGhpcy5pc1NvdXJjZUlkKHNvdXJjZUlkKSwgJ0V4cGVjdGVkIGEgdmFsaWQgc291cmNlIElELicpO1xuICAgICAgICByZXR1cm4gdGhpcy50eXBlcy5nZXQoc291cmNlSWQpO1xuICAgIH07XG4gICAgSGFuZGxlclJlZ2lzdHJ5SW1wbC5wcm90b3R5cGUuZ2V0VGFyZ2V0VHlwZSA9IGZ1bmN0aW9uICh0YXJnZXRJZCkge1xuICAgICAgICBpbnZhcmlhbnQodGhpcy5pc1RhcmdldElkKHRhcmdldElkKSwgJ0V4cGVjdGVkIGEgdmFsaWQgdGFyZ2V0IElELicpO1xuICAgICAgICByZXR1cm4gdGhpcy50eXBlcy5nZXQodGFyZ2V0SWQpO1xuICAgIH07XG4gICAgSGFuZGxlclJlZ2lzdHJ5SW1wbC5wcm90b3R5cGUuaXNTb3VyY2VJZCA9IGZ1bmN0aW9uIChoYW5kbGVySWQpIHtcbiAgICAgICAgdmFyIHJvbGUgPSBwYXJzZVJvbGVGcm9tSGFuZGxlcklkKGhhbmRsZXJJZCk7XG4gICAgICAgIHJldHVybiByb2xlID09PSBpbnRlcmZhY2VzXzEuSGFuZGxlclJvbGUuU09VUkNFO1xuICAgIH07XG4gICAgSGFuZGxlclJlZ2lzdHJ5SW1wbC5wcm90b3R5cGUuaXNUYXJnZXRJZCA9IGZ1bmN0aW9uIChoYW5kbGVySWQpIHtcbiAgICAgICAgdmFyIHJvbGUgPSBwYXJzZVJvbGVGcm9tSGFuZGxlcklkKGhhbmRsZXJJZCk7XG4gICAgICAgIHJldHVybiByb2xlID09PSBpbnRlcmZhY2VzXzEuSGFuZGxlclJvbGUuVEFSR0VUO1xuICAgIH07XG4gICAgSGFuZGxlclJlZ2lzdHJ5SW1wbC5wcm90b3R5cGUucmVtb3ZlU291cmNlID0gZnVuY3Rpb24gKHNvdXJjZUlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGludmFyaWFudCh0aGlzLmdldFNvdXJjZShzb3VyY2VJZCksICdFeHBlY3RlZCBhbiBleGlzdGluZyBzb3VyY2UuJyk7XG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocmVnaXN0cnlfMS5yZW1vdmVTb3VyY2Uoc291cmNlSWQpKTtcbiAgICAgICAgYXNhcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5kcmFnU291cmNlcy5kZWxldGUoc291cmNlSWQpO1xuICAgICAgICAgICAgX3RoaXMudHlwZXMuZGVsZXRlKHNvdXJjZUlkKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBIYW5kbGVyUmVnaXN0cnlJbXBsLnByb3RvdHlwZS5yZW1vdmVUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0SWQpIHtcbiAgICAgICAgaW52YXJpYW50KHRoaXMuZ2V0VGFyZ2V0KHRhcmdldElkKSwgJ0V4cGVjdGVkIGFuIGV4aXN0aW5nIHRhcmdldC4nKTtcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChyZWdpc3RyeV8xLnJlbW92ZVRhcmdldCh0YXJnZXRJZCkpO1xuICAgICAgICB0aGlzLmRyb3BUYXJnZXRzLmRlbGV0ZSh0YXJnZXRJZCk7XG4gICAgICAgIHRoaXMudHlwZXMuZGVsZXRlKHRhcmdldElkKTtcbiAgICB9O1xuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLnBpblNvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2VJZCkge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2Uoc291cmNlSWQpO1xuICAgICAgICBpbnZhcmlhbnQoc291cmNlLCAnRXhwZWN0ZWQgYW4gZXhpc3Rpbmcgc291cmNlLicpO1xuICAgICAgICB0aGlzLnBpbm5lZFNvdXJjZUlkID0gc291cmNlSWQ7XG4gICAgICAgIHRoaXMucGlubmVkU291cmNlID0gc291cmNlO1xuICAgIH07XG4gICAgSGFuZGxlclJlZ2lzdHJ5SW1wbC5wcm90b3R5cGUudW5waW5Tb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGludmFyaWFudCh0aGlzLnBpbm5lZFNvdXJjZSwgJ05vIHNvdXJjZSBpcyBwaW5uZWQgYXQgdGhlIHRpbWUuJyk7XG4gICAgICAgIHRoaXMucGlubmVkU291cmNlSWQgPSBudWxsO1xuICAgICAgICB0aGlzLnBpbm5lZFNvdXJjZSA9IG51bGw7XG4gICAgfTtcbiAgICBIYW5kbGVyUmVnaXN0cnlJbXBsLnByb3RvdHlwZS5hZGRIYW5kbGVyID0gZnVuY3Rpb24gKHJvbGUsIHR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGlkID0gZ2V0TmV4dEhhbmRsZXJJZChyb2xlKTtcbiAgICAgICAgdGhpcy50eXBlcy5zZXQoaWQsIHR5cGUpO1xuICAgICAgICBpZiAocm9sZSA9PT0gaW50ZXJmYWNlc18xLkhhbmRsZXJSb2xlLlNPVVJDRSkge1xuICAgICAgICAgICAgdGhpcy5kcmFnU291cmNlcy5zZXQoaWQsIGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJvbGUgPT09IGludGVyZmFjZXNfMS5IYW5kbGVyUm9sZS5UQVJHRVQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJvcFRhcmdldHMuc2V0KGlkLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfTtcbiAgICByZXR1cm4gSGFuZGxlclJlZ2lzdHJ5SW1wbDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBIYW5kbGVyUmVnaXN0cnlJbXBsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgc2V0Q2xpZW50T2Zmc2V0XzEgPSByZXF1aXJlKFwiLi9sb2NhbC9zZXRDbGllbnRPZmZzZXRcIik7XG52YXIgZGlzY291bnRfbG9kYXNoXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xudmFyIHR5cGVzXzEgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbnZhciBSZXNldENvb3JkaW5hdGVzQWN0aW9uID0ge1xuICAgIHR5cGU6IHR5cGVzXzEuSU5JVF9DT09SRFMsXG4gICAgcGF5bG9hZDoge1xuICAgICAgICBjbGllbnRPZmZzZXQ6IG51bGwsXG4gICAgICAgIHNvdXJjZUNsaWVudE9mZnNldDogbnVsbCxcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJlZ2luRHJhZyhtYW5hZ2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGJlZ2luRHJhZyhzb3VyY2VJZHMsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHNvdXJjZUlkcyA9PT0gdm9pZCAwKSB7IHNvdXJjZUlkcyA9IFtdOyB9XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHB1Ymxpc2hTb3VyY2U6IHRydWUsXG4gICAgICAgIH07IH1cbiAgICAgICAgdmFyIF9hID0gb3B0aW9ucy5wdWJsaXNoU291cmNlLCBwdWJsaXNoU291cmNlID0gX2EgPT09IHZvaWQgMCA/IHRydWUgOiBfYSwgY2xpZW50T2Zmc2V0ID0gb3B0aW9ucy5jbGllbnRPZmZzZXQsIGdldFNvdXJjZUNsaWVudE9mZnNldCA9IG9wdGlvbnMuZ2V0U291cmNlQ2xpZW50T2Zmc2V0O1xuICAgICAgICB2YXIgbW9uaXRvciA9IG1hbmFnZXIuZ2V0TW9uaXRvcigpO1xuICAgICAgICB2YXIgcmVnaXN0cnkgPSBtYW5hZ2VyLmdldFJlZ2lzdHJ5KCk7XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGNvb3JkaW5hdGVzIHVzaW5nIHRoZSBjbGllbnQgb2Zmc2V0XG4gICAgICAgIG1hbmFnZXIuZGlzcGF0Y2goc2V0Q2xpZW50T2Zmc2V0XzEuc2V0Q2xpZW50T2Zmc2V0KGNsaWVudE9mZnNldCkpO1xuICAgICAgICB2ZXJpZnlJbnZhcmlhbnRzKHNvdXJjZUlkcywgbW9uaXRvciwgcmVnaXN0cnkpO1xuICAgICAgICAvLyBHZXQgdGhlIGRyYWdnYWJsZSBzb3VyY2VcbiAgICAgICAgdmFyIHNvdXJjZUlkID0gZ2V0RHJhZ2dhYmxlU291cmNlKHNvdXJjZUlkcywgbW9uaXRvcik7XG4gICAgICAgIGlmIChzb3VyY2VJZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbWFuYWdlci5kaXNwYXRjaChSZXNldENvb3JkaW5hdGVzQWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgdGhlIHNvdXJjZSBjbGllbnQgb2Zmc2V0XG4gICAgICAgIHZhciBzb3VyY2VDbGllbnRPZmZzZXQgPSBudWxsO1xuICAgICAgICBpZiAoY2xpZW50T2Zmc2V0KSB7XG4gICAgICAgICAgICB2ZXJpZnlHZXRTb3VyY2VDbGllbnRPZmZzZXRJc0Z1bmN0aW9uKGdldFNvdXJjZUNsaWVudE9mZnNldCk7XG4gICAgICAgICAgICBzb3VyY2VDbGllbnRPZmZzZXQgPSBnZXRTb3VyY2VDbGllbnRPZmZzZXQoc291cmNlSWQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGZ1bGwgY29vcmRpbmF0ZXNcbiAgICAgICAgbWFuYWdlci5kaXNwYXRjaChzZXRDbGllbnRPZmZzZXRfMS5zZXRDbGllbnRPZmZzZXQoY2xpZW50T2Zmc2V0LCBzb3VyY2VDbGllbnRPZmZzZXQpKTtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHJlZ2lzdHJ5LmdldFNvdXJjZShzb3VyY2VJZCk7XG4gICAgICAgIHZhciBpdGVtID0gc291cmNlLmJlZ2luRHJhZyhtb25pdG9yLCBzb3VyY2VJZCk7XG4gICAgICAgIHZlcmlmeUl0ZW1Jc09iamVjdChpdGVtKTtcbiAgICAgICAgcmVnaXN0cnkucGluU291cmNlKHNvdXJjZUlkKTtcbiAgICAgICAgdmFyIGl0ZW1UeXBlID0gcmVnaXN0cnkuZ2V0U291cmNlVHlwZShzb3VyY2VJZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlc18xLkJFR0lOX0RSQUcsXG4gICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgaXRlbVR5cGU6IGl0ZW1UeXBlLFxuICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgICAgc291cmNlSWQ6IHNvdXJjZUlkLFxuICAgICAgICAgICAgICAgIGNsaWVudE9mZnNldDogY2xpZW50T2Zmc2V0IHx8IG51bGwsXG4gICAgICAgICAgICAgICAgc291cmNlQ2xpZW50T2Zmc2V0OiBzb3VyY2VDbGllbnRPZmZzZXQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBpc1NvdXJjZVB1YmxpYzogISFwdWJsaXNoU291cmNlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlQmVnaW5EcmFnO1xuZnVuY3Rpb24gdmVyaWZ5SW52YXJpYW50cyhzb3VyY2VJZHMsIG1vbml0b3IsIHJlZ2lzdHJ5KSB7XG4gICAgaW52YXJpYW50KCFtb25pdG9yLmlzRHJhZ2dpbmcoKSwgJ0Nhbm5vdCBjYWxsIGJlZ2luRHJhZyB3aGlsZSBkcmFnZ2luZy4nKTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIHNvdXJjZUlkc18xID0gc291cmNlSWRzOyBfaSA8IHNvdXJjZUlkc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcyA9IHNvdXJjZUlkc18xW19pXTtcbiAgICAgICAgaW52YXJpYW50KHJlZ2lzdHJ5LmdldFNvdXJjZShzKSwgJ0V4cGVjdGVkIHNvdXJjZUlkcyB0byBiZSByZWdpc3RlcmVkLicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZlcmlmeUdldFNvdXJjZUNsaWVudE9mZnNldElzRnVuY3Rpb24oZ2V0U291cmNlQ2xpZW50T2Zmc2V0KSB7XG4gICAgaW52YXJpYW50KHR5cGVvZiBnZXRTb3VyY2VDbGllbnRPZmZzZXQgPT09ICdmdW5jdGlvbicsICdXaGVuIGNsaWVudE9mZnNldCBpcyBwcm92aWRlZCwgZ2V0U291cmNlQ2xpZW50T2Zmc2V0IG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbn1cbmZ1bmN0aW9uIHZlcmlmeUl0ZW1Jc09iamVjdChpdGVtKSB7XG4gICAgaW52YXJpYW50KGRpc2NvdW50X2xvZGFzaF8xLmlzT2JqZWN0KGl0ZW0pLCAnSXRlbSBtdXN0IGJlIGFuIG9iamVjdC4nKTtcbn1cbmZ1bmN0aW9uIGdldERyYWdnYWJsZVNvdXJjZShzb3VyY2VJZHMsIG1vbml0b3IpIHtcbiAgICB2YXIgc291cmNlSWQgPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSBzb3VyY2VJZHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKG1vbml0b3IuY2FuRHJhZ1NvdXJjZShzb3VyY2VJZHNbaV0pKSB7XG4gICAgICAgICAgICBzb3VyY2VJZCA9IHNvdXJjZUlkc1tpXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2VJZDtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG52YXIgZGlzY291bnRfbG9kYXNoXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuZnVuY3Rpb24gY3JlYXRlRHJvcChtYW5hZ2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRyb3Aob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICB2YXIgbW9uaXRvciA9IG1hbmFnZXIuZ2V0TW9uaXRvcigpO1xuICAgICAgICB2YXIgcmVnaXN0cnkgPSBtYW5hZ2VyLmdldFJlZ2lzdHJ5KCk7XG4gICAgICAgIHZlcmlmeUludmFyaWFudHMobW9uaXRvcik7XG4gICAgICAgIHZhciB0YXJnZXRJZHMgPSBnZXREcm9wcGFibGVUYXJnZXRzKG1vbml0b3IpO1xuICAgICAgICAvLyBNdWx0aXBsZSBhY3Rpb25zIGFyZSBkaXNwYXRjaGVkIGhlcmUsIHdoaWNoIGlzIHdoeSB0aGlzIGRvZXNuJ3QgcmV0dXJuIGFuIGFjdGlvblxuICAgICAgICB0YXJnZXRJZHMuZm9yRWFjaChmdW5jdGlvbiAodGFyZ2V0SWQsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgZHJvcFJlc3VsdCA9IGRldGVybWluZURyb3BSZXN1bHQodGFyZ2V0SWQsIGluZGV4LCByZWdpc3RyeSwgbW9uaXRvcik7XG4gICAgICAgICAgICB2YXIgYWN0aW9uID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVzXzEuRFJPUCxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIGRyb3BSZXN1bHQ6IF9fYXNzaWduKHt9LCBvcHRpb25zLCBkcm9wUmVzdWx0KSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG1hbmFnZXIuZGlzcGF0Y2goYWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZURyb3A7XG5mdW5jdGlvbiB2ZXJpZnlJbnZhcmlhbnRzKG1vbml0b3IpIHtcbiAgICBpbnZhcmlhbnQobW9uaXRvci5pc0RyYWdnaW5nKCksICdDYW5ub3QgY2FsbCBkcm9wIHdoaWxlIG5vdCBkcmFnZ2luZy4nKTtcbiAgICBpbnZhcmlhbnQoIW1vbml0b3IuZGlkRHJvcCgpLCAnQ2Fubm90IGNhbGwgZHJvcCB0d2ljZSBkdXJpbmcgb25lIGRyYWcgb3BlcmF0aW9uLicpO1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lRHJvcFJlc3VsdCh0YXJnZXRJZCwgaW5kZXgsIHJlZ2lzdHJ5LCBtb25pdG9yKSB7XG4gICAgdmFyIHRhcmdldCA9IHJlZ2lzdHJ5LmdldFRhcmdldCh0YXJnZXRJZCk7XG4gICAgdmFyIGRyb3BSZXN1bHQgPSB0YXJnZXQgPyB0YXJnZXQuZHJvcChtb25pdG9yLCB0YXJnZXRJZCkgOiB1bmRlZmluZWQ7XG4gICAgdmVyaWZ5RHJvcFJlc3VsdFR5cGUoZHJvcFJlc3VsdCk7XG4gICAgaWYgKHR5cGVvZiBkcm9wUmVzdWx0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkcm9wUmVzdWx0ID0gaW5kZXggPT09IDAgPyB7fSA6IG1vbml0b3IuZ2V0RHJvcFJlc3VsdCgpO1xuICAgIH1cbiAgICByZXR1cm4gZHJvcFJlc3VsdDtcbn1cbmZ1bmN0aW9uIHZlcmlmeURyb3BSZXN1bHRUeXBlKGRyb3BSZXN1bHQpIHtcbiAgICBpbnZhcmlhbnQodHlwZW9mIGRyb3BSZXN1bHQgPT09ICd1bmRlZmluZWQnIHx8IGRpc2NvdW50X2xvZGFzaF8xLmlzT2JqZWN0KGRyb3BSZXN1bHQpLCAnRHJvcCByZXN1bHQgbXVzdCBlaXRoZXIgYmUgYW4gb2JqZWN0IG9yIHVuZGVmaW5lZC4nKTtcbn1cbmZ1bmN0aW9uIGdldERyb3BwYWJsZVRhcmdldHMobW9uaXRvcikge1xuICAgIHZhciB0YXJnZXRJZHMgPSBtb25pdG9yXG4gICAgICAgIC5nZXRUYXJnZXRJZHMoKVxuICAgICAgICAuZmlsdGVyKG1vbml0b3IuY2FuRHJvcE9uVGFyZ2V0LCBtb25pdG9yKTtcbiAgICB0YXJnZXRJZHMucmV2ZXJzZSgpO1xuICAgIHJldHVybiB0YXJnZXRJZHM7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5mdW5jdGlvbiBjcmVhdGVFbmREcmFnKG1hbmFnZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZW5kRHJhZygpIHtcbiAgICAgICAgdmFyIG1vbml0b3IgPSBtYW5hZ2VyLmdldE1vbml0b3IoKTtcbiAgICAgICAgdmFyIHJlZ2lzdHJ5ID0gbWFuYWdlci5nZXRSZWdpc3RyeSgpO1xuICAgICAgICB2ZXJpZnlJc0RyYWdnaW5nKG1vbml0b3IpO1xuICAgICAgICB2YXIgc291cmNlSWQgPSBtb25pdG9yLmdldFNvdXJjZUlkKCk7XG4gICAgICAgIHZhciBzb3VyY2UgPSByZWdpc3RyeS5nZXRTb3VyY2Uoc291cmNlSWQsIHRydWUpO1xuICAgICAgICBzb3VyY2UuZW5kRHJhZyhtb25pdG9yLCBzb3VyY2VJZCk7XG4gICAgICAgIHJlZ2lzdHJ5LnVucGluU291cmNlKCk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IHR5cGVzXzEuRU5EX0RSQUcgfTtcbiAgICB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRW5kRHJhZztcbmZ1bmN0aW9uIHZlcmlmeUlzRHJhZ2dpbmcobW9uaXRvcikge1xuICAgIGludmFyaWFudChtb25pdG9yLmlzRHJhZ2dpbmcoKSwgJ0Nhbm5vdCBjYWxsIGVuZERyYWcgd2hpbGUgbm90IGRyYWdnaW5nLicpO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbWF0Y2hlc1R5cGVfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy9tYXRjaGVzVHlwZVwiKTtcbnZhciB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5mdW5jdGlvbiBjcmVhdGVIb3ZlcihtYW5hZ2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGhvdmVyKHRhcmdldElkc0FyZywgX2EpIHtcbiAgICAgICAgdmFyIGNsaWVudE9mZnNldCA9IChfYSA9PT0gdm9pZCAwID8ge30gOiBfYSkuY2xpZW50T2Zmc2V0O1xuICAgICAgICB2ZXJpZnlUYXJnZXRJZHNJc0FycmF5KHRhcmdldElkc0FyZyk7XG4gICAgICAgIHZhciB0YXJnZXRJZHMgPSB0YXJnZXRJZHNBcmcuc2xpY2UoMCk7XG4gICAgICAgIHZhciBtb25pdG9yID0gbWFuYWdlci5nZXRNb25pdG9yKCk7XG4gICAgICAgIHZhciByZWdpc3RyeSA9IG1hbmFnZXIuZ2V0UmVnaXN0cnkoKTtcbiAgICAgICAgY2hlY2tJbnZhcmlhbnRzKHRhcmdldElkcywgbW9uaXRvciwgcmVnaXN0cnkpO1xuICAgICAgICB2YXIgZHJhZ2dlZEl0ZW1UeXBlID0gbW9uaXRvci5nZXRJdGVtVHlwZSgpO1xuICAgICAgICByZW1vdmVOb25NYXRjaGluZ1RhcmdldElkcyh0YXJnZXRJZHMsIHJlZ2lzdHJ5LCBkcmFnZ2VkSXRlbVR5cGUpO1xuICAgICAgICBob3ZlckFsbFRhcmdldHModGFyZ2V0SWRzLCBtb25pdG9yLCByZWdpc3RyeSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlc18xLkhPVkVSLFxuICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIHRhcmdldElkczogdGFyZ2V0SWRzLFxuICAgICAgICAgICAgICAgIGNsaWVudE9mZnNldDogY2xpZW50T2Zmc2V0IHx8IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVIb3ZlcjtcbmZ1bmN0aW9uIHZlcmlmeVRhcmdldElkc0lzQXJyYXkodGFyZ2V0SWRzQXJnKSB7XG4gICAgaW52YXJpYW50KEFycmF5LmlzQXJyYXkodGFyZ2V0SWRzQXJnKSwgJ0V4cGVjdGVkIHRhcmdldElkcyB0byBiZSBhbiBhcnJheS4nKTtcbn1cbmZ1bmN0aW9uIGNoZWNrSW52YXJpYW50cyh0YXJnZXRJZHMsIG1vbml0b3IsIHJlZ2lzdHJ5KSB7XG4gICAgaW52YXJpYW50KG1vbml0b3IuaXNEcmFnZ2luZygpLCAnQ2Fubm90IGNhbGwgaG92ZXIgd2hpbGUgbm90IGRyYWdnaW5nLicpO1xuICAgIGludmFyaWFudCghbW9uaXRvci5kaWREcm9wKCksICdDYW5ub3QgY2FsbCBob3ZlciBhZnRlciBkcm9wLicpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0SWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB0YXJnZXRJZCA9IHRhcmdldElkc1tpXTtcbiAgICAgICAgaW52YXJpYW50KHRhcmdldElkcy5sYXN0SW5kZXhPZih0YXJnZXRJZCkgPT09IGksICdFeHBlY3RlZCB0YXJnZXRJZHMgdG8gYmUgdW5pcXVlIGluIHRoZSBwYXNzZWQgYXJyYXkuJyk7XG4gICAgICAgIHZhciB0YXJnZXQgPSByZWdpc3RyeS5nZXRUYXJnZXQodGFyZ2V0SWQpO1xuICAgICAgICBpbnZhcmlhbnQodGFyZ2V0LCAnRXhwZWN0ZWQgdGFyZ2V0SWRzIHRvIGJlIHJlZ2lzdGVyZWQuJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlTm9uTWF0Y2hpbmdUYXJnZXRJZHModGFyZ2V0SWRzLCByZWdpc3RyeSwgZHJhZ2dlZEl0ZW1UeXBlKSB7XG4gICAgLy8gUmVtb3ZlIHRob3NlIHRhcmdldElkcyB0aGF0IGRvbid0IG1hdGNoIHRoZSB0YXJnZXRUeXBlLiAgVGhpc1xuICAgIC8vIGZpeGVzIHNoYWxsb3cgaXNPdmVyIHdoaWNoIHdvdWxkIG9ubHkgYmUgbm9uLXNoYWxsb3cgYmVjYXVzZSBvZlxuICAgIC8vIG5vbi1tYXRjaGluZyB0YXJnZXRzLlxuICAgIGZvciAodmFyIGkgPSB0YXJnZXRJZHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHRhcmdldElkID0gdGFyZ2V0SWRzW2ldO1xuICAgICAgICB2YXIgdGFyZ2V0VHlwZSA9IHJlZ2lzdHJ5LmdldFRhcmdldFR5cGUodGFyZ2V0SWQpO1xuICAgICAgICBpZiAoIW1hdGNoZXNUeXBlXzEuZGVmYXVsdCh0YXJnZXRUeXBlLCBkcmFnZ2VkSXRlbVR5cGUpKSB7XG4gICAgICAgICAgICB0YXJnZXRJZHMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaG92ZXJBbGxUYXJnZXRzKHRhcmdldElkcywgbW9uaXRvciwgcmVnaXN0cnkpIHtcbiAgICAvLyBGaW5hbGx5IGNhbGwgaG92ZXIgb24gYWxsIG1hdGNoaW5nIHRhcmdldHMuXG4gICAgZm9yICh2YXIgX2kgPSAwLCB0YXJnZXRJZHNfMSA9IHRhcmdldElkczsgX2kgPCB0YXJnZXRJZHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIHRhcmdldElkID0gdGFyZ2V0SWRzXzFbX2ldO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gcmVnaXN0cnkuZ2V0VGFyZ2V0KHRhcmdldElkKTtcbiAgICAgICAgdGFyZ2V0LmhvdmVyKG1vbml0b3IsIHRhcmdldElkKTtcbiAgICB9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYmVnaW5EcmFnXzEgPSByZXF1aXJlKFwiLi9iZWdpbkRyYWdcIik7XG52YXIgcHVibGlzaERyYWdTb3VyY2VfMSA9IHJlcXVpcmUoXCIuL3B1Ymxpc2hEcmFnU291cmNlXCIpO1xudmFyIGhvdmVyXzEgPSByZXF1aXJlKFwiLi9ob3ZlclwiKTtcbnZhciBkcm9wXzEgPSByZXF1aXJlKFwiLi9kcm9wXCIpO1xudmFyIGVuZERyYWdfMSA9IHJlcXVpcmUoXCIuL2VuZERyYWdcIik7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi90eXBlc1wiKSk7XG5mdW5jdGlvbiBjcmVhdGVEcmFnRHJvcEFjdGlvbnMobWFuYWdlcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJlZ2luRHJhZzogYmVnaW5EcmFnXzEuZGVmYXVsdChtYW5hZ2VyKSxcbiAgICAgICAgcHVibGlzaERyYWdTb3VyY2U6IHB1Ymxpc2hEcmFnU291cmNlXzEuZGVmYXVsdChtYW5hZ2VyKSxcbiAgICAgICAgaG92ZXI6IGhvdmVyXzEuZGVmYXVsdChtYW5hZ2VyKSxcbiAgICAgICAgZHJvcDogZHJvcF8xLmRlZmF1bHQobWFuYWdlciksXG4gICAgICAgIGVuZERyYWc6IGVuZERyYWdfMS5kZWZhdWx0KG1hbmFnZXIpLFxuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVEcmFnRHJvcEFjdGlvbnM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0eXBlc18xID0gcmVxdWlyZShcIi4uL3R5cGVzXCIpO1xuZnVuY3Rpb24gc2V0Q2xpZW50T2Zmc2V0KGNsaWVudE9mZnNldCwgc291cmNlQ2xpZW50T2Zmc2V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogdHlwZXNfMS5JTklUX0NPT1JEUyxcbiAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgc291cmNlQ2xpZW50T2Zmc2V0OiBzb3VyY2VDbGllbnRPZmZzZXQgfHwgbnVsbCxcbiAgICAgICAgICAgIGNsaWVudE9mZnNldDogY2xpZW50T2Zmc2V0IHx8IG51bGwsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydHMuc2V0Q2xpZW50T2Zmc2V0ID0gc2V0Q2xpZW50T2Zmc2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xuZnVuY3Rpb24gY3JlYXRlUHVibGlzaERyYWdTb3VyY2UobWFuYWdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBwdWJsaXNoRHJhZ1NvdXJjZSgpIHtcbiAgICAgICAgdmFyIG1vbml0b3IgPSBtYW5hZ2VyLmdldE1vbml0b3IoKTtcbiAgICAgICAgaWYgKG1vbml0b3IuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICByZXR1cm4geyB0eXBlOiB0eXBlc18xLlBVQkxJU0hfRFJBR19TT1VSQ0UgfTtcbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVQdWJsaXNoRHJhZ1NvdXJjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JTklUX0NPT1JEUyA9ICdkbmQtY29yZS9JTklUX0NPT1JEUyc7XG5leHBvcnRzLkJFR0lOX0RSQUcgPSAnZG5kLWNvcmUvQkVHSU5fRFJBRyc7XG5leHBvcnRzLlBVQkxJU0hfRFJBR19TT1VSQ0UgPSAnZG5kLWNvcmUvUFVCTElTSF9EUkFHX1NPVVJDRSc7XG5leHBvcnRzLkhPVkVSID0gJ2RuZC1jb3JlL0hPVkVSJztcbmV4cG9ydHMuRFJPUCA9ICdkbmQtY29yZS9EUk9QJztcbmV4cG9ydHMuRU5EX0RSQUcgPSAnZG5kLWNvcmUvRU5EX0RSQUcnO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFERF9TT1VSQ0UgPSAnZG5kLWNvcmUvQUREX1NPVVJDRSc7XG5leHBvcnRzLkFERF9UQVJHRVQgPSAnZG5kLWNvcmUvQUREX1RBUkdFVCc7XG5leHBvcnRzLlJFTU9WRV9TT1VSQ0UgPSAnZG5kLWNvcmUvUkVNT1ZFX1NPVVJDRSc7XG5leHBvcnRzLlJFTU9WRV9UQVJHRVQgPSAnZG5kLWNvcmUvUkVNT1ZFX1RBUkdFVCc7XG5mdW5jdGlvbiBhZGRTb3VyY2Uoc291cmNlSWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBleHBvcnRzLkFERF9TT1VSQ0UsXG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIHNvdXJjZUlkOiBzb3VyY2VJZCxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0cy5hZGRTb3VyY2UgPSBhZGRTb3VyY2U7XG5mdW5jdGlvbiBhZGRUYXJnZXQodGFyZ2V0SWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBleHBvcnRzLkFERF9UQVJHRVQsXG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIHRhcmdldElkOiB0YXJnZXRJZCxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0cy5hZGRUYXJnZXQgPSBhZGRUYXJnZXQ7XG5mdW5jdGlvbiByZW1vdmVTb3VyY2Uoc291cmNlSWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBleHBvcnRzLlJFTU9WRV9TT1VSQ0UsXG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIHNvdXJjZUlkOiBzb3VyY2VJZCxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0cy5yZW1vdmVTb3VyY2UgPSByZW1vdmVTb3VyY2U7XG5mdW5jdGlvbiByZW1vdmVUYXJnZXQodGFyZ2V0SWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBleHBvcnRzLlJFTU9WRV9UQVJHRVQsXG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIHRhcmdldElkOiB0YXJnZXRJZCxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0cy5yZW1vdmVUYXJnZXQgPSByZW1vdmVUYXJnZXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbmZ1bmN0aW9uIHZhbGlkYXRlU291cmNlQ29udHJhY3Qoc291cmNlKSB7XG4gICAgaW52YXJpYW50KHR5cGVvZiBzb3VyY2UuY2FuRHJhZyA9PT0gJ2Z1bmN0aW9uJywgJ0V4cGVjdGVkIGNhbkRyYWcgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICBpbnZhcmlhbnQodHlwZW9mIHNvdXJjZS5iZWdpbkRyYWcgPT09ICdmdW5jdGlvbicsICdFeHBlY3RlZCBiZWdpbkRyYWcgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICBpbnZhcmlhbnQodHlwZW9mIHNvdXJjZS5lbmREcmFnID09PSAnZnVuY3Rpb24nLCAnRXhwZWN0ZWQgZW5kRHJhZyB0byBiZSBhIGZ1bmN0aW9uLicpO1xufVxuZXhwb3J0cy52YWxpZGF0ZVNvdXJjZUNvbnRyYWN0ID0gdmFsaWRhdGVTb3VyY2VDb250cmFjdDtcbmZ1bmN0aW9uIHZhbGlkYXRlVGFyZ2V0Q29udHJhY3QodGFyZ2V0KSB7XG4gICAgaW52YXJpYW50KHR5cGVvZiB0YXJnZXQuY2FuRHJvcCA9PT0gJ2Z1bmN0aW9uJywgJ0V4cGVjdGVkIGNhbkRyb3AgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICBpbnZhcmlhbnQodHlwZW9mIHRhcmdldC5ob3ZlciA9PT0gJ2Z1bmN0aW9uJywgJ0V4cGVjdGVkIGhvdmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgaW52YXJpYW50KHR5cGVvZiB0YXJnZXQuZHJvcCA9PT0gJ2Z1bmN0aW9uJywgJ0V4cGVjdGVkIGJlZ2luRHJhZyB0byBiZSBhIGZ1bmN0aW9uLicpO1xufVxuZXhwb3J0cy52YWxpZGF0ZVRhcmdldENvbnRyYWN0ID0gdmFsaWRhdGVUYXJnZXRDb250cmFjdDtcbmZ1bmN0aW9uIHZhbGlkYXRlVHlwZSh0eXBlLCBhbGxvd0FycmF5KSB7XG4gICAgaWYgKGFsbG93QXJyYXkgJiYgQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgICB0eXBlLmZvckVhY2goZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHZhbGlkYXRlVHlwZSh0LCBmYWxzZSk7IH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGludmFyaWFudCh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHR5cGUgPT09ICdzeW1ib2wnLCBhbGxvd0FycmF5XG4gICAgICAgID8gJ1R5cGUgY2FuIG9ubHkgYmUgYSBzdHJpbmcsIGEgc3ltYm9sLCBvciBhbiBhcnJheSBvZiBlaXRoZXIuJ1xuICAgICAgICA6ICdUeXBlIGNhbiBvbmx5IGJlIGEgc3RyaW5nIG9yIGEgc3ltYm9sLicpO1xufVxuZXhwb3J0cy52YWxpZGF0ZVR5cGUgPSB2YWxpZGF0ZVR5cGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBEcmFnRHJvcE1hbmFnZXJJbXBsXzEgPSByZXF1aXJlKFwiLi9EcmFnRHJvcE1hbmFnZXJJbXBsXCIpO1xuZnVuY3Rpb24gY3JlYXRlRHJhZ0Ryb3BNYW5hZ2VyKGJhY2tlbmQsIGNvbnRleHQsIGRlYnVnTW9kZSkge1xuICAgIHJldHVybiBuZXcgRHJhZ0Ryb3BNYW5hZ2VySW1wbF8xLmRlZmF1bHQoYmFja2VuZCwgY29udGV4dCwgZGVidWdNb2RlKTtcbn1cbmV4cG9ydHMuY3JlYXRlRHJhZ0Ryb3BNYW5hZ2VyID0gY3JlYXRlRHJhZ0Ryb3BNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vaW50ZXJmYWNlc1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9mYWN0b3JpZXNcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgSGFuZGxlclJvbGU7XG4oZnVuY3Rpb24gKEhhbmRsZXJSb2xlKSB7XG4gICAgSGFuZGxlclJvbGVbXCJTT1VSQ0VcIl0gPSBcIlNPVVJDRVwiO1xuICAgIEhhbmRsZXJSb2xlW1wiVEFSR0VUXCJdID0gXCJUQVJHRVRcIjtcbn0pKEhhbmRsZXJSb2xlID0gZXhwb3J0cy5IYW5kbGVyUm9sZSB8fCAoZXhwb3J0cy5IYW5kbGVyUm9sZSA9IHt9KSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkcmFnRHJvcF8xID0gcmVxdWlyZShcIi4uL2FjdGlvbnMvZHJhZ0Ryb3BcIik7XG52YXIgcmVnaXN0cnlfMSA9IHJlcXVpcmUoXCIuLi9hY3Rpb25zL3JlZ2lzdHJ5XCIpO1xudmFyIGVxdWFsaXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvZXF1YWxpdHlcIik7XG52YXIgZGlydGluZXNzXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvZGlydGluZXNzXCIpO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2Rpc2NvdW50X2xvZGFzaFwiKTtcbmZ1bmN0aW9uIGRpcnR5SGFuZGxlcklkcyhzdGF0ZSwgYWN0aW9uKSB7XG4gICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHsgc3RhdGUgPSBkaXJ0aW5lc3NfMS5OT05FOyB9XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIGRyYWdEcm9wXzEuSE9WRVI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSByZWdpc3RyeV8xLkFERF9TT1VSQ0U6XG4gICAgICAgIGNhc2UgcmVnaXN0cnlfMS5BRERfVEFSR0VUOlxuICAgICAgICBjYXNlIHJlZ2lzdHJ5XzEuUkVNT1ZFX1RBUkdFVDpcbiAgICAgICAgY2FzZSByZWdpc3RyeV8xLlJFTU9WRV9TT1VSQ0U6XG4gICAgICAgICAgICByZXR1cm4gZGlydGluZXNzXzEuTk9ORTtcbiAgICAgICAgY2FzZSBkcmFnRHJvcF8xLkJFR0lOX0RSQUc6XG4gICAgICAgIGNhc2UgZHJhZ0Ryb3BfMS5QVUJMSVNIX0RSQUdfU09VUkNFOlxuICAgICAgICBjYXNlIGRyYWdEcm9wXzEuRU5EX0RSQUc6XG4gICAgICAgIGNhc2UgZHJhZ0Ryb3BfMS5EUk9QOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGRpcnRpbmVzc18xLkFMTDtcbiAgICB9XG4gICAgdmFyIF9hID0gYWN0aW9uLnBheWxvYWQsIF9iID0gX2EudGFyZ2V0SWRzLCB0YXJnZXRJZHMgPSBfYiA9PT0gdm9pZCAwID8gW10gOiBfYiwgX2MgPSBfYS5wcmV2VGFyZ2V0SWRzLCBwcmV2VGFyZ2V0SWRzID0gX2MgPT09IHZvaWQgMCA/IFtdIDogX2M7XG4gICAgdmFyIHJlc3VsdCA9IGRpc2NvdW50X2xvZGFzaF8xLnhvcih0YXJnZXRJZHMsIHByZXZUYXJnZXRJZHMpO1xuICAgIHZhciBkaWRDaGFuZ2UgPSByZXN1bHQubGVuZ3RoID4gMCB8fCAhZXF1YWxpdHlfMS5hcmVBcnJheXNFcXVhbCh0YXJnZXRJZHMsIHByZXZUYXJnZXRJZHMpO1xuICAgIGlmICghZGlkQ2hhbmdlKSB7XG4gICAgICAgIHJldHVybiBkaXJ0aW5lc3NfMS5OT05FO1xuICAgIH1cbiAgICAvLyBDaGVjayB0aGUgdGFyZ2V0IGlkcyBhdCB0aGUgaW5uZXJtb3N0IHBvc2l0aW9uLiBJZiB0aGV5IGFyZSB2YWxpZCwgYWRkIHRoZW1cbiAgICAvLyB0byB0aGUgcmVzdWx0XG4gICAgdmFyIHByZXZJbm5lcm1vc3RUYXJnZXRJZCA9IHByZXZUYXJnZXRJZHNbcHJldlRhcmdldElkcy5sZW5ndGggLSAxXTtcbiAgICB2YXIgaW5uZXJtb3N0VGFyZ2V0SWQgPSB0YXJnZXRJZHNbdGFyZ2V0SWRzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChwcmV2SW5uZXJtb3N0VGFyZ2V0SWQgIT09IGlubmVybW9zdFRhcmdldElkKSB7XG4gICAgICAgIGlmIChwcmV2SW5uZXJtb3N0VGFyZ2V0SWQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHByZXZJbm5lcm1vc3RUYXJnZXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlubmVybW9zdFRhcmdldElkKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChpbm5lcm1vc3RUYXJnZXRJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGRpcnR5SGFuZGxlcklkcztcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkcmFnRHJvcF8xID0gcmVxdWlyZShcIi4uL2FjdGlvbnMvZHJhZ0Ryb3BcIik7XG52YXIgZXF1YWxpdHlfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9lcXVhbGl0eVwiKTtcbnZhciBpbml0aWFsU3RhdGUgPSB7XG4gICAgaW5pdGlhbFNvdXJjZUNsaWVudE9mZnNldDogbnVsbCxcbiAgICBpbml0aWFsQ2xpZW50T2Zmc2V0OiBudWxsLFxuICAgIGNsaWVudE9mZnNldDogbnVsbCxcbn07XG5mdW5jdGlvbiBkcmFnT2Zmc2V0KHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoc3RhdGUgPT09IHZvaWQgMCkgeyBzdGF0ZSA9IGluaXRpYWxTdGF0ZTsgfVxuICAgIHZhciBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIGRyYWdEcm9wXzEuSU5JVF9DT09SRFM6XG4gICAgICAgIGNhc2UgZHJhZ0Ryb3BfMS5CRUdJTl9EUkFHOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0OiBwYXlsb2FkLnNvdXJjZUNsaWVudE9mZnNldCxcbiAgICAgICAgICAgICAgICBpbml0aWFsQ2xpZW50T2Zmc2V0OiBwYXlsb2FkLmNsaWVudE9mZnNldCxcbiAgICAgICAgICAgICAgICBjbGllbnRPZmZzZXQ6IHBheWxvYWQuY2xpZW50T2Zmc2V0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBkcmFnRHJvcF8xLkhPVkVSOlxuICAgICAgICAgICAgaWYgKGVxdWFsaXR5XzEuYXJlQ29vcmRzRXF1YWwoc3RhdGUuY2xpZW50T2Zmc2V0LCBwYXlsb2FkLmNsaWVudE9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHN0YXRlLCB7IGNsaWVudE9mZnNldDogcGF5bG9hZC5jbGllbnRPZmZzZXQgfSk7XG4gICAgICAgIGNhc2UgZHJhZ0Ryb3BfMS5FTkRfRFJBRzpcbiAgICAgICAgY2FzZSBkcmFnRHJvcF8xLkRST1A6XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbFN0YXRlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGRyYWdPZmZzZXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZHJhZ0Ryb3BfMSA9IHJlcXVpcmUoXCIuLi9hY3Rpb25zL2RyYWdEcm9wXCIpO1xudmFyIHJlZ2lzdHJ5XzEgPSByZXF1aXJlKFwiLi4vYWN0aW9ucy9yZWdpc3RyeVwiKTtcbnZhciBkaXNjb3VudF9sb2Rhc2hfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9kaXNjb3VudF9sb2Rhc2hcIik7XG52YXIgaW5pdGlhbFN0YXRlID0ge1xuICAgIGl0ZW1UeXBlOiBudWxsLFxuICAgIGl0ZW06IG51bGwsXG4gICAgc291cmNlSWQ6IG51bGwsXG4gICAgdGFyZ2V0SWRzOiBbXSxcbiAgICBkcm9wUmVzdWx0OiBudWxsLFxuICAgIGRpZERyb3A6IGZhbHNlLFxuICAgIGlzU291cmNlUHVibGljOiBudWxsLFxufTtcbmZ1bmN0aW9uIGRyYWdPcGVyYXRpb24oc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7IHN0YXRlID0gaW5pdGlhbFN0YXRlOyB9XG4gICAgdmFyIHBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgIGNhc2UgZHJhZ0Ryb3BfMS5CRUdJTl9EUkFHOlxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBpdGVtVHlwZTogcGF5bG9hZC5pdGVtVHlwZSwgaXRlbTogcGF5bG9hZC5pdGVtLCBzb3VyY2VJZDogcGF5bG9hZC5zb3VyY2VJZCwgaXNTb3VyY2VQdWJsaWM6IHBheWxvYWQuaXNTb3VyY2VQdWJsaWMsIGRyb3BSZXN1bHQ6IG51bGwsIGRpZERyb3A6IGZhbHNlIH0pO1xuICAgICAgICBjYXNlIGRyYWdEcm9wXzEuUFVCTElTSF9EUkFHX1NPVVJDRTpcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgaXNTb3VyY2VQdWJsaWM6IHRydWUgfSk7XG4gICAgICAgIGNhc2UgZHJhZ0Ryb3BfMS5IT1ZFUjpcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgdGFyZ2V0SWRzOiBwYXlsb2FkLnRhcmdldElkcyB9KTtcbiAgICAgICAgY2FzZSByZWdpc3RyeV8xLlJFTU9WRV9UQVJHRVQ6XG4gICAgICAgICAgICBpZiAoc3RhdGUudGFyZ2V0SWRzLmluZGV4T2YocGF5bG9hZC50YXJnZXRJZCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyB0YXJnZXRJZHM6IGRpc2NvdW50X2xvZGFzaF8xLndpdGhvdXQoc3RhdGUudGFyZ2V0SWRzLCBwYXlsb2FkLnRhcmdldElkKSB9KTtcbiAgICAgICAgY2FzZSBkcmFnRHJvcF8xLkRST1A6XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHN0YXRlLCB7IGRyb3BSZXN1bHQ6IHBheWxvYWQuZHJvcFJlc3VsdCwgZGlkRHJvcDogdHJ1ZSwgdGFyZ2V0SWRzOiBbXSB9KTtcbiAgICAgICAgY2FzZSBkcmFnRHJvcF8xLkVORF9EUkFHOlxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBpdGVtVHlwZTogbnVsbCwgaXRlbTogbnVsbCwgc291cmNlSWQ6IG51bGwsIGRyb3BSZXN1bHQ6IG51bGwsIGRpZERyb3A6IGZhbHNlLCBpc1NvdXJjZVB1YmxpYzogbnVsbCwgdGFyZ2V0SWRzOiBbXSB9KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBkcmFnT3BlcmF0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGRyYWdPZmZzZXRfMSA9IHJlcXVpcmUoXCIuL2RyYWdPZmZzZXRcIik7XG52YXIgZHJhZ09wZXJhdGlvbl8xID0gcmVxdWlyZShcIi4vZHJhZ09wZXJhdGlvblwiKTtcbnZhciByZWZDb3VudF8xID0gcmVxdWlyZShcIi4vcmVmQ291bnRcIik7XG52YXIgZGlydHlIYW5kbGVySWRzXzEgPSByZXF1aXJlKFwiLi9kaXJ0eUhhbmRsZXJJZHNcIik7XG52YXIgc3RhdGVJZF8xID0gcmVxdWlyZShcIi4vc3RhdGVJZFwiKTtcbnZhciBkaXNjb3VudF9sb2Rhc2hfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9kaXNjb3VudF9sb2Rhc2hcIik7XG5mdW5jdGlvbiByZWR1Y2Uoc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7IHN0YXRlID0ge307IH1cbiAgICByZXR1cm4ge1xuICAgICAgICBkaXJ0eUhhbmRsZXJJZHM6IGRpcnR5SGFuZGxlcklkc18xLmRlZmF1bHQoc3RhdGUuZGlydHlIYW5kbGVySWRzLCB7XG4gICAgICAgICAgICB0eXBlOiBhY3Rpb24udHlwZSxcbiAgICAgICAgICAgIHBheWxvYWQ6IF9fYXNzaWduKHt9LCBhY3Rpb24ucGF5bG9hZCwgeyBwcmV2VGFyZ2V0SWRzOiBkaXNjb3VudF9sb2Rhc2hfMS5nZXQoc3RhdGUsICdkcmFnT3BlcmF0aW9uLnRhcmdldElkcycsIFtdKSB9KSxcbiAgICAgICAgfSksXG4gICAgICAgIGRyYWdPZmZzZXQ6IGRyYWdPZmZzZXRfMS5kZWZhdWx0KHN0YXRlLmRyYWdPZmZzZXQsIGFjdGlvbiksXG4gICAgICAgIHJlZkNvdW50OiByZWZDb3VudF8xLmRlZmF1bHQoc3RhdGUucmVmQ291bnQsIGFjdGlvbiksXG4gICAgICAgIGRyYWdPcGVyYXRpb246IGRyYWdPcGVyYXRpb25fMS5kZWZhdWx0KHN0YXRlLmRyYWdPcGVyYXRpb24sIGFjdGlvbiksXG4gICAgICAgIHN0YXRlSWQ6IHN0YXRlSWRfMS5kZWZhdWx0KHN0YXRlLnN0YXRlSWQpLFxuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSByZWR1Y2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWdpc3RyeV8xID0gcmVxdWlyZShcIi4uL2FjdGlvbnMvcmVnaXN0cnlcIik7XG5mdW5jdGlvbiByZWZDb3VudChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHsgc3RhdGUgPSAwOyB9XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIHJlZ2lzdHJ5XzEuQUREX1NPVVJDRTpcbiAgICAgICAgY2FzZSByZWdpc3RyeV8xLkFERF9UQVJHRVQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUgKyAxO1xuICAgICAgICBjYXNlIHJlZ2lzdHJ5XzEuUkVNT1ZFX1NPVVJDRTpcbiAgICAgICAgY2FzZSByZWdpc3RyeV8xLlJFTU9WRV9UQVJHRVQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUgLSAxO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHJlZkNvdW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBzdGF0ZUlkKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHsgc3RhdGUgPSAwOyB9XG4gICAgcmV0dXJuIHN0YXRlICsgMTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHN0YXRlSWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQ29vcmRpbmF0ZSBhZGRpdGlvblxuICogQHBhcmFtIGEgVGhlIGZpcnN0IGNvb3JkaW5hdGVcbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgY29vcmRpbmF0ZVxuICovXG5mdW5jdGlvbiBhZGQoYSwgYikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGEueCArIGIueCxcbiAgICAgICAgeTogYS55ICsgYi55LFxuICAgIH07XG59XG5leHBvcnRzLmFkZCA9IGFkZDtcbi8qKlxuICogQ29vcmRpbmF0ZSBzdWJ0cmFjdGlvblxuICogQHBhcmFtIGEgVGhlIGZpcnN0IGNvb3JkaW5hdGVcbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgY29vcmRpbmF0ZVxuICovXG5mdW5jdGlvbiBzdWJ0cmFjdChhLCBiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogYS54IC0gYi54LFxuICAgICAgICB5OiBhLnkgLSBiLnksXG4gICAgfTtcbn1cbmV4cG9ydHMuc3VidHJhY3QgPSBzdWJ0cmFjdDtcbi8qKlxuICogUmV0dXJucyB0aGUgY2FydGVzaWFuIGRpc3RhbmNlIG9mIHRoZSBkcmFnIHNvdXJjZSBjb21wb25lbnQncyBwb3NpdGlvbiwgYmFzZWQgb24gaXRzIHBvc2l0aW9uXG4gKiBhdCB0aGUgdGltZSB3aGVuIHRoZSBjdXJyZW50IGRyYWcgb3BlcmF0aW9uIGhhcyBzdGFydGVkLCBhbmQgdGhlIG1vdmVtZW50IGRpZmZlcmVuY2UuXG4gKlxuICogUmV0dXJucyBudWxsIGlmIG5vIGl0ZW0gaXMgYmVpbmcgZHJhZ2dlZC5cbiAqXG4gKiBAcGFyYW0gc3RhdGUgVGhlIG9mZnNldCBzdGF0ZSB0byBjb21wdXRlIGZyb21cbiAqL1xuZnVuY3Rpb24gZ2V0U291cmNlQ2xpZW50T2Zmc2V0KHN0YXRlKSB7XG4gICAgdmFyIGNsaWVudE9mZnNldCA9IHN0YXRlLmNsaWVudE9mZnNldCwgaW5pdGlhbENsaWVudE9mZnNldCA9IHN0YXRlLmluaXRpYWxDbGllbnRPZmZzZXQsIGluaXRpYWxTb3VyY2VDbGllbnRPZmZzZXQgPSBzdGF0ZS5pbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0O1xuICAgIGlmICghY2xpZW50T2Zmc2V0IHx8ICFpbml0aWFsQ2xpZW50T2Zmc2V0IHx8ICFpbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gc3VidHJhY3QoYWRkKGNsaWVudE9mZnNldCwgaW5pdGlhbFNvdXJjZUNsaWVudE9mZnNldCksIGluaXRpYWxDbGllbnRPZmZzZXQpO1xufVxuZXhwb3J0cy5nZXRTb3VyY2VDbGllbnRPZmZzZXQgPSBnZXRTb3VyY2VDbGllbnRPZmZzZXQ7XG4vKipcbiAqIERldGVybWluZXMgdGhlIHgseSBvZmZzZXQgYmV0d2VlbiB0aGUgY2xpZW50IG9mZnNldCBhbmQgdGhlIGluaXRpYWwgY2xpZW50IG9mZnNldFxuICpcbiAqIEBwYXJhbSBzdGF0ZSBUaGUgb2Zmc2V0IHN0YXRlIHRvIGNvbXB1dGUgZnJvbVxuICovXG5mdW5jdGlvbiBnZXREaWZmZXJlbmNlRnJvbUluaXRpYWxPZmZzZXQoc3RhdGUpIHtcbiAgICB2YXIgY2xpZW50T2Zmc2V0ID0gc3RhdGUuY2xpZW50T2Zmc2V0LCBpbml0aWFsQ2xpZW50T2Zmc2V0ID0gc3RhdGUuaW5pdGlhbENsaWVudE9mZnNldDtcbiAgICBpZiAoIWNsaWVudE9mZnNldCB8fCAhaW5pdGlhbENsaWVudE9mZnNldCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHN1YnRyYWN0KGNsaWVudE9mZnNldCwgaW5pdGlhbENsaWVudE9mZnNldCk7XG59XG5leHBvcnRzLmdldERpZmZlcmVuY2VGcm9tSW5pdGlhbE9mZnNldCA9IGdldERpZmZlcmVuY2VGcm9tSW5pdGlhbE9mZnNldDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4vZGlzY291bnRfbG9kYXNoXCIpO1xuZXhwb3J0cy5OT05FID0gW107XG5leHBvcnRzLkFMTCA9IFtdO1xuZXhwb3J0cy5OT05FLl9fSVNfTk9ORV9fID0gdHJ1ZTtcbmV4cG9ydHMuQUxMLl9fSVNfQUxMX18gPSB0cnVlO1xuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBnaXZlbiBoYW5kbGVyIElEcyBhcmUgZGlydHkgb3Igbm90LlxuICpcbiAqIEBwYXJhbSBkaXJ0eUlkcyBUaGUgc2V0IG9mIGRpcnR5IGhhbmRsZXIgaWRzXG4gKiBAcGFyYW0gaGFuZGxlcklkcyBUaGUgc2V0IG9mIGhhbmRsZXIgaWRzIHRvIGNoZWNrXG4gKi9cbmZ1bmN0aW9uIGFyZURpcnR5KGRpcnR5SWRzLCBoYW5kbGVySWRzKSB7XG4gICAgaWYgKGRpcnR5SWRzID09PSBleHBvcnRzLk5PTkUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZGlydHlJZHMgPT09IGV4cG9ydHMuQUxMIHx8IHR5cGVvZiBoYW5kbGVySWRzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGNvbW1vbklkcyA9IGRpc2NvdW50X2xvZGFzaF8xLmludGVyc2VjdGlvbihoYW5kbGVySWRzLCBkaXJ0eUlkcyk7XG4gICAgcmV0dXJuIGNvbW1vbklkcy5sZW5ndGggPiAwO1xufVxuZXhwb3J0cy5hcmVEaXJ0eSA9IGFyZURpcnR5O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIGRyb3AtaW4gcmVwbGFjZW1lbnQgZm9yIF8uZ2V0XG4gKiBAcGFyYW0gb2JqXG4gKiBAcGFyYW0gcGF0aFxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZVxuICovXG5mdW5jdGlvbiBnZXQob2JqLCBwYXRoLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gcGF0aFxuICAgICAgICAuc3BsaXQoJy4nKVxuICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChhLCBjKSB7IHJldHVybiAoYSAmJiBhW2NdID8gYVtjXSA6IGRlZmF1bHRWYWx1ZSB8fCBudWxsKTsgfSwgb2JqKTtcbn1cbmV4cG9ydHMuZ2V0ID0gZ2V0O1xuLyoqXG4gKiBkcm9wLWluIHJlcGxhY2VtZW50IGZvciBfLndpdGhvdXRcbiAqL1xuZnVuY3Rpb24gd2l0aG91dChpdGVtcywgaXRlbSkge1xuICAgIHJldHVybiBpdGVtcy5maWx0ZXIoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkgIT09IGl0ZW07IH0pO1xufVxuZXhwb3J0cy53aXRob3V0ID0gd2l0aG91dDtcbi8qKlxuICogZHJvcC1pbiByZXBsYWNlbWVudCBmb3IgXy5pc1N0cmluZ1xuICogQHBhcmFtIGlucHV0XG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKGlucHV0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4vKipcbiAqIGRyb3AtaW4gcmVwbGFjZW1lbnQgZm9yIF8uaXNTdHJpbmdcbiAqIEBwYXJhbSBpbnB1dFxuICovXG5mdW5jdGlvbiBpc09iamVjdChpbnB1dCkge1xuICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdvYmplY3QnO1xufVxuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuLyoqXG4gKiByZXBhbGNlbWVudCBmb3IgXy54b3JcbiAqIEBwYXJhbSBpdGVtc0FcbiAqIEBwYXJhbSBpdGVtc0JcbiAqL1xuZnVuY3Rpb24geG9yKGl0ZW1zQSwgaXRlbXNCKSB7XG4gICAgdmFyIG1hcCA9IG5ldyBNYXAoKTtcbiAgICB2YXIgaW5zZXJ0SXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBtYXAuc2V0KGl0ZW0sIG1hcC5oYXMoaXRlbSkgPyBtYXAuZ2V0KGl0ZW0pICsgMSA6IDEpO1xuICAgIH07XG4gICAgaXRlbXNBLmZvckVhY2goaW5zZXJ0SXRlbSk7XG4gICAgaXRlbXNCLmZvckVhY2goaW5zZXJ0SXRlbSk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIG1hcC5mb3JFYWNoKGZ1bmN0aW9uIChjb3VudCwga2V5KSB7XG4gICAgICAgIGlmIChjb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLnhvciA9IHhvcjtcbi8qKlxuICogcmVwbGFjZW1lbnQgZm9yIF8uaW50ZXJzZWN0aW9uXG4gKiBAcGFyYW0gaXRlbXNBXG4gKiBAcGFyYW0gaXRlbXNCXG4gKi9cbmZ1bmN0aW9uIGludGVyc2VjdGlvbihpdGVtc0EsIGl0ZW1zQikge1xuICAgIHJldHVybiBpdGVtc0EuZmlsdGVyKGZ1bmN0aW9uICh0KSB7IHJldHVybiBpdGVtc0IuaW5kZXhPZih0KSA+IC0xOyB9KTtcbn1cbmV4cG9ydHMuaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN0cmljdEVxdWFsaXR5ID0gZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgPT09IGI7IH07XG4vKipcbiAqIERldGVybWluZSBpZiB0d28gY2FydGVzaWFuIGNvb3JkaW5hdGUgb2Zmc2V0cyBhcmUgZXF1YWxcbiAqIEBwYXJhbSBvZmZzZXRBXG4gKiBAcGFyYW0gb2Zmc2V0QlxuICovXG5mdW5jdGlvbiBhcmVDb29yZHNFcXVhbChvZmZzZXRBLCBvZmZzZXRCKSB7XG4gICAgaWYgKCFvZmZzZXRBICYmICFvZmZzZXRCKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmICghb2Zmc2V0QSB8fCAhb2Zmc2V0Qikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gb2Zmc2V0QS54ID09PSBvZmZzZXRCLnggJiYgb2Zmc2V0QS55ID09PSBvZmZzZXRCLnk7XG4gICAgfVxufVxuZXhwb3J0cy5hcmVDb29yZHNFcXVhbCA9IGFyZUNvb3Jkc0VxdWFsO1xuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHR3byBhcnJheXMgb2YgaXRlbXMgYXJlIGVxdWFsXG4gKiBAcGFyYW0gYSBUaGUgZmlyc3QgYXJyYXkgb2YgaXRlbXNcbiAqIEBwYXJhbSBiIFRoZSBzZWNvbmQgYXJyYXkgb2YgaXRlbXNcbiAqL1xuZnVuY3Rpb24gYXJlQXJyYXlzRXF1YWwoYSwgYiwgaXNFcXVhbCkge1xuICAgIGlmIChpc0VxdWFsID09PSB2b2lkIDApIHsgaXNFcXVhbCA9IGV4cG9ydHMuc3RyaWN0RXF1YWxpdHk7IH1cbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmICghaXNFcXVhbChhW2ldLCBiW2ldKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0cy5hcmVBcnJheXNFcXVhbCA9IGFyZUFycmF5c0VxdWFsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbmV4dFVuaXF1ZUlkID0gMDtcbmZ1bmN0aW9uIGdldE5leHRVbmlxdWVJZCgpIHtcbiAgICByZXR1cm4gbmV4dFVuaXF1ZUlkKys7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBnZXROZXh0VW5pcXVlSWQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIG1hdGNoZXNUeXBlKHRhcmdldFR5cGUsIGRyYWdnZWRJdGVtVHlwZSkge1xuICAgIGlmIChkcmFnZ2VkSXRlbVR5cGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldFR5cGUgPT09IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRhcmdldFR5cGUpXG4gICAgICAgID8gdGFyZ2V0VHlwZS5zb21lKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0ID09PSBkcmFnZ2VkSXRlbVR5cGU7IH0pXG4gICAgICAgIDogdGFyZ2V0VHlwZSA9PT0gZHJhZ2dlZEl0ZW1UeXBlO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gbWF0Y2hlc1R5cGU7XG4iLCIndXNlIHN0cmljdCdcblxudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuXG4vKipcbiAqIFRyYW5zZm9ybSBkb3QtZGVsaW1pdGVkIHN0cmluZ3MgdG8gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN0cmluZ1xuICogRG90LWRlbGltaXRlZCBzdHJpbmcuXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKiBBcnJheSBvZiBzdHJpbmdzLlxuICovXG5cbmZ1bmN0aW9uIGRvdHNwbGl0IChzdHJpbmcpIHtcbiAgdmFyIGlkeCA9IC0xXG4gIHZhciBzdHIgPSBjb21wYWN0KG5vcm1hbGl6ZShzdHJpbmcpLnNwbGl0KCcuJykpXG4gIHZhciBlbmQgPSBzdHIubGVuZ3RoXG4gIHZhciBvdXQgPSBbXVxuXG4gIHdoaWxlICgrK2lkeCA8IGVuZCkge1xuICAgIG91dC5wdXNoKHRvZG90cyhzdHJbaWR4XSkpXG4gIH1cblxuICByZXR1cm4gb3V0XG59XG5cbi8qKlxuICogUmVwbGFjZSBlc2NhcGVzIHdpdGggYSBwbGFjZWhvbGRlci5cbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN0cmluZ1xuICogRG90LWRlbGltaXRlZCBzdHJpbmcuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfVxuICogRG90LWRlbGltaXRlZCBzdHJpbmcgd2l0aCBwbGFjZWhvbGRlcnMgaW4gcGxhY2Ugb2YgZXNjYXBlcy5cbiAqL1xuXG5mdW5jdGlvbiBub3JtYWxpemUgKHN0cmluZykge1xuICByZXR1cm4gKHRvU3RyaW5nLmNhbGwoc3RyaW5nKSA9PT0gJ1tvYmplY3QgU3RyaW5nXScgPyBzdHJpbmcgOiAnJykucmVwbGFjZSgvXFxcXFxcLi9nLCAnXFx1ZmZmZicpXG59XG5cbi8qKlxuICogRHJvcCBlbXB0eSB2YWx1ZXMgZnJvbSBhcnJheS5cbiAqXG4gKiBAcGFyYW0gIHtBcnJheX0gYXJyYXlcbiAqIEFycmF5IG9mIHN0cmluZ3MuXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKiBBcnJheSBvZiBzdHJpbmdzIChlbXB0eSB2YWx1ZXMgZHJvcHBlZCkuXG4gKi9cblxuZnVuY3Rpb24gY29tcGFjdCAoYXJyKSB7XG4gIHZhciBpZHggPSAtMVxuICB2YXIgZW5kID0gYXJyLmxlbmd0aFxuICB2YXIgb3V0ID0gW11cblxuICB3aGlsZSAoKytpZHggPCBlbmQpIHtcbiAgICBpZiAoYXJyW2lkeF0pIG91dC5wdXNoKGFycltpZHhdKVxuICB9XG5cbiAgcmV0dXJuIG91dFxufVxuXG4vKipcbiAqIENoYW5nZSBwbGFjZWhvbGRlciB0byBkb3RzLlxuICpcbiAqIEBwYXJhbSAge1N0cmluZ30gc3RyaW5nXG4gKiBEb3QtZGVsaW1pdGVkIHN0cmluZyB3aXRoIHBsYWNlaG9sZGVycy5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBEb3QtZGVsaW1pdGVkIHN0cmluZyB3aXRob3V0IHBsYWNlaG9sZGVycy5cbiAqL1xuXG5mdW5jdGlvbiB0b2RvdHMgKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL1xcdWZmZmYvZywgJy4nKVxufVxuXG4vKiFcbiAqIGV4cG9ydHMuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBkb3RzcGxpdFxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihib3VuZFRoaXMpIHtcbiAgdmFyIGYgPSB0aGlzXG4gICAgLCByZXRcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpXG4gICAgcmV0ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIHJldCkge1xuICAgICAgICB2YXIgcmV0XyA9IGYuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgICAgICByZXR1cm4gT2JqZWN0KHJldF8pID09PSByZXRfXG4gICAgICAgICAgPyByZXRfXG4gICAgICAgICAgOiB0aGlzXG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBmLmFwcGx5KGJvdW5kVGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgZWxzZSB7XG4gICAgdmFyIGJvdW5kQXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSlcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGJvdW5kQXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV1cblxuICAgIHJldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGJvdW5kTGVuID0gYm91bmRBcmdzLmxlbmd0aFxuICAgICAgICAsIGFyZ3MgPSBuZXcgQXJyYXkoYm91bmRMZW4gKyBhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICAsIGlcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBib3VuZExlbjsgaSsrKVxuICAgICAgICBhcmdzW2ldID0gYm91bmRBcmdzW2ldXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgICBhcmdzW2JvdW5kTGVuICsgaV0gPSBhcmd1bWVudHNbaV1cblxuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiByZXQpIHtcbiAgICAgICAgdmFyIHJldF8gPSBmLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAgIHJldHVybiBPYmplY3QocmV0XykgPT09IHJldF9cbiAgICAgICAgICA/IHJldF9cbiAgICAgICAgICA6IHRoaXNcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGYuYXBwbHkoYm91bmRUaGlzLCBhcmdzKVxuICAgIH1cbiAgfVxuXG4gIHJldC5wcm90b3R5cGUgPSBmLnByb3RvdHlwZVxuICByZXR1cm4gcmV0XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ29weXJpZ2h0IDIwMTUsIFlhaG9vISBJbmMuXG4gKiBDb3B5cmlnaHRzIGxpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIExpY2Vuc2UuIFNlZSB0aGUgYWNjb21wYW55aW5nIExJQ0VOU0UgZmlsZSBmb3IgdGVybXMuXG4gKi9cbnZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcbnZhciBSRUFDVF9TVEFUSUNTID0ge1xuICAgIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICAgIGNvbnRleHRUeXBlOiB0cnVlLFxuICAgIGNvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZGlzcGxheU5hbWU6IHRydWUsXG4gICAgZ2V0RGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjogdHJ1ZSxcbiAgICBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM6IHRydWUsXG4gICAgbWl4aW5zOiB0cnVlLFxuICAgIHByb3BUeXBlczogdHJ1ZSxcbiAgICB0eXBlOiB0cnVlXG59O1xuXG52YXIgS05PV05fU1RBVElDUyA9IHtcbiAgICBuYW1lOiB0cnVlLFxuICAgIGxlbmd0aDogdHJ1ZSxcbiAgICBwcm90b3R5cGU6IHRydWUsXG4gICAgY2FsbGVyOiB0cnVlLFxuICAgIGNhbGxlZTogdHJ1ZSxcbiAgICBhcmd1bWVudHM6IHRydWUsXG4gICAgYXJpdHk6IHRydWVcbn07XG5cbnZhciBGT1JXQVJEX1JFRl9TVEFUSUNTID0ge1xuICAgICckJHR5cGVvZic6IHRydWUsXG4gICAgcmVuZGVyOiB0cnVlLFxuICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWVcbn07XG5cbnZhciBNRU1PX1NUQVRJQ1MgPSB7XG4gICAgJyQkdHlwZW9mJzogdHJ1ZSxcbiAgICBjb21wYXJlOiB0cnVlLFxuICAgIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgICBkaXNwbGF5TmFtZTogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgdHlwZTogdHJ1ZVxufTtcblxudmFyIFRZUEVfU1RBVElDUyA9IHt9O1xuVFlQRV9TVEFUSUNTW1JlYWN0SXMuRm9yd2FyZFJlZl0gPSBGT1JXQVJEX1JFRl9TVEFUSUNTO1xuXG5mdW5jdGlvbiBnZXRTdGF0aWNzKGNvbXBvbmVudCkge1xuICAgIGlmIChSZWFjdElzLmlzTWVtbyhjb21wb25lbnQpKSB7XG4gICAgICAgIHJldHVybiBNRU1PX1NUQVRJQ1M7XG4gICAgfVxuICAgIHJldHVybiBUWVBFX1NUQVRJQ1NbY29tcG9uZW50WyckJHR5cGVvZiddXSB8fCBSRUFDVF9TVEFUSUNTO1xufVxuXG52YXIgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgZ2V0T3duUHJvcGVydHlOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBvYmplY3RQcm90b3R5cGUgPSBPYmplY3QucHJvdG90eXBlO1xuXG5mdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCwgYmxhY2tsaXN0KSB7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG5cbiAgICAgICAgaWYgKG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgICAgICAgdmFyIGluaGVyaXRlZENvbXBvbmVudCA9IGdldFByb3RvdHlwZU9mKHNvdXJjZUNvbXBvbmVudCk7XG4gICAgICAgICAgICBpZiAoaW5oZXJpdGVkQ29tcG9uZW50ICYmIGluaGVyaXRlZENvbXBvbmVudCAhPT0gb2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICAgICAgICAgICAgaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBpbmhlcml0ZWRDb21wb25lbnQsIGJsYWNrbGlzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcblxuICAgICAgICBpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICAgICAgICBrZXlzID0ga2V5cy5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRhcmdldFN0YXRpY3MgPSBnZXRTdGF0aWNzKHRhcmdldENvbXBvbmVudCk7XG4gICAgICAgIHZhciBzb3VyY2VTdGF0aWNzID0gZ2V0U3RhdGljcyhzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICBpZiAoIUtOT1dOX1NUQVRJQ1Nba2V5XSAmJiAhKGJsYWNrbGlzdCAmJiBibGFja2xpc3Rba2V5XSkgJiYgIShzb3VyY2VTdGF0aWNzICYmIHNvdXJjZVN0YXRpY3Nba2V5XSkgJiYgISh0YXJnZXRTdGF0aWNzICYmIHRhcmdldFN0YXRpY3Nba2V5XSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2VDb21wb25lbnQsIGtleSk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXZvaWQgZmFpbHVyZXMgZnJvbSByZWFkLW9ubHkgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXRDb21wb25lbnQsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBob2lzdE5vblJlYWN0U3RhdGljcztcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVzZSBpbnZhcmlhbnQoKSB0byBhc3NlcnQgc3RhdGUgd2hpY2ggeW91ciBwcm9ncmFtIGFzc3VtZXMgdG8gYmUgdHJ1ZS5cbiAqXG4gKiBQcm92aWRlIHNwcmludGYtc3R5bGUgZm9ybWF0IChvbmx5ICVzIGlzIHN1cHBvcnRlZCkgYW5kIGFyZ3VtZW50c1xuICogdG8gcHJvdmlkZSBpbmZvcm1hdGlvbiBhYm91dCB3aGF0IGJyb2tlIGFuZCB3aGF0IHlvdSB3ZXJlXG4gKiBleHBlY3RpbmcuXG4gKlxuICogVGhlIGludmFyaWFudCBtZXNzYWdlIHdpbGwgYmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBpbnZhcmlhbnRcbiAqIHdpbGwgcmVtYWluIHRvIGVuc3VyZSBsb2dpYyBkb2VzIG5vdCBkaWZmZXIgaW4gcHJvZHVjdGlvbi5cbiAqL1xuXG52YXIgaW52YXJpYW50ID0gZnVuY3Rpb24oY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YXJpYW50IHJlcXVpcmVzIGFuIGVycm9yIG1lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG4gIH1cblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICAnTWluaWZpZWQgZXhjZXB0aW9uIG9jY3VycmVkOyB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgJyArXG4gICAgICAgICdmb3IgdGhlIGZ1bGwgZXJyb3IgbWVzc2FnZSBhbmQgYWRkaXRpb25hbCBoZWxwZnVsIHdhcm5pbmdzLidcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7IHJldHVybiBhcmdzW2FyZ0luZGV4KytdOyB9KVxuICAgICAgKTtcbiAgICAgIGVycm9yLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgfVxuXG4gICAgZXJyb3IuZnJhbWVzVG9Qb3AgPSAxOyAvLyB3ZSBkb24ndCBjYXJlIGFib3V0IGludmFyaWFudCdzIG93biBmcmFtZVxuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGludmFyaWFudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3ZhbGlkYXRpb24gPSByZXF1aXJlKFwiLi92YWxpZGF0aW9uXCIpO1xuXG52YXIgX2FwcGxpY2FibGVBY3Rpb25zID0gcmVxdWlyZShcIi4vYXBwbGljYWJsZUFjdGlvbnNcIik7XG5cbnZhciBfYXBwbGljYWJsZUFjdGlvbnMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXBwbGljYWJsZUFjdGlvbnMpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciB2YWxpZGF0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlKHNjaGVtYSkge1xuICB2YXIgaXNTY2hlbWFEZWZpbmVkID0gc2NoZW1hICE9PSB1bmRlZmluZWQgJiYgc2NoZW1hICE9PSBudWxsO1xuICBpZiAoKDAsIF91dGlscy5pc0RldmVsb3BtZW50KSgpICYmIGlzU2NoZW1hRGVmaW5lZCkge1xuICAgIGlmICghKDAsIF91dGlscy5pc09iamVjdCkoc2NoZW1hKSkge1xuICAgICAgKDAsIF91dGlscy50b0Vycm9yKShcIkV4cGVjdGVkIHZhbGlkIHNjaGVtYSBvYmplY3QsIGJ1dCBnb3QgLSBcIiArIHNjaGVtYSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAocnVsZSkge1xuICAgICAgKDAsIF92YWxpZGF0aW9uLnZhbGlkYXRlUHJlZGljYXRlcykoW3J1bGUuY29uZGl0aW9uc10sIHNjaGVtYSk7XG4gICAgICAoMCwgX3ZhbGlkYXRpb24udmFsaWRhdGVDb25kaXRpb25GaWVsZHMpKFtydWxlLmNvbmRpdGlvbnNdLCBzY2hlbWEpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHt9O1xuICB9XG59O1xuXG52YXIgRW5naW5lID0gZnVuY3Rpb24gRW5naW5lKHJ1bGVzLCBzY2hlbWEpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRW5naW5lKTtcblxuICB0aGlzLmFkZFJ1bGUgPSBmdW5jdGlvbiAocnVsZSkge1xuICAgIF90aGlzLnZhbGlkYXRlKHJ1bGUpO1xuICAgIF90aGlzLnJ1bGVzLnB1c2gocnVsZSk7XG4gIH07XG5cbiAgdGhpcy5ydW4gPSBmdW5jdGlvbiAoZm9ybURhdGEpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCgwLCBfYXBwbGljYWJsZUFjdGlvbnMyLmRlZmF1bHQpKF90aGlzLnJ1bGVzLCBmb3JtRGF0YSkpO1xuICB9O1xuXG4gIHRoaXMucnVsZXMgPSBbXTtcbiAgdGhpcy52YWxpZGF0ZSA9IHZhbGlkYXRlKHNjaGVtYSk7XG5cbiAgaWYgKHJ1bGVzKSB7XG4gICAgKDAsIF91dGlscy50b0FycmF5KShydWxlcykuZm9yRWFjaChmdW5jdGlvbiAocnVsZSkge1xuICAgICAgcmV0dXJuIF90aGlzLmFkZFJ1bGUocnVsZSk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydHMuZGVmYXVsdCA9IEVuZ2luZTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGFwcGxpY2FibGVBY3Rpb25zO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBfY29uZGl0aW9uc01lZXQgPSByZXF1aXJlKFwiLi9jb25kaXRpb25zTWVldFwiKTtcblxudmFyIF9jb25kaXRpb25zTWVldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jb25kaXRpb25zTWVldCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGFwcGxpY2FibGVBY3Rpb25zKHJ1bGVzLCBmb3JtRGF0YSkge1xuICByZXR1cm4gKDAsIF91dGlscy5mbGF0TWFwKShydWxlcywgZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgY29uZGl0aW9ucyA9IF9yZWYuY29uZGl0aW9ucyxcbiAgICAgICAgZXZlbnQgPSBfcmVmLmV2ZW50O1xuXG4gICAgaWYgKCgwLCBfY29uZGl0aW9uc01lZXQyLmRlZmF1bHQpKGNvbmRpdGlvbnMsIGZvcm1EYXRhKSkge1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMudG9BcnJheSkoZXZlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9KTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNoZWNrRmllbGQ7XG5cbnZhciBfcHJlZGljYXRlID0gcmVxdWlyZShcInByZWRpY2F0ZVwiKTtcblxudmFyIF9wcmVkaWNhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJlZGljYXRlKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGRvQ2hlY2tGaWVsZCA9IGZ1bmN0aW9uIGRvQ2hlY2tGaWVsZChmaWVsZFZhbCwgcnVsZSkge1xuICBpZiAoKDAsIF91dGlscy5pc09iamVjdCkocnVsZSkpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocnVsZSkuZXZlcnkoZnVuY3Rpb24gKHApIHtcbiAgICAgIHZhciBzdWJSdWxlID0gcnVsZVtwXTtcbiAgICAgIGlmIChwID09PSBfY29uc3RhbnRzLk9SIHx8IHAgPT09IF9jb25zdGFudHMuQU5EKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN1YlJ1bGUpKSB7XG4gICAgICAgICAgaWYgKHAgPT09IF9jb25zdGFudHMuT1IpIHtcbiAgICAgICAgICAgIHJldHVybiBzdWJSdWxlLnNvbWUoZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRvQ2hlY2tGaWVsZChmaWVsZFZhbCwgcnVsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1YlJ1bGUuZXZlcnkoZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRvQ2hlY2tGaWVsZChmaWVsZFZhbCwgcnVsZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHAgPT09IF9jb25zdGFudHMuTk9UKSB7XG4gICAgICAgIHJldHVybiAhZG9DaGVja0ZpZWxkKGZpZWxkVmFsLCBzdWJSdWxlKTtcbiAgICAgIH0gZWxzZSBpZiAoX3ByZWRpY2F0ZTIuZGVmYXVsdFtwXSkge1xuICAgICAgICByZXR1cm4gX3ByZWRpY2F0ZTIuZGVmYXVsdFtwXShmaWVsZFZhbCwgc3ViUnVsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIF9wcmVkaWNhdGUyLmRlZmF1bHRbcnVsZV0oZmllbGRWYWwpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBjaGVja0ZpZWxkKGZpZWxkVmFsLCBydWxlKSB7XG4gIHJldHVybiBkb0NoZWNrRmllbGQoZmllbGRWYWwsIHJ1bGUpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy50b1JlbENvbmRpdGlvbiA9IHRvUmVsQ29uZGl0aW9uO1xuZXhwb3J0cy5kZWZhdWx0ID0gY29uZGl0aW9uc01lZXQ7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxudmFyIF9jaGVja0ZpZWxkID0gcmVxdWlyZShcIi4vY2hlY2tGaWVsZFwiKTtcblxudmFyIF9jaGVja0ZpZWxkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoZWNrRmllbGQpO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdG9SZWxDb25kaXRpb24ocmVmQ29uZGl0aW9uLCBmb3JtRGF0YSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShyZWZDb25kaXRpb24pKSB7XG4gICAgcmV0dXJuIHJlZkNvbmRpdGlvbi5tYXAoZnVuY3Rpb24gKGNvbmQpIHtcbiAgICAgIHJldHVybiB0b1JlbENvbmRpdGlvbihjb25kLCBmb3JtRGF0YSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoKDAsIF91dGlscy5pc09iamVjdCkocmVmQ29uZGl0aW9uKSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhyZWZDb25kaXRpb24pLnJlZHVjZShmdW5jdGlvbiAoYWdnLCBmaWVsZCkge1xuICAgICAgYWdnW2ZpZWxkXSA9IHRvUmVsQ29uZGl0aW9uKHJlZkNvbmRpdGlvbltmaWVsZF0sIGZvcm1EYXRhKTtcbiAgICAgIHJldHVybiBhZ2c7XG4gICAgfSwge30pO1xuICB9IGVsc2UgaWYgKHR5cGVvZiByZWZDb25kaXRpb24gPT09IFwic3RyaW5nXCIgJiYgcmVmQ29uZGl0aW9uLnN0YXJ0c1dpdGgoXCIkXCIpKSB7XG4gICAgcmV0dXJuICgwLCBfdXRpbHMuc2VsZWN0UmVmKShyZWZDb25kaXRpb24uc3Vic3RyKDEpLCBmb3JtRGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlZkNvbmRpdGlvbjtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb25kaXRpb25zTWVldChjb25kaXRpb24sIGZvcm1EYXRhKSB7XG4gIGlmICghKDAsIF91dGlscy5pc09iamVjdCkoY29uZGl0aW9uKSB8fCAhKDAsIF91dGlscy5pc09iamVjdCkoZm9ybURhdGEpKSB7XG4gICAgKDAsIF91dGlscy50b0Vycm9yKShcIlJ1bGUgXCIgKyBKU09OLnN0cmluZ2lmeShjb25kaXRpb24pICsgXCIgd2l0aCBcIiArIGZvcm1EYXRhICsgXCIgY2FuJ3QgYmUgcHJvY2Vzc2VkXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gT2JqZWN0LmtleXMoY29uZGl0aW9uKS5ldmVyeShmdW5jdGlvbiAocmVmKSB7XG4gICAgdmFyIHJlZkNvbmRpdGlvbiA9IGNvbmRpdGlvbltyZWZdO1xuICAgIGlmIChyZWYgPT09IF9jb25zdGFudHMuT1IpIHtcbiAgICAgIHJldHVybiByZWZDb25kaXRpb24uc29tZShmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICByZXR1cm4gY29uZGl0aW9uc01lZXQocnVsZSwgZm9ybURhdGEpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZWYgPT09IF9jb25zdGFudHMuQU5EKSB7XG4gICAgICByZXR1cm4gcmVmQ29uZGl0aW9uLmV2ZXJ5KGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgIHJldHVybiBjb25kaXRpb25zTWVldChydWxlLCBmb3JtRGF0YSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlZiA9PT0gX2NvbnN0YW50cy5OT1QpIHtcbiAgICAgIHJldHVybiAhY29uZGl0aW9uc01lZXQocmVmQ29uZGl0aW9uLCBmb3JtRGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZWZWYWwgPSAoMCwgX3V0aWxzLnNlbGVjdFJlZikocmVmLCBmb3JtRGF0YSk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZWZWYWwpKSB7XG4gICAgICAgIHZhciBjb25kTWVhdE9uY2UgPSByZWZWYWwuc29tZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuaXNPYmplY3QpKHZhbCkgPyBjb25kaXRpb25zTWVldChyZWZDb25kaXRpb24sIHZhbCkgOiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEl0J3MgZWl0aGVyIHRydWUgZm9yIGFuIGVsZW1lbnQgaW4gYW4gYXJyYXkgb3IgZm9yIHRoZSB3aG9sZSBhcnJheVxuICAgICAgICByZXR1cm4gY29uZE1lYXRPbmNlIHx8ICgwLCBfY2hlY2tGaWVsZDIuZGVmYXVsdCkocmVmVmFsLCB0b1JlbENvbmRpdGlvbihyZWZDb25kaXRpb24sIGZvcm1EYXRhKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKDAsIF9jaGVja0ZpZWxkMi5kZWZhdWx0KShyZWZWYWwsIHRvUmVsQ29uZGl0aW9uKHJlZkNvbmRpdGlvbiwgZm9ybURhdGEpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xudmFyIE9SID0gZXhwb3J0cy5PUiA9IFwib3JcIjtcbnZhciBBTkQgPSBleHBvcnRzLkFORCA9IFwiYW5kXCI7XG52YXIgTk9UID0gZXhwb3J0cy5OT1QgPSBcIm5vdFwiOyIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX0VuZ2luZSA9IHJlcXVpcmUoXCIuL0VuZ2luZVwiKTtcblxudmFyIF9FbmdpbmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRW5naW5lKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX0VuZ2luZTIuZGVmYXVsdDsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZmxhdE1hcCA9IHVuZGVmaW5lZDtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5leHBvcnRzLm5vcm1SZWYgPSBub3JtUmVmO1xuZXhwb3J0cy5zZWxlY3RSZWYgPSBzZWxlY3RSZWY7XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5leHBvcnRzLmlzRGV2ZWxvcG1lbnQgPSBpc0RldmVsb3BtZW50O1xuZXhwb3J0cy50b0FycmF5ID0gdG9BcnJheTtcbmV4cG9ydHMudG9FcnJvciA9IHRvRXJyb3I7XG5leHBvcnRzLmlzUmVmQXJyYXkgPSBpc1JlZkFycmF5O1xuZXhwb3J0cy5leHRyYWN0UmVmU2NoZW1hID0gZXh0cmFjdFJlZlNjaGVtYTtcblxudmFyIF9zZWxlY3RuID0gcmVxdWlyZShcInNlbGVjdG5cIik7XG5cbnZhciBfc2VsZWN0bjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3RuKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gbm9ybVJlZihyZWYpIHtcbiAgcmV0dXJuIHJlZi5yZXBsYWNlKC9cXCQvZywgXCIuXCIpO1xufVxuXG5mdW5jdGlvbiBzZWxlY3RSZWYoZmllbGQsIGZvcm1EYXRhKSB7XG4gIHZhciByZWYgPSBub3JtUmVmKGZpZWxkKTtcbiAgcmV0dXJuICgwLCBfc2VsZWN0bjIuZGVmYXVsdCkocmVmLCBmb3JtRGF0YSk7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICByZXR1cm4gKHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopKSA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzRGV2ZWxvcG1lbnQoKSB7XG4gIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCI7XG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkoZXZlbnQpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnQpKSB7XG4gICAgcmV0dXJuIGV2ZW50O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbZXZlbnRdO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRvRXJyb3IobWVzc2FnZSkge1xuICBpZiAoaXNEZXZlbG9wbWVudCgpKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKG1lc3NhZ2UpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNSZWZBcnJheShmaWVsZCwgc2NoZW1hKSB7XG4gIHJldHVybiBzY2hlbWEucHJvcGVydGllc1tmaWVsZF0gJiYgc2NoZW1hLnByb3BlcnRpZXNbZmllbGRdLnR5cGUgPT09IFwiYXJyYXlcIiAmJiBzY2hlbWEucHJvcGVydGllc1tmaWVsZF0uaXRlbXMgJiYgc2NoZW1hLnByb3BlcnRpZXNbZmllbGRdLml0ZW1zW1wiJHJlZlwiXTtcbn1cblxuZnVuY3Rpb24gZmV0Y2hTY2hlbWEocmVmLCBzY2hlbWEpIHtcbiAgaWYgKHJlZi5zdGFydHNXaXRoKFwiIy9cIikpIHtcbiAgICByZXR1cm4gcmVmLnN1YnN0cigyKS5zcGxpdChcIi9cIikucmVkdWNlKGZ1bmN0aW9uIChzY2hlbWEsIGZpZWxkKSB7XG4gICAgICByZXR1cm4gc2NoZW1hW2ZpZWxkXTtcbiAgICB9LCBzY2hlbWEpO1xuICB9IGVsc2Uge1xuICAgIHRvRXJyb3IoXCJPbmx5IGxvY2FsIHJlZmVyZW5jZXMgc3VwcG9ydGVkIGF0IHRoaXMgcG9pbnQgdXNlIGpzb24tc2NoZW1hLWRlcmVmXCIpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXh0cmFjdFJlZlNjaGVtYShmaWVsZCwgc2NoZW1hKSB7XG4gIHZhciBwcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXM7XG5cbiAgaWYgKCFwcm9wZXJ0aWVzIHx8ICFwcm9wZXJ0aWVzW2ZpZWxkXSkge1xuICAgIHRvRXJyb3IoZmllbGQgKyBcIiBub3QgZGVmaW5lZCBpbiBwcm9wZXJ0aWVzXCIpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gZWxzZSBpZiAocHJvcGVydGllc1tmaWVsZF0udHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgaWYgKGlzUmVmQXJyYXkoZmllbGQsIHNjaGVtYSkpIHtcbiAgICAgIHJldHVybiBmZXRjaFNjaGVtYShwcm9wZXJ0aWVzW2ZpZWxkXS5pdGVtc1tcIiRyZWZcIl0sIHNjaGVtYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzW2ZpZWxkXS5pdGVtcztcbiAgICB9XG4gIH0gZWxzZSBpZiAocHJvcGVydGllc1tmaWVsZF0gJiYgcHJvcGVydGllc1tmaWVsZF1bXCIkcmVmXCJdKSB7XG4gICAgcmV0dXJuIGZldGNoU2NoZW1hKHByb3BlcnRpZXNbZmllbGRdW1wiJHJlZlwiXSwgc2NoZW1hKTtcbiAgfSBlbHNlIGlmIChwcm9wZXJ0aWVzW2ZpZWxkXSAmJiBwcm9wZXJ0aWVzW2ZpZWxkXS50eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIHByb3BlcnRpZXNbZmllbGRdO1xuICB9IGVsc2Uge1xuICAgIHRvRXJyb3IoZmllbGQgKyBcIiBoYXMgbm8gJHJlZiBmaWVsZCByZWYgc2NoZW1hIGV4dHJhY3Rpb24gaXMgaW1wb3NzaWJsZVwiKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbnZhciBjb25jYXQgPSBmdW5jdGlvbiBjb25jYXQoeCwgeSkge1xuICByZXR1cm4geC5jb25jYXQoeSk7XG59O1xudmFyIGZsYXRNYXAgPSBleHBvcnRzLmZsYXRNYXAgPSBmdW5jdGlvbiBmbGF0TWFwKHhzLCBmKSB7XG4gIHJldHVybiB4cy5tYXAoZikucmVkdWNlKGNvbmNhdCwgW10pO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucHJlZGljYXRlc0Zyb21SdWxlID0gcHJlZGljYXRlc0Zyb21SdWxlO1xuZXhwb3J0cy5wcmVkaWNhdGVzRnJvbUNvbmRpdGlvbiA9IHByZWRpY2F0ZXNGcm9tQ29uZGl0aW9uO1xuZXhwb3J0cy5saXN0QWxsUHJlZGljYXRlcyA9IGxpc3RBbGxQcmVkaWNhdGVzO1xuZXhwb3J0cy5saXN0SW52YWxpZFByZWRpY2F0ZXMgPSBsaXN0SW52YWxpZFByZWRpY2F0ZXM7XG5leHBvcnRzLnZhbGlkYXRlUHJlZGljYXRlcyA9IHZhbGlkYXRlUHJlZGljYXRlcztcbmV4cG9ydHMuZmllbGRzRnJvbVByZWRpY2F0ZXMgPSBmaWVsZHNGcm9tUHJlZGljYXRlcztcbmV4cG9ydHMuZmllbGRzRnJvbUNvbmRpdGlvbiA9IGZpZWxkc0Zyb21Db25kaXRpb247XG5leHBvcnRzLmxpc3RBbGxGaWVsZHMgPSBsaXN0QWxsRmllbGRzO1xuZXhwb3J0cy5saXN0SW52YWxpZEZpZWxkcyA9IGxpc3RJbnZhbGlkRmllbGRzO1xuZXhwb3J0cy52YWxpZGF0ZUNvbmRpdGlvbkZpZWxkcyA9IHZhbGlkYXRlQ29uZGl0aW9uRmllbGRzO1xuXG52YXIgX3ByZWRpY2F0ZSA9IHJlcXVpcmUoXCJwcmVkaWNhdGVcIik7XG5cbnZhciBfcHJlZGljYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ByZWRpY2F0ZSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBVTlNVUFBPUlRFRF9QUkVESUNBVEVTID0gW1wiYW5kXCIsIFwib3JcIiwgXCJ0ZXJuYXJ5XCIsIFwiZXZlcnlcIiwgXCJzb21lXCIsIFwiY3VycnlcIiwgXCJwYXJ0aWFsXCIsIFwiY29tcGxlbWVudFwiLCBcIm1vZFwiXTtcblxuZnVuY3Rpb24gcHJlZGljYXRlc0Zyb21SdWxlKHJ1bGUsIHNjaGVtYSkge1xuICBpZiAoKDAsIF91dGlscy5pc09iamVjdCkocnVsZSkpIHtcbiAgICByZXR1cm4gKDAsIF91dGlscy5mbGF0TWFwKShPYmplY3Qua2V5cyhydWxlKSwgZnVuY3Rpb24gKHApIHtcbiAgICAgIHZhciBjb21wYXJhYmxlID0gcnVsZVtwXTtcbiAgICAgIGlmICgoMCwgX3V0aWxzLmlzT2JqZWN0KShjb21wYXJhYmxlKSB8fCBwID09PSBfY29uc3RhbnRzLk5PVCkge1xuICAgICAgICBpZiAocCA9PT0gX2NvbnN0YW50cy5PUiB8fCBwID09PSBfY29uc3RhbnRzLkFORCkge1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbXBhcmFibGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIF91dGlscy5mbGF0TWFwKShjb21wYXJhYmxlLCBmdW5jdGlvbiAoY29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwcmVkaWNhdGVzRnJvbVJ1bGUoY29uZGl0aW9uLCBzY2hlbWEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICgwLCBfdXRpbHMudG9FcnJvcikoXCJcXFwiXCIgKyBwICsgXCJcXFwiIG11c3QgYmUgYW4gYXJyYXlcIik7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmVkaWNhdGVzID0gcHJlZGljYXRlc0Zyb21SdWxlKGNvbXBhcmFibGUsIHNjaGVtYSk7XG4gICAgICAgICAgcHJlZGljYXRlcy5wdXNoKHApO1xuICAgICAgICAgIHJldHVybiBwcmVkaWNhdGVzO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlc0Zyb21SdWxlKHAsIHNjaGVtYSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtydWxlXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVkaWNhdGVzRnJvbUNvbmRpdGlvbihjb25kaXRpb24sIHNjaGVtYSkge1xuICByZXR1cm4gKDAsIF91dGlscy5mbGF0TWFwKShPYmplY3Qua2V5cyhjb25kaXRpb24pLCBmdW5jdGlvbiAocmVmKSB7XG4gICAgdmFyIHJlZlZhbCA9IGNvbmRpdGlvbltyZWZdO1xuICAgIHJlZiA9ICgwLCBfdXRpbHMubm9ybVJlZikocmVmKTtcbiAgICBpZiAocmVmID09PSBfY29uc3RhbnRzLk9SIHx8IHJlZiA9PT0gX2NvbnN0YW50cy5BTkQpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlZlZhbCkpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuZmxhdE1hcCkocmVmVmFsLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgIHJldHVybiBwcmVkaWNhdGVzRnJvbUNvbmRpdGlvbihjLCBzY2hlbWEpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICgwLCBfdXRpbHMudG9FcnJvcikocmVmICsgXCIgd2l0aCBcIiArIEpTT04uc3RyaW5naWZ5KHJlZlZhbCkgKyBcIiBtdXN0IGJlIGFuIEFycmF5XCIpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChyZWYgPT09IF9jb25zdGFudHMuTk9UKSB7XG4gICAgICByZXR1cm4gcHJlZGljYXRlc0Zyb21Db25kaXRpb24ocmVmVmFsLCBzY2hlbWEpO1xuICAgIH0gZWxzZSBpZiAocmVmLmluZGV4T2YoXCIuXCIpICE9PSAtMSkge1xuICAgICAgdmFyIHNlcGFyYXRvciA9IHJlZi5pbmRleE9mKFwiLlwiKTtcbiAgICAgIHZhciBzY2hlbWFGaWVsZCA9IHJlZi5zdWJzdHIoMCwgc2VwYXJhdG9yKTtcbiAgICAgIHZhciBzdWJTY2hlbWEgPSAoMCwgX3V0aWxzLmV4dHJhY3RSZWZTY2hlbWEpKHNjaGVtYUZpZWxkLCBzY2hlbWEpO1xuXG4gICAgICBpZiAoc3ViU2NoZW1hKSB7XG4gICAgICAgIHZhciBzdWJTY2hlbWFGaWVsZCA9IHJlZi5zdWJzdHIoc2VwYXJhdG9yICsgMSk7XG4gICAgICAgIHZhciBuZXdDb25kaXRpb24gPSBfZGVmaW5lUHJvcGVydHkoe30sIHN1YlNjaGVtYUZpZWxkLCByZWZWYWwpO1xuICAgICAgICByZXR1cm4gcHJlZGljYXRlc0Zyb21Db25kaXRpb24obmV3Q29uZGl0aW9uLCBzdWJTY2hlbWEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKDAsIF91dGlscy50b0Vycm9yKShcIkNhbid0IGZpbmQgc2NoZW1hIGZvciBcIiArIHNjaGVtYUZpZWxkKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoKDAsIF91dGlscy5pc1JlZkFycmF5KShyZWYsIHNjaGVtYSkpIHtcbiAgICAgIHZhciByZWZTY2hlbWEgPSAoMCwgX3V0aWxzLmV4dHJhY3RSZWZTY2hlbWEpKHJlZiwgc2NoZW1hKTtcbiAgICAgIHJldHVybiByZWZTY2hlbWEgPyBwcmVkaWNhdGVzRnJvbUNvbmRpdGlvbihyZWZWYWwsIHJlZlNjaGVtYSkgOiBbXTtcbiAgICB9IGVsc2UgaWYgKHNjaGVtYS5wcm9wZXJ0aWVzW3JlZl0pIHtcbiAgICAgIHJldHVybiBwcmVkaWNhdGVzRnJvbVJ1bGUocmVmVmFsLCBzY2hlbWEpO1xuICAgIH0gZWxzZSB7XG4gICAgICAoMCwgX3V0aWxzLnRvRXJyb3IpKFwiQ2FuJ3QgdmFsaWRhdGUgXCIgKyByZWYpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxpc3RBbGxQcmVkaWNhdGVzKGNvbmRpdGlvbnMsIHNjaGVtYSkge1xuICB2YXIgYWxsUHJlZGljYXRlcyA9ICgwLCBfdXRpbHMuZmxhdE1hcCkoY29uZGl0aW9ucywgZnVuY3Rpb24gKGNvbmRpdGlvbikge1xuICAgIHJldHVybiBwcmVkaWNhdGVzRnJvbUNvbmRpdGlvbihjb25kaXRpb24sIHNjaGVtYSk7XG4gIH0pO1xuICByZXR1cm4gYWxsUHJlZGljYXRlcy5maWx0ZXIoZnVuY3Rpb24gKHYsIGksIGEpIHtcbiAgICByZXR1cm4gYWxsUHJlZGljYXRlcy5pbmRleE9mKHYpID09PSBpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbGlzdEludmFsaWRQcmVkaWNhdGVzKGNvbmRpdGlvbnMsIHNjaGVtYSkge1xuICB2YXIgcmVmUHJlZGljYXRlcyA9IGxpc3RBbGxQcmVkaWNhdGVzKGNvbmRpdGlvbnMsIHNjaGVtYSk7XG4gIHJldHVybiByZWZQcmVkaWNhdGVzLmZpbHRlcihmdW5jdGlvbiAocCkge1xuICAgIHJldHVybiBVTlNVUFBPUlRFRF9QUkVESUNBVEVTLmluY2x1ZGVzKHApIHx8IF9wcmVkaWNhdGUyLmRlZmF1bHRbcF0gPT09IHVuZGVmaW5lZDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJlZGljYXRlcyhjb25kaXRpb25zLCBzY2hlbWEpIHtcbiAgdmFyIGludmFsaWRQcmVkaWNhdGVzID0gbGlzdEludmFsaWRQcmVkaWNhdGVzKGNvbmRpdGlvbnMsIHNjaGVtYSk7XG4gIGlmIChpbnZhbGlkUHJlZGljYXRlcy5sZW5ndGggIT09IDApIHtcbiAgICAoMCwgX3V0aWxzLnRvRXJyb3IpKFwiUnVsZSBjb250YWlucyBpbnZhbGlkIHByZWRpY2F0ZXMgXCIgKyBpbnZhbGlkUHJlZGljYXRlcyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmllbGRzRnJvbVByZWRpY2F0ZXMocHJlZGljYXRlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHByZWRpY2F0ZSkpIHtcbiAgICByZXR1cm4gKDAsIF91dGlscy5mbGF0TWFwKShwcmVkaWNhdGUsIGZpZWxkc0Zyb21QcmVkaWNhdGVzKTtcbiAgfSBlbHNlIGlmICgoMCwgX3V0aWxzLmlzT2JqZWN0KShwcmVkaWNhdGUpKSB7XG4gICAgcmV0dXJuICgwLCBfdXRpbHMuZmxhdE1hcCkoT2JqZWN0LmtleXMocHJlZGljYXRlKSwgZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgcHJlZGljYXRlVmFsdWUgPSBwcmVkaWNhdGVbZmllbGRdO1xuICAgICAgcmV0dXJuIGZpZWxkc0Zyb21QcmVkaWNhdGVzKHByZWRpY2F0ZVZhbHVlKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJlZGljYXRlID09PSBcInN0cmluZ1wiICYmIHByZWRpY2F0ZS5zdGFydHNXaXRoKFwiJFwiKSkge1xuICAgIHJldHVybiBbcHJlZGljYXRlLnN1YnN0cigxKV07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpZWxkc0Zyb21Db25kaXRpb24oY29uZGl0aW9uKSB7XG4gIHJldHVybiAoMCwgX3V0aWxzLmZsYXRNYXApKE9iamVjdC5rZXlzKGNvbmRpdGlvbiksIGZ1bmN0aW9uIChyZWYpIHtcbiAgICB2YXIgcmVmQ29uZGl0aW9uID0gY29uZGl0aW9uW3JlZl07XG4gICAgaWYgKHJlZiA9PT0gX2NvbnN0YW50cy5PUiB8fCByZWYgPT09IF9jb25zdGFudHMuQU5EKSB7XG4gICAgICByZXR1cm4gKDAsIF91dGlscy5mbGF0TWFwKShyZWZDb25kaXRpb24sIGZpZWxkc0Zyb21Db25kaXRpb24pO1xuICAgIH0gZWxzZSBpZiAocmVmID09PSBfY29uc3RhbnRzLk5PVCkge1xuICAgICAgcmV0dXJuIGZpZWxkc0Zyb21Db25kaXRpb24ocmVmQ29uZGl0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFsoMCwgX3V0aWxzLm5vcm1SZWYpKHJlZildLmNvbmNhdChmaWVsZHNGcm9tUHJlZGljYXRlcyhyZWZDb25kaXRpb24pKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsaXN0QWxsRmllbGRzKGNvbmRpdGlvbnMpIHtcbiAgdmFyIGFsbEZpZWxkcyA9ICgwLCBfdXRpbHMuZmxhdE1hcCkoY29uZGl0aW9ucywgZmllbGRzRnJvbUNvbmRpdGlvbik7XG4gIHJldHVybiBhbGxGaWVsZHMuZmlsdGVyKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHJldHVybiBmaWVsZC5pbmRleE9mKFwiLlwiKSA9PT0gLTE7XG4gIH0pLmZpbHRlcihmdW5jdGlvbiAodiwgaSwgYSkge1xuICAgIHJldHVybiBhbGxGaWVsZHMuaW5kZXhPZih2KSA9PT0gaTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxpc3RJbnZhbGlkRmllbGRzKGNvbmRpdGlvbnMsIHNjaGVtYSkge1xuICB2YXIgYWxsRmllbGRzID0gbGlzdEFsbEZpZWxkcyhjb25kaXRpb25zKTtcbiAgcmV0dXJuIGFsbEZpZWxkcy5maWx0ZXIoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgcmV0dXJuIHNjaGVtYS5wcm9wZXJ0aWVzW2ZpZWxkXSA9PT0gdW5kZWZpbmVkO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVDb25kaXRpb25GaWVsZHMoY29uZGl0aW9ucywgc2NoZW1hKSB7XG4gIHZhciBpbnZhbGlkRmllbGRzID0gbGlzdEludmFsaWRGaWVsZHMoY29uZGl0aW9ucywgc2NoZW1hKTtcbiAgaWYgKGludmFsaWRGaWVsZHMubGVuZ3RoICE9PSAwKSB7XG4gICAgKDAsIF91dGlscy50b0Vycm9yKShcIlJ1bGUgY29udGFpbnMgaW52YWxpZCBmaWVsZHMgXCIgKyBpbnZhbGlkRmllbGRzKTtcbiAgfVxufSIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgeSA9IGQgKiAzNjUuMjU7XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAdGhyb3dzIHtFcnJvcn0gdGhyb3cgYW4gZXJyb3IgaWYgdmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ3xOdW1iZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09ICdudW1iZXInICYmIGlzTmFOKHZhbCkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigoPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIGlmIChtcyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtcyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICByZXR1cm4gcGx1cmFsKG1zLCBkLCAnZGF5JykgfHxcbiAgICBwbHVyYWwobXMsIGgsICdob3VyJykgfHxcbiAgICBwbHVyYWwobXMsIG0sICdtaW51dGUnKSB8fFxuICAgIHBsdXJhbChtcywgcywgJ3NlY29uZCcpIHx8XG4gICAgbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG4sIG5hbWUpIHtcbiAgaWYgKG1zIDwgbikge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobXMgPCBuICogMS41KSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobXMgLyBuKSArICcgJyArIG5hbWU7XG4gIH1cbiAgcmV0dXJuIE1hdGguY2VpbChtcyAvIG4pICsgJyAnICsgbmFtZSArICdzJztcbn1cbiIsIi8qXG5vYmplY3QtYXNzaWduXG4oYykgU2luZHJlIFNvcmh1c1xuQGxpY2Vuc2UgTUlUXG4qL1xuXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xudmFyIGdldE93blByb3BlcnR5U3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIHByb3BJc0VudW1lcmFibGUgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xuXG5mdW5jdGlvbiB0b09iamVjdCh2YWwpIHtcblx0aWYgKHZhbCA9PT0gbnVsbCB8fCB2YWwgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ09iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkJyk7XG5cdH1cblxuXHRyZXR1cm4gT2JqZWN0KHZhbCk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZFVzZU5hdGl2ZSgpIHtcblx0dHJ5IHtcblx0XHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBEZXRlY3QgYnVnZ3kgcHJvcGVydHkgZW51bWVyYXRpb24gb3JkZXIgaW4gb2xkZXIgVjggdmVyc2lvbnMuXG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD00MTE4XG5cdFx0dmFyIHRlc3QxID0gbmV3IFN0cmluZygnYWJjJyk7ICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy13cmFwcGVyc1xuXHRcdHRlc3QxWzVdID0gJ2RlJztcblx0XHRpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDEpWzBdID09PSAnNScpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0zMDU2XG5cdFx0dmFyIHRlc3QyID0ge307XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG5cdFx0XHR0ZXN0MlsnXycgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpXSA9IGk7XG5cdFx0fVxuXHRcdHZhciBvcmRlcjIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0ZXN0MikubWFwKGZ1bmN0aW9uIChuKSB7XG5cdFx0XHRyZXR1cm4gdGVzdDJbbl07XG5cdFx0fSk7XG5cdFx0aWYgKG9yZGVyMi5qb2luKCcnKSAhPT0gJzAxMjM0NTY3ODknKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MyA9IHt9O1xuXHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcuc3BsaXQoJycpLmZvckVhY2goZnVuY3Rpb24gKGxldHRlcikge1xuXHRcdFx0dGVzdDNbbGV0dGVyXSA9IGxldHRlcjtcblx0XHR9KTtcblx0XHRpZiAoT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgdGVzdDMpKS5qb2luKCcnKSAhPT1cblx0XHRcdFx0J2FiY2RlZmdoaWprbG1ub3BxcnN0Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHQvLyBXZSBkb24ndCBleHBlY3QgYW55IG9mIHRoZSBhYm92ZSB0byB0aHJvdywgYnV0IGJldHRlciB0byBiZSBzYWZlLlxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNob3VsZFVzZU5hdGl2ZSgpID8gT2JqZWN0LmFzc2lnbiA6IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuXHR2YXIgZnJvbTtcblx0dmFyIHRvID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHN5bWJvbHM7XG5cblx0Zm9yICh2YXIgcyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyBzKyspIHtcblx0XHRmcm9tID0gT2JqZWN0KGFyZ3VtZW50c1tzXSk7XG5cblx0XHRmb3IgKHZhciBrZXkgaW4gZnJvbSkge1xuXHRcdFx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoZnJvbSwga2V5KSkge1xuXHRcdFx0XHR0b1trZXldID0gZnJvbVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcblx0XHRcdHN5bWJvbHMgPSBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZnJvbSk7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN5bWJvbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUuY2FsbChmcm9tLCBzeW1ib2xzW2ldKSkge1xuXHRcdFx0XHRcdHRvW3N5bWJvbHNbaV1dID0gZnJvbVtzeW1ib2xzW2ldXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB0bztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi9saWIvdXRpbHMnKTtcbmNvbnN0IHByZWRpY2F0ZSA9IHt9O1xucHJlZGljYXRlLlZFUlNJT04gPSAnMS4wLjAnO1xuXG5bXG4gIHV0aWxzLFxuICByZXF1aXJlKCcuL2xpYi9wcmVkaWNhdGVzJyksXG4gIHJlcXVpcmUoJy4vbGliL2NoYWluJyksXG4gIHJlcXVpcmUoJy4vbGliL290aGVyJyksXG5dLnJlZHVjZSh1dGlscy5hc3NpZ24sIHByZWRpY2F0ZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcHJlZGljYXRlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwcmVkaWNhdGVzID0gcmVxdWlyZSgnLi9wcmVkaWNhdGVzJyk7XG5jb25zdCBwcmVkaWNhdGUgPSBtb2R1bGUuZXhwb3J0cztcblxuLy8gY2hhaW5pbmcgbWl4aW5cbmNsYXNzIExhenkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxhenkgPSBbXTtcbiAgfVxuXG4gIHZhbHVlT2YoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsKCk7XG4gIH1cblxuICB2YWwoKSB7XG4gICAgcmV0dXJuIHRoaXMubGF6eVt0aGlzLm1ldGhvZF0oZnVuY3Rpb24oYXJncykge1xuICAgICAgcmV0dXJuIGFyZ3NbMF0uYXBwbHkobnVsbCwgYXJnc1sxXSk7XG4gICAgfSk7XG4gIH1cbn1cblxuY2xhc3MgRXZlcnkgZXh0ZW5kcyBMYXp5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm1ldGhvZCA9ICdldmVyeSc7XG4gIH1cbn1cblxuY2xhc3MgU29tZSBleHRlbmRzIExhenkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubWV0aG9kID0gJ3NvbWUnO1xuICB9XG59XG5cbi8vIEV4dGVuZCBjaGFpbmluZyBtZXRob2RzIG9udG8gdGhlIHByb3RvdHlwZXNcbltFdmVyeSwgU29tZV0uZm9yRWFjaChmdW5jdGlvbihjbHMpIHtcbiAgT2JqZWN0LmtleXMocHJlZGljYXRlcykucmVkdWNlKGZ1bmN0aW9uKHByb3RvLCBmbk5hbWUpIHtcbiAgICBpZiAoIXByZWRpY2F0ZXMuZm4ocHJlZGljYXRlc1tmbk5hbWVdKSkgcmV0dXJuIHByb3RvO1xuXG4gICAgcHJvdG9bZm5OYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5sYXp5LnB1c2goW3ByZWRpY2F0ZXNbZm5OYW1lXSwgYXJndW1lbnRzXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgcmV0dXJuIHByb3RvO1xuICB9LCBjbHMucHJvdG90eXBlKTtcbn0pO1xuXG5wcmVkaWNhdGUuYWxsID0gcHJlZGljYXRlLmV2ZXJ5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgRXZlcnkoKTtcbn07XG5cbnByZWRpY2F0ZS5hbnkgPSBwcmVkaWNhdGUuc29tZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFNvbWUoKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHByZWRpY2F0ZXMgPSByZXF1aXJlKCcuL3ByZWRpY2F0ZXMnKTtcbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuY29uc3QgcHJlZGljYXRlID0gbW9kdWxlLmV4cG9ydHM7XG5cbnByZWRpY2F0ZS50ZXJuYXJ5ID0gZnVuY3Rpb24ocHJlZCwgYSwgYikge1xuICBpZiAocHJlZGljYXRlcy5ib29sKHByZWQpKSByZXR1cm4gcHJlZCA/IGEgOiBiO1xuICBpZiAocHJlZGljYXRlcy51bmRlZihhKSkgcmV0dXJuIHV0aWxzLnBhcnRpYWwocHJlZGljYXRlLnRlcm5hcnksIHByZWQpO1xuICBpZiAocHJlZGljYXRlcy51bmRlZihiKSkgcmV0dXJuIHV0aWxzLnBhcnRpYWwocHJlZGljYXRlLnRlcm5hcnksIHByZWQsIGEpO1xuICByZXR1cm4gcHJlZGljYXRlLnRlcm5hcnkocHJlZChhLCBiKSwgYSwgYik7XG59O1xuXG5jb25zdCBfZXZlcnkgPSBBcnJheS5wcm90b3R5cGUuZXZlcnk7XG5jb25zdCBfc29tZSA9IEFycmF5LnByb3RvdHlwZS5zb21lO1xuXG5wcmVkaWNhdGUuYW5kID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHByZWRpY2F0ZXMgPSBhcmd1bWVudHM7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIF9hbmQodmFsKSB7XG4gICAgcmV0dXJuIF9ldmVyeS5jYWxsKHByZWRpY2F0ZXMsIGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiBwKHZhbCk7XG4gICAgfSk7XG4gIH07XG59O1xuXG5wcmVkaWNhdGUub3IgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgcHJlZGljYXRlcyA9IGFyZ3VtZW50cztcblxuICByZXR1cm4gZnVuY3Rpb24gX29yKHZhbCkge1xuICAgIHJldHVybiBfc29tZS5jYWxsKHByZWRpY2F0ZXMsIGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiBwKHZhbCk7XG4gICAgfSk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbmNvbnN0IHByZWRpY2F0ZSA9IG1vZHVsZS5leHBvcnRzO1xuXG5jb25zdCBjdXJyeSA9IHV0aWxzLmN1cnJ5O1xuXG5pZiAoT2JqZWN0LmlzKSB7XG4gIHByZWRpY2F0ZS5pcyA9IGN1cnJ5KE9iamVjdC5pcyk7XG59IGVsc2Uge1xuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAgcHJlZGljYXRlLmlzID0gY3VycnkoZnVuY3Rpb24odjEsIHYyKSB7XG4gICAgaWYgKHYxID09PSAwICYmIHYyID09PSAwKSB7XG4gICAgICByZXR1cm4gMSAvIHYxID09PSAxIC8gdjI7XG4gICAgfVxuICAgIGlmICh2MSAhPT0gdjEpIHtcbiAgICAgIHJldHVybiB2MiAhPT0gdjI7XG4gICAgfVxuICAgIHJldHVybiB2MSA9PT0gdjI7XG4gIH0pO1xufVxuXG5wcmVkaWNhdGUuZXhpc3RzID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB2YWwgIT0gbnVsbDtcbn07XG5cbnByZWRpY2F0ZS50cnV0aHkgPSBmdW5jdGlvbih2YWwpIHtcbiAgLy8gY29lcmNlIGZvciBudWxsICE9IG51bGxcbiAgcmV0dXJuICEhKHZhbCAmJiBwcmVkaWNhdGUuZXhpc3RzKHZhbCkpO1xufTtcblxucHJlZGljYXRlLmZhbHNleSA9IHV0aWxzLmNvbXBsZW1lbnQocHJlZGljYXRlLnRydXRoeSk7XG5cbi8vLS0tLSB2YWx1ZSBjb21wYXJpc2lvbiBtZXRob2RzXG5cbnByZWRpY2F0ZS5lcXVhbCA9IGN1cnJ5KGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59KTtcblxucHJlZGljYXRlLmVxID0gY3VycnkoZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9PSBiO1xufSk7XG5cbnByZWRpY2F0ZS5udWxsID0gcHJlZGljYXRlLmVxdWFsKG51bGwpO1xucHJlZGljYXRlLnVuZGVmID0gcHJlZGljYXRlLmVxdWFsKHVuZGVmaW5lZCk7XG5cbnByZWRpY2F0ZS5sdCA9IHByZWRpY2F0ZS5sZXNzID0gY3VycnkoZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA8IGI7XG59KTtcblxucHJlZGljYXRlLmx0RXEgPSBwcmVkaWNhdGUubGUgPSBwcmVkaWNhdGUubGVzc0VxID0gY3VycnkoZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gcHJlZGljYXRlLmVxdWFsKGEsIGIpIHx8IHByZWRpY2F0ZS5sZXNzKGEsIGIpO1xufSk7XG5cbnByZWRpY2F0ZS5ndCA9IHByZWRpY2F0ZS5ncmVhdGVyID0gY3VycnkoZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA+IGI7XG59KTtcblxucHJlZGljYXRlLmd0RXEgPSBwcmVkaWNhdGUuZ2UgPSBwcmVkaWNhdGUuZ3JlYXRlckVxID0gY3VycnkoZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gcHJlZGljYXRlLmVxdWFsKGEsIGIpIHx8IHByZWRpY2F0ZS5ncmVhdGVyKGEsIGIpO1xufSk7XG5cbi8vIC0tLSBUeXBlIGNoZWNraW5nIHByZWRpY2F0ZXNcblxuLy8gRm9yY2VzIG9iamVjdHMgdG9TdHJpbmcgY2FsbGVkIHJldHVybmVkIGFzIFtvYmplY3QgT2JqZWN0XSBmb3IgaW5zdGFuY2VcbmNvbnN0IF9fdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgZXFUb1N0ciA9IGN1cnJ5KGZ1bmN0aW9uKHN0ciwgdmFsKSB7XG4gIHJldHVybiBwcmVkaWNhdGUuZXF1YWwoc3RyLCBfX3RvU3RyaW5nLmNhbGwodmFsKSk7XG59KTtcblxuLy8tLS0tIE9iamVjdCB0eXBlIGNoZWNrc1xuXG5wcmVkaWNhdGUub2JqZWN0ID0gcHJlZGljYXRlLm9iaiA9IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdmFsID09PSBPYmplY3QodmFsKTtcbn07XG5cbnByZWRpY2F0ZS5hcnJheSA9IHByZWRpY2F0ZS5hcnIgPSBBcnJheS5pc0FycmF5IHx8IGVxVG9TdHIoJ1tvYmplY3QgQXJyYXldJyk7XG5wcmVkaWNhdGUuZGF0ZSA9IGVxVG9TdHIoJ1tvYmplY3QgRGF0ZV0nKTtcbnByZWRpY2F0ZS5yZWdleCA9IHByZWRpY2F0ZS5yZWdleHAgPSBwcmVkaWNhdGUucmd4ID0gcHJlZGljYXRlLlJlZ0V4cCA9IGVxVG9TdHIoJ1tvYmplY3QgUmVnRXhwXScpO1xuXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9OdW1iZXIvaXNGaW5pdGVcbnByZWRpY2F0ZS5maW5pdGUgPSBOdW1iZXIuaXNGaW5pdGUgfHwgZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiBwcmVkaWNhdGUubnVtYmVyKHZhbCkgJiYgaXNGaW5pdGUodmFsKTtcbn07XG5cbnByZWRpY2F0ZS5uYW4gPSBwcmVkaWNhdGUuTmFOID0gcHJlZGljYXRlLmlzKE5hTik7XG5cbnByZWRpY2F0ZS5pbnN0YW5jZSA9IGN1cnJ5KGZ1bmN0aW9uKENscywgaW5zdCkge1xuICByZXR1cm4gaW5zdCBpbnN0YW5jZW9mIENscztcbn0pO1xuXG5wcmVkaWNhdGUuYXJndW1lbnRzID0gZXFUb1N0cignW29iamVjdCBBcmd1bWVudHNdJyk7XG5wcmVkaWNhdGUuZXJyb3IgPSBwcmVkaWNhdGUuaW5zdGFuY2UoRXJyb3IpO1xuXG4vLyBjcmVhdGVzIGZucyBmb3IgcHJlZGljYXRlLnN0cmluZywgZXRjXG5jb25zdCB0eXBlb2ZCdWlsZGVyID0gY3VycnkoZnVuY3Rpb24odHlwZSwgdmFsKSB7XG4gIHJldHVybiBwcmVkaWNhdGUuZXF1YWwodHlwZSwgdHlwZW9mIHZhbCk7XG59KTtcblxuLy8tLS0gQ3JlYXRlIHR5cGVvZiBtZXRob2RzXG5cbi8vIHR5cGUgb2Ygc3RyaW5nIGFuZCBhbGlhcyBuYW1lXG4vLyBwcmVkaWNhdGUuZm4sIHByZWRpY2F0ZS5udW0sIGV0Y1xuW1xuICBbJ2Z1bmN0aW9uJywgJ2ZuJ10sXG4gIFsnc3RyaW5nJywgJ3N0ciddLFxuICBbJ2Jvb2xlYW4nLCAnYm9vbCddXG5dLnJlZHVjZShmdW5jdGlvbihwcmVkaWNhdGUsIHR5cGUpIHtcbiAgcHJlZGljYXRlW3R5cGVbMF1dID0gcHJlZGljYXRlW3R5cGVbMV1dID0gdHlwZW9mQnVpbGRlcih0eXBlWzBdKTtcbiAgcmV0dXJuIHByZWRpY2F0ZTtcbn0sIHByZWRpY2F0ZSk7XG5cbnByZWRpY2F0ZS5udW1iZXIgPSBwcmVkaWNhdGUubnVtID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJyAmJiBwcmVkaWNhdGUubm90Lk5hTih2YWwpO1xufTtcblxucHJlZGljYXRlLmludCA9IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gcHJlZGljYXRlLm51bSh2YWwpICYmIHByZWRpY2F0ZS56ZXJvKHV0aWxzLm1vZCh2YWwsIDEpKTtcbn07XG5cbnByZWRpY2F0ZS5wb3MgPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHByZWRpY2F0ZS5udW0odmFsKSAmJiBwcmVkaWNhdGUuZ3JlYXRlcih2YWwsIDApO1xufTtcblxucHJlZGljYXRlLm5lZyA9IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gcHJlZGljYXRlLm51bSh2YWwpICYmIHByZWRpY2F0ZS5sZXNzKHZhbCwgMCk7XG59O1xuXG5wcmVkaWNhdGUuemVybyA9IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gcHJlZGljYXRlLm51bSh2YWwpICYmIHByZWRpY2F0ZS5lcXVhbCh2YWwsIDApO1xufTtcblxucHJlZGljYXRlLmV2ZW4gPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHByZWRpY2F0ZS5udW0odmFsKSAmJlxuICAgICAgICAgIHByZWRpY2F0ZS5ub3QuemVybyh2YWwpICYmXG4gICAgICAgICAgcHJlZGljYXRlLnplcm8odXRpbHMubW9kKHZhbCwgMikpO1xufTtcblxucHJlZGljYXRlLm9kZCA9IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gcHJlZGljYXRlLm51bSh2YWwpICYmXG4gICAgICAgICAgcHJlZGljYXRlLm5vdC56ZXJvKHZhbCkgJiZcbiAgICAgICAgICBwcmVkaWNhdGUubm90Lnplcm8odXRpbHMubW9kKHZhbCwgMikpO1xufTtcblxucHJlZGljYXRlLmNvbnRhaW5zID0gcHJlZGljYXRlLmluY2x1ZGVzID0gY3VycnkoZnVuY3Rpb24oYXJyT3JTdHJpbmcsIHZhbCkge1xuICBpZiAoIXByZWRpY2F0ZS5hcnJheShhcnJPclN0cmluZykgJiYgIXByZWRpY2F0ZS5zdHJpbmcoYXJyT3JTdHJpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYW4gYXJyYXkgb3Igc3RyaW5nJyk7XG4gIH1cblxuICBpZiAocHJlZGljYXRlLnN0cmluZyhhcnJPclN0cmluZykgJiYgIXByZWRpY2F0ZS5zdHJpbmcodmFsKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChwcmVkaWNhdGUuTmFOKHZhbCkpIHtcbiAgICByZXR1cm4gYXJyT3JTdHJpbmcuc29tZShwcmVkaWNhdGUuTmFOKTtcbiAgfVxuXG4gIHJldHVybiAhIX5hcnJPclN0cmluZy5pbmRleE9mKHZhbCk7XG59KTtcblxuY29uc3QgX19oYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xucHJlZGljYXRlLmhhcyA9IGN1cnJ5KGZ1bmN0aW9uKG8sIGtleSkge1xuICByZXR1cm4gX19oYXMuY2FsbChvLCBrZXkpO1xufSk7XG5cbnByZWRpY2F0ZS5lbXB0eSA9IGZ1bmN0aW9uKG8pIHtcbiAgaWYgKHByZWRpY2F0ZS5ub3QuZXhpc3RzKG8pKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKHByZWRpY2F0ZS5hcnIobykgfHwgcHJlZGljYXRlLnN0cihvKSkgcmV0dXJuICFvLmxlbmd0aDtcbiAgaWYgKHByZWRpY2F0ZS5vYmoobykpIHtcbiAgICBmb3IgKGxldCBrIGluIG8pIGlmIChwcmVkaWNhdGUuaGFzKG8sIGspKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xufTtcblxucHJlZGljYXRlLnByaW1pdGl2ZSA9IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gcHJlZGljYXRlLnN0cmluZyh2YWwpIHx8IHByZWRpY2F0ZS5udW0odmFsKSB8fCBwcmVkaWNhdGUuYm9vbCh2YWwpIHx8XG4gICAgcHJlZGljYXRlLm51bGwodmFsKSB8fCBwcmVkaWNhdGUudW5kZWYodmFsKSB8fCBwcmVkaWNhdGUuTmFOKHZhbCk7XG59O1xuXG5wcmVkaWNhdGUubWF0Y2hlcyA9IGN1cnJ5KGZ1bmN0aW9uKHJneCwgdmFsKSB7XG4gIHJldHVybiByZ3gudGVzdCh2YWwpO1xufSk7XG5cbi8vIEFzc2lnbiBpbnZlcnNlIG9mIGVhY2ggcHJlZGljYXRlXG5wcmVkaWNhdGUubm90ID0gT2JqZWN0LmtleXMocHJlZGljYXRlKS5yZWR1Y2UoZnVuY3Rpb24oYWNjLCBmbk5hbWUpIHtcbiAgYWNjW2ZuTmFtZV0gPSB1dGlscy5jb21wbGVtZW50KHByZWRpY2F0ZVtmbk5hbWVdKTtcbiAgcmV0dXJuIGFjYztcbn0sIHt9KTtcbiIsIid1c2Ugc3RyaWN0JztcbmNvbnN0IHByZWRpY2F0ZSA9IG1vZHVsZS5leHBvcnRzO1xuY29uc3QgX3NsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4vLyBVc2VmdWwgZm9yIGRlYnVnaW5nIGN1cnJpZWQgZnVuY3Rpb25zXG5jb25zdCBzZXRTcmMgPSBmdW5jdGlvbihjdXJyaWVkLCBzcmMpIHtcbiAgY3VycmllZC50b1N0cmluZyA9ICgpID0+IHNyYy50b1N0cmluZygpO1xuICBjdXJyaWVkLnNyYyA9IHNyYztcbiAgcmV0dXJuIGN1cnJpZWQ7XG59O1xuXG4vLyBDdXJyeSdzIGZuJ3Mgd2l0aCBhcml0eSAyXG5jb25zdCBjdXJyeSA9IHByZWRpY2F0ZS5jdXJyeSA9IGZ1bmN0aW9uKGYpIHtcbiAgcmV0dXJuIHNldFNyYyhmdW5jdGlvbiBjdXJyaWVkKGEsIGIpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogdGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24gY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzJyk7XG4gICAgICBjYXNlIDE6IHJldHVybiBzZXRTcmMoZnVuY3Rpb24oYikge1xuICAgICAgICByZXR1cm4gZihhLCBiKTtcbiAgICAgIH0sIGYpO1xuICAgIH1cblxuICAgIHJldHVybiBmKGEsIGIpO1xuICB9LCBmKTtcbn07XG5cbi8vIFRPRE86IGVzNmluZyB0aGlzIGJyZWFrcyFcbnByZWRpY2F0ZS5wYXJ0aWFsID0gZnVuY3Rpb24gKGZuKSB7XG4gIGNvbnN0IGFyZ3MgPSBfc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIGFyZ3MuY29uY2F0KF9zbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgfTtcbn07XG5cbnByZWRpY2F0ZS5jb21wbGVtZW50ID0gcHJlZGljYXRlLmludmVydCA9IGZ1bmN0aW9uKHByZWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCByZXQgPSBwcmVkLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgLy8gSGFuZGxlIGN1cnJpZWQgZm5zXG4gICAgaWYgKHR5cGVvZiByZXQgPT09ICdmdW5jdGlvbicpIHJldHVybiBwcmVkaWNhdGUuY29tcGxlbWVudChyZXQpO1xuICAgIHJldHVybiAhcmV0O1xuICB9O1xufTtcblxucHJlZGljYXRlLm1vZCA9IGN1cnJ5KGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgJSBiO1xufSk7XG5cbi8vIGFzc2lnbiBiJ3MgcHJvcHMgdG8gYVxucHJlZGljYXRlLmFzc2lnbiA9IGN1cnJ5KE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24oYSwgYikge1xuICAvLyB1c2UgY3J1bW15IGZvci9pbiBmb3IgcGVyZiBwdXJwb3Nlc1xuICBmb3IgKGxldCBwcm9wIGluIGIpIHtcbiAgICBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgYVtwcm9wXSA9IGJbcHJvcF07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGE7XG59KTtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG4gIHZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbiAgdmFyIGhhcyA9IEZ1bmN0aW9uLmNhbGwuYmluZChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KTtcblxuICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIHRleHQ7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcbn1cblxuLyoqXG4gKiBBc3NlcnQgdGhhdCB0aGUgdmFsdWVzIG1hdGNoIHdpdGggdGhlIHR5cGUgc3BlY3MuXG4gKiBFcnJvciBtZXNzYWdlcyBhcmUgbWVtb3JpemVkIGFuZCB3aWxsIG9ubHkgYmUgc2hvd24gb25jZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdHlwZVNwZWNzIE1hcCBvZiBuYW1lIHRvIGEgUmVhY3RQcm9wVHlwZVxuICogQHBhcmFtIHtvYmplY3R9IHZhbHVlcyBSdW50aW1lIHZhbHVlcyB0aGF0IG5lZWQgdG8gYmUgdHlwZS1jaGVja2VkXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb24gZS5nLiBcInByb3BcIiwgXCJjb250ZXh0XCIsIFwiY2hpbGQgY29udGV4dFwiXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50TmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICogQHBhcmFtIHs/RnVuY3Rpb259IGdldFN0YWNrIFJldHVybnMgdGhlIGNvbXBvbmVudCBzdGFjay5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKHR5cGVTcGVjcywgdmFsdWVzLCBsb2NhdGlvbiwgY29tcG9uZW50TmFtZSwgZ2V0U3RhY2spIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBmb3IgKHZhciB0eXBlU3BlY05hbWUgaW4gdHlwZVNwZWNzKSB7XG4gICAgICBpZiAoaGFzKHR5cGVTcGVjcywgdHlwZVNwZWNOYW1lKSkge1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIC8vIFByb3AgdHlwZSB2YWxpZGF0aW9uIG1heSB0aHJvdy4gSW4gY2FzZSB0aGV5IGRvLCB3ZSBkb24ndCB3YW50IHRvXG4gICAgICAgIC8vIGZhaWwgdGhlIHJlbmRlciBwaGFzZSB3aGVyZSBpdCBkaWRuJ3QgZmFpbCBiZWZvcmUuIFNvIHdlIGxvZyBpdC5cbiAgICAgICAgLy8gQWZ0ZXIgdGhlc2UgaGF2ZSBiZWVuIGNsZWFuZWQgdXAsIHdlJ2xsIGxldCB0aGVtIHRocm93LlxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxuICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cbiAgICAgICAgICBpZiAodHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gRXJyb3IoXG4gICAgICAgICAgICAgIChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogJyArIGxvY2F0aW9uICsgJyB0eXBlIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgJyArXG4gICAgICAgICAgICAgICdpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJyArIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSArICdgLidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXJyb3IgPSB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSh2YWx1ZXMsIHR5cGVTcGVjTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIG51bGwsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciA9IGV4O1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciAmJiAhKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgICAgICAgcHJpbnRXYXJuaW5nKFxuICAgICAgICAgICAgKGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJykgKyAnOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJyArXG4gICAgICAgICAgICBsb2NhdGlvbiArICcgYCcgKyB0eXBlU3BlY05hbWUgKyAnYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgK1xuICAgICAgICAgICAgJ2Z1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICcgKyB0eXBlb2YgZXJyb3IgKyAnLiAnICtcbiAgICAgICAgICAgICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICtcbiAgICAgICAgICAgICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgK1xuICAgICAgICAgICAgJ3NoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuICAgICAgICAgIC8vIE9ubHkgbW9uaXRvciB0aGlzIGZhaWx1cmUgb25jZSBiZWNhdXNlIHRoZXJlIHRlbmRzIHRvIGJlIGEgbG90IG9mIHRoZVxuICAgICAgICAgIC8vIHNhbWUgZXJyb3IuXG4gICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcblxuICAgICAgICAgIHZhciBzdGFjayA9IGdldFN0YWNrID8gZ2V0U3RhY2soKSA6ICcnO1xuXG4gICAgICAgICAgcHJpbnRXYXJuaW5nKFxuICAgICAgICAgICAgJ0ZhaWxlZCAnICsgbG9jYXRpb24gKyAnIHR5cGU6ICcgKyBlcnJvci5tZXNzYWdlICsgKHN0YWNrICE9IG51bGwgPyBzdGFjayA6ICcnKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXNldHMgd2FybmluZyBjYWNoZSB3aGVuIHRlc3RpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuY2hlY2tQcm9wVHlwZXMucmVzZXRXYXJuaW5nQ2FjaGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNoZWNrUHJvcFR5cGVzO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcbnZhciBhc3NpZ24gPSByZXF1aXJlKCdvYmplY3QtYXNzaWduJyk7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG52YXIgY2hlY2tQcm9wVHlwZXMgPSByZXF1aXJlKCcuL2NoZWNrUHJvcFR5cGVzJyk7XG5cbnZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG52YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyB0ZXh0O1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGwoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG4gIC8qIGdsb2JhbCBTeW1ib2wgKi9cbiAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaXRlcmF0b3IgbWV0aG9kIGZ1bmN0aW9uIGNvbnRhaW5lZCBvbiB0aGUgaXRlcmFibGUgb2JqZWN0LlxuICAgKlxuICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcbiAgICpcbiAgICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAqICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChteUl0ZXJhYmxlKTtcbiAgICogICAgICAgLi4uXG4gICAqICAgICB9XG4gICAqXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XG4gICAqL1xuICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyB0aGF0IGFsbG93IGRlY2xhcmF0aW9uIGFuZCB2YWxpZGF0aW9uIG9mIHByb3BzIHRoYXQgYXJlXG4gICAqIHN1cHBsaWVkIHRvIFJlYWN0IGNvbXBvbmVudHMuIEV4YW1wbGUgdXNhZ2U6XG4gICAqXG4gICAqICAgdmFyIFByb3BzID0gcmVxdWlyZSgnUmVhY3RQcm9wVHlwZXMnKTtcbiAgICogICB2YXIgTXlBcnRpY2xlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICAgcHJvcFR5cGVzOiB7XG4gICAqICAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBwcm9wIG5hbWVkIFwiZGVzY3JpcHRpb25cIi5cbiAgICogICAgICAgZGVzY3JpcHRpb246IFByb3BzLnN0cmluZyxcbiAgICpcbiAgICogICAgICAgLy8gQSByZXF1aXJlZCBlbnVtIHByb3AgbmFtZWQgXCJjYXRlZ29yeVwiLlxuICAgKiAgICAgICBjYXRlZ29yeTogUHJvcHMub25lT2YoWydOZXdzJywnUGhvdG9zJ10pLmlzUmVxdWlyZWQsXG4gICAqXG4gICAqICAgICAgIC8vIEEgcHJvcCBuYW1lZCBcImRpYWxvZ1wiIHRoYXQgcmVxdWlyZXMgYW4gaW5zdGFuY2Ugb2YgRGlhbG9nLlxuICAgKiAgICAgICBkaWFsb2c6IFByb3BzLmluc3RhbmNlT2YoRGlhbG9nKS5pc1JlcXVpcmVkXG4gICAqICAgICB9LFxuICAgKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHsgLi4uIH1cbiAgICogICB9KTtcbiAgICpcbiAgICogQSBtb3JlIGZvcm1hbCBzcGVjaWZpY2F0aW9uIG9mIGhvdyB0aGVzZSBtZXRob2RzIGFyZSB1c2VkOlxuICAgKlxuICAgKiAgIHR5cGUgOj0gYXJyYXl8Ym9vbHxmdW5jfG9iamVjdHxudW1iZXJ8c3RyaW5nfG9uZU9mKFsuLi5dKXxpbnN0YW5jZU9mKC4uLilcbiAgICogICBkZWNsIDo9IFJlYWN0UHJvcFR5cGVzLnt0eXBlfSguaXNSZXF1aXJlZCk/XG4gICAqXG4gICAqIEVhY2ggYW5kIGV2ZXJ5IGRlY2xhcmF0aW9uIHByb2R1Y2VzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBzaWduYXR1cmUuIFRoaXNcbiAgICogYWxsb3dzIHRoZSBjcmVhdGlvbiBvZiBjdXN0b20gdmFsaWRhdGlvbiBmdW5jdGlvbnMuIEZvciBleGFtcGxlOlxuICAgKlxuICAgKiAgdmFyIE15TGluayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICogICAgcHJvcFR5cGVzOiB7XG4gICAqICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIG9yIFVSSSBwcm9wIG5hbWVkIFwiaHJlZlwiLlxuICAgKiAgICAgIGhyZWY6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgKiAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICogICAgICAgIGlmIChwcm9wVmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgcHJvcFZhbHVlICE9PSAnc3RyaW5nJyAmJlxuICAgKiAgICAgICAgICAgICEocHJvcFZhbHVlIGluc3RhbmNlb2YgVVJJKSkge1xuICAgKiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgKiAgICAgICAgICAgICdFeHBlY3RlZCBhIHN0cmluZyBvciBhbiBVUkkgZm9yICcgKyBwcm9wTmFtZSArICcgaW4gJyArXG4gICAqICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgKiAgICAgICAgICApO1xuICAgKiAgICAgICAgfVxuICAgKiAgICAgIH1cbiAgICogICAgfSxcbiAgICogICAgcmVuZGVyOiBmdW5jdGlvbigpIHsuLi59XG4gICAqICB9KTtcbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuXG4gIHZhciBBTk9OWU1PVVMgPSAnPDxhbm9ueW1vdXM+Pic7XG5cbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2FycmF5JyksXG4gICAgYm9vbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Jvb2xlYW4nKSxcbiAgICBmdW5jOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignZnVuY3Rpb24nKSxcbiAgICBudW1iZXI6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdudW1iZXInKSxcbiAgICBvYmplY3Q6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdvYmplY3QnKSxcbiAgICBzdHJpbmc6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzdHJpbmcnKSxcbiAgICBzeW1ib2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzeW1ib2wnKSxcblxuICAgIGFueTogY3JlYXRlQW55VHlwZUNoZWNrZXIoKSxcbiAgICBhcnJheU9mOiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIsXG4gICAgZWxlbWVudDogY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCksXG4gICAgZWxlbWVudFR5cGU6IGNyZWF0ZUVsZW1lbnRUeXBlVHlwZUNoZWNrZXIoKSxcbiAgICBpbnN0YW5jZU9mOiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyLFxuICAgIG5vZGU6IGNyZWF0ZU5vZGVDaGVja2VyKCksXG4gICAgb2JqZWN0T2Y6IGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIsXG4gICAgb25lT2Y6IGNyZWF0ZUVudW1UeXBlQ2hlY2tlcixcbiAgICBvbmVPZlR5cGU6IGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIsXG4gICAgc2hhcGU6IGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIsXG4gICAgZXhhY3Q6IGNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXIsXG4gIH07XG5cbiAgLyoqXG4gICAqIGlubGluZWQgT2JqZWN0LmlzIHBvbHlmaWxsIHRvIGF2b2lkIHJlcXVpcmluZyBjb25zdW1lcnMgc2hpcCB0aGVpciBvd25cbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gICAqL1xuICAvKmVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSovXG4gIGZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgICAvLyBTYW1lVmFsdWUgYWxnb3JpdGhtXG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgIC8vIFN0ZXBzIDEtNSwgNy0xMFxuICAgICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAgIHJldHVybiB4ICE9PSAwIHx8IDEgLyB4ID09PSAxIC8geTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU3RlcCA2LmE6IE5hTiA9PSBOYU5cbiAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxuICB9XG4gIC8qZXNsaW50LWVuYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuXG4gIC8qKlxuICAgKiBXZSB1c2UgYW4gRXJyb3ItbGlrZSBvYmplY3QgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgYXMgcGVvcGxlIG1heSBjYWxsXG4gICAqIFByb3BUeXBlcyBkaXJlY3RseSBhbmQgaW5zcGVjdCB0aGVpciBvdXRwdXQuIEhvd2V2ZXIsIHdlIGRvbid0IHVzZSByZWFsXG4gICAqIEVycm9ycyBhbnltb3JlLiBXZSBkb24ndCBpbnNwZWN0IHRoZWlyIHN0YWNrIGFueXdheSwgYW5kIGNyZWF0aW5nIHRoZW1cbiAgICogaXMgcHJvaGliaXRpdmVseSBleHBlbnNpdmUgaWYgdGhleSBhcmUgY3JlYXRlZCB0b28gb2Z0ZW4sIHN1Y2ggYXMgd2hhdFxuICAgKiBoYXBwZW5zIGluIG9uZU9mVHlwZSgpIGZvciBhbnkgdHlwZSBiZWZvcmUgdGhlIG9uZSB0aGF0IG1hdGNoZWQuXG4gICAqL1xuICBmdW5jdGlvbiBQcm9wVHlwZUVycm9yKG1lc3NhZ2UpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuc3RhY2sgPSAnJztcbiAgfVxuICAvLyBNYWtlIGBpbnN0YW5jZW9mIEVycm9yYCBzdGlsbCB3b3JrIGZvciByZXR1cm5lZCBlcnJvcnMuXG4gIFByb3BUeXBlRXJyb3IucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZSA9IHt9O1xuICAgICAgdmFyIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50ID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICBwcm9wRnVsbE5hbWUgPSBwcm9wRnVsbE5hbWUgfHwgcHJvcE5hbWU7XG5cbiAgICAgIGlmIChzZWNyZXQgIT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAgIGlmICh0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG4gICAgICAgICAgLy8gTmV3IGJlaGF2aW9yIG9ubHkgZm9yIHVzZXJzIG9mIGBwcm9wLXR5cGVzYCBwYWNrYWdlXG4gICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICAgICAgICdVc2UgYFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpYCB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAvLyBPbGQgYmVoYXZpb3IgZm9yIHBlb3BsZSB1c2luZyBSZWFjdC5Qcm9wVHlwZXNcbiAgICAgICAgICB2YXIgY2FjaGVLZXkgPSBjb21wb25lbnROYW1lICsgJzonICsgcHJvcE5hbWU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIW1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSAmJlxuICAgICAgICAgICAgLy8gQXZvaWQgc3BhbW1pbmcgdGhlIGNvbnNvbGUgYmVjYXVzZSB0aGV5IGFyZSBvZnRlbiBub3QgYWN0aW9uYWJsZSBleGNlcHQgZm9yIGxpYiBhdXRob3JzXG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA8IDNcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICAgJ1lvdSBhcmUgbWFudWFsbHkgY2FsbGluZyBhIFJlYWN0LlByb3BUeXBlcyB2YWxpZGF0aW9uICcgK1xuICAgICAgICAgICAgICAnZnVuY3Rpb24gZm9yIHRoZSBgJyArIHByb3BGdWxsTmFtZSArICdgIHByb3Agb24gYCcgKyBjb21wb25lbnROYW1lICArICdgLiBUaGlzIGlzIGRlcHJlY2F0ZWQgJyArXG4gICAgICAgICAgICAgICdhbmQgd2lsbCB0aHJvdyBpbiB0aGUgc3RhbmRhbG9uZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAgICAgICAgICdZb3UgbWF5IGJlIHNlZWluZyB0aGlzIHdhcm5pbmcgZHVlIHRvIGEgdGhpcmQtcGFydHkgUHJvcFR5cGVzICcgK1xuICAgICAgICAgICAgICAnbGlicmFyeS4gU2VlIGh0dHBzOi8vZmIubWUvcmVhY3Qtd2FybmluZy1kb250LWNhbGwtcHJvcHR5cGVzICcgKyAnZm9yIGRldGFpbHMuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSA9IHRydWU7XG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChpc1JlcXVpcmVkKSB7XG4gICAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCAnICsgKCdpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgbnVsbGAuJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkIGluICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGB1bmRlZmluZWRgLicpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBjaGFpbmVkQ2hlY2tUeXBlID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgZmFsc2UpO1xuICAgIGNoYWluZWRDaGVja1R5cGUuaXNSZXF1aXJlZCA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIHRydWUpO1xuXG4gICAgcmV0dXJuIGNoYWluZWRDaGVja1R5cGU7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcihleHBlY3RlZFR5cGUpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICAvLyBgcHJvcFZhbHVlYCBiZWluZyBpbnN0YW5jZSBvZiwgc2F5LCBkYXRlL3JlZ2V4cCwgcGFzcyB0aGUgJ29iamVjdCdcbiAgICAgICAgLy8gY2hlY2ssIGJ1dCB3ZSBjYW4gb2ZmZXIgYSBtb3JlIHByZWNpc2UgZXJyb3IgbWVzc2FnZSBoZXJlIHJhdGhlciB0aGFuXG4gICAgICAgIC8vICdvZiB0eXBlIGBvYmplY3RgJy5cbiAgICAgICAgdmFyIHByZWNpc2VUeXBlID0gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcmVjaXNlVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnYCcgKyBleHBlY3RlZFR5cGUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFueVR5cGVDaGVja2VyKCkge1xuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcihlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFycmF5T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBhcnJheU9mLicpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIGFycmF5LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwgaSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICdbJyArIGkgKyAnXScsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZVR5cGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGlmICghUmVhY3RJcy5pc1ZhbGlkRWxlbWVudFR5cGUocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIHNpbmdsZSBSZWFjdEVsZW1lbnQgdHlwZS4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlVHlwZUNoZWNrZXIoZXhwZWN0ZWRDbGFzcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCEocHJvcHNbcHJvcE5hbWVdIGluc3RhbmNlb2YgZXhwZWN0ZWRDbGFzcykpIHtcbiAgICAgICAgdmFyIGV4cGVjdGVkQ2xhc3NOYW1lID0gZXhwZWN0ZWRDbGFzcy5uYW1lIHx8IEFOT05ZTU9VUztcbiAgICAgICAgdmFyIGFjdHVhbENsYXNzTmFtZSA9IGdldENsYXNzTmFtZShwcm9wc1twcm9wTmFtZV0pO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBhY3R1YWxDbGFzc05hbWUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2luc3RhbmNlIG9mIGAnICsgZXhwZWN0ZWRDbGFzc05hbWUgKyAnYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVudW1UeXBlQ2hlY2tlcihleHBlY3RlZFZhbHVlcykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFZhbHVlcykpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50cyBzdXBwbGllZCB0byBvbmVPZiwgZXhwZWN0ZWQgYW4gYXJyYXksIGdvdCAnICsgYXJndW1lbnRzLmxlbmd0aCArICcgYXJndW1lbnRzLiAnICtcbiAgICAgICAgICAgICdBIGNvbW1vbiBtaXN0YWtlIGlzIHRvIHdyaXRlIG9uZU9mKHgsIHksIHopIGluc3RlYWQgb2Ygb25lT2YoW3gsIHksIHpdKS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGFycmF5LicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpcyhwcm9wVmFsdWUsIGV4cGVjdGVkVmFsdWVzW2ldKSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcywgZnVuY3Rpb24gcmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgdHlwZSA9IGdldFByZWNpc2VUeXBlKHZhbHVlKTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgU3RyaW5nKHByb3BWYWx1ZSkgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgb25lIG9mICcgKyB2YWx1ZXNTdHJpbmcgKyAnLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU9iamVjdE9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgb2JqZWN0T2YuJyk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gb2JqZWN0LicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wVmFsdWUpIHtcbiAgICAgICAgaWYgKGhhcyhwcm9wVmFsdWUsIGtleSkpIHtcbiAgICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVVuaW9uVHlwZUNoZWNrZXIoYXJyYXlPZlR5cGVDaGVja2Vycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheU9mVHlwZUNoZWNrZXJzKSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUsIGV4cGVjdGVkIGFuIGluc3RhbmNlIG9mIGFycmF5LicpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICBpZiAodHlwZW9mIGNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJpbnRXYXJuaW5nKFxuICAgICAgICAgICdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZS4gRXhwZWN0ZWQgYW4gYXJyYXkgb2YgY2hlY2sgZnVuY3Rpb25zLCBidXQgJyArXG4gICAgICAgICAgJ3JlY2VpdmVkICcgKyBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcoY2hlY2tlcikgKyAnIGF0IGluZGV4ICcgKyBpICsgJy4nXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcbiAgICAgICAgaWYgKGNoZWNrZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBSZWFjdFByb3BUeXBlc1NlY3JldCkgPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJykpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIWlzTm9kZShwcm9wc1twcm9wTmFtZV0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNoYXBlVHlwZXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVN0cmljdFNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcbiAgICAgIH1cbiAgICAgIC8vIFdlIG5lZWQgdG8gY2hlY2sgYWxsIGtleXMgaW4gY2FzZSBzb21lIGFyZSByZXF1aXJlZCBidXQgbWlzc2luZyBmcm9tXG4gICAgICAvLyBwcm9wcy5cbiAgICAgIHZhciBhbGxLZXlzID0gYXNzaWduKHt9LCBwcm9wc1twcm9wTmFtZV0sIHNoYXBlVHlwZXMpO1xuICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICAgIGlmICghY2hlY2tlcikge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcbiAgICAgICAgICAgICdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBrZXkgYCcgKyBrZXkgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nICtcbiAgICAgICAgICAgICdcXG5CYWQgb2JqZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkocHJvcHNbcHJvcE5hbWVdLCBudWxsLCAnICAnKSArXG4gICAgICAgICAgICAnXFxuVmFsaWQga2V5czogJyArICBKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhzaGFwZVR5cGVzKSwgbnVsbCwgJyAgJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvciA9IGNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNOb2RlKHByb3BWYWx1ZSkge1xuICAgIHN3aXRjaCAodHlwZW9mIHByb3BWYWx1ZSkge1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gIXByb3BWYWx1ZTtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcFZhbHVlLmV2ZXJ5KGlzTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BWYWx1ZSA9PT0gbnVsbCB8fCBpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4ocHJvcFZhbHVlKTtcbiAgICAgICAgaWYgKGl0ZXJhdG9yRm4pIHtcbiAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwocHJvcFZhbHVlKTtcbiAgICAgICAgICB2YXIgc3RlcDtcbiAgICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gcHJvcFZhbHVlLmVudHJpZXMpIHtcbiAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgaWYgKCFpc05vZGUoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSXRlcmF0b3Igd2lsbCBwcm92aWRlIGVudHJ5IFtrLHZdIHR1cGxlcyByYXRoZXIgdGhhbiB2YWx1ZXMuXG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNOb2RlKGVudHJ5WzFdKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSB7XG4gICAgLy8gTmF0aXZlIFN5bWJvbC5cbiAgICBpZiAocHJvcFR5cGUgPT09ICdzeW1ib2wnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBmYWxzeSB2YWx1ZSBjYW4ndCBiZSBhIFN5bWJvbFxuICAgIGlmICghcHJvcFZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXSA9PT0gJ1N5bWJvbCdcbiAgICBpZiAocHJvcFZhbHVlWydAQHRvU3RyaW5nVGFnJ10gPT09ICdTeW1ib2wnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBGYWxsYmFjayBmb3Igbm9uLXNwZWMgY29tcGxpYW50IFN5bWJvbHMgd2hpY2ggYXJlIHBvbHlmaWxsZWQuXG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgcHJvcFZhbHVlIGluc3RhbmNlb2YgU3ltYm9sKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBFcXVpdmFsZW50IG9mIGB0eXBlb2ZgIGJ1dCB3aXRoIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGFycmF5IGFuZCByZWdleHAuXG4gIGZ1bmN0aW9uIGdldFByb3BUeXBlKHByb3BWYWx1ZSkge1xuICAgIHZhciBwcm9wVHlwZSA9IHR5cGVvZiBwcm9wVmFsdWU7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuICdhcnJheSc7XG4gICAgfVxuICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIC8vIE9sZCB3ZWJraXRzIChhdCBsZWFzdCB1bnRpbCBBbmRyb2lkIDQuMCkgcmV0dXJuICdmdW5jdGlvbicgcmF0aGVyIHRoYW5cbiAgICAgIC8vICdvYmplY3QnIGZvciB0eXBlb2YgYSBSZWdFeHAuIFdlJ2xsIG5vcm1hbGl6ZSB0aGlzIGhlcmUgc28gdGhhdCAvYmxhL1xuICAgICAgLy8gcGFzc2VzIFByb3BUeXBlcy5vYmplY3QuXG4gICAgICByZXR1cm4gJ29iamVjdCc7XG4gICAgfVxuICAgIGlmIChpc1N5bWJvbChwcm9wVHlwZSwgcHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuICdzeW1ib2wnO1xuICAgIH1cbiAgICByZXR1cm4gcHJvcFR5cGU7XG4gIH1cblxuICAvLyBUaGlzIGhhbmRsZXMgbW9yZSB0eXBlcyB0aGFuIGBnZXRQcm9wVHlwZWAuIE9ubHkgdXNlZCBmb3IgZXJyb3IgbWVzc2FnZXMuXG4gIC8vIFNlZSBgY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXJgLlxuICBmdW5jdGlvbiBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgcHJvcFZhbHVlID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gJycgKyBwcm9wVmFsdWU7XG4gICAgfVxuICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgaWYgKHByb3BUeXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuICdkYXRlJztcbiAgICAgIH0gZWxzZSBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIHJldHVybiAncmVnZXhwJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG5cbiAgLy8gUmV0dXJucyBhIHN0cmluZyB0aGF0IGlzIHBvc3RmaXhlZCB0byBhIHdhcm5pbmcgYWJvdXQgYW4gaW52YWxpZCB0eXBlLlxuICAvLyBGb3IgZXhhbXBsZSwgXCJ1bmRlZmluZWRcIiBvciBcIm9mIHR5cGUgYXJyYXlcIlxuICBmdW5jdGlvbiBnZXRQb3N0Zml4Rm9yVHlwZVdhcm5pbmcodmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IGdldFByZWNpc2VUeXBlKHZhbHVlKTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHJldHVybiAnYW4gJyArIHR5cGU7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgY2FzZSAncmVnZXhwJzpcbiAgICAgICAgcmV0dXJuICdhICcgKyB0eXBlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICB9XG5cbiAgLy8gUmV0dXJucyBjbGFzcyBuYW1lIG9mIHRoZSBvYmplY3QsIGlmIGFueS5cbiAgZnVuY3Rpb24gZ2V0Q2xhc3NOYW1lKHByb3BWYWx1ZSkge1xuICAgIGlmICghcHJvcFZhbHVlLmNvbnN0cnVjdG9yIHx8ICFwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZSkge1xuICAgICAgcmV0dXJuIEFOT05ZTU9VUztcbiAgICB9XG4gICAgcmV0dXJuIHByb3BWYWx1ZS5jb25zdHJ1Y3Rvci5uYW1lO1xuICB9XG5cbiAgUmVhY3RQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMgPSBjaGVja1Byb3BUeXBlcztcbiAgUmVhY3RQcm9wVHlwZXMucmVzZXRXYXJuaW5nQ2FjaGUgPSBjaGVja1Byb3BUeXBlcy5yZXNldFdhcm5pbmdDYWNoZTtcbiAgUmVhY3RQcm9wVHlwZXMuUHJvcFR5cGVzID0gUmVhY3RQcm9wVHlwZXM7XG5cbiAgcmV0dXJuIFJlYWN0UHJvcFR5cGVzO1xufTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJlYWN0SXMgPSByZXF1aXJlKCdyZWFjdC1pcycpO1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoUmVhY3RJcy5pc0VsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0UHJvcFR5cGVzU2VjcmV0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZGlzY291bnRfbG9kYXNoXzEgPSByZXF1aXJlKFwiLi91dGlscy9kaXNjb3VudF9sb2Rhc2hcIik7XG5leHBvcnRzLmlzRmlyZWZveCA9IGRpc2NvdW50X2xvZGFzaF8xLm1lbW9pemUoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAvZmlyZWZveC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59KTtcbmV4cG9ydHMuaXNTYWZhcmkgPSBkaXNjb3VudF9sb2Rhc2hfMS5tZW1vaXplKGZ1bmN0aW9uICgpIHsgcmV0dXJuIEJvb2xlYW4od2luZG93LnNhZmFyaSk7IH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZGlzY291bnRfbG9kYXNoXzEgPSByZXF1aXJlKFwiLi91dGlscy9kaXNjb3VudF9sb2Rhc2hcIik7XG52YXIgRW50ZXJMZWF2ZUNvdW50ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRW50ZXJMZWF2ZUNvdW50ZXIoaXNOb2RlSW5Eb2N1bWVudCkge1xuICAgICAgICB0aGlzLmVudGVyZWQgPSBbXTtcbiAgICAgICAgdGhpcy5pc05vZGVJbkRvY3VtZW50ID0gaXNOb2RlSW5Eb2N1bWVudDtcbiAgICB9XG4gICAgRW50ZXJMZWF2ZUNvdW50ZXIucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24gKGVudGVyaW5nTm9kZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcHJldmlvdXNMZW5ndGggPSB0aGlzLmVudGVyZWQubGVuZ3RoO1xuICAgICAgICB2YXIgaXNOb2RlRW50ZXJlZCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuaXNOb2RlSW5Eb2N1bWVudChub2RlKSAmJlxuICAgICAgICAgICAgICAgICghbm9kZS5jb250YWlucyB8fCBub2RlLmNvbnRhaW5zKGVudGVyaW5nTm9kZSkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVudGVyZWQgPSBkaXNjb3VudF9sb2Rhc2hfMS51bmlvbih0aGlzLmVudGVyZWQuZmlsdGVyKGlzTm9kZUVudGVyZWQpLCBbZW50ZXJpbmdOb2RlXSk7XG4gICAgICAgIHJldHVybiBwcmV2aW91c0xlbmd0aCA9PT0gMCAmJiB0aGlzLmVudGVyZWQubGVuZ3RoID4gMDtcbiAgICB9O1xuICAgIEVudGVyTGVhdmVDb3VudGVyLnByb3RvdHlwZS5sZWF2ZSA9IGZ1bmN0aW9uIChsZWF2aW5nTm9kZSkge1xuICAgICAgICB2YXIgcHJldmlvdXNMZW5ndGggPSB0aGlzLmVudGVyZWQubGVuZ3RoO1xuICAgICAgICB0aGlzLmVudGVyZWQgPSBkaXNjb3VudF9sb2Rhc2hfMS53aXRob3V0KHRoaXMuZW50ZXJlZC5maWx0ZXIodGhpcy5pc05vZGVJbkRvY3VtZW50KSwgbGVhdmluZ05vZGUpO1xuICAgICAgICByZXR1cm4gcHJldmlvdXNMZW5ndGggPiAwICYmIHRoaXMuZW50ZXJlZC5sZW5ndGggPT09IDA7XG4gICAgfTtcbiAgICBFbnRlckxlYXZlQ291bnRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW50ZXJlZCA9IFtdO1xuICAgIH07XG4gICAgcmV0dXJuIEVudGVyTGVhdmVDb3VudGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEVudGVyTGVhdmVDb3VudGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEVudGVyTGVhdmVDb3VudGVyXzEgPSByZXF1aXJlKFwiLi9FbnRlckxlYXZlQ291bnRlclwiKTtcbnZhciBCcm93c2VyRGV0ZWN0b3JfMSA9IHJlcXVpcmUoXCIuL0Jyb3dzZXJEZXRlY3RvclwiKTtcbnZhciBPZmZzZXRVdGlsc18xID0gcmVxdWlyZShcIi4vT2Zmc2V0VXRpbHNcIik7XG52YXIgTmF0aXZlRHJhZ1NvdXJjZXNfMSA9IHJlcXVpcmUoXCIuL05hdGl2ZURyYWdTb3VyY2VzXCIpO1xudmFyIE5hdGl2ZVR5cGVzID0gcmVxdWlyZShcIi4vTmF0aXZlVHlwZXNcIik7XG52YXIgSFRNTDVCYWNrZW5kID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhUTUw1QmFja2VuZChtYW5hZ2VyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc291cmNlUHJldmlld05vZGVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLnNvdXJjZVByZXZpZXdOb2RlT3B0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5zb3VyY2VOb2RlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5zb3VyY2VOb2RlT3B0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5kcmFnU3RhcnRTb3VyY2VJZHMgPSBudWxsO1xuICAgICAgICB0aGlzLmRyb3BUYXJnZXRJZHMgPSBbXTtcbiAgICAgICAgdGhpcy5kcmFnRW50ZXJUYXJnZXRJZHMgPSBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50TmF0aXZlU291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50TmF0aXZlSGFuZGxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50RHJhZ1NvdXJjZU5vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmFsdEtleVByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tb3VzZU1vdmVUaW1lb3V0VGltZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmFzeW5jRW5kRHJhZ0ZyYW1lSWQgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYWdPdmVyVGFyZ2V0SWRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5nZXRTb3VyY2VDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoc291cmNlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBPZmZzZXRVdGlsc18xLmdldE5vZGVDbGllbnRPZmZzZXQoX3RoaXMuc291cmNlTm9kZXMuZ2V0KHNvdXJjZUlkKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZW5kRHJhZ05hdGl2ZUl0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmlzRHJhZ2dpbmdOYXRpdmVJdGVtKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5hY3Rpb25zLmVuZERyYWcoKTtcbiAgICAgICAgICAgIF90aGlzLnJlZ2lzdHJ5LnJlbW92ZVNvdXJjZShfdGhpcy5jdXJyZW50TmF0aXZlSGFuZGxlKTtcbiAgICAgICAgICAgIF90aGlzLmN1cnJlbnROYXRpdmVIYW5kbGUgPSBudWxsO1xuICAgICAgICAgICAgX3RoaXMuY3VycmVudE5hdGl2ZVNvdXJjZSA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaXNOb2RlSW5Eb2N1bWVudCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAvLyBDaGVjayB0aGUgbm9kZSBlaXRoZXIgaW4gdGhlIG1haW4gZG9jdW1lbnQgb3IgaW4gdGhlIGN1cnJlbnQgY29udGV4dFxuICAgICAgICAgICAgcmV0dXJuICgoISFkb2N1bWVudCAmJiBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKG5vZGUpKSB8fFxuICAgICAgICAgICAgICAgICghIV90aGlzLndpbmRvdyAmJiBfdGhpcy53aW5kb3cuZG9jdW1lbnQuYm9keS5jb250YWlucyhub2RlKSkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVuZERyYWdJZlNvdXJjZVdhc1JlbW92ZWRGcm9tRE9NID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBfdGhpcy5jdXJyZW50RHJhZ1NvdXJjZU5vZGU7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNOb2RlSW5Eb2N1bWVudChub2RlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy5jbGVhckN1cnJlbnREcmFnU291cmNlTm9kZSgpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aW9ucy5lbmREcmFnKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlVG9wRHJhZ1N0YXJ0Q2FwdHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmNsZWFyQ3VycmVudERyYWdTb3VyY2VOb2RlKCk7XG4gICAgICAgICAgICBfdGhpcy5kcmFnU3RhcnRTb3VyY2VJZHMgPSBbXTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVUb3BEcmFnU3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGRyYWdTdGFydFNvdXJjZUlkcyA9IF90aGlzLmRyYWdTdGFydFNvdXJjZUlkcztcbiAgICAgICAgICAgIF90aGlzLmRyYWdTdGFydFNvdXJjZUlkcyA9IG51bGw7XG4gICAgICAgICAgICB2YXIgY2xpZW50T2Zmc2V0ID0gT2Zmc2V0VXRpbHNfMS5nZXRFdmVudENsaWVudE9mZnNldChlKTtcbiAgICAgICAgICAgIC8vIEF2b2lkIGNyYXNoaW5nIGlmIHdlIG1pc3NlZCBhIGRyb3AgZXZlbnQgb3Igb3VyIHByZXZpb3VzIGRyYWcgZGllZFxuICAgICAgICAgICAgaWYgKF90aGlzLm1vbml0b3IuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aW9ucy5lbmREcmFnKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEb24ndCBwdWJsaXNoIHRoZSBzb3VyY2UganVzdCB5ZXQgKHNlZSB3aHkgYmVsb3cpXG4gICAgICAgICAgICBfdGhpcy5hY3Rpb25zLmJlZ2luRHJhZyhkcmFnU3RhcnRTb3VyY2VJZHMgfHwgW10sIHtcbiAgICAgICAgICAgICAgICBwdWJsaXNoU291cmNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBnZXRTb3VyY2VDbGllbnRPZmZzZXQ6IF90aGlzLmdldFNvdXJjZUNsaWVudE9mZnNldCxcbiAgICAgICAgICAgICAgICBjbGllbnRPZmZzZXQ6IGNsaWVudE9mZnNldCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGRhdGFUcmFuc2ZlciA9IGUuZGF0YVRyYW5zZmVyO1xuICAgICAgICAgICAgdmFyIG5hdGl2ZVR5cGUgPSBOYXRpdmVEcmFnU291cmNlc18xLm1hdGNoTmF0aXZlSXRlbVR5cGUoZGF0YVRyYW5zZmVyKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5tb25pdG9yLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhVHJhbnNmZXIgJiYgdHlwZW9mIGRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGN1c3RvbSBkcmFnIGltYWdlIGlmIHVzZXIgc3BlY2lmaWVzIGl0LlxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBjaGlsZCBkcmFnIHNvdXJjZSByZWZ1c2VzIGRyYWcgYnV0IHBhcmVudCBhZ3JlZXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIHVzZSBwYXJlbnQncyBub2RlIGFzIGRyYWcgaW1hZ2UuIE5laXRoZXIgd29ya3MgaW4gSUUgdGhvdWdoLlxuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlSWQgPSBfdGhpcy5tb25pdG9yLmdldFNvdXJjZUlkKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2VOb2RlID0gX3RoaXMuc291cmNlTm9kZXMuZ2V0KHNvdXJjZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYWdQcmV2aWV3ID0gX3RoaXMuc291cmNlUHJldmlld05vZGVzLmdldChzb3VyY2VJZCkgfHwgc291cmNlTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdQcmV2aWV3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2EgPSBfdGhpcy5nZXRDdXJyZW50U291cmNlUHJldmlld05vZGVPcHRpb25zKCksIGFuY2hvclggPSBfYS5hbmNob3JYLCBhbmNob3JZID0gX2EuYW5jaG9yWSwgb2Zmc2V0WCA9IF9hLm9mZnNldFgsIG9mZnNldFkgPSBfYS5vZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2hvclBvaW50ID0geyBhbmNob3JYOiBhbmNob3JYLCBhbmNob3JZOiBhbmNob3JZIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0UG9pbnQgPSB7IG9mZnNldFg6IG9mZnNldFgsIG9mZnNldFk6IG9mZnNldFkgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkcmFnUHJldmlld09mZnNldCA9IE9mZnNldFV0aWxzXzEuZ2V0RHJhZ1ByZXZpZXdPZmZzZXQoc291cmNlTm9kZSwgZHJhZ1ByZXZpZXcsIGNsaWVudE9mZnNldCwgYW5jaG9yUG9pbnQsIG9mZnNldFBvaW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoZHJhZ1ByZXZpZXcsIGRyYWdQcmV2aWV3T2Zmc2V0LngsIGRyYWdQcmV2aWV3T2Zmc2V0LnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggd29uJ3QgZHJhZyB3aXRob3V0IHNldHRpbmcgZGF0YVxuICAgICAgICAgICAgICAgICAgICBkYXRhVHJhbnNmZXIuc2V0RGF0YSgnYXBwbGljYXRpb24vanNvbicsIHt9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBJRSBkb2Vzbid0IHN1cHBvcnQgTUlNRSB0eXBlcyBpbiBzZXREYXRhXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFN0b3JlIGRyYWcgc291cmNlIG5vZGUgc28gd2UgY2FuIGNoZWNrIHdoZXRoZXJcbiAgICAgICAgICAgICAgICAvLyBpdCBpcyByZW1vdmVkIGZyb20gRE9NIGFuZCB0cmlnZ2VyIGVuZERyYWcgbWFudWFsbHkuXG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0Q3VycmVudERyYWdTb3VyY2VOb2RlKGUudGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAvLyBOb3cgd2UgYXJlIHJlYWR5IHRvIHB1Ymxpc2ggdGhlIGRyYWcgc291cmNlLi4gb3IgYXJlIHdlIG5vdD9cbiAgICAgICAgICAgICAgICB2YXIgY2FwdHVyZURyYWdnaW5nU3RhdGUgPSBfdGhpcy5nZXRDdXJyZW50U291cmNlUHJldmlld05vZGVPcHRpb25zKCkuY2FwdHVyZURyYWdnaW5nU3RhdGU7XG4gICAgICAgICAgICAgICAgaWYgKCFjYXB0dXJlRHJhZ2dpbmdTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc3VhbGx5IHdlIHdhbnQgdG8gcHVibGlzaCBpdCBpbiB0aGUgbmV4dCB0aWNrIHNvIHRoYXQgYnJvd3NlclxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBhYmxlIHRvIHNjcmVlbnNob3QgdGhlIGN1cnJlbnQgKG5vdCB5ZXQgZHJhZ2dpbmcpIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBJdCBhbHNvIG5lYXRseSBhdm9pZHMgYSBzaXR1YXRpb24gd2hlcmUgcmVuZGVyKCkgcmV0dXJucyBudWxsXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoZSBzYW1lIHRpY2sgZm9yIHRoZSBzb3VyY2UgZWxlbWVudCwgYW5kIGJyb3dzZXIgZnJlYWtzIG91dC5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5hY3Rpb25zLnB1Ymxpc2hEcmFnU291cmNlKCk7IH0sIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gc29tZSBjYXNlcyB0aGUgdXNlciBtYXkgd2FudCB0byBvdmVycmlkZSB0aGlzIGJlaGF2aW9yLCBlLmcuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIHdvcmsgYXJvdW5kIElFIG5vdCBzdXBwb3J0aW5nIGN1c3RvbSBkcmFnIHByZXZpZXdzLlxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHVzaW5nIGEgY3VzdG9tIGRyYWcgbGF5ZXIsIHRoZSBvbmx5IHdheSB0byBwcmV2ZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBkZWZhdWx0IGRyYWcgcHJldmlldyBmcm9tIGRyYXdpbmcgaW4gSUUgaXMgdG8gc2NyZWVuc2hvdFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZHJhZ2dpbmcgc3RhdGUgaW4gd2hpY2ggdGhlIG5vZGUgaXRzZWxmIGhhcyB6ZXJvIG9wYWNpdHlcbiAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGhlaWdodC4gSW4gdGhpcyBjYXNlLCB0aG91Z2gsIHJldHVybmluZyBudWxsIGZyb20gcmVuZGVyKClcbiAgICAgICAgICAgICAgICAgICAgLy8gd2lsbCBhYnJ1cHRseSBlbmQgdGhlIGRyYWdnaW5nLCB3aGljaCBpcyBub3Qgb2J2aW91cy5cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgcmVhc29uIHN1Y2ggYmVoYXZpb3IgaXMgc3RyaWN0bHkgb3B0LWluLlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY3Rpb25zLnB1Ymxpc2hEcmFnU291cmNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmF0aXZlVHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIEEgbmF0aXZlIGl0ZW0gKHN1Y2ggYXMgVVJMKSBkcmFnZ2VkIGZyb20gaW5zaWRlIHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgICAgIF90aGlzLmJlZ2luRHJhZ05hdGl2ZUl0ZW0obmF0aXZlVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkYXRhVHJhbnNmZXIgJiZcbiAgICAgICAgICAgICAgICAhZGF0YVRyYW5zZmVyLnR5cGVzICYmXG4gICAgICAgICAgICAgICAgKChlLnRhcmdldCAmJiAhZS50YXJnZXQuaGFzQXR0cmlidXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAhZS50YXJnZXQuaGFzQXR0cmlidXRlKCdkcmFnZ2FibGUnKSkpIHtcbiAgICAgICAgICAgICAgICAvLyBMb29rcyBsaWtlIGEgU2FmYXJpIGJ1ZzogZGF0YVRyYW5zZmVyLnR5cGVzIGlzIG51bGwsIGJ1dCB0aGVyZSB3YXMgbm8gZHJhZ2dhYmxlLlxuICAgICAgICAgICAgICAgIC8vIEp1c3QgbGV0IGl0IGRyYWcuIEl0J3MgYSBuYXRpdmUgdHlwZSAoVVJMIG9yIHRleHQpIGFuZCB3aWxsIGJlIHBpY2tlZCB1cCBpblxuICAgICAgICAgICAgICAgIC8vIGRyYWdlbnRlciBoYW5kbGVyLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIGJ5IHRoaXMgdGltZSBubyBkcmFnIHNvdXJjZSByZWFjdGVkLCB0ZWxsIGJyb3dzZXIgbm90IHRvIGRyYWcuXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVRvcERyYWdFbmRDYXB0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmNsZWFyQ3VycmVudERyYWdTb3VyY2VOb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94IGNhbiBkaXNwYXRjaCB0aGlzIGV2ZW50IGluIGFuIGluZmluaXRlIGxvb3BcbiAgICAgICAgICAgICAgICAvLyBpZiBkcmFnZW5kIGhhbmRsZXIgZG9lcyBzb21ldGhpbmcgbGlrZSBzaG93aW5nIGFuIGFsZXJ0LlxuICAgICAgICAgICAgICAgIC8vIE9ubHkgcHJvY2VlZCBpZiB3ZSBoYXZlIG5vdCBoYW5kbGVkIGl0IGFscmVhZHkuXG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aW9ucy5lbmREcmFnKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlVG9wRHJhZ0VudGVyQ2FwdHVyZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBfdGhpcy5kcmFnRW50ZXJUYXJnZXRJZHMgPSBbXTtcbiAgICAgICAgICAgIHZhciBpc0ZpcnN0RW50ZXIgPSBfdGhpcy5lbnRlckxlYXZlQ291bnRlci5lbnRlcihlLnRhcmdldCk7XG4gICAgICAgICAgICBpZiAoIWlzRmlyc3RFbnRlciB8fCBfdGhpcy5tb25pdG9yLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkYXRhVHJhbnNmZXIgPSBlLmRhdGFUcmFuc2ZlcjtcbiAgICAgICAgICAgIHZhciBuYXRpdmVUeXBlID0gTmF0aXZlRHJhZ1NvdXJjZXNfMS5tYXRjaE5hdGl2ZUl0ZW1UeXBlKGRhdGFUcmFuc2Zlcik7XG4gICAgICAgICAgICBpZiAobmF0aXZlVHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIEEgbmF0aXZlIGl0ZW0gKHN1Y2ggYXMgZmlsZSBvciBVUkwpIGRyYWdnZWQgZnJvbSBvdXRzaWRlIHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgICAgIF90aGlzLmJlZ2luRHJhZ05hdGl2ZUl0ZW0obmF0aXZlVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlVG9wRHJhZ0VudGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBkcmFnRW50ZXJUYXJnZXRJZHMgPSBfdGhpcy5kcmFnRW50ZXJUYXJnZXRJZHM7XG4gICAgICAgICAgICBfdGhpcy5kcmFnRW50ZXJUYXJnZXRJZHMgPSBbXTtcbiAgICAgICAgICAgIGlmICghX3RoaXMubW9uaXRvci5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHByb2JhYmx5IGEgbmF0aXZlIGl0ZW0gdHlwZSB3ZSBkb24ndCB1bmRlcnN0YW5kLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmFsdEtleVByZXNzZWQgPSBlLmFsdEtleTtcbiAgICAgICAgICAgIGlmICghQnJvd3NlckRldGVjdG9yXzEuaXNGaXJlZm94KCkpIHtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBlbWl0IGhvdmVyIGluIGBkcmFnZW50ZXJgIG9uIEZpcmVmb3ggZHVlIHRvIGFuIGVkZ2UgY2FzZS5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdGFyZ2V0IGNoYW5nZXMgcG9zaXRpb24gYXMgdGhlIHJlc3VsdCBvZiBgZHJhZ2VudGVyYCwgRmlyZWZveFxuICAgICAgICAgICAgICAgIC8vIHdpbGwgc3RpbGwgaGFwcGlseSBkaXNwYXRjaCBgZHJhZ292ZXJgIGRlc3BpdGUgdGFyZ2V0IGJlaW5nIG5vIGxvbmdlclxuICAgICAgICAgICAgICAgIC8vIHRoZXJlLiBUaGUgZWFzeSBzb2x1dGlvbiBpcyB0byBvbmx5IGZpcmUgYGhvdmVyYCBpbiBgZHJhZ292ZXJgIG9uIEZGLlxuICAgICAgICAgICAgICAgIF90aGlzLmFjdGlvbnMuaG92ZXIoZHJhZ0VudGVyVGFyZ2V0SWRzLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudE9mZnNldDogT2Zmc2V0VXRpbHNfMS5nZXRFdmVudENsaWVudE9mZnNldChlKSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjYW5Ecm9wID0gZHJhZ0VudGVyVGFyZ2V0SWRzLnNvbWUoZnVuY3Rpb24gKHRhcmdldElkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm1vbml0b3IuY2FuRHJvcE9uVGFyZ2V0KHRhcmdldElkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNhbkRyb3ApIHtcbiAgICAgICAgICAgICAgICAvLyBJRSByZXF1aXJlcyB0aGlzIHRvIGZpcmUgZHJhZ292ZXIgZXZlbnRzXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGlmIChlLmRhdGFUcmFuc2Zlcikge1xuICAgICAgICAgICAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gX3RoaXMuZ2V0Q3VycmVudERyb3BFZmZlY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlVG9wRHJhZ092ZXJDYXB0dXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZHJhZ092ZXJUYXJnZXRJZHMgPSBbXTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVUb3BEcmFnT3ZlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgZHJhZ092ZXJUYXJnZXRJZHMgPSBfdGhpcy5kcmFnT3ZlclRhcmdldElkcztcbiAgICAgICAgICAgIF90aGlzLmRyYWdPdmVyVGFyZ2V0SWRzID0gW107XG4gICAgICAgICAgICBpZiAoIV90aGlzLm1vbml0b3IuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBwcm9iYWJseSBhIG5hdGl2ZSBpdGVtIHR5cGUgd2UgZG9uJ3QgdW5kZXJzdGFuZC5cbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGRlZmF1bHQgXCJkcm9wIGFuZCBibG93IGF3YXkgdGhlIHdob2xlIGRvY3VtZW50XCIgYWN0aW9uLlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZS5kYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdub25lJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuYWx0S2V5UHJlc3NlZCA9IGUuYWx0S2V5O1xuICAgICAgICAgICAgX3RoaXMuYWN0aW9ucy5ob3ZlcihkcmFnT3ZlclRhcmdldElkcyB8fCBbXSwge1xuICAgICAgICAgICAgICAgIGNsaWVudE9mZnNldDogT2Zmc2V0VXRpbHNfMS5nZXRFdmVudENsaWVudE9mZnNldChlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIGNhbkRyb3AgPSAoZHJhZ092ZXJUYXJnZXRJZHMgfHwgW10pLnNvbWUoZnVuY3Rpb24gKHRhcmdldElkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm1vbml0b3IuY2FuRHJvcE9uVGFyZ2V0KHRhcmdldElkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNhbkRyb3ApIHtcbiAgICAgICAgICAgICAgICAvLyBTaG93IHVzZXItc3BlY2lmaWVkIGRyb3AgZWZmZWN0LlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZS5kYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9IF90aGlzLmdldEN1cnJlbnREcm9wRWZmZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoX3RoaXMuaXNEcmFnZ2luZ05hdGl2ZUl0ZW0oKSkge1xuICAgICAgICAgICAgICAgIC8vIERvbid0IHNob3cgYSBuaWNlIGN1cnNvciBidXQgc3RpbGwgcHJldmVudCBkZWZhdWx0XG4gICAgICAgICAgICAgICAgLy8gXCJkcm9wIGFuZCBibG93IGF3YXkgdGhlIHdob2xlIGRvY3VtZW50XCIgYWN0aW9uLlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZS5kYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdub25lJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlVG9wRHJhZ0xlYXZlQ2FwdHVyZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNEcmFnZ2luZ05hdGl2ZUl0ZW0oKSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpc0xhc3RMZWF2ZSA9IF90aGlzLmVudGVyTGVhdmVDb3VudGVyLmxlYXZlKGUudGFyZ2V0KTtcbiAgICAgICAgICAgIGlmICghaXNMYXN0TGVhdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNEcmFnZ2luZ05hdGl2ZUl0ZW0oKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmVuZERyYWdOYXRpdmVJdGVtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlVG9wRHJvcENhcHR1cmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMuZHJvcFRhcmdldElkcyA9IFtdO1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzRHJhZ2dpbmdOYXRpdmVJdGVtKCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50TmF0aXZlU291cmNlLm11dGF0ZUl0ZW1CeVJlYWRpbmdEYXRhVHJhbnNmZXIoZS5kYXRhVHJhbnNmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuZW50ZXJMZWF2ZUNvdW50ZXIucmVzZXQoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVUb3BEcm9wID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBkcm9wVGFyZ2V0SWRzID0gX3RoaXMuZHJvcFRhcmdldElkcztcbiAgICAgICAgICAgIF90aGlzLmRyb3BUYXJnZXRJZHMgPSBbXTtcbiAgICAgICAgICAgIF90aGlzLmFjdGlvbnMuaG92ZXIoZHJvcFRhcmdldElkcywge1xuICAgICAgICAgICAgICAgIGNsaWVudE9mZnNldDogT2Zmc2V0VXRpbHNfMS5nZXRFdmVudENsaWVudE9mZnNldChlKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuYWN0aW9ucy5kcm9wKHsgZHJvcEVmZmVjdDogX3RoaXMuZ2V0Q3VycmVudERyb3BFZmZlY3QoKSB9KTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc0RyYWdnaW5nTmF0aXZlSXRlbSgpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZW5kRHJhZ05hdGl2ZUl0ZW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLmVuZERyYWdJZlNvdXJjZVdhc1JlbW92ZWRGcm9tRE9NKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlU2VsZWN0U3RhcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgLy8gT25seSBJRSByZXF1aXJlcyB1cyB0byBleHBsaWNpdGx5IHNheVxuICAgICAgICAgICAgLy8gd2Ugd2FudCBkcmFnIGRyb3Agb3BlcmF0aW9uIHRvIHN0YXJ0XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldC5kcmFnRHJvcCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElucHV0cyBhbmQgdGV4dGFyZWFzIHNob3VsZCBiZSBzZWxlY3RhYmxlXG4gICAgICAgICAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09ICdJTlBVVCcgfHxcbiAgICAgICAgICAgICAgICB0YXJnZXQudGFnTmFtZSA9PT0gJ1NFTEVDVCcgfHxcbiAgICAgICAgICAgICAgICB0YXJnZXQudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJyB8fFxuICAgICAgICAgICAgICAgIHRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZvciBvdGhlciB0YXJnZXRzLCBhc2sgSUVcbiAgICAgICAgICAgIC8vIHRvIGVuYWJsZSBkcmFnIGFuZCBkcm9wXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0YXJnZXQuZHJhZ0Ryb3AoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gbWFuYWdlci5nZXRBY3Rpb25zKCk7XG4gICAgICAgIHRoaXMubW9uaXRvciA9IG1hbmFnZXIuZ2V0TW9uaXRvcigpO1xuICAgICAgICB0aGlzLnJlZ2lzdHJ5ID0gbWFuYWdlci5nZXRSZWdpc3RyeSgpO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBtYW5hZ2VyLmdldENvbnRleHQoKTtcbiAgICAgICAgdGhpcy5lbnRlckxlYXZlQ291bnRlciA9IG5ldyBFbnRlckxlYXZlQ291bnRlcl8xLmRlZmF1bHQodGhpcy5pc05vZGVJbkRvY3VtZW50KTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhUTUw1QmFja2VuZC5wcm90b3R5cGUsIFwid2luZG93XCIsIHtcbiAgICAgICAgLy8gcHVibGljIGZvciB0ZXN0XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dCAmJiB0aGlzLmNvbnRleHQud2luZG93KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC53aW5kb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy53aW5kb3cgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndpbmRvdy5fX2lzUmVhY3REbmRCYWNrZW5kU2V0VXApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGhhdmUgdHdvIEhUTUw1IGJhY2tlbmRzIGF0IHRoZSBzYW1lIHRpbWUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53aW5kb3cuX19pc1JlYWN0RG5kQmFja2VuZFNldFVwID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVycyh0aGlzLndpbmRvdyk7XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLnRlYXJkb3duID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy53aW5kb3cgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2luZG93Ll9faXNSZWFjdERuZEJhY2tlbmRTZXRVcCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKHRoaXMud2luZG93KTtcbiAgICAgICAgdGhpcy5jbGVhckN1cnJlbnREcmFnU291cmNlTm9kZSgpO1xuICAgICAgICBpZiAodGhpcy5hc3luY0VuZERyYWdGcmFtZUlkKSB7XG4gICAgICAgICAgICB0aGlzLndpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmFzeW5jRW5kRHJhZ0ZyYW1lSWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLmNvbm5lY3REcmFnUHJldmlldyA9IGZ1bmN0aW9uIChzb3VyY2VJZCwgbm9kZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnNvdXJjZVByZXZpZXdOb2RlT3B0aW9ucy5zZXQoc291cmNlSWQsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnNvdXJjZVByZXZpZXdOb2Rlcy5zZXQoc291cmNlSWQsIG5vZGUpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc291cmNlUHJldmlld05vZGVzLmRlbGV0ZShzb3VyY2VJZCk7XG4gICAgICAgICAgICBfdGhpcy5zb3VyY2VQcmV2aWV3Tm9kZU9wdGlvbnMuZGVsZXRlKHNvdXJjZUlkKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEhUTUw1QmFja2VuZC5wcm90b3R5cGUuY29ubmVjdERyYWdTb3VyY2UgPSBmdW5jdGlvbiAoc291cmNlSWQsIG5vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zb3VyY2VOb2Rlcy5zZXQoc291cmNlSWQsIG5vZGUpO1xuICAgICAgICB0aGlzLnNvdXJjZU5vZGVPcHRpb25zLnNldChzb3VyY2VJZCwgb3B0aW9ucyk7XG4gICAgICAgIHZhciBoYW5kbGVEcmFnU3RhcnQgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gX3RoaXMuaGFuZGxlRHJhZ1N0YXJ0KGUsIHNvdXJjZUlkKTsgfTtcbiAgICAgICAgdmFyIGhhbmRsZVNlbGVjdFN0YXJ0ID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIF90aGlzLmhhbmRsZVNlbGVjdFN0YXJ0KGUpOyB9O1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVEcmFnU3RhcnQpO1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgaGFuZGxlU2VsZWN0U3RhcnQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuc291cmNlTm9kZXMuZGVsZXRlKHNvdXJjZUlkKTtcbiAgICAgICAgICAgIF90aGlzLnNvdXJjZU5vZGVPcHRpb25zLmRlbGV0ZShzb3VyY2VJZCk7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGhhbmRsZURyYWdTdGFydCk7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgaGFuZGxlU2VsZWN0U3RhcnQpO1xuICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICdmYWxzZScpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS5jb25uZWN0RHJvcFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXRJZCwgbm9kZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaGFuZGxlRHJhZ0VudGVyID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIF90aGlzLmhhbmRsZURyYWdFbnRlcihlLCB0YXJnZXRJZCk7IH07XG4gICAgICAgIHZhciBoYW5kbGVEcmFnT3ZlciA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBfdGhpcy5oYW5kbGVEcmFnT3ZlcihlLCB0YXJnZXRJZCk7IH07XG4gICAgICAgIHZhciBoYW5kbGVEcm9wID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIF90aGlzLmhhbmRsZURyb3AoZSwgdGFyZ2V0SWQpOyB9O1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIGhhbmRsZURyYWdFbnRlcik7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBoYW5kbGVEcmFnT3Zlcik7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZURyb3ApO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBoYW5kbGVEcmFnRW50ZXIpO1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGhhbmRsZURyYWdPdmVyKTtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZURyb3ApO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgLy8gU1NSIEZpeCAoaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWRuZC9yZWFjdC1kbmQvcHVsbC84MTNcbiAgICAgICAgaWYgKCF0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzXG4gICAgICAgICAgICAuaGFuZGxlVG9wRHJhZ1N0YXJ0KTtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuaGFuZGxlVG9wRHJhZ1N0YXJ0Q2FwdHVyZSwgdHJ1ZSk7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgdGhpcy5oYW5kbGVUb3BEcmFnRW5kQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCB0aGlzXG4gICAgICAgICAgICAuaGFuZGxlVG9wRHJhZ0VudGVyKTtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIHRoaXMuaGFuZGxlVG9wRHJhZ0VudGVyQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCB0aGlzLmhhbmRsZVRvcERyYWdMZWF2ZUNhcHR1cmUsIHRydWUpO1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLmhhbmRsZVRvcERyYWdPdmVyKTtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5oYW5kbGVUb3BEcmFnT3ZlckNhcHR1cmUsIHRydWUpO1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuaGFuZGxlVG9wRHJvcCk7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5oYW5kbGVUb3BEcm9wQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAvLyBTU1IgRml4IChodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtZG5kL3JlYWN0LWRuZC9wdWxsLzgxM1xuICAgICAgICBpZiAoIXRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuaGFuZGxlVG9wRHJhZ1N0YXJ0KTtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuaGFuZGxlVG9wRHJhZ1N0YXJ0Q2FwdHVyZSwgdHJ1ZSk7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgdGhpcy5oYW5kbGVUb3BEcmFnRW5kQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCB0aGlzXG4gICAgICAgICAgICAuaGFuZGxlVG9wRHJhZ0VudGVyKTtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIHRoaXMuaGFuZGxlVG9wRHJhZ0VudGVyQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCB0aGlzLmhhbmRsZVRvcERyYWdMZWF2ZUNhcHR1cmUsIHRydWUpO1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzXG4gICAgICAgICAgICAuaGFuZGxlVG9wRHJhZ092ZXIpO1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLmhhbmRsZVRvcERyYWdPdmVyQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5oYW5kbGVUb3BEcm9wKTtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCB0aGlzLmhhbmRsZVRvcERyb3BDYXB0dXJlLCB0cnVlKTtcbiAgICB9O1xuICAgIEhUTUw1QmFja2VuZC5wcm90b3R5cGUuZ2V0Q3VycmVudFNvdXJjZU5vZGVPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlSWQgPSB0aGlzLm1vbml0b3IuZ2V0U291cmNlSWQoKTtcbiAgICAgICAgdmFyIHNvdXJjZU5vZGVPcHRpb25zID0gdGhpcy5zb3VyY2VOb2RlT3B0aW9ucy5nZXQoc291cmNlSWQpO1xuICAgICAgICByZXR1cm4gX19hc3NpZ24oeyBkcm9wRWZmZWN0OiB0aGlzLmFsdEtleVByZXNzZWQgPyAnY29weScgOiAnbW92ZScgfSwgKHNvdXJjZU5vZGVPcHRpb25zIHx8IHt9KSk7XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLmdldEN1cnJlbnREcm9wRWZmZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nTmF0aXZlSXRlbSgpKSB7XG4gICAgICAgICAgICAvLyBJdCBtYWtlcyBtb3JlIHNlbnNlIHRvIGRlZmF1bHQgdG8gJ2NvcHknIGZvciBuYXRpdmUgcmVzb3VyY2VzXG4gICAgICAgICAgICByZXR1cm4gJ2NvcHknO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRTb3VyY2VOb2RlT3B0aW9ucygpLmRyb3BFZmZlY3Q7XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLmdldEN1cnJlbnRTb3VyY2VQcmV2aWV3Tm9kZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3VyY2VJZCA9IHRoaXMubW9uaXRvci5nZXRTb3VyY2VJZCgpO1xuICAgICAgICB2YXIgc291cmNlUHJldmlld05vZGVPcHRpb25zID0gdGhpcy5zb3VyY2VQcmV2aWV3Tm9kZU9wdGlvbnMuZ2V0KHNvdXJjZUlkKTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKHsgYW5jaG9yWDogMC41LCBhbmNob3JZOiAwLjUsIGNhcHR1cmVEcmFnZ2luZ1N0YXRlOiBmYWxzZSB9LCAoc291cmNlUHJldmlld05vZGVPcHRpb25zIHx8IHt9KSk7XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLmlzRHJhZ2dpbmdOYXRpdmVJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaXRlbVR5cGUgPSB0aGlzLm1vbml0b3IuZ2V0SXRlbVR5cGUoKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKE5hdGl2ZVR5cGVzKS5zb21lKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIE5hdGl2ZVR5cGVzW2tleV0gPT09IGl0ZW1UeXBlOyB9KTtcbiAgICB9O1xuICAgIEhUTUw1QmFja2VuZC5wcm90b3R5cGUuYmVnaW5EcmFnTmF0aXZlSXRlbSA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHRoaXMuY2xlYXJDdXJyZW50RHJhZ1NvdXJjZU5vZGUoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50TmF0aXZlU291cmNlID0gTmF0aXZlRHJhZ1NvdXJjZXNfMS5jcmVhdGVOYXRpdmVEcmFnU291cmNlKHR5cGUpO1xuICAgICAgICB0aGlzLmN1cnJlbnROYXRpdmVIYW5kbGUgPSB0aGlzLnJlZ2lzdHJ5LmFkZFNvdXJjZSh0eXBlLCB0aGlzLmN1cnJlbnROYXRpdmVTb3VyY2UpO1xuICAgICAgICB0aGlzLmFjdGlvbnMuYmVnaW5EcmFnKFt0aGlzLmN1cnJlbnROYXRpdmVIYW5kbGVdKTtcbiAgICB9O1xuICAgIEhUTUw1QmFja2VuZC5wcm90b3R5cGUuc2V0Q3VycmVudERyYWdTb3VyY2VOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5jbGVhckN1cnJlbnREcmFnU291cmNlTm9kZSgpO1xuICAgICAgICB0aGlzLmN1cnJlbnREcmFnU291cmNlTm9kZSA9IG5vZGU7XG4gICAgICAgIC8vIEEgdGltZW91dCBvZiA+IDAgaXMgbmVjZXNzYXJ5IHRvIHJlc29sdmUgRmlyZWZveCBpc3N1ZSByZWZlcmVuY2VkXG4gICAgICAgIC8vIFNlZTpcbiAgICAgICAgLy8gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1kbmQvcmVhY3QtZG5kL3B1bGwvOTI4XG4gICAgICAgIC8vICAgKiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtZG5kL3JlYWN0LWRuZC9pc3N1ZXMvODY5XG4gICAgICAgIHZhciBNT1VTRV9NT1ZFX1RJTUVPVVQgPSAxMDAwO1xuICAgICAgICAvLyBSZWNlaXZpbmcgYSBtb3VzZSBldmVudCBpbiB0aGUgbWlkZGxlIG9mIGEgZHJhZ2dpbmcgb3BlcmF0aW9uXG4gICAgICAgIC8vIG1lYW5zIGl0IGhhcyBlbmRlZCBhbmQgdGhlIGRyYWcgc291cmNlIG5vZGUgZGlzYXBwZWFyZWQgZnJvbSBET00sXG4gICAgICAgIC8vIHNvIHRoZSBicm93c2VyIGRpZG4ndCBkaXNwYXRjaCB0aGUgZHJhZ2VuZCBldmVudC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gV2UgbmVlZCB0byB3YWl0IGJlZm9yZSB3ZSBzdGFydCBsaXN0ZW5pbmcgZm9yIG1vdXNlbW92ZSBldmVudHMuXG4gICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGRyYWcgcHJldmlldyBuZWVkcyB0byBiZSBkcmF3biBvciBlbHNlIGl0IGZpcmVzIGFuICdtb3VzZW1vdmUnIGV2ZW50XG4gICAgICAgIC8vIGltbWVkaWF0ZWx5IGluIHNvbWUgYnJvd3NlcnMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNlZTpcbiAgICAgICAgLy8gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1kbmQvcmVhY3QtZG5kL3B1bGwvOTI4XG4gICAgICAgIC8vICAgKiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtZG5kL3JlYWN0LWRuZC9pc3N1ZXMvODY5XG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMubW91c2VNb3ZlVGltZW91dFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKF90aGlzLndpbmRvdyAmJlxuICAgICAgICAgICAgICAgIF90aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBfdGhpcy5lbmREcmFnSWZTb3VyY2VXYXNSZW1vdmVkRnJvbURPTSwgdHJ1ZSkpO1xuICAgICAgICB9LCBNT1VTRV9NT1ZFX1RJTUVPVVQpO1xuICAgIH07XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS5jbGVhckN1cnJlbnREcmFnU291cmNlTm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudERyYWdTb3VyY2VOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREcmFnU291cmNlTm9kZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy53aW5kb3cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5tb3VzZU1vdmVUaW1lb3V0VGltZXIgfHwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmVuZERyYWdJZlNvdXJjZVdhc1JlbW92ZWRGcm9tRE9NLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubW91c2VNb3ZlVGltZW91dFRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEhUTUw1QmFja2VuZC5wcm90b3R5cGUuaGFuZGxlRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGUsIHNvdXJjZUlkKSB7XG4gICAgICAgIGlmICghdGhpcy5kcmFnU3RhcnRTb3VyY2VJZHMpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1N0YXJ0U291cmNlSWRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmFnU3RhcnRTb3VyY2VJZHMudW5zaGlmdChzb3VyY2VJZCk7XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLmhhbmRsZURyYWdFbnRlciA9IGZ1bmN0aW9uIChlLCB0YXJnZXRJZCkge1xuICAgICAgICB0aGlzLmRyYWdFbnRlclRhcmdldElkcy51bnNoaWZ0KHRhcmdldElkKTtcbiAgICB9O1xuICAgIEhUTUw1QmFja2VuZC5wcm90b3R5cGUuaGFuZGxlRHJhZ092ZXIgPSBmdW5jdGlvbiAoZSwgdGFyZ2V0SWQpIHtcbiAgICAgICAgaWYgKHRoaXMuZHJhZ092ZXJUYXJnZXRJZHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ092ZXJUYXJnZXRJZHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYWdPdmVyVGFyZ2V0SWRzLnVuc2hpZnQodGFyZ2V0SWQpO1xuICAgIH07XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS5oYW5kbGVEcm9wID0gZnVuY3Rpb24gKGUsIHRhcmdldElkKSB7XG4gICAgICAgIHRoaXMuZHJvcFRhcmdldElkcy51bnNoaWZ0KHRhcmdldElkKTtcbiAgICB9O1xuICAgIHJldHVybiBIVE1MNUJhY2tlbmQ7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gSFRNTDVCYWNrZW5kO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTW9ub3RvbmljSW50ZXJwb2xhbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW9ub3RvbmljSW50ZXJwb2xhbnQoeHMsIHlzKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSB4cy5sZW5ndGg7XG4gICAgICAgIC8vIFJlYXJyYW5nZSB4cyBhbmQgeXMgc28gdGhhdCB4cyBpcyBzb3J0ZWRcbiAgICAgICAgdmFyIGluZGV4ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gKHhzW2FdIDwgeHNbYl0gPyAtMSA6IDEpOyB9KTtcbiAgICAgICAgLy8gR2V0IGNvbnNlY3V0aXZlIGRpZmZlcmVuY2VzIGFuZCBzbG9wZXNcbiAgICAgICAgdmFyIGR5cyA9IFtdO1xuICAgICAgICB2YXIgZHhzID0gW107XG4gICAgICAgIHZhciBtcyA9IFtdO1xuICAgICAgICB2YXIgZHg7XG4gICAgICAgIHZhciBkeTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGR4ID0geHNbaSArIDFdIC0geHNbaV07XG4gICAgICAgICAgICBkeSA9IHlzW2kgKyAxXSAtIHlzW2ldO1xuICAgICAgICAgICAgZHhzLnB1c2goZHgpO1xuICAgICAgICAgICAgZHlzLnB1c2goZHkpO1xuICAgICAgICAgICAgbXMucHVzaChkeSAvIGR4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBHZXQgZGVncmVlLTEgY29lZmZpY2llbnRzXG4gICAgICAgIHZhciBjMXMgPSBbbXNbMF1dO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGR4cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBtMiA9IG1zW2ldO1xuICAgICAgICAgICAgdmFyIG1OZXh0ID0gbXNbaSArIDFdO1xuICAgICAgICAgICAgaWYgKG0yICogbU5leHQgPD0gMCkge1xuICAgICAgICAgICAgICAgIGMxcy5wdXNoKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZHggPSBkeHNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGR4TmV4dCA9IGR4c1tpICsgMV07XG4gICAgICAgICAgICAgICAgdmFyIGNvbW1vbiA9IGR4ICsgZHhOZXh0O1xuICAgICAgICAgICAgICAgIGMxcy5wdXNoKDMgKiBjb21tb24gLyAoKGNvbW1vbiArIGR4TmV4dCkgLyBtMiArIChjb21tb24gKyBkeCkgLyBtTmV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGMxcy5wdXNoKG1zW21zLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgLy8gR2V0IGRlZ3JlZS0yIGFuZCBkZWdyZWUtMyBjb2VmZmljaWVudHNcbiAgICAgICAgdmFyIGMycyA9IFtdO1xuICAgICAgICB2YXIgYzNzID0gW107XG4gICAgICAgIHZhciBtO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGMxcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICAgIG0gPSBtc1tpXTtcbiAgICAgICAgICAgIHZhciBjMSA9IGMxc1tpXTtcbiAgICAgICAgICAgIHZhciBpbnZEeCA9IDEgLyBkeHNbaV07XG4gICAgICAgICAgICB2YXIgY29tbW9uID0gYzEgKyBjMXNbaSArIDFdIC0gbSAtIG07XG4gICAgICAgICAgICBjMnMucHVzaCgobSAtIGMxIC0gY29tbW9uKSAqIGludkR4KTtcbiAgICAgICAgICAgIGMzcy5wdXNoKGNvbW1vbiAqIGludkR4ICogaW52RHgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMueHMgPSB4cztcbiAgICAgICAgdGhpcy55cyA9IHlzO1xuICAgICAgICB0aGlzLmMxcyA9IGMxcztcbiAgICAgICAgdGhpcy5jMnMgPSBjMnM7XG4gICAgICAgIHRoaXMuYzNzID0gYzNzO1xuICAgIH1cbiAgICBNb25vdG9uaWNJbnRlcnBvbGFudC5wcm90b3R5cGUuaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiAoeCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCB4cyA9IF9hLnhzLCB5cyA9IF9hLnlzLCBjMXMgPSBfYS5jMXMsIGMycyA9IF9hLmMycywgYzNzID0gX2EuYzNzO1xuICAgICAgICAvLyBUaGUgcmlnaHRtb3N0IHBvaW50IGluIHRoZSBkYXRhc2V0IHNob3VsZCBnaXZlIGFuIGV4YWN0IHJlc3VsdFxuICAgICAgICB2YXIgaSA9IHhzLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmICh4ID09PSB4c1tpXSkge1xuICAgICAgICAgICAgcmV0dXJuIHlzW2ldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNlYXJjaCBmb3IgdGhlIGludGVydmFsIHggaXMgaW4sIHJldHVybmluZyB0aGUgY29ycmVzcG9uZGluZyB5IGlmIHggaXMgb25lIG9mIHRoZSBvcmlnaW5hbCB4c1xuICAgICAgICB2YXIgbG93ID0gMDtcbiAgICAgICAgdmFyIGhpZ2ggPSBjM3MubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIG1pZDtcbiAgICAgICAgd2hpbGUgKGxvdyA8PSBoaWdoKSB7XG4gICAgICAgICAgICBtaWQgPSBNYXRoLmZsb29yKDAuNSAqIChsb3cgKyBoaWdoKSk7XG4gICAgICAgICAgICB2YXIgeEhlcmUgPSB4c1ttaWRdO1xuICAgICAgICAgICAgaWYgKHhIZXJlIDwgeCkge1xuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh4SGVyZSA+IHgpIHtcbiAgICAgICAgICAgICAgICBoaWdoID0gbWlkIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB5c1ttaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGkgPSBNYXRoLm1heCgwLCBoaWdoKTtcbiAgICAgICAgLy8gSW50ZXJwb2xhdGVcbiAgICAgICAgdmFyIGRpZmYgPSB4IC0geHNbaV07XG4gICAgICAgIHZhciBkaWZmU3EgPSBkaWZmICogZGlmZjtcbiAgICAgICAgcmV0dXJuIHlzW2ldICsgYzFzW2ldICogZGlmZiArIGMyc1tpXSAqIGRpZmZTcSArIGMzc1tpXSAqIGRpZmYgKiBkaWZmU3E7XG4gICAgfTtcbiAgICByZXR1cm4gTW9ub3RvbmljSW50ZXJwb2xhbnQ7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTW9ub3RvbmljSW50ZXJwb2xhbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOYXRpdmVEcmFnU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5hdGl2ZURyYWdTb3VyY2UoY29uZmlnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLml0ZW0gPSB7fTtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5jb25maWcuZXhwb3NlUHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcy5pdGVtLCBwcm9wZXJ0eSwge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJCcm93c2VyIGRvZXNuJ3QgYWxsb3cgcmVhZGluZyBcXFwiXCIgKyBwcm9wZXJ0eSArIFwiXFxcIiB1bnRpbCB0aGUgZHJvcCBldmVudC5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIE5hdGl2ZURyYWdTb3VyY2UucHJvdG90eXBlLm11dGF0ZUl0ZW1CeVJlYWRpbmdEYXRhVHJhbnNmZXIgPSBmdW5jdGlvbiAoZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBuZXdQcm9wZXJ0aWVzID0ge307XG4gICAgICAgIGlmIChkYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMuY29uZmlnLmV4cG9zZVByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgbmV3UHJvcGVydGllc1twcm9wZXJ0eV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfdGhpcy5jb25maWcuZXhwb3NlUHJvcGVydGllc1twcm9wZXJ0eV0oZGF0YVRyYW5zZmVyLCBfdGhpcy5jb25maWcubWF0Y2hlc1R5cGVzKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGhpcy5pdGVtLCBuZXdQcm9wZXJ0aWVzKTtcbiAgICB9O1xuICAgIE5hdGl2ZURyYWdTb3VyY2UucHJvdG90eXBlLmNhbkRyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgTmF0aXZlRHJhZ1NvdXJjZS5wcm90b3R5cGUuYmVnaW5EcmFnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtO1xuICAgIH07XG4gICAgTmF0aXZlRHJhZ1NvdXJjZS5wcm90b3R5cGUuaXNEcmFnZ2luZyA9IGZ1bmN0aW9uIChtb25pdG9yLCBoYW5kbGUpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZSA9PT0gbW9uaXRvci5nZXRTb3VyY2VJZCgpO1xuICAgIH07XG4gICAgTmF0aXZlRHJhZ1NvdXJjZS5wcm90b3R5cGUuZW5kRHJhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZW1wdHlcbiAgICB9O1xuICAgIHJldHVybiBOYXRpdmVEcmFnU291cmNlO1xufSgpKTtcbmV4cG9ydHMuTmF0aXZlRHJhZ1NvdXJjZSA9IE5hdGl2ZURyYWdTb3VyY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGdldERhdGFGcm9tRGF0YVRyYW5zZmVyKGRhdGFUcmFuc2ZlciwgdHlwZXNUb1RyeSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgdmFyIHJlc3VsdCA9IHR5cGVzVG9UcnkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHRTb0ZhciwgdHlwZVRvVHJ5KSB7IHJldHVybiByZXN1bHRTb0ZhciB8fCBkYXRhVHJhbnNmZXIuZ2V0RGF0YSh0eXBlVG9UcnkpOyB9LCAnJyk7XG4gICAgcmV0dXJuIHJlc3VsdCAhPSBudWxsID8gcmVzdWx0IDogZGVmYXVsdFZhbHVlO1xufVxuZXhwb3J0cy5nZXREYXRhRnJvbURhdGFUcmFuc2ZlciA9IGdldERhdGFGcm9tRGF0YVRyYW5zZmVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbmF0aXZlVHlwZXNDb25maWdfMSA9IHJlcXVpcmUoXCIuL25hdGl2ZVR5cGVzQ29uZmlnXCIpO1xudmFyIE5hdGl2ZURyYWdTb3VyY2VfMSA9IHJlcXVpcmUoXCIuL05hdGl2ZURyYWdTb3VyY2VcIik7XG5mdW5jdGlvbiBjcmVhdGVOYXRpdmVEcmFnU291cmNlKHR5cGUpIHtcbiAgICByZXR1cm4gbmV3IE5hdGl2ZURyYWdTb3VyY2VfMS5OYXRpdmVEcmFnU291cmNlKG5hdGl2ZVR5cGVzQ29uZmlnXzEubmF0aXZlVHlwZXNDb25maWdbdHlwZV0pO1xufVxuZXhwb3J0cy5jcmVhdGVOYXRpdmVEcmFnU291cmNlID0gY3JlYXRlTmF0aXZlRHJhZ1NvdXJjZTtcbmZ1bmN0aW9uIG1hdGNoTmF0aXZlSXRlbVR5cGUoZGF0YVRyYW5zZmVyKSB7XG4gICAgaWYgKCFkYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBkYXRhVHJhbnNmZXJUeXBlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGFUcmFuc2Zlci50eXBlcyB8fCBbXSk7XG4gICAgcmV0dXJuIChPYmplY3Qua2V5cyhuYXRpdmVUeXBlc0NvbmZpZ18xLm5hdGl2ZVR5cGVzQ29uZmlnKS5maWx0ZXIoZnVuY3Rpb24gKG5hdGl2ZUl0ZW1UeXBlKSB7XG4gICAgICAgIHZhciBtYXRjaGVzVHlwZXMgPSBuYXRpdmVUeXBlc0NvbmZpZ18xLm5hdGl2ZVR5cGVzQ29uZmlnW25hdGl2ZUl0ZW1UeXBlXS5tYXRjaGVzVHlwZXM7XG4gICAgICAgIHJldHVybiBtYXRjaGVzVHlwZXMuc29tZShmdW5jdGlvbiAodCkgeyByZXR1cm4gZGF0YVRyYW5zZmVyVHlwZXMuaW5kZXhPZih0KSA+IC0xOyB9KTtcbiAgICB9KVswXSB8fCBudWxsKTtcbn1cbmV4cG9ydHMubWF0Y2hOYXRpdmVJdGVtVHlwZSA9IG1hdGNoTmF0aXZlSXRlbVR5cGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfYTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBOYXRpdmVUeXBlcyA9IHJlcXVpcmUoXCIuLi9OYXRpdmVUeXBlc1wiKTtcbnZhciBnZXREYXRhRnJvbURhdGFUcmFuc2Zlcl8xID0gcmVxdWlyZShcIi4vZ2V0RGF0YUZyb21EYXRhVHJhbnNmZXJcIik7XG5leHBvcnRzLm5hdGl2ZVR5cGVzQ29uZmlnID0gKF9hID0ge30sXG4gICAgX2FbTmF0aXZlVHlwZXMuRklMRV0gPSB7XG4gICAgICAgIGV4cG9zZVByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIGZpbGVzOiBmdW5jdGlvbiAoZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGFUcmFuc2Zlci5maWxlcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXRlbXM6IGZ1bmN0aW9uIChkYXRhVHJhbnNmZXIpIHsgcmV0dXJuIGRhdGFUcmFuc2Zlci5pdGVtczsgfSxcbiAgICAgICAgfSxcbiAgICAgICAgbWF0Y2hlc1R5cGVzOiBbJ0ZpbGVzJ10sXG4gICAgfSxcbiAgICBfYVtOYXRpdmVUeXBlcy5VUkxdID0ge1xuICAgICAgICBleHBvc2VQcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICB1cmxzOiBmdW5jdGlvbiAoZGF0YVRyYW5zZmVyLCBtYXRjaGVzVHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RGF0YUZyb21EYXRhVHJhbnNmZXJfMS5nZXREYXRhRnJvbURhdGFUcmFuc2ZlcihkYXRhVHJhbnNmZXIsIG1hdGNoZXNUeXBlcywgJycpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG1hdGNoZXNUeXBlczogWydVcmwnLCAndGV4dC91cmktbGlzdCddLFxuICAgIH0sXG4gICAgX2FbTmF0aXZlVHlwZXMuVEVYVF0gPSB7XG4gICAgICAgIGV4cG9zZVByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgIHRleHQ6IGZ1bmN0aW9uIChkYXRhVHJhbnNmZXIsIG1hdGNoZXNUeXBlcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXREYXRhRnJvbURhdGFUcmFuc2Zlcl8xLmdldERhdGFGcm9tRGF0YVRyYW5zZmVyKGRhdGFUcmFuc2ZlciwgbWF0Y2hlc1R5cGVzLCAnJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBtYXRjaGVzVHlwZXM6IFsnVGV4dCcsICd0ZXh0L3BsYWluJ10sXG4gICAgfSxcbiAgICBfYSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRklMRSA9ICdfX05BVElWRV9GSUxFX18nO1xuZXhwb3J0cy5VUkwgPSAnX19OQVRJVkVfVVJMX18nO1xuZXhwb3J0cy5URVhUID0gJ19fTkFUSVZFX1RFWFRfXyc7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCcm93c2VyRGV0ZWN0b3JfMSA9IHJlcXVpcmUoXCIuL0Jyb3dzZXJEZXRlY3RvclwiKTtcbnZhciBNb25vdG9uaWNJbnRlcnBvbGFudF8xID0gcmVxdWlyZShcIi4vTW9ub3RvbmljSW50ZXJwb2xhbnRcIik7XG52YXIgRUxFTUVOVF9OT0RFID0gMTtcbmZ1bmN0aW9uIGdldE5vZGVDbGllbnRPZmZzZXQobm9kZSkge1xuICAgIHZhciBlbCA9IG5vZGUubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSA/IG5vZGUgOiBub2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKCFlbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIF9hID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHRvcCA9IF9hLnRvcCwgbGVmdCA9IF9hLmxlZnQ7XG4gICAgcmV0dXJuIHsgeDogbGVmdCwgeTogdG9wIH07XG59XG5leHBvcnRzLmdldE5vZGVDbGllbnRPZmZzZXQgPSBnZXROb2RlQ2xpZW50T2Zmc2V0O1xuZnVuY3Rpb24gZ2V0RXZlbnRDbGllbnRPZmZzZXQoZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGUuY2xpZW50WCxcbiAgICAgICAgeTogZS5jbGllbnRZLFxuICAgIH07XG59XG5leHBvcnRzLmdldEV2ZW50Q2xpZW50T2Zmc2V0ID0gZ2V0RXZlbnRDbGllbnRPZmZzZXQ7XG5mdW5jdGlvbiBpc0ltYWdlTm9kZShub2RlKSB7XG4gICAgcmV0dXJuIChub2RlLm5vZGVOYW1lID09PSAnSU1HJyAmJlxuICAgICAgICAoQnJvd3NlckRldGVjdG9yXzEuaXNGaXJlZm94KCkgfHwgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jb250YWlucyhub2RlKSkpO1xufVxuZnVuY3Rpb24gZ2V0RHJhZ1ByZXZpZXdTaXplKGlzSW1hZ2UsIGRyYWdQcmV2aWV3LCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0KSB7XG4gICAgdmFyIGRyYWdQcmV2aWV3V2lkdGggPSBpc0ltYWdlID8gZHJhZ1ByZXZpZXcud2lkdGggOiBzb3VyY2VXaWR0aDtcbiAgICB2YXIgZHJhZ1ByZXZpZXdIZWlnaHQgPSBpc0ltYWdlID8gZHJhZ1ByZXZpZXcuaGVpZ2h0IDogc291cmNlSGVpZ2h0O1xuICAgIC8vIFdvcmsgYXJvdW5kIEAyeCBjb29yZGluYXRlIGRpc2NyZXBhbmNpZXMgaW4gYnJvd3NlcnNcbiAgICBpZiAoQnJvd3NlckRldGVjdG9yXzEuaXNTYWZhcmkoKSAmJiBpc0ltYWdlKSB7XG4gICAgICAgIGRyYWdQcmV2aWV3SGVpZ2h0IC89IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICBkcmFnUHJldmlld1dpZHRoIC89IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgIH1cbiAgICByZXR1cm4geyBkcmFnUHJldmlld1dpZHRoOiBkcmFnUHJldmlld1dpZHRoLCBkcmFnUHJldmlld0hlaWdodDogZHJhZ1ByZXZpZXdIZWlnaHQgfTtcbn1cbmZ1bmN0aW9uIGdldERyYWdQcmV2aWV3T2Zmc2V0KHNvdXJjZU5vZGUsIGRyYWdQcmV2aWV3LCBjbGllbnRPZmZzZXQsIGFuY2hvclBvaW50LCBvZmZzZXRQb2ludCkge1xuICAgIC8vIFRoZSBicm93c2VycyB3aWxsIHVzZSB0aGUgaW1hZ2UgaW50cmluc2ljIHNpemUgdW5kZXIgZGlmZmVyZW50IGNvbmRpdGlvbnMuXG4gICAgLy8gRmlyZWZveCBvbmx5IGNhcmVzIGlmIGl0J3MgYW4gaW1hZ2UsIGJ1dCBXZWJLaXQgYWxzbyB3YW50cyBpdCB0byBiZSBkZXRhY2hlZC5cbiAgICB2YXIgaXNJbWFnZSA9IGlzSW1hZ2VOb2RlKGRyYWdQcmV2aWV3KTtcbiAgICB2YXIgZHJhZ1ByZXZpZXdOb2RlID0gaXNJbWFnZSA/IHNvdXJjZU5vZGUgOiBkcmFnUHJldmlldztcbiAgICB2YXIgZHJhZ1ByZXZpZXdOb2RlT2Zmc2V0RnJvbUNsaWVudCA9IGdldE5vZGVDbGllbnRPZmZzZXQoZHJhZ1ByZXZpZXdOb2RlKTtcbiAgICB2YXIgb2Zmc2V0RnJvbURyYWdQcmV2aWV3ID0ge1xuICAgICAgICB4OiBjbGllbnRPZmZzZXQueCAtIGRyYWdQcmV2aWV3Tm9kZU9mZnNldEZyb21DbGllbnQueCxcbiAgICAgICAgeTogY2xpZW50T2Zmc2V0LnkgLSBkcmFnUHJldmlld05vZGVPZmZzZXRGcm9tQ2xpZW50LnksXG4gICAgfTtcbiAgICB2YXIgc291cmNlV2lkdGggPSBzb3VyY2VOb2RlLm9mZnNldFdpZHRoLCBzb3VyY2VIZWlnaHQgPSBzb3VyY2VOb2RlLm9mZnNldEhlaWdodDtcbiAgICB2YXIgYW5jaG9yWCA9IGFuY2hvclBvaW50LmFuY2hvclgsIGFuY2hvclkgPSBhbmNob3JQb2ludC5hbmNob3JZO1xuICAgIHZhciBfYSA9IGdldERyYWdQcmV2aWV3U2l6ZShpc0ltYWdlLCBkcmFnUHJldmlldywgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCksIGRyYWdQcmV2aWV3V2lkdGggPSBfYS5kcmFnUHJldmlld1dpZHRoLCBkcmFnUHJldmlld0hlaWdodCA9IF9hLmRyYWdQcmV2aWV3SGVpZ2h0O1xuICAgIHZhciBjYWxjdWxhdGVZT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW50ZXJwb2xhbnRZID0gbmV3IE1vbm90b25pY0ludGVycG9sYW50XzEuZGVmYXVsdChbMCwgMC41LCAxXSwgW1xuICAgICAgICAgICAgLy8gRG9jayB0byB0aGUgdG9wXG4gICAgICAgICAgICBvZmZzZXRGcm9tRHJhZ1ByZXZpZXcueSxcbiAgICAgICAgICAgIC8vIEFsaWduIGF0IHRoZSBjZW50ZXJcbiAgICAgICAgICAgIChvZmZzZXRGcm9tRHJhZ1ByZXZpZXcueSAvIHNvdXJjZUhlaWdodCkgKiBkcmFnUHJldmlld0hlaWdodCxcbiAgICAgICAgICAgIC8vIERvY2sgdG8gdGhlIGJvdHRvbVxuICAgICAgICAgICAgb2Zmc2V0RnJvbURyYWdQcmV2aWV3LnkgKyBkcmFnUHJldmlld0hlaWdodCAtIHNvdXJjZUhlaWdodCxcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciB5ID0gaW50ZXJwb2xhbnRZLmludGVycG9sYXRlKGFuY2hvclkpO1xuICAgICAgICAvLyBXb3JrIGFyb3VuZCBTYWZhcmkgOCBwb3NpdGlvbmluZyBidWdcbiAgICAgICAgaWYgKEJyb3dzZXJEZXRlY3Rvcl8xLmlzU2FmYXJpKCkgJiYgaXNJbWFnZSkge1xuICAgICAgICAgICAgLy8gV2UnbGwgaGF2ZSB0byB3YWl0IGZvciBAM3ggdG8gc2VlIGlmIHRoaXMgaXMgZW50aXJlbHkgY29ycmVjdFxuICAgICAgICAgICAgeSArPSAod2luZG93LmRldmljZVBpeGVsUmF0aW8gLSAxKSAqIGRyYWdQcmV2aWV3SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5O1xuICAgIH07XG4gICAgdmFyIGNhbGN1bGF0ZVhPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEludGVycG9sYXRlIGNvb3JkaW5hdGVzIGRlcGVuZGluZyBvbiBhbmNob3IgcG9pbnRcbiAgICAgICAgLy8gSWYgeW91IGtub3cgYSBzaW1wbGVyIHdheSB0byBkbyB0aGlzLCBsZXQgbWUga25vd1xuICAgICAgICB2YXIgaW50ZXJwb2xhbnRYID0gbmV3IE1vbm90b25pY0ludGVycG9sYW50XzEuZGVmYXVsdChbMCwgMC41LCAxXSwgW1xuICAgICAgICAgICAgLy8gRG9jayB0byB0aGUgbGVmdFxuICAgICAgICAgICAgb2Zmc2V0RnJvbURyYWdQcmV2aWV3LngsXG4gICAgICAgICAgICAvLyBBbGlnbiBhdCB0aGUgY2VudGVyXG4gICAgICAgICAgICAob2Zmc2V0RnJvbURyYWdQcmV2aWV3LnggLyBzb3VyY2VXaWR0aCkgKiBkcmFnUHJldmlld1dpZHRoLFxuICAgICAgICAgICAgLy8gRG9jayB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgIG9mZnNldEZyb21EcmFnUHJldmlldy54ICsgZHJhZ1ByZXZpZXdXaWR0aCAtIHNvdXJjZVdpZHRoLFxuICAgICAgICBdKTtcbiAgICAgICAgcmV0dXJuIGludGVycG9sYW50WC5pbnRlcnBvbGF0ZShhbmNob3JYKTtcbiAgICB9O1xuICAgIC8vIEZvcmNlIG9mZnNldHMgaWYgc3BlY2lmaWVkIGluIHRoZSBvcHRpb25zLlxuICAgIHZhciBvZmZzZXRYID0gb2Zmc2V0UG9pbnQub2Zmc2V0WCwgb2Zmc2V0WSA9IG9mZnNldFBvaW50Lm9mZnNldFk7XG4gICAgdmFyIGlzTWFudWFsT2Zmc2V0WCA9IG9mZnNldFggPT09IDAgfHwgb2Zmc2V0WDtcbiAgICB2YXIgaXNNYW51YWxPZmZzZXRZID0gb2Zmc2V0WSA9PT0gMCB8fCBvZmZzZXRZO1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGlzTWFudWFsT2Zmc2V0WCA/IG9mZnNldFggOiBjYWxjdWxhdGVYT2Zmc2V0KCksXG4gICAgICAgIHk6IGlzTWFudWFsT2Zmc2V0WSA/IG9mZnNldFkgOiBjYWxjdWxhdGVZT2Zmc2V0KCksXG4gICAgfTtcbn1cbmV4cG9ydHMuZ2V0RHJhZ1ByZXZpZXdPZmZzZXQgPSBnZXREcmFnUHJldmlld09mZnNldDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGVtcHR5SW1hZ2U7XG5mdW5jdGlvbiBnZXRFbXB0eUltYWdlKCkge1xuICAgIGlmICghZW1wdHlJbWFnZSkge1xuICAgICAgICBlbXB0eUltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGVtcHR5SW1hZ2Uuc3JjID1cbiAgICAgICAgICAgICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PSc7XG4gICAgfVxuICAgIHJldHVybiBlbXB0eUltYWdlO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0RW1wdHlJbWFnZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEhUTUw1QmFja2VuZF8xID0gcmVxdWlyZShcIi4vSFRNTDVCYWNrZW5kXCIpO1xudmFyIGdldEVtcHR5SW1hZ2VfMSA9IHJlcXVpcmUoXCIuL2dldEVtcHR5SW1hZ2VcIik7XG5leHBvcnRzLmdldEVtcHR5SW1hZ2UgPSBnZXRFbXB0eUltYWdlXzEuZGVmYXVsdDtcbnZhciBOYXRpdmVUeXBlcyA9IHJlcXVpcmUoXCIuL05hdGl2ZVR5cGVzXCIpO1xuZXhwb3J0cy5OYXRpdmVUeXBlcyA9IE5hdGl2ZVR5cGVzO1xuZnVuY3Rpb24gY3JlYXRlSFRNTDVCYWNrZW5kKG1hbmFnZXIpIHtcbiAgICByZXR1cm4gbmV3IEhUTUw1QmFja2VuZF8xLmRlZmF1bHQobWFuYWdlcik7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVIVE1MNUJhY2tlbmQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIG1lbW9pemUoZm4pIHtcbiAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZm4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIG1lbW9pemVkO1xufVxuZXhwb3J0cy5tZW1vaXplID0gbWVtb2l6ZTtcbi8qKlxuICogZHJvcC1pbiByZXBsYWNlbWVudCBmb3IgXy53aXRob3V0XG4gKi9cbmZ1bmN0aW9uIHdpdGhvdXQoaXRlbXMsIGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpICE9PSBpdGVtOyB9KTtcbn1cbmV4cG9ydHMud2l0aG91dCA9IHdpdGhvdXQ7XG5mdW5jdGlvbiB1bmlvbihpdGVtc0EsIGl0ZW1zQikge1xuICAgIHZhciBzZXQgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGluc2VydEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gc2V0LmFkZChpdGVtKTsgfTtcbiAgICBpdGVtc0EuZm9yRWFjaChpbnNlcnRJdGVtKTtcbiAgICBpdGVtc0IuZm9yRWFjaChpbnNlcnRJdGVtKTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gcmVzdWx0LnB1c2goa2V5KTsgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMudW5pb24gPSB1bmlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xudmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIGRuZF9jb3JlXzEgPSByZXF1aXJlKFwiZG5kLWNvcmVcIik7XG52YXIgY2hlY2tEZWNvcmF0b3JBcmd1bWVudHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2NoZWNrRGVjb3JhdG9yQXJndW1lbnRzXCIpO1xudmFyIGlzUmVmYWJsZV8xID0gcmVxdWlyZShcIi4vdXRpbHMvaXNSZWZhYmxlXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xudmFyIGhvaXN0U3RhdGljcyA9IHJlcXVpcmUoJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJyk7XG4vKipcbiAqIENyZWF0ZSB0aGUgUmVhY3QgQ29udGV4dFxuICovXG5leHBvcnRzLmNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgICBkcmFnRHJvcE1hbmFnZXI6IHVuZGVmaW5lZCxcbn0pO1xuZXhwb3J0cy5Db25zdW1lciA9IGV4cG9ydHMuY29udGV4dC5Db25zdW1lciwgZXhwb3J0cy5Qcm92aWRlciA9IGV4cG9ydHMuY29udGV4dC5Qcm92aWRlcjtcbi8qKlxuICogQ3JlYXRlcyB0aGUgY29udGV4dCBvYmplY3Qgd2UncmUgcHJvdmlkaW5nXG4gKiBAcGFyYW0gYmFja2VuZFxuICogQHBhcmFtIGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ2hpbGRDb250ZXh0KGJhY2tlbmQsIGNvbnRleHQsIGRlYnVnTW9kZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRyYWdEcm9wTWFuYWdlcjogZG5kX2NvcmVfMS5jcmVhdGVEcmFnRHJvcE1hbmFnZXIoYmFja2VuZCwgY29udGV4dCwgZGVidWdNb2RlKSxcbiAgICB9O1xufVxuZXhwb3J0cy5jcmVhdGVDaGlsZENvbnRleHQgPSBjcmVhdGVDaGlsZENvbnRleHQ7XG4vKipcbiAqIEEgUmVhY3QgY29tcG9uZW50IHRoYXQgcHJvdmlkZXMgdGhlIFJlYWN0LURuRCBjb250ZXh0XG4gKi9cbmV4cG9ydHMuRHJhZ0Ryb3BDb250ZXh0UHJvdmlkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCJdKTtcbiAgICB2YXIgY29udGV4dFZhbHVlID0gJ21hbmFnZXInIGluIHByb3BzXG4gICAgICAgID8geyBkcmFnRHJvcE1hbmFnZXI6IHByb3BzLm1hbmFnZXIgfVxuICAgICAgICA6IGNyZWF0ZUNoaWxkQ29udGV4dChwcm9wcy5iYWNrZW5kLCBwcm9wcy5jb250ZXh0LCBwcm9wcy5kZWJ1Z01vZGUpO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KGV4cG9ydHMuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHRWYWx1ZSB9LCBjaGlsZHJlbik7XG59O1xuLyoqXG4gKiBXcmFwIHRoZSByb290IGNvbXBvbmVudCBvZiB5b3VyIGFwcGxpY2F0aW9uIHdpdGggRHJhZ0Ryb3BDb250ZXh0IGRlY29yYXRvciB0byBzZXQgdXAgUmVhY3QgRG5ELlxuICogVGhpcyBsZXRzIHlvdSBzcGVjaWZ5IHRoZSBiYWNrZW5kLCBhbmQgc2V0cyB1cCB0aGUgc2hhcmVkIERuRCBzdGF0ZSBiZWhpbmQgdGhlIHNjZW5lcy5cbiAqIEBwYXJhbSBiYWNrZW5kRmFjdG9yeSBUaGUgRG5EIGJhY2tlbmQgZmFjdG9yeVxuICogQHBhcmFtIGJhY2tlbmRDb250ZXh0IFRoZSBiYWNrZW5kIGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gRHJhZ0Ryb3BDb250ZXh0KGJhY2tlbmRGYWN0b3J5LCBiYWNrZW5kQ29udGV4dCwgZGVidWdNb2RlKSB7XG4gICAgY2hlY2tEZWNvcmF0b3JBcmd1bWVudHNfMS5kZWZhdWx0KCdEcmFnRHJvcENvbnRleHQnLCAnYmFja2VuZCcsIGJhY2tlbmRGYWN0b3J5KTtcbiAgICB2YXIgY2hpbGRDb250ZXh0ID0gY3JlYXRlQ2hpbGRDb250ZXh0KGJhY2tlbmRGYWN0b3J5LCBiYWNrZW5kQ29udGV4dCwgZGVidWdNb2RlKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGVjb3JhdGVDb250ZXh0KERlY29yYXRlZENvbXBvbmVudCkge1xuICAgICAgICB2YXIgRGVjb3JhdGVkID0gRGVjb3JhdGVkQ29tcG9uZW50O1xuICAgICAgICB2YXIgZGlzcGxheU5hbWUgPSBEZWNvcmF0ZWQuZGlzcGxheU5hbWUgfHwgRGVjb3JhdGVkLm5hbWUgfHwgJ0NvbXBvbmVudCc7XG4gICAgICAgIHZhciBEcmFnRHJvcENvbnRleHRDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgICAgICBfX2V4dGVuZHMoRHJhZ0Ryb3BDb250ZXh0Q29udGFpbmVyLCBfc3VwZXIpO1xuICAgICAgICAgICAgZnVuY3Rpb24gRHJhZ0Ryb3BDb250ZXh0Q29udGFpbmVyKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICAgICAgICAgICAgICAgIF90aGlzLmdldE1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjaGlsZENvbnRleHQuZHJhZ0Ryb3BNYW5hZ2VyOyB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIERyYWdEcm9wQ29udGV4dENvbnRhaW5lci5wcm90b3R5cGUuZ2V0RGVjb3JhdGVkQ29tcG9uZW50SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW52YXJpYW50KHRoaXMucmVmLmN1cnJlbnQsICdJbiBvcmRlciB0byBhY2Nlc3MgYW4gaW5zdGFuY2Ugb2YgdGhlIGRlY29yYXRlZCBjb21wb25lbnQsIGl0IG11c3QgZWl0aGVyIGJlIGEgY2xhc3MgY29tcG9uZW50IG9yIHVzZSBSZWFjdC5mb3J3YXJkUmVmKCknKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWYuY3VycmVudDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBEcmFnRHJvcENvbnRleHRDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoZXhwb3J0cy5Qcm92aWRlciwgeyB2YWx1ZTogY2hpbGRDb250ZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVjb3JhdGVkLCBfX2Fzc2lnbih7fSwgdGhpcy5wcm9wcywgeyByZWY6IGlzUmVmYWJsZV8xLmlzUmVmYWJsZShEZWNvcmF0ZWQpID8gdGhpcy5yZWYgOiBudWxsIH0pKSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIERyYWdEcm9wQ29udGV4dENvbnRhaW5lci5EZWNvcmF0ZWRDb21wb25lbnQgPSBEZWNvcmF0ZWRDb21wb25lbnQ7XG4gICAgICAgICAgICBEcmFnRHJvcENvbnRleHRDb250YWluZXIuZGlzcGxheU5hbWUgPSBcIkRyYWdEcm9wQ29udGV4dChcIiArIGRpc3BsYXlOYW1lICsgXCIpXCI7XG4gICAgICAgICAgICByZXR1cm4gRHJhZ0Ryb3BDb250ZXh0Q29udGFpbmVyO1xuICAgICAgICB9KFJlYWN0LkNvbXBvbmVudCkpO1xuICAgICAgICByZXR1cm4gaG9pc3RTdGF0aWNzKERyYWdEcm9wQ29udGV4dENvbnRhaW5lciwgRGVjb3JhdGVkQ29tcG9uZW50KTtcbiAgICB9O1xufVxuZXhwb3J0cy5EcmFnRHJvcENvbnRleHQgPSBEcmFnRHJvcENvbnRleHQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciBjaGVja0RlY29yYXRvckFyZ3VtZW50c18xID0gcmVxdWlyZShcIi4vdXRpbHMvY2hlY2tEZWNvcmF0b3JBcmd1bWVudHNcIik7XG52YXIgRHJhZ0Ryb3BDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9EcmFnRHJvcENvbnRleHRcIik7XG52YXIgaXNSZWZhYmxlXzEgPSByZXF1aXJlKFwiLi91dGlscy9pc1JlZmFibGVcIik7XG52YXIgZGlzY291bnRfbG9kYXNoXzEgPSByZXF1aXJlKFwiLi91dGlscy9kaXNjb3VudF9sb2Rhc2hcIik7XG52YXIgaG9pc3RTdGF0aWNzID0gcmVxdWlyZSgnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKCdzaGFsbG93ZXF1YWwnKTtcbmZ1bmN0aW9uIERyYWdMYXllcihjb2xsZWN0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBjaGVja0RlY29yYXRvckFyZ3VtZW50c18xLmRlZmF1bHQoJ0RyYWdMYXllcicsICdjb2xsZWN0Wywgb3B0aW9uc10nLCBjb2xsZWN0LCBvcHRpb25zKTtcbiAgICBpbnZhcmlhbnQodHlwZW9mIGNvbGxlY3QgPT09ICdmdW5jdGlvbicsICdFeHBlY3RlZCBcImNvbGxlY3RcIiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gRHJhZ0xheWVyIHRvIGJlIGEgZnVuY3Rpb24gdGhhdCBjb2xsZWN0cyBwcm9wcyB0byBpbmplY3QgaW50byB0aGUgY29tcG9uZW50LiAnLCAnSW5zdGVhZCwgcmVjZWl2ZWQgJXMuIFJlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2RyYWctbGF5ZXInLCBjb2xsZWN0KTtcbiAgICBpbnZhcmlhbnQoZGlzY291bnRfbG9kYXNoXzEuaXNQbGFpbk9iamVjdChvcHRpb25zKSwgJ0V4cGVjdGVkIFwib3B0aW9uc1wiIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gRHJhZ0xheWVyIHRvIGJlIGEgcGxhaW4gb2JqZWN0IHdoZW4gc3BlY2lmaWVkLiAnICtcbiAgICAgICAgJ0luc3RlYWQsIHJlY2VpdmVkICVzLiBSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcmFnLWxheWVyJywgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRlY29yYXRlTGF5ZXIoRGVjb3JhdGVkQ29tcG9uZW50KSB7XG4gICAgICAgIHZhciBEZWNvcmF0ZWQgPSBEZWNvcmF0ZWRDb21wb25lbnQ7XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMuYXJlUHJvcHNFcXVhbCwgYXJlUHJvcHNFcXVhbCA9IF9hID09PSB2b2lkIDAgPyBzaGFsbG93RXF1YWwgOiBfYTtcbiAgICAgICAgdmFyIGRpc3BsYXlOYW1lID0gRGVjb3JhdGVkLmRpc3BsYXlOYW1lIHx8IERlY29yYXRlZC5uYW1lIHx8ICdDb21wb25lbnQnO1xuICAgICAgICB2YXIgRHJhZ0xheWVyQ29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICAgICAgX19leHRlbmRzKERyYWdMYXllckNvbnRhaW5lciwgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIERyYWdMYXllckNvbnRhaW5lcigpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgICAgICAgICBfdGhpcy5pc0N1cnJlbnRseU1vdW50ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuaXNDdXJyZW50bHlNb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IF90aGlzLmdldEN1cnJlbnRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNoYWxsb3dFcXVhbChuZXh0U3RhdGUsIF90aGlzLnN0YXRlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRHJhZ0xheWVyQ29udGFpbmVyLnByb3RvdHlwZS5nZXREZWNvcmF0ZWRDb21wb25lbnRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpbnZhcmlhbnQodGhpcy5yZWYuY3VycmVudCwgJ0luIG9yZGVyIHRvIGFjY2VzcyBhbiBpbnN0YW5jZSBvZiB0aGUgZGVjb3JhdGVkIGNvbXBvbmVudCwgaXQgbXVzdCBlaXRoZXIgYmUgYSBjbGFzcyBjb21wb25lbnQgb3IgdXNlIFJlYWN0LmZvcndhcmRSZWYoKScpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlZi5jdXJyZW50O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIERyYWdMYXllckNvbnRhaW5lci5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICghYXJlUHJvcHNFcXVhbChuZXh0UHJvcHMsIHRoaXMucHJvcHMpIHx8XG4gICAgICAgICAgICAgICAgICAgICFzaGFsbG93RXF1YWwobmV4dFN0YXRlLCB0aGlzLnN0YXRlKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgRHJhZ0xheWVyQ29udGFpbmVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ3VycmVudGx5TW91bnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBEcmFnTGF5ZXJDb250YWluZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDdXJyZW50bHlNb3VudGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmVGcm9tT2Zmc2V0Q2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmVGcm9tT2Zmc2V0Q2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmVGcm9tT2Zmc2V0Q2hhbmdlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy51bnN1YnNjcmliZUZyb21TdGF0ZUNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlRnJvbVN0YXRlQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmVGcm9tU3RhdGVDaGFuZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIERyYWdMYXllckNvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KERyYWdEcm9wQ29udGV4dF8xLkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyYWdEcm9wTWFuYWdlciA9IF9hLmRyYWdEcm9wTWFuYWdlcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRyYWdEcm9wTWFuYWdlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWNlaXZlRHJhZ0Ryb3BNYW5hZ2VyKGRyYWdEcm9wTWFuYWdlcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIExldCBjb21wb25lbnREaWRNb3VudCBmaXJlIHRvIGluaXRpYWxpemUgdGhlIGNvbGxlY3RlZCBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmlzQ3VycmVudGx5TW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KERlY29yYXRlZCwgX19hc3NpZ24oe30sIF90aGlzLnByb3BzLCBfdGhpcy5zdGF0ZSwgeyByZWY6IGlzUmVmYWJsZV8xLmlzUmVmYWJsZShEZWNvcmF0ZWQpID8gX3RoaXMucmVmIDogbnVsbCB9KSkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBEcmFnTGF5ZXJDb250YWluZXIucHJvdG90eXBlLnJlY2VpdmVEcmFnRHJvcE1hbmFnZXIgPSBmdW5jdGlvbiAoZHJhZ0Ryb3BNYW5hZ2VyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFuYWdlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5tYW5hZ2VyID0gZHJhZ0Ryb3BNYW5hZ2VyO1xuICAgICAgICAgICAgICAgIGludmFyaWFudCh0eXBlb2YgZHJhZ0Ryb3BNYW5hZ2VyID09PSAnb2JqZWN0JywgJ0NvdWxkIG5vdCBmaW5kIHRoZSBkcmFnIGFuZCBkcm9wIG1hbmFnZXIgaW4gdGhlIGNvbnRleHQgb2YgJXMuICcgK1xuICAgICAgICAgICAgICAgICAgICAnTWFrZSBzdXJlIHRvIHdyYXAgdGhlIHRvcC1sZXZlbCBjb21wb25lbnQgb2YgeW91ciBhcHAgd2l0aCBEcmFnRHJvcENvbnRleHQuICcgK1xuICAgICAgICAgICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy90cm91Ymxlc2hvb3RpbmcjY291bGQtbm90LWZpbmQtdGhlLWRyYWctYW5kLWRyb3AtbWFuYWdlci1pbi10aGUtY29udGV4dCcsIGRpc3BsYXlOYW1lLCBkaXNwbGF5TmFtZSk7XG4gICAgICAgICAgICAgICAgdmFyIG1vbml0b3IgPSB0aGlzLm1hbmFnZXIuZ2V0TW9uaXRvcigpO1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmVGcm9tT2Zmc2V0Q2hhbmdlID0gbW9uaXRvci5zdWJzY3JpYmVUb09mZnNldENoYW5nZSh0aGlzLmhhbmRsZUNoYW5nZSk7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZUZyb21TdGF0ZUNoYW5nZSA9IG1vbml0b3Iuc3Vic2NyaWJlVG9TdGF0ZUNoYW5nZSh0aGlzLmhhbmRsZUNoYW5nZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgRHJhZ0xheWVyQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDdXJyZW50U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1hbmFnZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbW9uaXRvciA9IHRoaXMubWFuYWdlci5nZXRNb25pdG9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3QobW9uaXRvciwgdGhpcy5wcm9wcyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgRHJhZ0xheWVyQ29udGFpbmVyLmRpc3BsYXlOYW1lID0gXCJEcmFnTGF5ZXIoXCIgKyBkaXNwbGF5TmFtZSArIFwiKVwiO1xuICAgICAgICAgICAgRHJhZ0xheWVyQ29udGFpbmVyLkRlY29yYXRlZENvbXBvbmVudCA9IERlY29yYXRlZENvbXBvbmVudDtcbiAgICAgICAgICAgIHJldHVybiBEcmFnTGF5ZXJDb250YWluZXI7XG4gICAgICAgIH0oUmVhY3QuQ29tcG9uZW50KSk7XG4gICAgICAgIHJldHVybiBob2lzdFN0YXRpY3MoRHJhZ0xheWVyQ29udGFpbmVyLCBEZWNvcmF0ZWRDb21wb25lbnQpO1xuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSBEcmFnTGF5ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbi8qXG4gKiBBIHV0aWxpdHkgZm9yIHJlbmRlcmluZyBhIGRyYWcgcHJldmlldyBpbWFnZVxuICovXG52YXIgRHJhZ1ByZXZpZXdJbWFnZSA9IFJlYWN0Lm1lbW8oZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNvbm5lY3QgPSBfYS5jb25uZWN0LCBzcmMgPSBfYS5zcmM7XG4gICAgaWYgKHR5cGVvZiBJbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGltZ18xID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZ18xLnNyYyA9IHNyYztcbiAgICAgICAgaW1nXzEub25sb2FkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdChpbWdfMSk7IH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufSk7XG5EcmFnUHJldmlld0ltYWdlLmRpc3BsYXlOYW1lID0gJ0RyYWdQcmV2aWV3SW1hZ2UnO1xuZXhwb3J0cy5kZWZhdWx0ID0gRHJhZ1ByZXZpZXdJbWFnZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNoZWNrRGVjb3JhdG9yQXJndW1lbnRzXzEgPSByZXF1aXJlKFwiLi91dGlscy9jaGVja0RlY29yYXRvckFyZ3VtZW50c1wiKTtcbnZhciBkZWNvcmF0ZUhhbmRsZXJfMSA9IHJlcXVpcmUoXCIuL2RlY29yYXRlSGFuZGxlclwiKTtcbnZhciByZWdpc3RlclNvdXJjZV8xID0gcmVxdWlyZShcIi4vcmVnaXN0ZXJTb3VyY2VcIik7XG52YXIgY3JlYXRlU291cmNlRmFjdG9yeV8xID0gcmVxdWlyZShcIi4vY3JlYXRlU291cmNlRmFjdG9yeVwiKTtcbnZhciBEcmFnU291cmNlTW9uaXRvckltcGxfMSA9IHJlcXVpcmUoXCIuL0RyYWdTb3VyY2VNb25pdG9ySW1wbFwiKTtcbnZhciBTb3VyY2VDb25uZWN0b3JfMSA9IHJlcXVpcmUoXCIuL1NvdXJjZUNvbm5lY3RvclwiKTtcbnZhciBpc1ZhbGlkVHlwZV8xID0gcmVxdWlyZShcIi4vdXRpbHMvaXNWYWxpZFR5cGVcIik7XG52YXIgZGlzY291bnRfbG9kYXNoXzEgPSByZXF1aXJlKFwiLi91dGlscy9kaXNjb3VudF9sb2Rhc2hcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG4vKipcbiAqIERlY29yYXRlcyBhIGNvbXBvbmVudCBhcyBhIGRyYWdzb3VyY2VcbiAqIEBwYXJhbSB0eXBlIFRoZSBkcmFnc291cmNlIHR5cGVcbiAqIEBwYXJhbSBzcGVjIFRoZSBkcmFnIHNvdXJjZSBzcGVjaWZpY2F0aW9uXG4gKiBAcGFyYW0gY29sbGVjdCBUaGUgcHJvcHMgY29sbGVjdG9yIGZ1bmN0aW9uXG4gKiBAcGFyYW0gb3B0aW9ucyBEbkQgb3B0aW9uc1xuICovXG5mdW5jdGlvbiBEcmFnU291cmNlKHR5cGUsIHNwZWMsIGNvbGxlY3QsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGNoZWNrRGVjb3JhdG9yQXJndW1lbnRzXzEuZGVmYXVsdCgnRHJhZ1NvdXJjZScsICd0eXBlLCBzcGVjLCBjb2xsZWN0Wywgb3B0aW9uc10nLCB0eXBlLCBzcGVjLCBjb2xsZWN0LCBvcHRpb25zKTtcbiAgICB2YXIgZ2V0VHlwZSA9IHR5cGU7XG4gICAgaWYgKHR5cGVvZiB0eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGludmFyaWFudChpc1ZhbGlkVHlwZV8xLmRlZmF1bHQodHlwZSksICdFeHBlY3RlZCBcInR5cGVcIiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gRHJhZ1NvdXJjZSB0byBiZSAnICtcbiAgICAgICAgICAgICdhIHN0cmluZywgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBzdHJpbmcgZ2l2ZW4gdGhlIGN1cnJlbnQgcHJvcHMuICcgK1xuICAgICAgICAgICAgJ0luc3RlYWQsIHJlY2VpdmVkICVzLiAnICtcbiAgICAgICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcmFnLXNvdXJjZScsIHR5cGUpO1xuICAgICAgICBnZXRUeXBlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZTsgfTtcbiAgICB9XG4gICAgaW52YXJpYW50KGRpc2NvdW50X2xvZGFzaF8xLmlzUGxhaW5PYmplY3Qoc3BlYyksICdFeHBlY3RlZCBcInNwZWNcIiBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIERyYWdTb3VyY2UgdG8gYmUgJyArXG4gICAgICAgICdhIHBsYWluIG9iamVjdC4gSW5zdGVhZCwgcmVjZWl2ZWQgJXMuICcgK1xuICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJhZy1zb3VyY2UnLCBzcGVjKTtcbiAgICB2YXIgY3JlYXRlU291cmNlID0gY3JlYXRlU291cmNlRmFjdG9yeV8xLmRlZmF1bHQoc3BlYyk7XG4gICAgaW52YXJpYW50KHR5cGVvZiBjb2xsZWN0ID09PSAnZnVuY3Rpb24nLCAnRXhwZWN0ZWQgXCJjb2xsZWN0XCIgcHJvdmlkZWQgYXMgdGhlIHRoaXJkIGFyZ3VtZW50IHRvIERyYWdTb3VyY2UgdG8gYmUgJyArXG4gICAgICAgICdhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHBsYWluIG9iamVjdCBvZiBwcm9wcyB0byBpbmplY3QuICcgK1xuICAgICAgICAnSW5zdGVhZCwgcmVjZWl2ZWQgJXMuICcgK1xuICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJhZy1zb3VyY2UnLCBjb2xsZWN0KTtcbiAgICBpbnZhcmlhbnQoZGlzY291bnRfbG9kYXNoXzEuaXNQbGFpbk9iamVjdChvcHRpb25zKSwgJ0V4cGVjdGVkIFwib3B0aW9uc1wiIHByb3ZpZGVkIGFzIHRoZSBmb3VydGggYXJndW1lbnQgdG8gRHJhZ1NvdXJjZSB0byBiZSAnICtcbiAgICAgICAgJ2EgcGxhaW4gb2JqZWN0IHdoZW4gc3BlY2lmaWVkLiAnICtcbiAgICAgICAgJ0luc3RlYWQsIHJlY2VpdmVkICVzLiAnICtcbiAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2RyYWctc291cmNlJywgY29sbGVjdCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRlY29yYXRlU291cmNlKERlY29yYXRlZENvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gZGVjb3JhdGVIYW5kbGVyXzEuZGVmYXVsdCh7XG4gICAgICAgICAgICBjb250YWluZXJEaXNwbGF5TmFtZTogJ0RyYWdTb3VyY2UnLFxuICAgICAgICAgICAgY3JlYXRlSGFuZGxlcjogY3JlYXRlU291cmNlLFxuICAgICAgICAgICAgcmVnaXN0ZXJIYW5kbGVyOiByZWdpc3RlclNvdXJjZV8xLmRlZmF1bHQsXG4gICAgICAgICAgICBjcmVhdGVDb25uZWN0b3I6IGZ1bmN0aW9uIChiYWNrZW5kKSB7IHJldHVybiBuZXcgU291cmNlQ29ubmVjdG9yXzEuZGVmYXVsdChiYWNrZW5kKTsgfSxcbiAgICAgICAgICAgIGNyZWF0ZU1vbml0b3I6IGZ1bmN0aW9uIChtYW5hZ2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEcmFnU291cmNlTW9uaXRvckltcGxfMS5kZWZhdWx0KG1hbmFnZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIERlY29yYXRlZENvbXBvbmVudDogRGVjb3JhdGVkQ29tcG9uZW50LFxuICAgICAgICAgICAgZ2V0VHlwZTogZ2V0VHlwZSxcbiAgICAgICAgICAgIGNvbGxlY3Q6IGNvbGxlY3QsXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gRHJhZ1NvdXJjZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xudmFyIGlzQ2FsbGluZ0NhbkRyYWcgPSBmYWxzZTtcbnZhciBpc0NhbGxpbmdJc0RyYWdnaW5nID0gZmFsc2U7XG52YXIgRHJhZ1NvdXJjZU1vbml0b3JJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERyYWdTb3VyY2VNb25pdG9ySW1wbChtYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuc291cmNlSWQgPSBudWxsO1xuICAgICAgICB0aGlzLmludGVybmFsTW9uaXRvciA9IG1hbmFnZXIuZ2V0TW9uaXRvcigpO1xuICAgIH1cbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLnJlY2VpdmVIYW5kbGVySWQgPSBmdW5jdGlvbiAoc291cmNlSWQpIHtcbiAgICAgICAgdGhpcy5zb3VyY2VJZCA9IHNvdXJjZUlkO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRIYW5kbGVySWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZUlkO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5jYW5EcmFnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpbnZhcmlhbnQoIWlzQ2FsbGluZ0NhbkRyYWcsICdZb3UgbWF5IG5vdCBjYWxsIG1vbml0b3IuY2FuRHJhZygpIGluc2lkZSB5b3VyIGNhbkRyYWcoKSBpbXBsZW1lbnRhdGlvbi4gJyArXG4gICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJhZy1zb3VyY2UtbW9uaXRvcicpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaXNDYWxsaW5nQ2FuRHJhZyA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuY2FuRHJhZ1NvdXJjZSh0aGlzLnNvdXJjZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlzQ2FsbGluZ0NhbkRyYWcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5pc0RyYWdnaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc291cmNlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpbnZhcmlhbnQoIWlzQ2FsbGluZ0lzRHJhZ2dpbmcsICdZb3UgbWF5IG5vdCBjYWxsIG1vbml0b3IuaXNEcmFnZ2luZygpIGluc2lkZSB5b3VyIGlzRHJhZ2dpbmcoKSBpbXBsZW1lbnRhdGlvbi4gJyArXG4gICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJhZy1zb3VyY2UtbW9uaXRvcicpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaXNDYWxsaW5nSXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuaXNEcmFnZ2luZ1NvdXJjZSh0aGlzLnNvdXJjZUlkKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlzQ2FsbGluZ0lzRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5zdWJzY3JpYmVUb1N0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5zdWJzY3JpYmVUb1N0YXRlQ2hhbmdlKGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuaXNEcmFnZ2luZ1NvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2VJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuaXNEcmFnZ2luZ1NvdXJjZShzb3VyY2VJZCk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmlzT3ZlclRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXRJZCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuaXNPdmVyVGFyZ2V0KHRhcmdldElkLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0VGFyZ2V0SWRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0VGFyZ2V0SWRzKCk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmlzU291cmNlUHVibGljID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuaXNTb3VyY2VQdWJsaWMoKTtcbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0U291cmNlSWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRTb3VyY2VJZCgpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5zdWJzY3JpYmVUb09mZnNldENoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3Iuc3Vic2NyaWJlVG9PZmZzZXRDaGFuZ2UobGlzdGVuZXIpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5jYW5EcmFnU291cmNlID0gZnVuY3Rpb24gKHNvdXJjZUlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5jYW5EcmFnU291cmNlKHNvdXJjZUlkKTtcbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuY2FuRHJvcE9uVGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldElkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5jYW5Ecm9wT25UYXJnZXQodGFyZ2V0SWQpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRJdGVtVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldEl0ZW1UeXBlKCk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmdldEl0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJdGVtKCk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmdldERyb3BSZXN1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXREcm9wUmVzdWx0KCk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmRpZERyb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5kaWREcm9wKCk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmdldEluaXRpYWxDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJbml0aWFsQ2xpZW50T2Zmc2V0KCk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmdldEluaXRpYWxTb3VyY2VDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0KCk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmdldFNvdXJjZUNsaWVudE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldFNvdXJjZUNsaWVudE9mZnNldCgpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRDbGllbnRPZmZzZXQoKTtcbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0RGlmZmVyZW5jZUZyb21Jbml0aWFsT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0RGlmZmVyZW5jZUZyb21Jbml0aWFsT2Zmc2V0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gRHJhZ1NvdXJjZU1vbml0b3JJbXBsO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IERyYWdTb3VyY2VNb25pdG9ySW1wbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGNoZWNrRGVjb3JhdG9yQXJndW1lbnRzXzEgPSByZXF1aXJlKFwiLi91dGlscy9jaGVja0RlY29yYXRvckFyZ3VtZW50c1wiKTtcbnZhciBkZWNvcmF0ZUhhbmRsZXJfMSA9IHJlcXVpcmUoXCIuL2RlY29yYXRlSGFuZGxlclwiKTtcbnZhciByZWdpc3RlclRhcmdldF8xID0gcmVxdWlyZShcIi4vcmVnaXN0ZXJUYXJnZXRcIik7XG52YXIgY3JlYXRlVGFyZ2V0RmFjdG9yeV8xID0gcmVxdWlyZShcIi4vY3JlYXRlVGFyZ2V0RmFjdG9yeVwiKTtcbnZhciBpc1ZhbGlkVHlwZV8xID0gcmVxdWlyZShcIi4vdXRpbHMvaXNWYWxpZFR5cGVcIik7XG52YXIgRHJvcFRhcmdldE1vbml0b3JJbXBsXzEgPSByZXF1aXJlKFwiLi9Ecm9wVGFyZ2V0TW9uaXRvckltcGxcIik7XG52YXIgVGFyZ2V0Q29ubmVjdG9yXzEgPSByZXF1aXJlKFwiLi9UYXJnZXRDb25uZWN0b3JcIik7XG52YXIgZGlzY291bnRfbG9kYXNoXzEgPSByZXF1aXJlKFwiLi91dGlscy9kaXNjb3VudF9sb2Rhc2hcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5mdW5jdGlvbiBEcm9wVGFyZ2V0KHR5cGUsIHNwZWMsIGNvbGxlY3QsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGNoZWNrRGVjb3JhdG9yQXJndW1lbnRzXzEuZGVmYXVsdCgnRHJvcFRhcmdldCcsICd0eXBlLCBzcGVjLCBjb2xsZWN0Wywgb3B0aW9uc10nLCB0eXBlLCBzcGVjLCBjb2xsZWN0LCBvcHRpb25zKTtcbiAgICB2YXIgZ2V0VHlwZSA9IHR5cGU7XG4gICAgaWYgKHR5cGVvZiB0eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGludmFyaWFudChpc1ZhbGlkVHlwZV8xLmRlZmF1bHQodHlwZSwgdHJ1ZSksICdFeHBlY3RlZCBcInR5cGVcIiBwcm92aWRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gRHJvcFRhcmdldCB0byBiZSAnICtcbiAgICAgICAgICAgICdhIHN0cmluZywgYW4gYXJyYXkgb2Ygc3RyaW5ncywgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgZWl0aGVyIGdpdmVuICcgK1xuICAgICAgICAgICAgJ3RoZSBjdXJyZW50IHByb3BzLiBJbnN0ZWFkLCByZWNlaXZlZCAlcy4gJyArXG4gICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJvcC10YXJnZXQnLCB0eXBlKTtcbiAgICAgICAgZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHR5cGU7IH07XG4gICAgfVxuICAgIGludmFyaWFudChkaXNjb3VudF9sb2Rhc2hfMS5pc1BsYWluT2JqZWN0KHNwZWMpLCAnRXhwZWN0ZWQgXCJzcGVjXCIgcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byBEcm9wVGFyZ2V0IHRvIGJlICcgK1xuICAgICAgICAnYSBwbGFpbiBvYmplY3QuIEluc3RlYWQsIHJlY2VpdmVkICVzLiAnICtcbiAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2Ryb3AtdGFyZ2V0Jywgc3BlYyk7XG4gICAgdmFyIGNyZWF0ZVRhcmdldCA9IGNyZWF0ZVRhcmdldEZhY3RvcnlfMS5kZWZhdWx0KHNwZWMpO1xuICAgIGludmFyaWFudCh0eXBlb2YgY29sbGVjdCA9PT0gJ2Z1bmN0aW9uJywgJ0V4cGVjdGVkIFwiY29sbGVjdFwiIHByb3ZpZGVkIGFzIHRoZSB0aGlyZCBhcmd1bWVudCB0byBEcm9wVGFyZ2V0IHRvIGJlICcgK1xuICAgICAgICAnYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwbGFpbiBvYmplY3Qgb2YgcHJvcHMgdG8gaW5qZWN0LiAnICtcbiAgICAgICAgJ0luc3RlYWQsIHJlY2VpdmVkICVzLiAnICtcbiAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2Ryb3AtdGFyZ2V0JywgY29sbGVjdCk7XG4gICAgaW52YXJpYW50KGRpc2NvdW50X2xvZGFzaF8xLmlzUGxhaW5PYmplY3Qob3B0aW9ucyksICdFeHBlY3RlZCBcIm9wdGlvbnNcIiBwcm92aWRlZCBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IHRvIERyb3BUYXJnZXQgdG8gYmUgJyArXG4gICAgICAgICdhIHBsYWluIG9iamVjdCB3aGVuIHNwZWNpZmllZC4gJyArXG4gICAgICAgICdJbnN0ZWFkLCByZWNlaXZlZCAlcy4gJyArXG4gICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcm9wLXRhcmdldCcsIGNvbGxlY3QpO1xuICAgIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0ZVRhcmdldChEZWNvcmF0ZWRDb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIGRlY29yYXRlSGFuZGxlcl8xLmRlZmF1bHQoe1xuICAgICAgICAgICAgY29udGFpbmVyRGlzcGxheU5hbWU6ICdEcm9wVGFyZ2V0JyxcbiAgICAgICAgICAgIGNyZWF0ZUhhbmRsZXI6IGNyZWF0ZVRhcmdldCxcbiAgICAgICAgICAgIHJlZ2lzdGVySGFuZGxlcjogcmVnaXN0ZXJUYXJnZXRfMS5kZWZhdWx0LFxuICAgICAgICAgICAgY3JlYXRlTW9uaXRvcjogZnVuY3Rpb24gKG1hbmFnZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERyb3BUYXJnZXRNb25pdG9ySW1wbF8xLmRlZmF1bHQobWFuYWdlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlQ29ubmVjdG9yOiBmdW5jdGlvbiAoYmFja2VuZCkgeyByZXR1cm4gbmV3IFRhcmdldENvbm5lY3Rvcl8xLmRlZmF1bHQoYmFja2VuZCk7IH0sXG4gICAgICAgICAgICBEZWNvcmF0ZWRDb21wb25lbnQ6IERlY29yYXRlZENvbXBvbmVudCxcbiAgICAgICAgICAgIGdldFR5cGU6IGdldFR5cGUsXG4gICAgICAgICAgICBjb2xsZWN0OiBjb2xsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IERyb3BUYXJnZXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbnZhciBpc0NhbGxpbmdDYW5Ecm9wID0gZmFsc2U7XG52YXIgRHJvcFRhcmdldE1vbml0b3JJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERyb3BUYXJnZXRNb25pdG9ySW1wbChtYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0SWQgPSBudWxsO1xuICAgICAgICB0aGlzLmludGVybmFsTW9uaXRvciA9IG1hbmFnZXIuZ2V0TW9uaXRvcigpO1xuICAgIH1cbiAgICBEcm9wVGFyZ2V0TW9uaXRvckltcGwucHJvdG90eXBlLnJlY2VpdmVIYW5kbGVySWQgPSBmdW5jdGlvbiAodGFyZ2V0SWQpIHtcbiAgICAgICAgdGhpcy50YXJnZXRJZCA9IHRhcmdldElkO1xuICAgIH07XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRIYW5kbGVySWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldElkO1xuICAgIH07XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5zdWJzY3JpYmVUb1N0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5zdWJzY3JpYmVUb1N0YXRlQ2hhbmdlKGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIERyb3BUYXJnZXRNb25pdG9ySW1wbC5wcm90b3R5cGUuY2FuRHJvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gQ3V0IG91dCBlYXJseSBpZiB0aGUgdGFyZ2V0IGlkIGhhcyBub3QgYmVlbiBzZXQuIFRoaXMgc2hvdWxkIHByZXZlbnQgZXJyb3JzXG4gICAgICAgIC8vIHdoZXJlIHRoZSB1c2VyIGhhcyBhbiBvbGRlciB2ZXJzaW9uIG9mIGRuZC1jb3JlIGxpa2UgaW5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWRuZC9yZWFjdC1kbmQvaXNzdWVzLzEzMTBcbiAgICAgICAgaWYgKCF0aGlzLnRhcmdldElkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaW52YXJpYW50KCFpc0NhbGxpbmdDYW5Ecm9wLCAnWW91IG1heSBub3QgY2FsbCBtb25pdG9yLmNhbkRyb3AoKSBpbnNpZGUgeW91ciBjYW5Ecm9wKCkgaW1wbGVtZW50YXRpb24uICcgK1xuICAgICAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2Ryb3AtdGFyZ2V0LW1vbml0b3InKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlzQ2FsbGluZ0NhbkRyb3AgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmNhbkRyb3BPblRhcmdldCh0aGlzLnRhcmdldElkKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlzQ2FsbGluZ0NhbkRyb3AgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5pc092ZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMudGFyZ2V0SWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuaXNPdmVyVGFyZ2V0KHRoaXMudGFyZ2V0SWQsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRJdGVtVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldEl0ZW1UeXBlKCk7XG4gICAgfTtcbiAgICBEcm9wVGFyZ2V0TW9uaXRvckltcGwucHJvdG90eXBlLmdldEl0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJdGVtKCk7XG4gICAgfTtcbiAgICBEcm9wVGFyZ2V0TW9uaXRvckltcGwucHJvdG90eXBlLmdldERyb3BSZXN1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXREcm9wUmVzdWx0KCk7XG4gICAgfTtcbiAgICBEcm9wVGFyZ2V0TW9uaXRvckltcGwucHJvdG90eXBlLmRpZERyb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5kaWREcm9wKCk7XG4gICAgfTtcbiAgICBEcm9wVGFyZ2V0TW9uaXRvckltcGwucHJvdG90eXBlLmdldEluaXRpYWxDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJbml0aWFsQ2xpZW50T2Zmc2V0KCk7XG4gICAgfTtcbiAgICBEcm9wVGFyZ2V0TW9uaXRvckltcGwucHJvdG90eXBlLmdldEluaXRpYWxTb3VyY2VDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0KCk7XG4gICAgfTtcbiAgICBEcm9wVGFyZ2V0TW9uaXRvckltcGwucHJvdG90eXBlLmdldFNvdXJjZUNsaWVudE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldFNvdXJjZUNsaWVudE9mZnNldCgpO1xuICAgIH07XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRDbGllbnRPZmZzZXQoKTtcbiAgICB9O1xuICAgIERyb3BUYXJnZXRNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0RGlmZmVyZW5jZUZyb21Jbml0aWFsT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0RGlmZmVyZW5jZUZyb21Jbml0aWFsT2Zmc2V0KCk7XG4gICAgfTtcbiAgICByZXR1cm4gRHJvcFRhcmdldE1vbml0b3JJbXBsO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IERyb3BUYXJnZXRNb25pdG9ySW1wbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHdyYXBDb25uZWN0b3JIb29rc18xID0gcmVxdWlyZShcIi4vd3JhcENvbm5lY3Rvckhvb2tzXCIpO1xudmFyIGlzUmVmXzEgPSByZXF1aXJlKFwiLi91dGlscy9pc1JlZlwiKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKCdzaGFsbG93ZXF1YWwnKTtcbnZhciBTb3VyY2VDb25uZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU291cmNlQ29ubmVjdG9yKGJhY2tlbmQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5iYWNrZW5kID0gYmFja2VuZDtcbiAgICAgICAgdGhpcy5ob29rcyA9IHdyYXBDb25uZWN0b3JIb29rc18xLmRlZmF1bHQoe1xuICAgICAgICAgICAgZHJhZ1NvdXJjZTogZnVuY3Rpb24gKG5vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kcmFnU291cmNlT3B0aW9ucyA9IG9wdGlvbnMgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWZfMS5pc1JlZihub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kcmFnU291cmNlUmVmID0gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRyYWdTb3VyY2VOb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMucmVjb25uZWN0RHJhZ1NvdXJjZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRyYWdQcmV2aWV3OiBmdW5jdGlvbiAobm9kZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIF90aGlzLmRyYWdQcmV2aWV3T3B0aW9ucyA9IG9wdGlvbnMgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWZfMS5pc1JlZihub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kcmFnUHJldmlld1JlZiA9IG5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kcmFnUHJldmlld05vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5yZWNvbm5lY3REcmFnUHJldmlldygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGFuZGxlcklkID0gbnVsbDtcbiAgICAgICAgLy8gVGhlIGRyb3AgdGFyZ2V0IG1heSBlaXRoZXIgYmUgYXR0YWNoZWQgdmlhIHJlZiBvciBjb25uZWN0IGZ1bmN0aW9uXG4gICAgICAgIHRoaXMuZHJhZ1NvdXJjZVJlZiA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhZ1NvdXJjZU9wdGlvbnNJbnRlcm5hbCA9IG51bGw7XG4gICAgICAgIC8vIFRoZSBkcmFnIHByZXZpZXcgbWF5IGVpdGhlciBiZSBhdHRhY2hlZCB2aWEgcmVmIG9yIGNvbm5lY3QgZnVuY3Rpb25cbiAgICAgICAgdGhpcy5kcmFnUHJldmlld1JlZiA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJhZ1ByZXZpZXdPcHRpb25zSW50ZXJuYWwgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWRIYW5kbGVySWQgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcmFnU291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1NvdXJjZU9wdGlvbnMgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcmFnUHJldmlldyA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyYWdQcmV2aWV3T3B0aW9ucyA9IG51bGw7XG4gICAgfVxuICAgIFNvdXJjZUNvbm5lY3Rvci5wcm90b3R5cGUucmVjZWl2ZUhhbmRsZXJJZCA9IGZ1bmN0aW9uIChuZXdIYW5kbGVySWQpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFuZGxlcklkID09PSBuZXdIYW5kbGVySWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmRsZXJJZCA9IG5ld0hhbmRsZXJJZDtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VyY2VDb25uZWN0b3IucHJvdG90eXBlLCBcImNvbm5lY3RUYXJnZXRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRyYWdTb3VyY2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VyY2VDb25uZWN0b3IucHJvdG90eXBlLCBcImRyYWdTb3VyY2VPcHRpb25zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kcmFnU291cmNlT3B0aW9uc0ludGVybmFsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdTb3VyY2VPcHRpb25zSW50ZXJuYWwgPSBvcHRpb25zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZSwgXCJkcmFnUHJldmlld09wdGlvbnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRyYWdQcmV2aWV3T3B0aW9uc0ludGVybmFsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdQcmV2aWV3T3B0aW9uc0ludGVybmFsID0gb3B0aW9ucztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZS5yZWNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0RHJhZ1NvdXJjZSgpO1xuICAgICAgICB0aGlzLnJlY29ubmVjdERyYWdQcmV2aWV3KCk7XG4gICAgfTtcbiAgICBTb3VyY2VDb25uZWN0b3IucHJvdG90eXBlLnJlY29ubmVjdERyYWdTb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGlmIG5vdGhpbmcgaGFzIGNoYW5nZWQgdGhlbiBkb24ndCByZXN1YnNjcmliZVxuICAgICAgICB2YXIgZGlkQ2hhbmdlID0gdGhpcy5kaWRIYW5kbGVySWRDaGFuZ2UoKSB8fFxuICAgICAgICAgICAgdGhpcy5kaWRDb25uZWN0ZWREcmFnU291cmNlQ2hhbmdlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuZGlkRHJhZ1NvdXJjZU9wdGlvbnNDaGFuZ2UoKTtcbiAgICAgICAgaWYgKGRpZENoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0RHJhZ1NvdXJjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkcmFnU291cmNlID0gdGhpcy5kcmFnU291cmNlO1xuICAgICAgICBpZiAoIXRoaXMuaGFuZGxlcklkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkcmFnU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcmFnU291cmNlID0gZHJhZ1NvdXJjZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWRIYW5kbGVySWQgPSB0aGlzLmhhbmRsZXJJZDtcbiAgICAgICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyYWdTb3VyY2UgPSBkcmFnU291cmNlO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1NvdXJjZU9wdGlvbnMgPSB0aGlzLmRyYWdTb3VyY2VPcHRpb25zO1xuICAgICAgICAgICAgdGhpcy5kcmFnU291cmNlVW5zdWJzY3JpYmUgPSB0aGlzLmJhY2tlbmQuY29ubmVjdERyYWdTb3VyY2UodGhpcy5oYW5kbGVySWQsIGRyYWdTb3VyY2UsIHRoaXMuZHJhZ1NvdXJjZU9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTb3VyY2VDb25uZWN0b3IucHJvdG90eXBlLnJlY29ubmVjdERyYWdQcmV2aWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZiBub3RoaW5nIGhhcyBjaGFuZ2VkIHRoZW4gZG9uJ3QgcmVzdWJzY3JpYmVcbiAgICAgICAgdmFyIGRpZENoYW5nZSA9IHRoaXMuZGlkSGFuZGxlcklkQ2hhbmdlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuZGlkQ29ubmVjdGVkRHJhZ1ByZXZpZXdDaGFuZ2UoKSB8fFxuICAgICAgICAgICAgdGhpcy5kaWREcmFnUHJldmlld09wdGlvbnNDaGFuZ2UoKTtcbiAgICAgICAgaWYgKGRpZENoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0RHJhZ1ByZXZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZHJhZ1ByZXZpZXcgPSB0aGlzLmRyYWdQcmV2aWV3O1xuICAgICAgICBpZiAoIXRoaXMuaGFuZGxlcklkIHx8ICFkcmFnUHJldmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdENvbm5lY3RlZEhhbmRsZXJJZCA9IHRoaXMuaGFuZGxlcklkO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1ByZXZpZXcgPSBkcmFnUHJldmlldztcbiAgICAgICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyYWdQcmV2aWV3T3B0aW9ucyA9IHRoaXMuZHJhZ1ByZXZpZXdPcHRpb25zO1xuICAgICAgICAgICAgdGhpcy5kcmFnUHJldmlld1Vuc3Vic2NyaWJlID0gdGhpcy5iYWNrZW5kLmNvbm5lY3REcmFnUHJldmlldyh0aGlzLmhhbmRsZXJJZCwgZHJhZ1ByZXZpZXcsIHRoaXMuZHJhZ1ByZXZpZXdPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZS5kaWRIYW5kbGVySWRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RDb25uZWN0ZWRIYW5kbGVySWQgIT09IHRoaXMuaGFuZGxlcklkO1xuICAgIH07XG4gICAgU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZS5kaWRDb25uZWN0ZWREcmFnU291cmNlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1NvdXJjZSAhPT0gdGhpcy5kcmFnU291cmNlO1xuICAgIH07XG4gICAgU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZS5kaWRDb25uZWN0ZWREcmFnUHJldmlld0NoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdENvbm5lY3RlZERyYWdQcmV2aWV3ICE9PSB0aGlzLmRyYWdQcmV2aWV3O1xuICAgIH07XG4gICAgU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZS5kaWREcmFnU291cmNlT3B0aW9uc0NoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICFzaGFsbG93RXF1YWwodGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1NvdXJjZU9wdGlvbnMsIHRoaXMuZHJhZ1NvdXJjZU9wdGlvbnMpO1xuICAgIH07XG4gICAgU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZS5kaWREcmFnUHJldmlld09wdGlvbnNDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKHRoaXMubGFzdENvbm5lY3RlZERyYWdQcmV2aWV3T3B0aW9ucywgdGhpcy5kcmFnUHJldmlld09wdGlvbnMpO1xuICAgIH07XG4gICAgU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZS5kaXNjb25uZWN0RHJhZ1NvdXJjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZHJhZ1NvdXJjZVVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdTb3VyY2VVbnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5kcmFnU291cmNlVW5zdWJzY3JpYmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLmRyYWdQcmV2aWV3Tm9kZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmRyYWdQcmV2aWV3UmVmID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZS5kaXNjb25uZWN0RHJhZ1ByZXZpZXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRyYWdQcmV2aWV3VW5zdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1ByZXZpZXdVbnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5kcmFnUHJldmlld1Vuc3Vic2NyaWJlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5kcmFnUHJldmlld05vZGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5kcmFnUHJldmlld1JlZiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VyY2VDb25uZWN0b3IucHJvdG90eXBlLCBcImRyYWdTb3VyY2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5kcmFnU291cmNlTm9kZSB8fCAodGhpcy5kcmFnU291cmNlUmVmICYmIHRoaXMuZHJhZ1NvdXJjZVJlZi5jdXJyZW50KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTb3VyY2VDb25uZWN0b3IucHJvdG90eXBlLCBcImRyYWdQcmV2aWV3XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuZHJhZ1ByZXZpZXdOb2RlIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMuZHJhZ1ByZXZpZXdSZWYgJiYgdGhpcy5kcmFnUHJldmlld1JlZi5jdXJyZW50KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTb3VyY2VDb25uZWN0b3I7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU291cmNlQ29ubmVjdG9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgd3JhcENvbm5lY3Rvckhvb2tzXzEgPSByZXF1aXJlKFwiLi93cmFwQ29ubmVjdG9ySG9va3NcIik7XG52YXIgaXNSZWZfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2lzUmVmXCIpO1xudmFyIHNoYWxsb3dFcXVhbCA9IHJlcXVpcmUoJ3NoYWxsb3dlcXVhbCcpO1xudmFyIFRhcmdldENvbm5lY3RvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYXJnZXRDb25uZWN0b3IoYmFja2VuZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmJhY2tlbmQgPSBiYWNrZW5kO1xuICAgICAgICB0aGlzLmhvb2tzID0gd3JhcENvbm5lY3Rvckhvb2tzXzEuZGVmYXVsdCh7XG4gICAgICAgICAgICBkcm9wVGFyZ2V0OiBmdW5jdGlvbiAobm9kZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIF90aGlzLmRyb3BUYXJnZXRPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgICAgICBpZiAoaXNSZWZfMS5pc1JlZihub2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kcm9wVGFyZ2V0UmVmID0gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRyb3BUYXJnZXROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMucmVjb25uZWN0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5oYW5kbGVySWQgPSBudWxsO1xuICAgICAgICAvLyBUaGUgZHJvcCB0YXJnZXQgbWF5IGVpdGhlciBiZSBhdHRhY2hlZCB2aWEgcmVmIG9yIGNvbm5lY3QgZnVuY3Rpb25cbiAgICAgICAgdGhpcy5kcm9wVGFyZ2V0UmVmID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcm9wVGFyZ2V0T3B0aW9uc0ludGVybmFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkSGFuZGxlcklkID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJvcFRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyb3BUYXJnZXRPcHRpb25zID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRhcmdldENvbm5lY3Rvci5wcm90b3R5cGUsIFwiY29ubmVjdFRhcmdldFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHJvcFRhcmdldDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgVGFyZ2V0Q29ubmVjdG9yLnByb3RvdHlwZS5yZWNvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGlmIG5vdGhpbmcgaGFzIGNoYW5nZWQgdGhlbiBkb24ndCByZXN1YnNjcmliZVxuICAgICAgICB2YXIgZGlkQ2hhbmdlID0gdGhpcy5kaWRIYW5kbGVySWRDaGFuZ2UoKSB8fFxuICAgICAgICAgICAgdGhpcy5kaWREcm9wVGFyZ2V0Q2hhbmdlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuZGlkT3B0aW9uc0NoYW5nZSgpO1xuICAgICAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3REcm9wVGFyZ2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRyb3BUYXJnZXQgPSB0aGlzLmRyb3BUYXJnZXQ7XG4gICAgICAgIGlmICghdGhpcy5oYW5kbGVySWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRyb3BUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyb3BUYXJnZXQgPSBkcm9wVGFyZ2V0O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdENvbm5lY3RlZEhhbmRsZXJJZCA9IHRoaXMuaGFuZGxlcklkO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJvcFRhcmdldCA9IGRyb3BUYXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcm9wVGFyZ2V0T3B0aW9ucyA9IHRoaXMuZHJvcFRhcmdldE9wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlRHJvcFRhcmdldCA9IHRoaXMuYmFja2VuZC5jb25uZWN0RHJvcFRhcmdldCh0aGlzLmhhbmRsZXJJZCwgZHJvcFRhcmdldCwgdGhpcy5kcm9wVGFyZ2V0T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRhcmdldENvbm5lY3Rvci5wcm90b3R5cGUucmVjZWl2ZUhhbmRsZXJJZCA9IGZ1bmN0aW9uIChuZXdIYW5kbGVySWQpIHtcbiAgICAgICAgaWYgKG5ld0hhbmRsZXJJZCA9PT0gdGhpcy5oYW5kbGVySWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhhbmRsZXJJZCA9IG5ld0hhbmRsZXJJZDtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3QoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUYXJnZXRDb25uZWN0b3IucHJvdG90eXBlLCBcImRyb3BUYXJnZXRPcHRpb25zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kcm9wVGFyZ2V0T3B0aW9uc0ludGVybmFsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmRyb3BUYXJnZXRPcHRpb25zSW50ZXJuYWwgPSBvcHRpb25zO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBUYXJnZXRDb25uZWN0b3IucHJvdG90eXBlLmRpZEhhbmRsZXJJZENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdENvbm5lY3RlZEhhbmRsZXJJZCAhPT0gdGhpcy5oYW5kbGVySWQ7XG4gICAgfTtcbiAgICBUYXJnZXRDb25uZWN0b3IucHJvdG90eXBlLmRpZERyb3BUYXJnZXRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RDb25uZWN0ZWREcm9wVGFyZ2V0ICE9PSB0aGlzLmRyb3BUYXJnZXQ7XG4gICAgfTtcbiAgICBUYXJnZXRDb25uZWN0b3IucHJvdG90eXBlLmRpZE9wdGlvbnNDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKHRoaXMubGFzdENvbm5lY3RlZERyb3BUYXJnZXRPcHRpb25zLCB0aGlzLmRyb3BUYXJnZXRPcHRpb25zKTtcbiAgICB9O1xuICAgIFRhcmdldENvbm5lY3Rvci5wcm90b3R5cGUuZGlzY29ubmVjdERyb3BUYXJnZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlRHJvcFRhcmdldCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZURyb3BUYXJnZXQoKTtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmVEcm9wVGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFyZ2V0Q29ubmVjdG9yLnByb3RvdHlwZSwgXCJkcm9wVGFyZ2V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuZHJvcFRhcmdldE5vZGUgfHwgKHRoaXMuZHJvcFRhcmdldFJlZiAmJiB0aGlzLmRyb3BUYXJnZXRSZWYuY3VycmVudCkpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gVGFyZ2V0Q29ubmVjdG9yO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFRhcmdldENvbm5lY3RvcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGdldERlY29yYXRlZENvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vdXRpbHMvZ2V0RGVjb3JhdGVkQ29tcG9uZW50XCIpO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xudmFyIEFMTE9XRURfU1BFQ19NRVRIT0RTID0gWydjYW5EcmFnJywgJ2JlZ2luRHJhZycsICdpc0RyYWdnaW5nJywgJ2VuZERyYWcnXTtcbnZhciBSRVFVSVJFRF9TUEVDX01FVEhPRFMgPSBbJ2JlZ2luRHJhZyddO1xudmFyIFNvdXJjZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU291cmNlSW1wbChzcGVjLCBtb25pdG9yLCByZWYpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zcGVjID0gc3BlYztcbiAgICAgICAgdGhpcy5tb25pdG9yID0gbW9uaXRvcjtcbiAgICAgICAgdGhpcy5yZWYgPSByZWY7XG4gICAgICAgIHRoaXMucHJvcHMgPSBudWxsO1xuICAgICAgICB0aGlzLmJlZ2luRHJhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMucHJvcHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaXRlbSA9IF90aGlzLnNwZWMuYmVnaW5EcmFnKF90aGlzLnByb3BzLCBfdGhpcy5tb25pdG9yLCBfdGhpcy5yZWYuY3VycmVudCk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGludmFyaWFudChkaXNjb3VudF9sb2Rhc2hfMS5pc1BsYWluT2JqZWN0KGl0ZW0pLCAnYmVnaW5EcmFnKCkgbXVzdCByZXR1cm4gYSBwbGFpbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBkcmFnZ2VkIGl0ZW0uICcgK1xuICAgICAgICAgICAgICAgICAgICAnSW5zdGVhZCByZWNlaXZlZCAlcy4gJyArXG4gICAgICAgICAgICAgICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcmFnLXNvdXJjZScsIGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH07XG4gICAgfVxuICAgIFNvdXJjZUltcGwucHJvdG90eXBlLnJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgfTtcbiAgICBTb3VyY2VJbXBsLnByb3RvdHlwZS5jYW5EcmFnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc3BlYy5jYW5EcmFnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLmNhbkRyYWcodGhpcy5wcm9wcywgdGhpcy5tb25pdG9yKTtcbiAgICB9O1xuICAgIFNvdXJjZUltcGwucHJvdG90eXBlLmlzRHJhZ2dpbmcgPSBmdW5jdGlvbiAoZ2xvYmFsTW9uaXRvciwgc291cmNlSWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnNwZWMuaXNEcmFnZ2luZykge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZUlkID09PSBnbG9iYWxNb25pdG9yLmdldFNvdXJjZUlkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5pc0RyYWdnaW5nKHRoaXMucHJvcHMsIHRoaXMubW9uaXRvcik7XG4gICAgfTtcbiAgICBTb3VyY2VJbXBsLnByb3RvdHlwZS5lbmREcmFnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMucHJvcHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuc3BlYy5lbmREcmFnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zcGVjLmVuZERyYWcodGhpcy5wcm9wcywgdGhpcy5tb25pdG9yLCBnZXREZWNvcmF0ZWRDb21wb25lbnRfMS5nZXREZWNvcmF0ZWRDb21wb25lbnQodGhpcy5yZWYpKTtcbiAgICB9O1xuICAgIHJldHVybiBTb3VyY2VJbXBsO1xufSgpKTtcbmZ1bmN0aW9uIGNyZWF0ZVNvdXJjZUZhY3Rvcnkoc3BlYykge1xuICAgIE9iamVjdC5rZXlzKHNwZWMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpbnZhcmlhbnQoQUxMT1dFRF9TUEVDX01FVEhPRFMuaW5kZXhPZihrZXkpID4gLTEsICdFeHBlY3RlZCB0aGUgZHJhZyBzb3VyY2Ugc3BlY2lmaWNhdGlvbiB0byBvbmx5IGhhdmUgJyArXG4gICAgICAgICAgICAnc29tZSBvZiB0aGUgZm9sbG93aW5nIGtleXM6ICVzLiAnICtcbiAgICAgICAgICAgICdJbnN0ZWFkIHJlY2VpdmVkIGEgc3BlY2lmaWNhdGlvbiB3aXRoIGFuIHVuZXhwZWN0ZWQgXCIlc1wiIGtleS4gJyArXG4gICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJhZy1zb3VyY2UnLCBBTExPV0VEX1NQRUNfTUVUSE9EUy5qb2luKCcsICcpLCBrZXkpO1xuICAgICAgICBpbnZhcmlhbnQodHlwZW9mIHNwZWNba2V5XSA9PT0gJ2Z1bmN0aW9uJywgJ0V4cGVjdGVkICVzIGluIHRoZSBkcmFnIHNvdXJjZSBzcGVjaWZpY2F0aW9uIHRvIGJlIGEgZnVuY3Rpb24uICcgK1xuICAgICAgICAgICAgJ0luc3RlYWQgcmVjZWl2ZWQgYSBzcGVjaWZpY2F0aW9uIHdpdGggJXM6ICVzLiAnICtcbiAgICAgICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcmFnLXNvdXJjZScsIGtleSwga2V5LCBzcGVjW2tleV0pO1xuICAgIH0pO1xuICAgIFJFUVVJUkVEX1NQRUNfTUVUSE9EUy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiBzcGVjW2tleV0gPT09ICdmdW5jdGlvbicsICdFeHBlY3RlZCAlcyBpbiB0aGUgZHJhZyBzb3VyY2Ugc3BlY2lmaWNhdGlvbiB0byBiZSBhIGZ1bmN0aW9uLiAnICtcbiAgICAgICAgICAgICdJbnN0ZWFkIHJlY2VpdmVkIGEgc3BlY2lmaWNhdGlvbiB3aXRoICVzOiAlcy4gJyArXG4gICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJhZy1zb3VyY2UnLCBrZXksIGtleSwgc3BlY1trZXldKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gY3JlYXRlU291cmNlKG1vbml0b3IsIHJlZikge1xuICAgICAgICByZXR1cm4gbmV3IFNvdXJjZUltcGwoc3BlYywgbW9uaXRvciwgcmVmKTtcbiAgICB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlU291cmNlRmFjdG9yeTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGdldERlY29yYXRlZENvbXBvbmVudF8xID0gcmVxdWlyZShcIi4vdXRpbHMvZ2V0RGVjb3JhdGVkQ29tcG9uZW50XCIpO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xudmFyIEFMTE9XRURfU1BFQ19NRVRIT0RTID0gWydjYW5Ecm9wJywgJ2hvdmVyJywgJ2Ryb3AnXTtcbnZhciBUYXJnZXRJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRhcmdldEltcGwoc3BlYywgbW9uaXRvciwgcmVmKSB7XG4gICAgICAgIHRoaXMuc3BlYyA9IHNwZWM7XG4gICAgICAgIHRoaXMubW9uaXRvciA9IG1vbml0b3I7XG4gICAgICAgIHRoaXMucmVmID0gcmVmO1xuICAgICAgICB0aGlzLnByb3BzID0gbnVsbDtcbiAgICB9XG4gICAgVGFyZ2V0SW1wbC5wcm90b3R5cGUucmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICB9O1xuICAgIFRhcmdldEltcGwucHJvdG90eXBlLnJlY2VpdmVNb25pdG9yID0gZnVuY3Rpb24gKG1vbml0b3IpIHtcbiAgICAgICAgdGhpcy5tb25pdG9yID0gbW9uaXRvcjtcbiAgICB9O1xuICAgIFRhcmdldEltcGwucHJvdG90eXBlLmNhbkRyb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5zcGVjLmNhbkRyb3ApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMuY2FuRHJvcCh0aGlzLnByb3BzLCB0aGlzLm1vbml0b3IpO1xuICAgIH07XG4gICAgVGFyZ2V0SW1wbC5wcm90b3R5cGUuaG92ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5zcGVjLmhvdmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zcGVjLmhvdmVyKHRoaXMucHJvcHMsIHRoaXMubW9uaXRvciwgZ2V0RGVjb3JhdGVkQ29tcG9uZW50XzEuZ2V0RGVjb3JhdGVkQ29tcG9uZW50KHRoaXMucmVmKSk7XG4gICAgfTtcbiAgICBUYXJnZXRJbXBsLnByb3RvdHlwZS5kcm9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3BlYy5kcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkcm9wUmVzdWx0ID0gdGhpcy5zcGVjLmRyb3AodGhpcy5wcm9wcywgdGhpcy5tb25pdG9yLCB0aGlzLnJlZi5jdXJyZW50KTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGludmFyaWFudCh0eXBlb2YgZHJvcFJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcgfHwgZGlzY291bnRfbG9kYXNoXzEuaXNQbGFpbk9iamVjdChkcm9wUmVzdWx0KSwgJ2Ryb3AoKSBtdXN0IGVpdGhlciByZXR1cm4gdW5kZWZpbmVkLCBvciBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSBkcm9wIHJlc3VsdC4gJyArXG4gICAgICAgICAgICAgICAgJ0luc3RlYWQgcmVjZWl2ZWQgJXMuICcgK1xuICAgICAgICAgICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcm9wLXRhcmdldCcsIGRyb3BSZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkcm9wUmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIFRhcmdldEltcGw7XG59KCkpO1xuZnVuY3Rpb24gY3JlYXRlVGFyZ2V0RmFjdG9yeShzcGVjKSB7XG4gICAgT2JqZWN0LmtleXMoc3BlYykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGludmFyaWFudChBTExPV0VEX1NQRUNfTUVUSE9EUy5pbmRleE9mKGtleSkgPiAtMSwgJ0V4cGVjdGVkIHRoZSBkcm9wIHRhcmdldCBzcGVjaWZpY2F0aW9uIHRvIG9ubHkgaGF2ZSAnICtcbiAgICAgICAgICAgICdzb21lIG9mIHRoZSBmb2xsb3dpbmcga2V5czogJXMuICcgK1xuICAgICAgICAgICAgJ0luc3RlYWQgcmVjZWl2ZWQgYSBzcGVjaWZpY2F0aW9uIHdpdGggYW4gdW5leHBlY3RlZCBcIiVzXCIga2V5LiAnICtcbiAgICAgICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcm9wLXRhcmdldCcsIEFMTE9XRURfU1BFQ19NRVRIT0RTLmpvaW4oJywgJyksIGtleSk7XG4gICAgICAgIGludmFyaWFudCh0eXBlb2Ygc3BlY1trZXldID09PSAnZnVuY3Rpb24nLCAnRXhwZWN0ZWQgJXMgaW4gdGhlIGRyb3AgdGFyZ2V0IHNwZWNpZmljYXRpb24gdG8gYmUgYSBmdW5jdGlvbi4gJyArXG4gICAgICAgICAgICAnSW5zdGVhZCByZWNlaXZlZCBhIHNwZWNpZmljYXRpb24gd2l0aCAlczogJXMuICcgK1xuICAgICAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2Ryb3AtdGFyZ2V0Jywga2V5LCBrZXksIHNwZWNba2V5XSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVRhcmdldChtb25pdG9yLCByZWYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUYXJnZXRJbXBsKHNwZWMsIG1vbml0b3IsIHJlZik7XG4gICAgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVRhcmdldEZhY3Rvcnk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciBEcmFnRHJvcENvbnRleHRfMSA9IHJlcXVpcmUoXCIuL0RyYWdEcm9wQ29udGV4dFwiKTtcbnZhciBkaXNwb3NhYmxlc18xID0gcmVxdWlyZShcIi4vdXRpbHMvZGlzcG9zYWJsZXNcIik7XG52YXIgaXNSZWZhYmxlXzEgPSByZXF1aXJlKFwiLi91dGlscy9pc1JlZmFibGVcIik7XG52YXIgZGlzY291bnRfbG9kYXNoXzEgPSByZXF1aXJlKFwiLi91dGlscy9kaXNjb3VudF9sb2Rhc2hcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG52YXIgaG9pc3RTdGF0aWNzID0gcmVxdWlyZSgnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKCdzaGFsbG93ZXF1YWwnKTtcbmZ1bmN0aW9uIGRlY29yYXRlSGFuZGxlcihfYSkge1xuICAgIHZhciBEZWNvcmF0ZWRDb21wb25lbnQgPSBfYS5EZWNvcmF0ZWRDb21wb25lbnQsIGNyZWF0ZUhhbmRsZXIgPSBfYS5jcmVhdGVIYW5kbGVyLCBjcmVhdGVNb25pdG9yID0gX2EuY3JlYXRlTW9uaXRvciwgY3JlYXRlQ29ubmVjdG9yID0gX2EuY3JlYXRlQ29ubmVjdG9yLCByZWdpc3RlckhhbmRsZXIgPSBfYS5yZWdpc3RlckhhbmRsZXIsIGNvbnRhaW5lckRpc3BsYXlOYW1lID0gX2EuY29udGFpbmVyRGlzcGxheU5hbWUsIGdldFR5cGUgPSBfYS5nZXRUeXBlLCBjb2xsZWN0ID0gX2EuY29sbGVjdCwgb3B0aW9ucyA9IF9hLm9wdGlvbnM7XG4gICAgdmFyIF9iID0gb3B0aW9ucy5hcmVQcm9wc0VxdWFsLCBhcmVQcm9wc0VxdWFsID0gX2IgPT09IHZvaWQgMCA/IHNoYWxsb3dFcXVhbCA6IF9iO1xuICAgIHZhciBEZWNvcmF0ZWQgPSBEZWNvcmF0ZWRDb21wb25lbnQ7XG4gICAgdmFyIGRpc3BsYXlOYW1lID0gRGVjb3JhdGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IERlY29yYXRlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuICAgIHZhciBEcmFnRHJvcENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgX19leHRlbmRzKERyYWdEcm9wQ29udGFpbmVyLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBEcmFnRHJvcENvbnRhaW5lcihwcm9wcykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgICAgICBfdGhpcy5kZWNvcmF0ZWRSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICAgICAgICAgIF90aGlzLmhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dFN0YXRlID0gX3RoaXMuZ2V0Q3VycmVudFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFzaGFsbG93RXF1YWwobmV4dFN0YXRlLCBfdGhpcy5zdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUobmV4dFN0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuZGlzcG9zYWJsZSA9IG5ldyBkaXNwb3NhYmxlc18xLlNlcmlhbERpc3Bvc2FibGUoKTtcbiAgICAgICAgICAgIF90aGlzLnJlY2VpdmVQcm9wcyhwcm9wcyk7XG4gICAgICAgICAgICBfdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIucHJvdG90eXBlLmdldEhhbmRsZXJJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZXJJZDtcbiAgICAgICAgfTtcbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIucHJvdG90eXBlLmdldERlY29yYXRlZENvbXBvbmVudEluc3RhbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW52YXJpYW50KHRoaXMuZGVjb3JhdGVkUmVmLmN1cnJlbnQsICdJbiBvcmRlciB0byBhY2Nlc3MgYW4gaW5zdGFuY2Ugb2YgdGhlIGRlY29yYXRlZCBjb21wb25lbnQsIGl0IG11c3QgZWl0aGVyIGJlIGEgY2xhc3MgY29tcG9uZW50IG9yIHVzZSBSZWFjdC5mb3J3YXJkUmVmKCknKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29yYXRlZFJlZi5jdXJyZW50O1xuICAgICAgICB9O1xuICAgICAgICBEcmFnRHJvcENvbnRhaW5lci5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gKCFhcmVQcm9wc0VxdWFsKG5leHRQcm9wcywgdGhpcy5wcm9wcykgfHxcbiAgICAgICAgICAgICAgICAhc2hhbGxvd0VxdWFsKG5leHRTdGF0ZSwgdGhpcy5zdGF0ZSkpO1xuICAgICAgICB9O1xuICAgICAgICBEcmFnRHJvcENvbnRhaW5lci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2FibGUgPSBuZXcgZGlzcG9zYWJsZXNfMS5TZXJpYWxEaXNwb3NhYmxlKCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUeXBlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5yZWNlaXZlUHJvcHModGhpcy5wcm9wcyk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpO1xuICAgICAgICB9O1xuICAgICAgICBEcmFnRHJvcENvbnRhaW5lci5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKHByZXZQcm9wcykge1xuICAgICAgICAgICAgaWYgKCFhcmVQcm9wc0VxdWFsKHRoaXMucHJvcHMsIHByZXZQcm9wcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlY2VpdmVQcm9wcyh0aGlzLnByb3BzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNoYW5nZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBEcmFnRHJvcENvbnRhaW5lci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIucHJvdG90eXBlLnJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXIucmVjZWl2ZVByb3BzKHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMucmVjZWl2ZVR5cGUoZ2V0VHlwZShwcm9wcykpO1xuICAgICAgICB9O1xuICAgICAgICBEcmFnRHJvcENvbnRhaW5lci5wcm90b3R5cGUucmVjZWl2ZVR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmhhbmRsZXJNb25pdG9yIHx8ICF0aGlzLm1hbmFnZXIgfHwgIXRoaXMuaGFuZGxlckNvbm5lY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlID09PSB0aGlzLmN1cnJlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VHlwZSA9IHR5cGU7XG4gICAgICAgICAgICB2YXIgX2EgPSByZWdpc3RlckhhbmRsZXIodHlwZSwgdGhpcy5oYW5kbGVyLCB0aGlzLm1hbmFnZXIpLCBoYW5kbGVySWQgPSBfYVswXSwgdW5yZWdpc3RlciA9IF9hWzFdO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVySWQgPSBoYW5kbGVySWQ7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJNb25pdG9yLnJlY2VpdmVIYW5kbGVySWQoaGFuZGxlcklkKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlckNvbm5lY3Rvci5yZWNlaXZlSGFuZGxlcklkKGhhbmRsZXJJZCk7XG4gICAgICAgICAgICB2YXIgZ2xvYmFsTW9uaXRvciA9IHRoaXMubWFuYWdlci5nZXRNb25pdG9yKCk7XG4gICAgICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBnbG9iYWxNb25pdG9yLnN1YnNjcmliZVRvU3RhdGVDaGFuZ2UodGhpcy5oYW5kbGVDaGFuZ2UsIHsgaGFuZGxlcklkczogW2hhbmRsZXJJZF0gfSk7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2FibGUuc2V0RGlzcG9zYWJsZShuZXcgZGlzcG9zYWJsZXNfMS5Db21wb3NpdGVEaXNwb3NhYmxlKG5ldyBkaXNwb3NhYmxlc18xLkRpc3Bvc2FibGUodW5zdWJzY3JpYmUpLCBuZXcgZGlzcG9zYWJsZXNfMS5EaXNwb3NhYmxlKHVucmVnaXN0ZXIpKSk7XG4gICAgICAgIH07XG4gICAgICAgIERyYWdEcm9wQ29udGFpbmVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmhhbmRsZXJDb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZXJDb25uZWN0b3IucmVjZWl2ZUhhbmRsZXJJZChudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIucHJvdG90eXBlLmdldEN1cnJlbnRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYW5kbGVyQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGNvbGxlY3QodGhpcy5oYW5kbGVyQ29ubmVjdG9yLmhvb2tzLCB0aGlzLmhhbmRsZXJNb25pdG9yLCB0aGlzLnByb3BzKTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaW52YXJpYW50KGRpc2NvdW50X2xvZGFzaF8xLmlzUGxhaW5PYmplY3QobmV4dFN0YXRlKSwgJ0V4cGVjdGVkIGBjb2xsZWN0YCBzcGVjaWZpZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgJyVzIGZvciAlcyB0byByZXR1cm4gYSBwbGFpbiBvYmplY3Qgb2YgcHJvcHMgdG8gaW5qZWN0LiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ0luc3RlYWQsIHJlY2VpdmVkICVzLicsIGNvbnRhaW5lckRpc3BsYXlOYW1lLCBkaXNwbGF5TmFtZSwgbmV4dFN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0U3RhdGU7XG4gICAgICAgIH07XG4gICAgICAgIERyYWdEcm9wQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KERyYWdEcm9wQ29udGV4dF8xLkNvbnN1bWVyLCBudWxsLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgZHJhZ0Ryb3BNYW5hZ2VyID0gX2EuZHJhZ0Ryb3BNYW5hZ2VyO1xuICAgICAgICAgICAgICAgIF90aGlzLnJlY2VpdmVEcmFnRHJvcE1hbmFnZXIoZHJhZ0Ryb3BNYW5hZ2VyKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmhhbmRsZXJDb25uZWN0b3IucmVjb25uZWN0KCk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVjb3JhdGVkLCBfX2Fzc2lnbih7fSwgX3RoaXMucHJvcHMsIF90aGlzLmdldEN1cnJlbnRTdGF0ZSgpLCB7IFxuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBpZiBEZWNvcmF0ZWQgaXMgYSBGdW5jdGlvbiBDb21wb25lbnQsIGRlY29yYXRlZFJlZiB3aWxsIG5vdCBiZSBwb3B1bGF0ZWQgdW5sZXNzIGl0J3MgYSByZWZmb3J3YXJkaW5nIGNvbXBvbmVudC5cbiAgICAgICAgICAgICAgICAgICAgcmVmOiBpc1JlZmFibGVfMS5pc1JlZmFibGUoRGVjb3JhdGVkKSA/IF90aGlzLmRlY29yYXRlZFJlZiA6IG51bGwgfSkpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIucHJvdG90eXBlLnJlY2VpdmVEcmFnRHJvcE1hbmFnZXIgPSBmdW5jdGlvbiAoZHJhZ0Ryb3BNYW5hZ2VyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tYW5hZ2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnZhcmlhbnQoZHJhZ0Ryb3BNYW5hZ2VyICE9PSB1bmRlZmluZWQsICdDb3VsZCBub3QgZmluZCB0aGUgZHJhZyBhbmQgZHJvcCBtYW5hZ2VyIGluIHRoZSBjb250ZXh0IG9mICVzLiAnICtcbiAgICAgICAgICAgICAgICAnTWFrZSBzdXJlIHRvIHdyYXAgdGhlIHRvcC1sZXZlbCBjb21wb25lbnQgb2YgeW91ciBhcHAgd2l0aCBEcmFnRHJvcENvbnRleHQuICcgK1xuICAgICAgICAgICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL3Ryb3VibGVzaG9vdGluZyNjb3VsZC1ub3QtZmluZC10aGUtZHJhZy1hbmQtZHJvcC1tYW5hZ2VyLWluLXRoZS1jb250ZXh0JywgZGlzcGxheU5hbWUsIGRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgIGlmIChkcmFnRHJvcE1hbmFnZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWFuYWdlciA9IGRyYWdEcm9wTWFuYWdlcjtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlck1vbml0b3IgPSBjcmVhdGVNb25pdG9yKGRyYWdEcm9wTWFuYWdlcik7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJDb25uZWN0b3IgPSBjcmVhdGVDb25uZWN0b3IoZHJhZ0Ryb3BNYW5hZ2VyLmdldEJhY2tlbmQoKSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXIgPSBjcmVhdGVIYW5kbGVyKHRoaXMuaGFuZGxlck1vbml0b3IsIHRoaXMuZGVjb3JhdGVkUmVmKTtcbiAgICAgICAgfTtcbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIuRGVjb3JhdGVkQ29tcG9uZW50ID0gRGVjb3JhdGVkQ29tcG9uZW50O1xuICAgICAgICBEcmFnRHJvcENvbnRhaW5lci5kaXNwbGF5TmFtZSA9IGNvbnRhaW5lckRpc3BsYXlOYW1lICsgXCIoXCIgKyBkaXNwbGF5TmFtZSArIFwiKVwiO1xuICAgICAgICByZXR1cm4gRHJhZ0Ryb3BDb250YWluZXI7XG4gICAgfShSZWFjdC5Db21wb25lbnQpKTtcbiAgICByZXR1cm4gaG9pc3RTdGF0aWNzKERyYWdEcm9wQ29udGFpbmVyLCBEZWNvcmF0ZWRDb21wb25lbnQpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gZGVjb3JhdGVIYW5kbGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuX19leHBvcnQocmVxdWlyZShcIi4vdXNlRHJhZ1wiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91c2VEcm9wXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VzZURyYWdMYXllclwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIHJlZ2lzdGVyU291cmNlXzEgPSByZXF1aXJlKFwiLi4vLi4vcmVnaXN0ZXJTb3VyY2VcIik7XG52YXIgdXNlRHJhZ0Ryb3BNYW5hZ2VyXzEgPSByZXF1aXJlKFwiLi91c2VEcmFnRHJvcE1hbmFnZXJcIik7XG52YXIgRHJhZ1NvdXJjZU1vbml0b3JJbXBsXzEgPSByZXF1aXJlKFwiLi4vLi4vRHJhZ1NvdXJjZU1vbml0b3JJbXBsXCIpO1xudmFyIFNvdXJjZUNvbm5lY3Rvcl8xID0gcmVxdWlyZShcIi4uLy4uL1NvdXJjZUNvbm5lY3RvclwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbmZ1bmN0aW9uIHVzZURyYWdTb3VyY2VNb25pdG9yKCkge1xuICAgIHZhciBtYW5hZ2VyID0gdXNlRHJhZ0Ryb3BNYW5hZ2VyXzEudXNlRHJhZ0Ryb3BNYW5hZ2VyKCk7XG4gICAgdmFyIG1vbml0b3IgPSByZWFjdF8xLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IERyYWdTb3VyY2VNb25pdG9ySW1wbF8xLmRlZmF1bHQobWFuYWdlcik7IH0sIFttYW5hZ2VyXSk7XG4gICAgdmFyIGNvbm5lY3RvciA9IHJlYWN0XzEudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgU291cmNlQ29ubmVjdG9yXzEuZGVmYXVsdChtYW5hZ2VyLmdldEJhY2tlbmQoKSk7IH0sIFtcbiAgICAgICAgbWFuYWdlcixcbiAgICBdKTtcbiAgICByZXR1cm4gW21vbml0b3IsIGNvbm5lY3Rvcl07XG59XG5leHBvcnRzLnVzZURyYWdTb3VyY2VNb25pdG9yID0gdXNlRHJhZ1NvdXJjZU1vbml0b3I7XG5mdW5jdGlvbiB1c2VEcmFnSGFuZGxlcihzcGVjLCBtb25pdG9yLCBjb25uZWN0b3IpIHtcbiAgICB2YXIgbWFuYWdlciA9IHVzZURyYWdEcm9wTWFuYWdlcl8xLnVzZURyYWdEcm9wTWFuYWdlcigpO1xuICAgIC8vIENhbid0IHVzZSBjcmVhdGVTb3VyY2VGYWN0b3J5LCBhcyBzZW1hbnRpY3MgYXJlIGRpZmZlcmVudFxuICAgIHZhciBoYW5kbGVyID0gcmVhY3RfMS51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJlZ2luRHJhZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYSA9IHNwZWMuY3VycmVudCwgYmVnaW4gPSBfYS5iZWdpbiwgaXRlbSA9IF9hLml0ZW07XG4gICAgICAgICAgICAgICAgaWYgKGJlZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiZWdpblJlc3VsdCA9IGJlZ2luKG1vbml0b3IpO1xuICAgICAgICAgICAgICAgICAgICBpbnZhcmlhbnQoYmVnaW5SZXN1bHQgPT0gbnVsbCB8fCB0eXBlb2YgYmVnaW5SZXN1bHQgPT09ICdvYmplY3QnLCAnZHJhZ1NwZWMuYmVnaW4oKSBtdXN0IGVpdGhlciByZXR1cm4gYW4gb2JqZWN0LCB1bmRlZmluZWQsIG9yIG51bGwnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJlZ2luUmVzdWx0IHx8IGl0ZW0gfHwge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtIHx8IHt9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbkRyYWc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNwZWMuY3VycmVudC5jYW5EcmFnID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNwZWMuY3VycmVudC5jYW5EcmFnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc3BlYy5jdXJyZW50LmNhbkRyYWcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNwZWMuY3VycmVudC5jYW5EcmFnKG1vbml0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzRHJhZ2dpbmc6IGZ1bmN0aW9uIChnbG9iYWxNb25pdG9yLCB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNEcmFnZ2luZyA9IHNwZWMuY3VycmVudC5pc0RyYWdnaW5nO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc0RyYWdnaW5nXG4gICAgICAgICAgICAgICAgICAgID8gaXNEcmFnZ2luZyhtb25pdG9yKVxuICAgICAgICAgICAgICAgICAgICA6IHRhcmdldCA9PT0gZ2xvYmFsTW9uaXRvci5nZXRTb3VyY2VJZCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuZERyYWc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gc3BlYy5jdXJyZW50LmVuZDtcbiAgICAgICAgICAgICAgICBpZiAoZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZChtb25pdG9yLmdldEl0ZW0oKSwgbW9uaXRvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbm5lY3Rvci5yZWNvbm5lY3QoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHJlYWN0XzEudXNlRWZmZWN0KGZ1bmN0aW9uIHJlZ2lzdGVySGFuZGxlcigpIHtcbiAgICAgICAgdmFyIF9hID0gcmVnaXN0ZXJTb3VyY2VfMS5kZWZhdWx0KHNwZWMuY3VycmVudC5pdGVtLnR5cGUsIGhhbmRsZXIsIG1hbmFnZXIpLCBoYW5kbGVySWQgPSBfYVswXSwgdW5yZWdpc3RlciA9IF9hWzFdO1xuICAgICAgICBtb25pdG9yLnJlY2VpdmVIYW5kbGVySWQoaGFuZGxlcklkKTtcbiAgICAgICAgY29ubmVjdG9yLnJlY2VpdmVIYW5kbGVySWQoaGFuZGxlcklkKTtcbiAgICAgICAgcmV0dXJuIHVucmVnaXN0ZXI7XG4gICAgfSwgW10pO1xufVxuZXhwb3J0cy51c2VEcmFnSGFuZGxlciA9IHVzZURyYWdIYW5kbGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciByZWdpc3RlclRhcmdldF8xID0gcmVxdWlyZShcIi4uLy4uL3JlZ2lzdGVyVGFyZ2V0XCIpO1xudmFyIHVzZURyYWdEcm9wTWFuYWdlcl8xID0gcmVxdWlyZShcIi4vdXNlRHJhZ0Ryb3BNYW5hZ2VyXCIpO1xudmFyIFRhcmdldENvbm5lY3Rvcl8xID0gcmVxdWlyZShcIi4uLy4uL1RhcmdldENvbm5lY3RvclwiKTtcbnZhciBEcm9wVGFyZ2V0TW9uaXRvckltcGxfMSA9IHJlcXVpcmUoXCIuLi8uLi9Ecm9wVGFyZ2V0TW9uaXRvckltcGxcIik7XG5mdW5jdGlvbiB1c2VEcm9wVGFyZ2V0TW9uaXRvcigpIHtcbiAgICB2YXIgbWFuYWdlciA9IHVzZURyYWdEcm9wTWFuYWdlcl8xLnVzZURyYWdEcm9wTWFuYWdlcigpO1xuICAgIHZhciBtb25pdG9yID0gcmVhY3RfMS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBEcm9wVGFyZ2V0TW9uaXRvckltcGxfMS5kZWZhdWx0KG1hbmFnZXIpOyB9LCBbbWFuYWdlcl0pO1xuICAgIHZhciBjb25uZWN0b3IgPSByZWFjdF8xLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFRhcmdldENvbm5lY3Rvcl8xLmRlZmF1bHQobWFuYWdlci5nZXRCYWNrZW5kKCkpOyB9LCBbXG4gICAgICAgIG1hbmFnZXIsXG4gICAgXSk7XG4gICAgcmV0dXJuIFttb25pdG9yLCBjb25uZWN0b3JdO1xufVxuZXhwb3J0cy51c2VEcm9wVGFyZ2V0TW9uaXRvciA9IHVzZURyb3BUYXJnZXRNb25pdG9yO1xuZnVuY3Rpb24gdXNlRHJvcEhhbmRsZXIoc3BlYywgbW9uaXRvciwgY29ubmVjdG9yKSB7XG4gICAgdmFyIG1hbmFnZXIgPSB1c2VEcmFnRHJvcE1hbmFnZXJfMS51c2VEcmFnRHJvcE1hbmFnZXIoKTtcbiAgICAvLyBDYW4ndCB1c2UgY3JlYXRlU291cmNlRmFjdG9yeSwgYXMgc2VtYW50aWNzIGFyZSBkaWZmZXJlbnRcbiAgICB2YXIgaGFuZGxlciA9IHJlYWN0XzEudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYW5Ecm9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhbkRyb3AgPSBzcGVjLmN1cnJlbnQuY2FuRHJvcDtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FuRHJvcCA/IGNhbkRyb3AobW9uaXRvci5nZXRJdGVtKCksIG1vbml0b3IpIDogdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBob3ZlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBob3ZlciA9IHNwZWMuY3VycmVudC5ob3ZlcjtcbiAgICAgICAgICAgICAgICBpZiAoaG92ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaG92ZXIobW9uaXRvci5nZXRJdGVtKCksIG1vbml0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkcm9wOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRyb3AgPSBzcGVjLmN1cnJlbnQuZHJvcDtcbiAgICAgICAgICAgICAgICBpZiAoZHJvcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHJvcChtb25pdG9yLmdldEl0ZW0oKSwgbW9uaXRvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9LCBbbW9uaXRvcl0pO1xuICAgIHJlYWN0XzEudXNlRWZmZWN0KGZ1bmN0aW9uIHJlZ2lzdGVySGFuZGxlcigpIHtcbiAgICAgICAgdmFyIF9hID0gcmVnaXN0ZXJUYXJnZXRfMS5kZWZhdWx0KHNwZWMuY3VycmVudC5hY2NlcHQsIGhhbmRsZXIsIG1hbmFnZXIpLCBoYW5kbGVySWQgPSBfYVswXSwgdW5yZWdpc3RlciA9IF9hWzFdO1xuICAgICAgICBtb25pdG9yLnJlY2VpdmVIYW5kbGVySWQoaGFuZGxlcklkKTtcbiAgICAgICAgY29ubmVjdG9yLnJlY2VpdmVIYW5kbGVySWQoaGFuZGxlcklkKTtcbiAgICAgICAgcmV0dXJuIHVucmVnaXN0ZXI7XG4gICAgfSwgW21vbml0b3IsIGNvbm5lY3Rvcl0pO1xufVxuZXhwb3J0cy51c2VEcm9wSGFuZGxlciA9IHVzZURyb3BIYW5kbGVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgc2hhbGxvd0VxdWFsID0gcmVxdWlyZSgnc2hhbGxvd2VxdWFsJyk7XG52YXIgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbi8qKlxuICpcbiAqIEBwYXJhbSBtb25pdG9yIFRoZSBtb25pdG9yIHRvIGNvbGVsY3Qgc3RhdGUgZnJvbVxuICogQHBhcmFtIGNvbGxlY3QgVGhlIGNvbGxlY3RpbmcgZnVuY3Rpb25cbiAqIEBwYXJhbSBvblVwZGF0ZSBBIG1ldGhvZCB0byBpbnZva2Ugd2hlbiB1cGRhdGVzIG9jY3VyXG4gKi9cbmZ1bmN0aW9uIHVzZUNvbGxlY3Rvcihtb25pdG9yLCBjb2xsZWN0LCBvblVwZGF0ZSkge1xuICAgIHZhciBfYSA9IHJlYWN0XzEudXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gY29sbGVjdChtb25pdG9yKTsgfSksIGNvbGxlY3RlZCA9IF9hWzBdLCBzZXRDb2xsZWN0ZWQgPSBfYVsxXTtcbiAgICB2YXIgdXBkYXRlQ29sbGVjdGVkID0gcmVhY3RfMS51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuZXh0VmFsdWUgPSBjb2xsZWN0KG1vbml0b3IpO1xuICAgICAgICBpZiAoIXNoYWxsb3dFcXVhbChjb2xsZWN0ZWQsIG5leHRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHNldENvbGxlY3RlZChuZXh0VmFsdWUpO1xuICAgICAgICAgICAgaWYgKG9uVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgb25VcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtjb2xsZWN0ZWQsIG1vbml0b3IsIG9uVXBkYXRlXSk7XG4gICAgcmV0dXJuIFtjb2xsZWN0ZWQsIHVwZGF0ZUNvbGxlY3RlZF07XG59XG5leHBvcnRzLnVzZUNvbGxlY3RvciA9IHVzZUNvbGxlY3RvcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgRHJhZ0Ryb3BDb250ZXh0XzEgPSByZXF1aXJlKFwiLi4vLi4vRHJhZ0Ryb3BDb250ZXh0XCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuLyoqXG4gKiBBIGhvb2sgdG8gcmV0cmlldmUgdGhlIERyYWdEcm9wTWFuYWdlciBmcm9tIENvbnRleHRcbiAqL1xuZnVuY3Rpb24gdXNlRHJhZ0Ryb3BNYW5hZ2VyKCkge1xuICAgIHZhciBkcmFnRHJvcE1hbmFnZXIgPSByZWFjdF8xLnVzZUNvbnRleHQoRHJhZ0Ryb3BDb250ZXh0XzEuY29udGV4dCkuZHJhZ0Ryb3BNYW5hZ2VyO1xuICAgIGludmFyaWFudChkcmFnRHJvcE1hbmFnZXIgIT0gbnVsbCwgJ0V4cGVjdGVkIGRyYWcgZHJvcCBjb250ZXh0Jyk7XG4gICAgcmV0dXJuIGRyYWdEcm9wTWFuYWdlcjtcbn1cbmV4cG9ydHMudXNlRHJhZ0Ryb3BNYW5hZ2VyID0gdXNlRHJhZ0Ryb3BNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciB1c2VDb2xsZWN0b3JfMSA9IHJlcXVpcmUoXCIuL3VzZUNvbGxlY3RvclwiKTtcbmZ1bmN0aW9uIHVzZU1vbml0b3JPdXRwdXQobW9uaXRvciwgY29sbGVjdCwgb25Db2xsZWN0KSB7XG4gICAgdmFyIF9hID0gdXNlQ29sbGVjdG9yXzEudXNlQ29sbGVjdG9yKG1vbml0b3IsIGNvbGxlY3QsIG9uQ29sbGVjdCksIGNvbGxlY3RlZCA9IF9hWzBdLCB1cGRhdGVDb2xsZWN0ZWQgPSBfYVsxXTtcbiAgICByZWFjdF8xLnVzZUVmZmVjdChmdW5jdGlvbiBzdWJzY3JpYmVUb01vbml0b3JTdGF0ZUNoYW5nZSgpIHtcbiAgICAgICAgdmFyIGhhbmRsZXJJZCA9IG1vbml0b3IuZ2V0SGFuZGxlcklkKCk7XG4gICAgICAgIGlmIChoYW5kbGVySWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbW9uaXRvci5zdWJzY3JpYmVUb1N0YXRlQ2hhbmdlKHVwZGF0ZUNvbGxlY3RlZCwge1xuICAgICAgICAgICAgaGFuZGxlcklkczogW2hhbmRsZXJJZF0sXG4gICAgICAgIH0pO1xuICAgIH0sIFttb25pdG9yLCB1cGRhdGVDb2xsZWN0ZWRdKTtcbiAgICByZXR1cm4gY29sbGVjdGVkO1xufVxuZXhwb3J0cy51c2VNb25pdG9yT3V0cHV0ID0gdXNlTW9uaXRvck91dHB1dDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHVzZU1vbml0b3JPdXRwdXRfMSA9IHJlcXVpcmUoXCIuL2ludGVybmFsL3VzZU1vbml0b3JPdXRwdXRcIik7XG52YXIgZHJhZ18xID0gcmVxdWlyZShcIi4vaW50ZXJuYWwvZHJhZ1wiKTtcbnZhciByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuLyoqXG4gKiB1c2VEcmFnU291cmNlIGhvb2tcbiAqIEBwYXJhbSBzb3VyY2VTcGVjIFRoZSBkcmFnIHNvdXJjZSBzcGVjaWZpY2F0aW9uICpcbiAqL1xuZnVuY3Rpb24gdXNlRHJhZyhzcGVjKSB7XG4gICAgdmFyIHNwZWNSZWYgPSByZWFjdF8xLnVzZVJlZihzcGVjKTtcbiAgICBzcGVjUmVmLmN1cnJlbnQgPSBzcGVjO1xuICAgIC8vIFRPRE86IHdpcmUgb3B0aW9ucyBpbnRvIGNyZWF0ZVNvdXJjZUNvbm5lY3RvclxuICAgIGludmFyaWFudChzcGVjLml0ZW0gIT0gbnVsbCwgJ2l0ZW0gbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgaW52YXJpYW50KHNwZWMuaXRlbS50eXBlICE9IG51bGwsICdpdGVtIHR5cGUgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgdmFyIF9hID0gZHJhZ18xLnVzZURyYWdTb3VyY2VNb25pdG9yKCksIG1vbml0b3IgPSBfYVswXSwgY29ubmVjdG9yID0gX2FbMV07XG4gICAgZHJhZ18xLnVzZURyYWdIYW5kbGVyKHNwZWNSZWYsIG1vbml0b3IsIGNvbm5lY3Rvcik7XG4gICAgdmFyIHJlc3VsdCA9IHVzZU1vbml0b3JPdXRwdXRfMS51c2VNb25pdG9yT3V0cHV0KG1vbml0b3IsIHNwZWNSZWYuY3VycmVudC5jb2xsZWN0IHx8IChmdW5jdGlvbiAoKSB7IHJldHVybiAoe30pOyB9KSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdG9yLnJlY29ubmVjdCgpOyB9KTtcbiAgICB2YXIgY29ubmVjdERyYWdTb3VyY2UgPSByZWFjdF8xLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdG9yLmhvb2tzLmRyYWdTb3VyY2UoKTsgfSwgW1xuICAgICAgICBjb25uZWN0b3IsXG4gICAgXSk7XG4gICAgdmFyIGNvbm5lY3REcmFnUHJldmlldyA9IHJlYWN0XzEudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBjb25uZWN0b3IuaG9va3MuZHJhZ1ByZXZpZXcoKTsgfSwgW1xuICAgICAgICBjb25uZWN0b3IsXG4gICAgXSk7XG4gICAgcmVhY3RfMS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25uZWN0b3IuZHJhZ1NvdXJjZU9wdGlvbnMgPSBzcGVjUmVmLmN1cnJlbnQub3B0aW9ucyB8fCBudWxsO1xuICAgICAgICBjb25uZWN0b3IucmVjb25uZWN0KCk7XG4gICAgfSwgW2Nvbm5lY3Rvcl0pO1xuICAgIHJlYWN0XzEudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29ubmVjdG9yLmRyYWdQcmV2aWV3T3B0aW9ucyA9IHNwZWNSZWYuY3VycmVudC5wcmV2aWV3T3B0aW9ucyB8fCBudWxsO1xuICAgICAgICBjb25uZWN0b3IucmVjb25uZWN0KCk7XG4gICAgfSwgW2Nvbm5lY3Rvcl0pO1xuICAgIHJldHVybiBbcmVzdWx0LCBjb25uZWN0RHJhZ1NvdXJjZSwgY29ubmVjdERyYWdQcmV2aWV3XTtcbn1cbmV4cG9ydHMudXNlRHJhZyA9IHVzZURyYWc7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIHVzZURyYWdEcm9wTWFuYWdlcl8xID0gcmVxdWlyZShcIi4vaW50ZXJuYWwvdXNlRHJhZ0Ryb3BNYW5hZ2VyXCIpO1xudmFyIHVzZUNvbGxlY3Rvcl8xID0gcmVxdWlyZShcIi4vaW50ZXJuYWwvdXNlQ29sbGVjdG9yXCIpO1xuLyoqXG4gKiB1c2VEcmFnTGF5ZXIgSG9va1xuICogQHBhcmFtIGNvbGxlY3RvciBUaGUgcHJvcGVydHkgY29sbGVjdG9yXG4gKi9cbmZ1bmN0aW9uIHVzZURyYWdMYXllcihjb2xsZWN0KSB7XG4gICAgdmFyIGRyYWdEcm9wTWFuYWdlciA9IHVzZURyYWdEcm9wTWFuYWdlcl8xLnVzZURyYWdEcm9wTWFuYWdlcigpO1xuICAgIHZhciBtb25pdG9yID0gZHJhZ0Ryb3BNYW5hZ2VyLmdldE1vbml0b3IoKTtcbiAgICB2YXIgX2EgPSB1c2VDb2xsZWN0b3JfMS51c2VDb2xsZWN0b3IobW9uaXRvciwgY29sbGVjdCksIGNvbGxlY3RlZCA9IF9hWzBdLCB1cGRhdGVDb2xsZWN0ZWQgPSBfYVsxXTtcbiAgICByZWFjdF8xLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7IHJldHVybiBtb25pdG9yLnN1YnNjcmliZVRvT2Zmc2V0Q2hhbmdlKHVwZGF0ZUNvbGxlY3RlZCk7IH0pO1xuICAgIHJlYWN0XzEudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1vbml0b3Iuc3Vic2NyaWJlVG9TdGF0ZUNoYW5nZSh1cGRhdGVDb2xsZWN0ZWQpOyB9KTtcbiAgICByZXR1cm4gY29sbGVjdGVkO1xufVxuZXhwb3J0cy51c2VEcmFnTGF5ZXIgPSB1c2VEcmFnTGF5ZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1c2VNb25pdG9yT3V0cHV0XzEgPSByZXF1aXJlKFwiLi9pbnRlcm5hbC91c2VNb25pdG9yT3V0cHV0XCIpO1xudmFyIGRyb3BfMSA9IHJlcXVpcmUoXCIuL2ludGVybmFsL2Ryb3BcIik7XG52YXIgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbi8qKlxuICogdXNlRHJvcFRhcmdldCBIb29rXG4gKiBAcGFyYW0gc3BlYyBUaGUgZHJvcCB0YXJnZXQgc3BlY2lmaWNhdGlvblxuICovXG5mdW5jdGlvbiB1c2VEcm9wKHNwZWMpIHtcbiAgICB2YXIgc3BlY1JlZiA9IHJlYWN0XzEudXNlUmVmKHNwZWMpO1xuICAgIHNwZWNSZWYuY3VycmVudCA9IHNwZWM7XG4gICAgaW52YXJpYW50KHNwZWMuYWNjZXB0ICE9IG51bGwsICdhY2NlcHQgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgdmFyIF9hID0gZHJvcF8xLnVzZURyb3BUYXJnZXRNb25pdG9yKCksIG1vbml0b3IgPSBfYVswXSwgY29ubmVjdG9yID0gX2FbMV07XG4gICAgZHJvcF8xLnVzZURyb3BIYW5kbGVyKHNwZWNSZWYsIG1vbml0b3IsIGNvbm5lY3Rvcik7XG4gICAgdmFyIHJlc3VsdCA9IHVzZU1vbml0b3JPdXRwdXRfMS51c2VNb25pdG9yT3V0cHV0KG1vbml0b3IsIHNwZWNSZWYuY3VycmVudC5jb2xsZWN0IHx8IChmdW5jdGlvbiAoKSB7IHJldHVybiAoe30pOyB9KSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdG9yLnJlY29ubmVjdCgpOyB9KTtcbiAgICB2YXIgY29ubmVjdERyb3BUYXJnZXQgPSByZWFjdF8xLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdG9yLmhvb2tzLmRyb3BUYXJnZXQoKTsgfSwgW1xuICAgICAgICBjb25uZWN0b3IsXG4gICAgXSk7XG4gICAgcmVhY3RfMS51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25uZWN0b3IuZHJvcFRhcmdldE9wdGlvbnMgPSBzcGVjLm9wdGlvbnMgfHwgbnVsbDtcbiAgICAgICAgY29ubmVjdG9yLnJlY29ubmVjdCgpO1xuICAgIH0sIFtzcGVjLm9wdGlvbnNdKTtcbiAgICByZXR1cm4gW3Jlc3VsdCwgY29ubmVjdERyb3BUYXJnZXRdO1xufVxuZXhwb3J0cy51c2VEcm9wID0gdXNlRHJvcDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIERyYWdEcm9wQ29udGV4dF8xID0gcmVxdWlyZShcIi4vRHJhZ0Ryb3BDb250ZXh0XCIpO1xuZXhwb3J0cy5EcmFnRHJvcENvbnRleHQgPSBEcmFnRHJvcENvbnRleHRfMS5EcmFnRHJvcENvbnRleHQ7XG5leHBvcnRzLkRyYWdEcm9wQ29udGV4dFByb3ZpZGVyID0gRHJhZ0Ryb3BDb250ZXh0XzEuRHJhZ0Ryb3BDb250ZXh0UHJvdmlkZXI7XG5leHBvcnRzLkRyYWdEcm9wQ29udGV4dENvbnN1bWVyID0gRHJhZ0Ryb3BDb250ZXh0XzEuQ29uc3VtZXI7XG52YXIgRHJhZ0xheWVyXzEgPSByZXF1aXJlKFwiLi9EcmFnTGF5ZXJcIik7XG5leHBvcnRzLkRyYWdMYXllciA9IERyYWdMYXllcl8xLmRlZmF1bHQ7XG52YXIgRHJhZ1NvdXJjZV8xID0gcmVxdWlyZShcIi4vRHJhZ1NvdXJjZVwiKTtcbmV4cG9ydHMuRHJhZ1NvdXJjZSA9IERyYWdTb3VyY2VfMS5kZWZhdWx0O1xudmFyIERyb3BUYXJnZXRfMSA9IHJlcXVpcmUoXCIuL0Ryb3BUYXJnZXRcIik7XG5leHBvcnRzLkRyb3BUYXJnZXQgPSBEcm9wVGFyZ2V0XzEuZGVmYXVsdDtcbnZhciBEcmFnUHJldmlld0ltYWdlXzEgPSByZXF1aXJlKFwiLi9EcmFnUHJldmlld0ltYWdlXCIpO1xuZXhwb3J0cy5EcmFnUHJldmlld0ltYWdlID0gRHJhZ1ByZXZpZXdJbWFnZV8xLmRlZmF1bHQ7XG52YXIgaG9va3NfMSA9IHJlcXVpcmUoXCIuL2hvb2tzXCIpO1xuZXhwb3J0cy51c2VEcmFnID0gaG9va3NfMS51c2VEcmFnO1xuZXhwb3J0cy51c2VEcmFnTGF5ZXIgPSBob29rc18xLnVzZURyYWdMYXllcjtcbmV4cG9ydHMudXNlRHJvcCA9IGhvb2tzXzEudXNlRHJvcDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gcmVnaXN0ZXJTb3VyY2UodHlwZSwgc291cmNlLCBtYW5hZ2VyKSB7XG4gICAgdmFyIHJlZ2lzdHJ5ID0gbWFuYWdlci5nZXRSZWdpc3RyeSgpO1xuICAgIHZhciBzb3VyY2VJZCA9IHJlZ2lzdHJ5LmFkZFNvdXJjZSh0eXBlLCBzb3VyY2UpO1xuICAgIHJldHVybiBbc291cmNlSWQsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZ2lzdHJ5LnJlbW92ZVNvdXJjZShzb3VyY2VJZCk7IH1dO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gcmVnaXN0ZXJTb3VyY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIHJlZ2lzdGVyVGFyZ2V0KHR5cGUsIHRhcmdldCwgbWFuYWdlcikge1xuICAgIHZhciByZWdpc3RyeSA9IG1hbmFnZXIuZ2V0UmVnaXN0cnkoKTtcbiAgICB2YXIgdGFyZ2V0SWQgPSByZWdpc3RyeS5hZGRUYXJnZXQodHlwZSwgdGFyZ2V0KTtcbiAgICByZXR1cm4gW3RhcmdldElkLCBmdW5jdGlvbiAoKSB7IHJldHVybiByZWdpc3RyeS5yZW1vdmVUYXJnZXQodGFyZ2V0SWQpOyB9XTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHJlZ2lzdGVyVGFyZ2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBjaGVja0RlY29yYXRvckFyZ3VtZW50cyhmdW5jdGlvbk5hbWUsIHNpZ25hdHVyZSkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaSAtIDJdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBhcmdzXzEgPSBhcmdzOyBfYSA8IGFyZ3NfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgIHZhciBhcmcgPSBhcmdzXzFbX2FdO1xuICAgICAgICAgICAgaWYgKGFyZyAmJiBhcmcucHJvdG90eXBlICYmIGFyZy5wcm90b3R5cGUucmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdZb3Ugc2VlbSB0byBiZSBhcHBseWluZyB0aGUgYXJndW1lbnRzIGluIHRoZSB3cm9uZyBvcmRlci4gJyArXG4gICAgICAgICAgICAgICAgICAgIChcIkl0IHNob3VsZCBiZSBcIiArIGZ1bmN0aW9uTmFtZSArIFwiKFwiICsgc2lnbmF0dXJlICsgXCIpKENvbXBvbmVudCksIG5vdCB0aGUgb3RoZXIgd2F5IGFyb3VuZC4gXCIpICtcbiAgICAgICAgICAgICAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvdHJvdWJsZXNob290aW5nI3lvdS1zZWVtLXRvLWJlLWFwcGx5aW5nLXRoZS1hcmd1bWVudHMtaW4tdGhlLXdyb25nLW9yZGVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gY2hlY2tEZWNvcmF0b3JBcmd1bWVudHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuZnVuY3Rpb24gc2V0UmVmKHJlZiwgbm9kZSkge1xuICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlZihub2RlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbG9uZVdpdGhSZWYoZWxlbWVudCwgbmV3UmVmKSB7XG4gICAgdmFyIHByZXZpb3VzUmVmID0gZWxlbWVudC5yZWY7XG4gICAgaW52YXJpYW50KHR5cGVvZiBwcmV2aW91c1JlZiAhPT0gJ3N0cmluZycsICdDYW5ub3QgY29ubmVjdCBSZWFjdCBEbkQgdG8gYW4gZWxlbWVudCB3aXRoIGFuIGV4aXN0aW5nIHN0cmluZyByZWYuICcgK1xuICAgICAgICAnUGxlYXNlIGNvbnZlcnQgaXQgdG8gdXNlIGEgY2FsbGJhY2sgcmVmIGluc3RlYWQsIG9yIHdyYXAgaXQgaW50byBhIDxzcGFuPiBvciA8ZGl2Pi4gJyArXG4gICAgICAgICdSZWFkIG1vcmU6IGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvbW9yZS1hYm91dC1yZWZzLmh0bWwjdGhlLXJlZi1jYWxsYmFjay1hdHRyaWJ1dGUnKTtcbiAgICBpZiAoIXByZXZpb3VzUmVmKSB7XG4gICAgICAgIC8vIFdoZW4gdGhlcmUgaXMgbm8gcmVmIG9uIHRoZSBlbGVtZW50LCB1c2UgdGhlIG5ldyByZWYgZGlyZWN0bHlcbiAgICAgICAgcmV0dXJuIHJlYWN0XzEuY2xvbmVFbGVtZW50KGVsZW1lbnQsIHtcbiAgICAgICAgICAgIHJlZjogbmV3UmVmLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlYWN0XzEuY2xvbmVFbGVtZW50KGVsZW1lbnQsIHtcbiAgICAgICAgcmVmOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgc2V0UmVmKG5ld1JlZiwgbm9kZSk7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNSZWYpIHtcbiAgICAgICAgICAgICAgICBzZXRSZWYocHJldmlvdXNSZWYsIG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY2xvbmVXaXRoUmVmO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGlucHV0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5mdW5jdGlvbiBub29wKCkge1xuICAgIC8vIG5vb3Bcbn1cbmV4cG9ydHMubm9vcCA9IG5vb3A7XG5mdW5jdGlvbiBpc09iamVjdExpa2UoaW5wdXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyAmJiBpbnB1dCAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QoaW5wdXQpIHtcbiAgICBpZiAoIWlzT2JqZWN0TGlrZShpbnB1dCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKGlucHV0KSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIHByb3RvID0gaW5wdXQ7XG4gICAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykgIT09IG51bGwpIHtcbiAgICAgICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKGlucHV0KSA9PT0gcHJvdG87XG59XG5leHBvcnRzLmlzUGxhaW5PYmplY3QgPSBpc1BsYWluT2JqZWN0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIFJlcHJlc2VudHMgYSBncm91cCBvZiBkaXNwb3NhYmxlIHJlc291cmNlcyB0aGF0IGFyZSBkaXNwb3NlZCB0b2dldGhlci5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgQ29tcG9zaXRlRGlzcG9zYWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb21wb3NpdGVEaXNwb3NhYmxlKCkge1xuICAgICAgICB2YXIgZGlzcG9zYWJsZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGRpc3Bvc2FibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZXMgPSBkaXNwb3NhYmxlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGRpc3Bvc2FibGUgdG8gdGhlIENvbXBvc2l0ZURpc3Bvc2FibGUgb3IgZGlzcG9zZXMgdGhlIGRpc3Bvc2FibGUgaWYgdGhlIENvbXBvc2l0ZURpc3Bvc2FibGUgaXMgZGlzcG9zZWQuXG4gICAgICogQHBhcmFtIHtBbnl9IGl0ZW0gRGlzcG9zYWJsZSB0byBhZGQuXG4gICAgICovXG4gICAgQ29tcG9zaXRlRGlzcG9zYWJsZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgaXRlbS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2FibGVzLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW5kIGRpc3Bvc2VzIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGEgZGlzcG9zYWJsZSBmcm9tIHRoZSBDb21wb3NpdGVEaXNwb3NhYmxlLlxuICAgICAqIEBwYXJhbSB7QW55fSBpdGVtIERpc3Bvc2FibGUgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIGZvdW5kOyBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgQ29tcG9zaXRlRGlzcG9zYWJsZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIHNob3VsZERpc3Bvc2UgPSBmYWxzZTtcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHZhciBpZHggPSB0aGlzLmRpc3Bvc2FibGVzLmluZGV4T2YoaXRlbSk7XG4gICAgICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHNob3VsZERpc3Bvc2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcG9zYWJsZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgaXRlbS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNob3VsZERpc3Bvc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiAgRGlzcG9zZXMgYWxsIGRpc3Bvc2FibGVzIGluIHRoZSBncm91cCBhbmQgcmVtb3ZlcyB0aGVtIGZyb20gdGhlIGdyb3VwIGJ1dFxuICAgICAqICBkb2VzIG5vdCBkaXNwb3NlIHRoZSBDb21wb3NpdGVEaXNwb3NhYmxlLlxuICAgICAqL1xuICAgIENvbXBvc2l0ZURpc3Bvc2FibGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMuZGlzcG9zYWJsZXMubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnREaXNwb3NhYmxlcyA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnREaXNwb3NhYmxlc1tpXSA9IHRoaXMuZGlzcG9zYWJsZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2FibGVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudERpc3Bvc2FibGVzW2ldLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogIERpc3Bvc2VzIGFsbCBkaXNwb3NhYmxlcyBpbiB0aGUgZ3JvdXAgYW5kIHJlbW92ZXMgdGhlbSBmcm9tIHRoZSBncm91cC5cbiAgICAgKi9cbiAgICBDb21wb3NpdGVEaXNwb3NhYmxlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmRpc3Bvc2FibGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjdXJyZW50RGlzcG9zYWJsZXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGlzcG9zYWJsZXNbaV0gPSB0aGlzLmRpc3Bvc2FibGVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwb3NhYmxlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnREaXNwb3NhYmxlc1tpXS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb21wb3NpdGVEaXNwb3NhYmxlO1xufSgpKTtcbmV4cG9ydHMuQ29tcG9zaXRlRGlzcG9zYWJsZSA9IENvbXBvc2l0ZURpc3Bvc2FibGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkaXNjb3VudF9sb2Rhc2hfMSA9IHJlcXVpcmUoXCIuLi9kaXNjb3VudF9sb2Rhc2hcIik7XG4vKipcbiAqIFByb3ZpZGVzIGEgc2V0IG9mIHN0YXRpYyBtZXRob2RzIGZvciBjcmVhdGluZyBEaXNwb3NhYmxlcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvbiBBY3Rpb24gdG8gcnVuIGR1cmluZyB0aGUgZmlyc3QgY2FsbCB0byBkaXNwb3NlLlxuICogVGhlIGFjdGlvbiBpcyBndWFyYW50ZWVkIHRvIGJlIHJ1biBhdCBtb3N0IG9uY2UuXG4gKi9cbnZhciBEaXNwb3NhYmxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERpc3Bvc2FibGUoYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuaXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGlvbiA9IGRpc2NvdW50X2xvZGFzaF8xLmlzRnVuY3Rpb24oYWN0aW9uKSA/IGFjdGlvbiA6IGRpc2NvdW50X2xvZGFzaF8xLm5vb3A7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZSBnaXZlbiBvYmplY3QgaXMgYSBkaXNwb3NhYmxlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IE9iamVjdCB0byB0ZXN0IHdoZXRoZXIgaXQgaGFzIGEgZGlzcG9zZSBtZXRob2RcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiBhIGRpc3Bvc2FibGUgb2JqZWN0LCBlbHNlIGZhbHNlLlxuICAgICAqL1xuICAgIERpc3Bvc2FibGUuaXNEaXNwb3NhYmxlID0gZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgcmV0dXJuIGQgJiYgZGlzY291bnRfbG9kYXNoXzEuaXNGdW5jdGlvbihkLmRpc3Bvc2UpO1xuICAgIH07XG4gICAgRGlzcG9zYWJsZS5fZml4dXAgPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBEaXNwb3NhYmxlLmlzRGlzcG9zYWJsZShyZXN1bHQpID8gcmVzdWx0IDogRGlzcG9zYWJsZS5lbXB0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkaXNwb3NhYmxlIG9iamVjdCB0aGF0IGludm9rZXMgdGhlIHNwZWNpZmllZCBhY3Rpb24gd2hlbiBkaXNwb3NlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNwb3NlIEFjdGlvbiB0byBydW4gZHVyaW5nIHRoZSBmaXJzdCBjYWxsIHRvIGRpc3Bvc2UuXG4gICAgICogVGhlIGFjdGlvbiBpcyBndWFyYW50ZWVkIHRvIGJlIHJ1biBhdCBtb3N0IG9uY2UuXG4gICAgICogQHJldHVybiB7RGlzcG9zYWJsZX0gVGhlIGRpc3Bvc2FibGUgb2JqZWN0IHRoYXQgcnVucyB0aGUgZ2l2ZW4gYWN0aW9uIHVwb24gZGlzcG9zYWwuXG4gICAgICovXG4gICAgRGlzcG9zYWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGlzcG9zYWJsZShhY3Rpb24pO1xuICAgIH07XG4gICAgLyoqIFBlcmZvcm1zIHRoZSB0YXNrIG9mIGNsZWFuaW5nIHVwIHJlc291cmNlcy4gKi9cbiAgICBEaXNwb3NhYmxlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuaXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRpc3Bvc2FibGUgdGhhdCBkb2VzIG5vdGhpbmcgd2hlbiBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBEaXNwb3NhYmxlLmVtcHR5ID0geyBkaXNwb3NlOiBkaXNjb3VudF9sb2Rhc2hfMS5ub29wIH07XG4gICAgcmV0dXJuIERpc3Bvc2FibGU7XG59KCkpO1xuZXhwb3J0cy5EaXNwb3NhYmxlID0gRGlzcG9zYWJsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgZGlzcG9zYWJsZSByZXNvdXJjZSB3aG9zZSB1bmRlcmx5aW5nIGRpc3Bvc2FibGUgcmVzb3VyY2UgY2FuXG4gKiBiZSByZXBsYWNlZCBieSBhbm90aGVyIGRpc3Bvc2FibGUgcmVzb3VyY2UsIGNhdXNpbmcgYXV0b21hdGljIGRpc3Bvc2FsIG9mXG4gKiB0aGUgcHJldmlvdXMgdW5kZXJseWluZyBkaXNwb3NhYmxlIHJlc291cmNlLlxuICovXG52YXIgU2VyaWFsRGlzcG9zYWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXJpYWxEaXNwb3NhYmxlKCkge1xuICAgICAgICB0aGlzLmlzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdW5kZXJseWluZyBkaXNwb3NhYmxlLlxuICAgICAqIEByZXR1cm5zIHtBbnl9IHRoZSB1bmRlcmx5aW5nIGRpc3Bvc2FibGUuXG4gICAgICovXG4gICAgU2VyaWFsRGlzcG9zYWJsZS5wcm90b3R5cGUuZ2V0RGlzcG9zYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudDtcbiAgICB9O1xuICAgIFNlcmlhbERpc3Bvc2FibGUucHJvdG90eXBlLnNldERpc3Bvc2FibGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHNob3VsZERpc3Bvc2UgPSB0aGlzLmlzRGlzcG9zZWQ7XG4gICAgICAgIGlmICghc2hvdWxkRGlzcG9zZSkge1xuICAgICAgICAgICAgdmFyIG9sZCA9IHRoaXMuY3VycmVudDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKG9sZCkge1xuICAgICAgICAgICAgICAgIG9sZC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZERpc3Bvc2UgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhbHVlLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIFBlcmZvcm1zIHRoZSB0YXNrIG9mIGNsZWFuaW5nIHVwIHJlc291cmNlcy4gKi9cbiAgICBTZXJpYWxEaXNwb3NhYmxlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAob2xkKSB7XG4gICAgICAgICAgICAgICAgb2xkLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNlcmlhbERpc3Bvc2FibGU7XG59KCkpO1xuZXhwb3J0cy5TZXJpYWxEaXNwb3NhYmxlID0gU2VyaWFsRGlzcG9zYWJsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL0Rpc3Bvc2FibGVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vU2VyaWFsRGlzcG9zYWJsZVwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9Db21wb3NpdGVEaXNwb3NhYmxlXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gZ2V0RGVjb3JhdGVkQ29tcG9uZW50KGluc3RhbmNlUmVmKSB7XG4gICAgdmFyIGN1cnJlbnRSZWYgPSBpbnN0YW5jZVJlZi5jdXJyZW50O1xuICAgIGlmIChjdXJyZW50UmVmID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN1cnJlbnRSZWYuZGVjb3JhdGVkUmVmKSB7XG4gICAgICAgIC8vIGdvIHRocm91Z2ggdGhlIHByaXZhdGUgZmllbGQgaW4gZGVjb3JhdGVIYW5kbGVyIHRvIGF2b2lkIHRoZSBpbnZhcmlhbnQgaGl0XG4gICAgICAgIHJldHVybiBjdXJyZW50UmVmLmRlY29yYXRlZFJlZi5jdXJyZW50O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRSZWY7XG4gICAgfVxufVxuZXhwb3J0cy5nZXREZWNvcmF0ZWRDb21wb25lbnQgPSBnZXREZWNvcmF0ZWRDb21wb25lbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGlzUmVmKG9iaikge1xuICAgIHJldHVybiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iai5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudCcpKTtcbn1cbmV4cG9ydHMuaXNSZWYgPSBpc1JlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gaXNDbGFzc0NvbXBvbmVudChDb21wb25lbnQpIHtcbiAgICByZXR1cm4gKENvbXBvbmVudCAmJlxuICAgICAgICBDb21wb25lbnQucHJvdG90eXBlICYmXG4gICAgICAgIHR5cGVvZiBDb21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5mdW5jdGlvbiBpc1JlZkZvcndhcmRpbmdDb21wb25lbnQoQykge1xuICAgIHJldHVybiAoQyAmJiBDLiQkdHlwZW9mICYmIEMuJCR0eXBlb2YudG9TdHJpbmcoKSA9PT0gJ1N5bWJvbChyZWFjdC5mb3J3YXJkX3JlZiknKTtcbn1cbmV4cG9ydHMuaXNSZWZGb3J3YXJkaW5nQ29tcG9uZW50ID0gaXNSZWZGb3J3YXJkaW5nQ29tcG9uZW50O1xuZnVuY3Rpb24gaXNSZWZhYmxlKEMpIHtcbiAgICByZXR1cm4gaXNDbGFzc0NvbXBvbmVudChDKSB8fCBpc1JlZkZvcndhcmRpbmdDb21wb25lbnQoQyk7XG59XG5leHBvcnRzLmlzUmVmYWJsZSA9IGlzUmVmYWJsZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gaXNWYWxpZFR5cGUodHlwZSwgYWxsb3dBcnJheSkge1xuICAgIHJldHVybiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIHR5cGVvZiB0eXBlID09PSAnc3ltYm9sJyB8fFxuICAgICAgICAoISFhbGxvd0FycmF5ICYmXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KHR5cGUpICYmXG4gICAgICAgICAgICB0eXBlLmV2ZXJ5KGZ1bmN0aW9uICh0KSB7IHJldHVybiBpc1ZhbGlkVHlwZSh0LCBmYWxzZSk7IH0pKSk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBpc1ZhbGlkVHlwZTtcbiIsIlwidXNlIHN0cmljdFwiO1xuaWYgKCFTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoKSB7XG4gICAgU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCA9IGZ1bmN0aW9uIChzZWFyY2gsIHRoaXNMZW4pIHtcbiAgICAgICAgaWYgKHRoaXNMZW4gPT09IHVuZGVmaW5lZCB8fCB0aGlzTGVuID4gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXNMZW4gPSB0aGlzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdWJzdHJpbmcodGhpc0xlbiAtIHNlYXJjaC5sZW5ndGgsIHRoaXNMZW4pID09PSBzZWFyY2g7XG4gICAgfTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgY2xvbmVXaXRoUmVmXzEgPSByZXF1aXJlKFwiLi91dGlscy9jbG9uZVdpdGhSZWZcIik7XG5yZXF1aXJlKFwiLi91dGlscy9wb2x5ZmlsbHMvZW5kc1dpdGhcIik7XG5mdW5jdGlvbiB0aHJvd0lmQ29tcG9zaXRlQ29tcG9uZW50RWxlbWVudChlbGVtZW50KSB7XG4gICAgLy8gQ3VzdG9tIGNvbXBvbmVudHMgY2FuIG5vIGxvbmdlciBiZSB3cmFwcGVkIGRpcmVjdGx5IGluIFJlYWN0IERuRCAyLjBcbiAgICAvLyBzbyB0aGF0IHdlIGRvbid0IG5lZWQgdG8gZGVwZW5kIG9uIGZpbmRET01Ob2RlKCkgZnJvbSByZWFjdC1kb20uXG4gICAgaWYgKHR5cGVvZiBlbGVtZW50LnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRpc3BsYXlOYW1lID0gZWxlbWVudC50eXBlLmRpc3BsYXlOYW1lIHx8IGVsZW1lbnQudHlwZS5uYW1lIHx8ICd0aGUgY29tcG9uZW50JztcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ09ubHkgbmF0aXZlIGVsZW1lbnQgbm9kZXMgY2FuIG5vdyBiZSBwYXNzZWQgdG8gUmVhY3QgRG5EIGNvbm5lY3RvcnMuJyArXG4gICAgICAgIChcIllvdSBjYW4gZWl0aGVyIHdyYXAgXCIgKyBkaXNwbGF5TmFtZSArIFwiIGludG8gYSA8ZGl2Piwgb3IgdHVybiBpdCBpbnRvIGEgXCIpICtcbiAgICAgICAgJ2RyYWcgc291cmNlIG9yIGEgZHJvcCB0YXJnZXQgaXRzZWxmLicpO1xufVxuZnVuY3Rpb24gd3JhcEhvb2tUb1JlY29nbml6ZUVsZW1lbnQoaG9vaykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudE9yTm9kZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoZWxlbWVudE9yTm9kZSA9PT0gdm9pZCAwKSB7IGVsZW1lbnRPck5vZGUgPSBudWxsOyB9XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IG51bGw7IH1cbiAgICAgICAgLy8gV2hlbiBwYXNzZWQgYSBub2RlLCBjYWxsIHRoZSBob29rIHN0cmFpZ2h0IGF3YXkuXG4gICAgICAgIGlmICghcmVhY3RfMS5pc1ZhbGlkRWxlbWVudChlbGVtZW50T3JOb2RlKSkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBlbGVtZW50T3JOb2RlO1xuICAgICAgICAgICAgaG9vayhub2RlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGUgbm9kZSBzbyBpdCBjYW4gYmUgY2hhaW5lZCAoZS5nLiB3aGVuIHdpdGhpbiBjYWxsYmFjayByZWZzXG4gICAgICAgICAgICAvLyA8ZGl2IHJlZj17bm9kZSA9PiBjb25uZWN0RHJhZ1NvdXJjZShjb25uZWN0RHJvcFRhcmdldChub2RlKSl9Lz5cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHBhc3NlZCBhIFJlYWN0RWxlbWVudCwgY2xvbmUgaXQgYW5kIGF0dGFjaCB0aGlzIGZ1bmN0aW9uIGFzIGEgcmVmLlxuICAgICAgICAvLyBUaGlzIGhlbHBzIHVzIGFjaGlldmUgYSBuZWF0IEFQSSB3aGVyZSB1c2VyIGRvZXNuJ3QgZXZlbiBrbm93IHRoYXQgcmVmc1xuICAgICAgICAvLyBhcmUgYmVpbmcgdXNlZCB1bmRlciB0aGUgaG9vZC5cbiAgICAgICAgdmFyIGVsZW1lbnQgPSBlbGVtZW50T3JOb2RlO1xuICAgICAgICB0aHJvd0lmQ29tcG9zaXRlQ29tcG9uZW50RWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgLy8gV2hlbiBubyBvcHRpb25zIGFyZSBwYXNzZWQsIHVzZSB0aGUgaG9vayBkaXJlY3RseVxuICAgICAgICB2YXIgcmVmID0gb3B0aW9ucyA/IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBob29rKG5vZGUsIG9wdGlvbnMpOyB9IDogaG9vaztcbiAgICAgICAgcmV0dXJuIGNsb25lV2l0aFJlZl8xLmRlZmF1bHQoZWxlbWVudCwgcmVmKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gd3JhcENvbm5lY3Rvckhvb2tzKGhvb2tzKSB7XG4gICAgdmFyIHdyYXBwZWRIb29rcyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGhvb2tzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIGhvb2sgPSBob29rc1trZXldO1xuICAgICAgICAvLyByZWYgb2JqZWN0cyBzaG91bGQgYmUgcGFzc2VkIHN0cmFpZ2h0IHRocm91Z2ggd2l0aG91dCB3cmFwcGluZ1xuICAgICAgICBpZiAoa2V5LmVuZHNXaXRoKCdSZWYnKSkge1xuICAgICAgICAgICAgd3JhcHBlZEhvb2tzW2tleV0gPSBob29rc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHdyYXBwZWRIb29rXzEgPSB3cmFwSG9va1RvUmVjb2duaXplRWxlbWVudChob29rKTtcbiAgICAgICAgICAgIHdyYXBwZWRIb29rc1trZXldID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gd3JhcHBlZEhvb2tfMTsgfTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB3cmFwcGVkSG9va3M7XG59XG5leHBvcnRzLmRlZmF1bHQgPSB3cmFwQ29ubmVjdG9ySG9va3M7XG4iLCIvKiogQGxpY2Vuc2UgUmVhY3QgdjE2LjguNlxuICogcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cblxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBTeW1ib2xcbi8vIG5vciBwb2x5ZmlsbCwgdGhlbiBhIHBsYWluIG51bWJlciBpcyB1c2VkIGZvciBwZXJmb3JtYW5jZS5cbnZhciBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgOiAweGVhYzc7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKSA6IDB4ZWFjYTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKSA6IDB4ZWFjYjtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKSA6IDB4ZWFjYztcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKSA6IDB4ZWFkMjtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKSA6IDB4ZWFjZDtcbnZhciBSRUFDVF9DT05URVhUX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5jb250ZXh0JykgOiAweGVhY2U7XG52YXIgUkVBQ1RfQVNZTkNfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuYXN5bmNfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29uY3VycmVudF9tb2RlJykgOiAweGVhY2Y7XG52YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZvcndhcmRfcmVmJykgOiAweGVhZDA7XG52YXIgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlJykgOiAweGVhZDE7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QubWVtbycpIDogMHhlYWQzO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKSA6IDB4ZWFkNDtcblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fFxuICAvLyBOb3RlOiBpdHMgdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgaWYgaXQncyBhIHBvbHlmaWxsLlxuICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUpO1xufVxuXG4vKipcbiAqIEZvcmtlZCBmcm9tIGZianMvd2FybmluZzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9mYmpzL2Jsb2IvZTY2YmEyMGFkNWJlNDMzZWI1NDQyM2YyYjA5N2Q4MjkzMjRkOWRlNi9wYWNrYWdlcy9mYmpzL3NyYy9fX2ZvcmtzX18vd2FybmluZy5qc1xuICpcbiAqIE9ubHkgY2hhbmdlIGlzIHdlIHVzZSBjb25zb2xlLndhcm4gaW5zdGVhZCBvZiBjb25zb2xlLmVycm9yLFxuICogYW5kIGRvIG5vdGhpbmcgd2hlbiAnY29uc29sZScgaXMgbm90IHN1cHBvcnRlZC5cbiAqIFRoaXMgcmVhbGx5IHNpbXBsaWZpZXMgdGhlIGNvZGUuXG4gKiAtLS1cbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKCkge307XG5cbntcbiAgdmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYXJnc1thcmdJbmRleCsrXTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG5cbiAgbG93UHJpb3JpdHlXYXJuaW5nID0gZnVuY3Rpb24gKGNvbmRpdGlvbiwgZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2Bsb3dQcmlvcml0eVdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArICdtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHByaW50V2FybmluZy5hcHBseSh1bmRlZmluZWQsIFtmb3JtYXRdLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuICB9O1xufVxuXG52YXIgbG93UHJpb3JpdHlXYXJuaW5nJDEgPSBsb3dQcmlvcml0eVdhcm5pbmc7XG5cbmZ1bmN0aW9uIHR5cGVPZihvYmplY3QpIHtcbiAgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCkge1xuICAgIHZhciAkJHR5cGVvZiA9IG9iamVjdC4kJHR5cGVvZjtcbiAgICBzd2l0Y2ggKCQkdHlwZW9mKSB7XG4gICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgdmFyIHR5cGUgPSBvYmplY3QudHlwZTtcblxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0FTWU5DX01PREVfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YXIgJCR0eXBlb2ZUeXBlID0gdHlwZSAmJiB0eXBlLiQkdHlwZW9mO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKCQkdHlwZW9mVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuICQkdHlwZW9mVHlwZTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJCR0eXBlb2Y7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICByZXR1cm4gJCR0eXBlb2Y7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLy8gQXN5bmNNb2RlIGlzIGRlcHJlY2F0ZWQgYWxvbmcgd2l0aCBpc0FzeW5jTW9kZVxudmFyIEFzeW5jTW9kZSA9IFJFQUNUX0FTWU5DX01PREVfVFlQRTtcbnZhciBDb25jdXJyZW50TW9kZSA9IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xudmFyIENvbnRleHRDb25zdW1lciA9IFJFQUNUX0NPTlRFWFRfVFlQRTtcbnZhciBDb250ZXh0UHJvdmlkZXIgPSBSRUFDVF9QUk9WSURFUl9UWVBFO1xudmFyIEVsZW1lbnQgPSBSRUFDVF9FTEVNRU5UX1RZUEU7XG52YXIgRm9yd2FyZFJlZiA9IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU7XG52YXIgRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xudmFyIExhenkgPSBSRUFDVF9MQVpZX1RZUEU7XG52YXIgTWVtbyA9IFJFQUNUX01FTU9fVFlQRTtcbnZhciBQb3J0YWwgPSBSRUFDVF9QT1JUQUxfVFlQRTtcbnZhciBQcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG52YXIgU3RyaWN0TW9kZSA9IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG52YXIgU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuXG52YXIgaGFzV2FybmVkQWJvdXREZXByZWNhdGVkSXNBc3luY01vZGUgPSBmYWxzZTtcblxuLy8gQXN5bmNNb2RlIHNob3VsZCBiZSBkZXByZWNhdGVkXG5mdW5jdGlvbiBpc0FzeW5jTW9kZShvYmplY3QpIHtcbiAge1xuICAgIGlmICghaGFzV2FybmVkQWJvdXREZXByZWNhdGVkSXNBc3luY01vZGUpIHtcbiAgICAgIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlID0gdHJ1ZTtcbiAgICAgIGxvd1ByaW9yaXR5V2FybmluZyQxKGZhbHNlLCAnVGhlIFJlYWN0SXMuaXNBc3luY01vZGUoKSBhbGlhcyBoYXMgYmVlbiBkZXByZWNhdGVkLCAnICsgJ2FuZCB3aWxsIGJlIHJlbW92ZWQgaW4gUmVhY3QgMTcrLiBVcGRhdGUgeW91ciBjb2RlIHRvIHVzZSAnICsgJ1JlYWN0SXMuaXNDb25jdXJyZW50TW9kZSgpIGluc3RlYWQuIEl0IGhhcyB0aGUgZXhhY3Qgc2FtZSBBUEkuJyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBpc0NvbmN1cnJlbnRNb2RlKG9iamVjdCkgfHwgdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0FTWU5DX01PREVfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzQ29uY3VycmVudE1vZGUob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQ09OQ1VSUkVOVF9NT0RFX1RZUEU7XG59XG5mdW5jdGlvbiBpc0NvbnRleHRDb25zdW1lcihvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9DT05URVhUX1RZUEU7XG59XG5mdW5jdGlvbiBpc0NvbnRleHRQcm92aWRlcihvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9QUk9WSURFUl9UWVBFO1xufVxuZnVuY3Rpb24gaXNFbGVtZW50KG9iamVjdCkge1xuICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xufVxuZnVuY3Rpb24gaXNGb3J3YXJkUmVmKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU7XG59XG5mdW5jdGlvbiBpc0ZyYWdtZW50KG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG59XG5mdW5jdGlvbiBpc0xhenkob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfTEFaWV9UWVBFO1xufVxuZnVuY3Rpb24gaXNNZW1vKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX01FTU9fVFlQRTtcbn1cbmZ1bmN0aW9uIGlzUG9ydGFsKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1BPUlRBTF9UWVBFO1xufVxuZnVuY3Rpb24gaXNQcm9maWxlcihvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFO1xufVxuZnVuY3Rpb24gaXNTdHJpY3RNb2RlKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG59XG5mdW5jdGlvbiBpc1N1c3BlbnNlKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEU7XG59XG5cbmV4cG9ydHMudHlwZU9mID0gdHlwZU9mO1xuZXhwb3J0cy5Bc3luY01vZGUgPSBBc3luY01vZGU7XG5leHBvcnRzLkNvbmN1cnJlbnRNb2RlID0gQ29uY3VycmVudE1vZGU7XG5leHBvcnRzLkNvbnRleHRDb25zdW1lciA9IENvbnRleHRDb25zdW1lcjtcbmV4cG9ydHMuQ29udGV4dFByb3ZpZGVyID0gQ29udGV4dFByb3ZpZGVyO1xuZXhwb3J0cy5FbGVtZW50ID0gRWxlbWVudDtcbmV4cG9ydHMuRm9yd2FyZFJlZiA9IEZvcndhcmRSZWY7XG5leHBvcnRzLkZyYWdtZW50ID0gRnJhZ21lbnQ7XG5leHBvcnRzLkxhenkgPSBMYXp5O1xuZXhwb3J0cy5NZW1vID0gTWVtbztcbmV4cG9ydHMuUG9ydGFsID0gUG9ydGFsO1xuZXhwb3J0cy5Qcm9maWxlciA9IFByb2ZpbGVyO1xuZXhwb3J0cy5TdHJpY3RNb2RlID0gU3RyaWN0TW9kZTtcbmV4cG9ydHMuU3VzcGVuc2UgPSBTdXNwZW5zZTtcbmV4cG9ydHMuaXNWYWxpZEVsZW1lbnRUeXBlID0gaXNWYWxpZEVsZW1lbnRUeXBlO1xuZXhwb3J0cy5pc0FzeW5jTW9kZSA9IGlzQXN5bmNNb2RlO1xuZXhwb3J0cy5pc0NvbmN1cnJlbnRNb2RlID0gaXNDb25jdXJyZW50TW9kZTtcbmV4cG9ydHMuaXNDb250ZXh0Q29uc3VtZXIgPSBpc0NvbnRleHRDb25zdW1lcjtcbmV4cG9ydHMuaXNDb250ZXh0UHJvdmlkZXIgPSBpc0NvbnRleHRQcm92aWRlcjtcbmV4cG9ydHMuaXNFbGVtZW50ID0gaXNFbGVtZW50O1xuZXhwb3J0cy5pc0ZvcndhcmRSZWYgPSBpc0ZvcndhcmRSZWY7XG5leHBvcnRzLmlzRnJhZ21lbnQgPSBpc0ZyYWdtZW50O1xuZXhwb3J0cy5pc0xhenkgPSBpc0xhenk7XG5leHBvcnRzLmlzTWVtbyA9IGlzTWVtbztcbmV4cG9ydHMuaXNQb3J0YWwgPSBpc1BvcnRhbDtcbmV4cG9ydHMuaXNQcm9maWxlciA9IGlzUHJvZmlsZXI7XG5leHBvcnRzLmlzU3RyaWN0TW9kZSA9IGlzU3RyaWN0TW9kZTtcbmV4cG9ydHMuaXNTdXNwZW5zZSA9IGlzU3VzcGVuc2U7XG4gIH0pKCk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsImltcG9ydCAkJG9ic2VydmFibGUgZnJvbSAnc3ltYm9sLW9ic2VydmFibGUnO1xuXG4vKipcbiAqIFRoZXNlIGFyZSBwcml2YXRlIGFjdGlvbiB0eXBlcyByZXNlcnZlZCBieSBSZWR1eC5cbiAqIEZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUuXG4gKiBJZiB0aGUgY3VycmVudCBzdGF0ZSBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS5cbiAqIERvIG5vdCByZWZlcmVuY2UgdGhlc2UgYWN0aW9uIHR5cGVzIGRpcmVjdGx5IGluIHlvdXIgY29kZS5cbiAqL1xudmFyIHJhbmRvbVN0cmluZyA9IGZ1bmN0aW9uIHJhbmRvbVN0cmluZygpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZyg3KS5zcGxpdCgnJykuam9pbignLicpO1xufTtcblxudmFyIEFjdGlvblR5cGVzID0ge1xuICBJTklUOiBcIkBAcmVkdXgvSU5JVFwiICsgcmFuZG9tU3RyaW5nKCksXG4gIFJFUExBQ0U6IFwiQEByZWR1eC9SRVBMQUNFXCIgKyByYW5kb21TdHJpbmcoKSxcbiAgUFJPQkVfVU5LTk9XTl9BQ1RJT046IGZ1bmN0aW9uIFBST0JFX1VOS05PV05fQUNUSU9OKCkge1xuICAgIHJldHVybiBcIkBAcmVkdXgvUFJPQkVfVU5LTk9XTl9BQ1RJT05cIiArIHJhbmRvbVN0cmluZygpO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7YW55fSBvYmogVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGFyZ3VtZW50IGFwcGVhcnMgdG8gYmUgYSBwbGFpbiBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qob2JqKSB7XG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgdmFyIHByb3RvID0gb2JqO1xuXG4gIHdoaWxlIChPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pICE9PSBudWxsKSB7XG4gICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopID09PSBwcm90bztcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgUmVkdXggc3RvcmUgdGhhdCBob2xkcyB0aGUgc3RhdGUgdHJlZS5cbiAqIFRoZSBvbmx5IHdheSB0byBjaGFuZ2UgdGhlIGRhdGEgaW4gdGhlIHN0b3JlIGlzIHRvIGNhbGwgYGRpc3BhdGNoKClgIG9uIGl0LlxuICpcbiAqIFRoZXJlIHNob3VsZCBvbmx5IGJlIGEgc2luZ2xlIHN0b3JlIGluIHlvdXIgYXBwLiBUbyBzcGVjaWZ5IGhvdyBkaWZmZXJlbnRcbiAqIHBhcnRzIG9mIHRoZSBzdGF0ZSB0cmVlIHJlc3BvbmQgdG8gYWN0aW9ucywgeW91IG1heSBjb21iaW5lIHNldmVyYWwgcmVkdWNlcnNcbiAqIGludG8gYSBzaW5nbGUgcmVkdWNlciBmdW5jdGlvbiBieSB1c2luZyBgY29tYmluZVJlZHVjZXJzYC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWR1Y2VyIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBuZXh0IHN0YXRlIHRyZWUsIGdpdmVuXG4gKiB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgYWN0aW9uIHRvIGhhbmRsZS5cbiAqXG4gKiBAcGFyYW0ge2FueX0gW3ByZWxvYWRlZFN0YXRlXSBUaGUgaW5pdGlhbCBzdGF0ZS4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGh5ZHJhdGUgdGhlIHN0YXRlIGZyb20gdGhlIHNlcnZlciBpbiB1bml2ZXJzYWwgYXBwcywgb3IgdG8gcmVzdG9yZSBhXG4gKiBwcmV2aW91c2x5IHNlcmlhbGl6ZWQgdXNlciBzZXNzaW9uLlxuICogSWYgeW91IHVzZSBgY29tYmluZVJlZHVjZXJzYCB0byBwcm9kdWNlIHRoZSByb290IHJlZHVjZXIgZnVuY3Rpb24sIHRoaXMgbXVzdCBiZVxuICogYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUgYXMgYGNvbWJpbmVSZWR1Y2Vyc2Aga2V5cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbZW5oYW5jZXJdIFRoZSBzdG9yZSBlbmhhbmNlci4gWW91IG1heSBvcHRpb25hbGx5IHNwZWNpZnkgaXRcbiAqIHRvIGVuaGFuY2UgdGhlIHN0b3JlIHdpdGggdGhpcmQtcGFydHkgY2FwYWJpbGl0aWVzIHN1Y2ggYXMgbWlkZGxld2FyZSxcbiAqIHRpbWUgdHJhdmVsLCBwZXJzaXN0ZW5jZSwgZXRjLiBUaGUgb25seSBzdG9yZSBlbmhhbmNlciB0aGF0IHNoaXBzIHdpdGggUmVkdXhcbiAqIGlzIGBhcHBseU1pZGRsZXdhcmUoKWAuXG4gKlxuICogQHJldHVybnMge1N0b3JlfSBBIFJlZHV4IHN0b3JlIHRoYXQgbGV0cyB5b3UgcmVhZCB0aGUgc3RhdGUsIGRpc3BhdGNoIGFjdGlvbnNcbiAqIGFuZCBzdWJzY3JpYmUgdG8gY2hhbmdlcy5cbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVTdG9yZShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgZW5oYW5jZXIpIHtcbiAgdmFyIF9yZWYyO1xuXG4gIGlmICh0eXBlb2YgcHJlbG9hZGVkU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBlbmhhbmNlciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgYXJndW1lbnRzWzNdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJdCBsb29rcyBsaWtlIHlvdSBhcmUgcGFzc2luZyBzZXZlcmFsIHN0b3JlIGVuaGFuY2VycyB0byAnICsgJ2NyZWF0ZVN0b3JlKCkuIFRoaXMgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCwgY29tcG9zZSB0aGVtICcgKyAndG9nZXRoZXIgdG8gYSBzaW5nbGUgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJlbG9hZGVkU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuaGFuY2VyID0gcHJlbG9hZGVkU3RhdGU7XG4gICAgcHJlbG9hZGVkU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICB2YXIgY3VycmVudFN0YXRlID0gcHJlbG9hZGVkU3RhdGU7XG4gIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG4gIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcbiAgdmFyIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCkge1xuICAgIGlmIChuZXh0TGlzdGVuZXJzID09PSBjdXJyZW50TGlzdGVuZXJzKSB7XG4gICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBjdXJyZW50IHN0YXRlIHRyZWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbWF5IG5vdCBjYWxsIHN0b3JlLmdldFN0YXRlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ1RoZSByZWR1Y2VyIGhhcyBhbHJlYWR5IHJlY2VpdmVkIHRoZSBzdGF0ZSBhcyBhbiBhcmd1bWVudC4gJyArICdQYXNzIGl0IGRvd24gZnJvbSB0aGUgdG9wIHJlZHVjZXIgaW5zdGVhZCBvZiByZWFkaW5nIGl0IGZyb20gdGhlIHN0b3JlLicpO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG1heSBub3QgY2FsbCBzdG9yZS5zdWJzY3JpYmUoKSB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnSWYgeW91IHdvdWxkIGxpa2UgdG8gYmUgbm90aWZpZWQgYWZ0ZXIgdGhlIHN0b3JlIGhhcyBiZWVuIHVwZGF0ZWQsIHN1YnNjcmliZSBmcm9tIGEgJyArICdjb21wb25lbnQgYW5kIGludm9rZSBzdG9yZS5nZXRTdGF0ZSgpIGluIHRoZSBjYWxsYmFjayB0byBhY2Nlc3MgdGhlIGxhdGVzdCBzdGF0ZS4gJyArICdTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvYXBpLXJlZmVyZW5jZS9zdG9yZSNzdWJzY3JpYmUobGlzdGVuZXIpIGZvciBtb3JlIGRldGFpbHMuJyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKCFpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtYXkgbm90IHVuc3Vic2NyaWJlIGZyb20gYSBzdG9yZSBsaXN0ZW5lciB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2FwaS1yZWZlcmVuY2Uvc3RvcmUjc3Vic2NyaWJlKGxpc3RlbmVyKSBmb3IgbW9yZSBkZXRhaWxzLicpO1xuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24uIEl0IGlzIHRoZSBvbmx5IHdheSB0byB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlLlxuICAgKlxuICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGdpdmVuIGBhY3Rpb25gLiBJdHMgcmV0dXJuIHZhbHVlIHdpbGxcbiAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuICAgKiB3cmFwIHlvdXIgc3RvcmUgY3JlYXRpbmcgZnVuY3Rpb24gaW50byB0aGUgY29ycmVzcG9uZGluZyBtaWRkbGV3YXJlLiBGb3JcbiAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuICAgKiBzZXNzaW9ucywgb3IgdXNlIHRoZSB0aW1lIHRyYXZlbGxpbmcgYHJlZHV4LWRldnRvb2xzYC4gQW4gYWN0aW9uIG11c3QgaGF2ZVxuICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2VcbiAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCwgaWYgeW91IHVzZSBhIGN1c3RvbSBtaWRkbGV3YXJlLCBpdCBtYXkgd3JhcCBgZGlzcGF0Y2goKWAgdG9cbiAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChhY3Rpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuICcgKyAnSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50UmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlcyB0aGUgcmVkdWNlciBjdXJyZW50bHkgdXNlZCBieSB0aGUgc3RvcmUgdG8gY2FsY3VsYXRlIHRoZSBzdGF0ZS5cbiAgICpcbiAgICogWW91IG1pZ2h0IG5lZWQgdGhpcyBpZiB5b3VyIGFwcCBpbXBsZW1lbnRzIGNvZGUgc3BsaXR0aW5nIGFuZCB5b3Ugd2FudCB0b1xuICAgKiBsb2FkIHNvbWUgb2YgdGhlIHJlZHVjZXJzIGR5bmFtaWNhbGx5LiBZb3UgbWlnaHQgYWxzbyBuZWVkIHRoaXMgaWYgeW91XG4gICAqIGltcGxlbWVudCBhIGhvdCByZWxvYWRpbmcgbWVjaGFuaXNtIGZvciBSZWR1eC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dFJlZHVjZXIgVGhlIHJlZHVjZXIgZm9yIHRoZSBzdG9yZSB0byB1c2UgaW5zdGVhZC5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcbiAgICBpZiAodHlwZW9mIG5leHRSZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBuZXh0UmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGN1cnJlbnRSZWR1Y2VyID0gbmV4dFJlZHVjZXI7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVQTEFDRVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9ic2VydmFibGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBvYnNlcnZhYmxlKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIG91dGVyU3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgIHJldHVybiBfcmVmID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbWluaW1hbCBvYnNlcnZhYmxlIHN1YnNjcmlwdGlvbiBtZXRob2QuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgQW55IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIG9ic2VydmVyLlxuICAgICAgICogVGhlIG9ic2VydmVyIG9iamVjdCBzaG91bGQgaGF2ZSBhIGBuZXh0YCBtZXRob2QuXG4gICAgICAgKiBAcmV0dXJucyB7c3Vic2NyaXB0aW9ufSBBbiBvYmplY3Qgd2l0aCBhbiBgdW5zdWJzY3JpYmVgIG1ldGhvZCB0aGF0IGNhblxuICAgICAgICogYmUgdXNlZCB0byB1bnN1YnNjcmliZSB0aGUgb2JzZXJ2YWJsZSBmcm9tIHRoZSBzdG9yZSwgYW5kIHByZXZlbnQgZnVydGhlclxuICAgICAgICogZW1pc3Npb24gb2YgdmFsdWVzIGZyb20gdGhlIG9ic2VydmFibGUuXG4gICAgICAgKi9cbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnIHx8IG9ic2VydmVyID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvYnNlcnZlU3RhdGUoKTtcbiAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gb3V0ZXJTdWJzY3JpYmUob2JzZXJ2ZVN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCBfcmVmWyQkb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfcmVmO1xuICB9IC8vIFdoZW4gYSBzdG9yZSBpcyBjcmVhdGVkLCBhbiBcIklOSVRcIiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBzbyB0aGF0IGV2ZXJ5XG4gIC8vIHJlZHVjZXIgcmV0dXJucyB0aGVpciBpbml0aWFsIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuICAvLyB0aGUgaW5pdGlhbCBzdGF0ZSB0cmVlLlxuXG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLklOSVRcbiAgfSk7XG4gIHJldHVybiBfcmVmMiA9IHtcbiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuICB9LCBfcmVmMlskJG9ic2VydmFibGVdID0gb2JzZXJ2YWJsZSwgX3JlZjI7XG59XG5cbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblxuXG4gIHRyeSB7XG4gICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCBpZiB5b3UgZW5hYmxlXG4gICAgLy8gXCJicmVhayBvbiBhbGwgZXhjZXB0aW9uc1wiIGluIHlvdXIgY29uc29sZSxcbiAgICAvLyBpdCB3b3VsZCBwYXVzZSB0aGUgZXhlY3V0aW9uIGF0IHRoaXMgbGluZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH0gY2F0Y2ggKGUpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcblxufVxuXG5mdW5jdGlvbiBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbikge1xuICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgdmFyIGFjdGlvbkRlc2NyaXB0aW9uID0gYWN0aW9uVHlwZSAmJiBcImFjdGlvbiBcXFwiXCIgKyBTdHJpbmcoYWN0aW9uVHlwZSkgKyBcIlxcXCJcIiB8fCAnYW4gYWN0aW9uJztcbiAgcmV0dXJuIFwiR2l2ZW4gXCIgKyBhY3Rpb25EZXNjcmlwdGlvbiArIFwiLCByZWR1Y2VyIFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQuIFwiICsgXCJUbyBpZ25vcmUgYW4gYWN0aW9uLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgcHJldmlvdXMgc3RhdGUuIFwiICsgXCJJZiB5b3Ugd2FudCB0aGlzIHJlZHVjZXIgdG8gaG9sZCBubyB2YWx1ZSwgeW91IGNhbiByZXR1cm4gbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5cIjtcbn1cblxuZnVuY3Rpb24gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShpbnB1dFN0YXRlLCByZWR1Y2VycywgYWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGUpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgYXJndW1lbnROYW1lID0gYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBBY3Rpb25UeXBlcy5JTklUID8gJ3ByZWxvYWRlZFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXG4gIGlmIChyZWR1Y2VyS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICB9XG5cbiAgaWYgKCFpc1BsYWluT2JqZWN0KGlucHV0U3RhdGUpKSB7XG4gICAgcmV0dXJuIFwiVGhlIFwiICsgYXJndW1lbnROYW1lICsgXCIgaGFzIHVuZXhwZWN0ZWQgdHlwZSBvZiBcXFwiXCIgKyB7fS50b1N0cmluZy5jYWxsKGlucHV0U3RhdGUpLm1hdGNoKC9cXHMoW2EtenxBLVpdKykvKVsxXSArIFwiXFxcIi4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBcIiArIChcImtleXM6IFxcXCJcIiArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgXCJcXFwiXCIpO1xuICB9XG5cbiAgdmFyIHVuZXhwZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMoaW5wdXRTdGF0ZSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldO1xuICB9KTtcbiAgdW5leHBlY3RlZEtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdW5leHBlY3RlZEtleUNhY2hlW2tleV0gPSB0cnVlO1xuICB9KTtcbiAgaWYgKGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gQWN0aW9uVHlwZXMuUkVQTEFDRSkgcmV0dXJuO1xuXG4gIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIFwiVW5leHBlY3RlZCBcIiArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgXCIgXCIgKyAoXCJcXFwiXCIgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArIFwiXFxcIiBmb3VuZCBpbiBcIiArIGFyZ3VtZW50TmFtZSArIFwiLiBcIikgKyBcIkV4cGVjdGVkIHRvIGZpbmQgb25lIG9mIHRoZSBrbm93biByZWR1Y2VyIGtleXMgaW5zdGVhZDogXCIgKyAoXCJcXFwiXCIgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArIFwiXFxcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC5cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0UmVkdWNlclNoYXBlKHJlZHVjZXJzKSB7XG4gIE9iamVjdC5rZXlzKHJlZHVjZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG4gICAgdmFyIGluaXRpYWxTdGF0ZSA9IHJlZHVjZXIodW5kZWZpbmVkLCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5JTklUXG4gICAgfSk7XG5cbiAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlZHVjZXIgXFxcIlwiICsga2V5ICsgXCJcXFwiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uIFwiICsgXCJJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgXCIgKyBcImV4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgXCIgKyBcIm5vdCBiZSB1bmRlZmluZWQuIElmIHlvdSBkb24ndCB3YW50IHRvIHNldCBhIHZhbHVlIGZvciB0aGlzIHJlZHVjZXIsIFwiICsgXCJ5b3UgY2FuIHVzZSBudWxsIGluc3RlYWQgb2YgdW5kZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5QUk9CRV9VTktOT1dOX0FDVElPTigpXG4gICAgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWR1Y2VyIFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiBcIiArIChcIkRvbid0IHRyeSB0byBoYW5kbGUgXCIgKyBBY3Rpb25UeXBlcy5JTklUICsgXCIgb3Igb3RoZXIgYWN0aW9ucyBpbiBcXFwicmVkdXgvKlxcXCIgXCIpICsgXCJuYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSBcIiArIFwiY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgXCIgKyBcImluIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSBcIiArIFwiYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLCBidXQgY2FuIGJlIG51bGwuXCIpO1xuICAgIH1cbiAgfSk7XG59XG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGRpZmZlcmVudCByZWR1Y2VyIGZ1bmN0aW9ucywgaW50byBhIHNpbmdsZVxuICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuICogaW50byBhIHNpbmdsZSBzdGF0ZSBvYmplY3QsIHdob3NlIGtleXMgY29ycmVzcG9uZCB0byB0aGUga2V5cyBvZiB0aGUgcGFzc2VkXG4gKiByZWR1Y2VyIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVkdWNlcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBjb3JyZXNwb25kIHRvIGRpZmZlcmVudFxuICogcmVkdWNlciBmdW5jdGlvbnMgdGhhdCBuZWVkIHRvIGJlIGNvbWJpbmVkIGludG8gb25lLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpblxuICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cbiAqIHVuZGVmaW5lZCBmb3IgYW55IGFjdGlvbi4gSW5zdGVhZCwgdGhleSBzaG91bGQgcmV0dXJuIHRoZWlyIGluaXRpYWwgc3RhdGVcbiAqIGlmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlbSB3YXMgdW5kZWZpbmVkLCBhbmQgdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueVxuICogdW5yZWNvZ25pemVkIGFjdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgcmVkdWNlciBmdW5jdGlvbiB0aGF0IGludm9rZXMgZXZlcnkgcmVkdWNlciBpbnNpZGUgdGhlXG4gKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG4gKi9cblxuXG5mdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB3YXJuaW5nKFwiTm8gcmVkdWNlciBwcm92aWRlZCBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZpbmFsUmVkdWNlcnNba2V5XSA9IHJlZHVjZXJzW2tleV07XG4gICAgfVxuICB9XG5cbiAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTtcbiAgdmFyIHVuZXhwZWN0ZWRLZXlDYWNoZTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZSA9IHt9O1xuICB9XG5cbiAgdmFyIHNoYXBlQXNzZXJ0aW9uRXJyb3I7XG5cbiAgdHJ5IHtcbiAgICBhc3NlcnRSZWR1Y2VyU2hhcGUoZmluYWxSZWR1Y2Vycyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBzaGFwZUFzc2VydGlvbkVycm9yID0gZTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbihzdGF0ZSwgYWN0aW9uKSB7XG4gICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHtcbiAgICAgIHN0YXRlID0ge307XG4gICAgfVxuXG4gICAgaWYgKHNoYXBlQXNzZXJ0aW9uRXJyb3IpIHtcbiAgICAgIHRocm93IHNoYXBlQXNzZXJ0aW9uRXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciB3YXJuaW5nTWVzc2FnZSA9IGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2Uoc3RhdGUsIGZpbmFsUmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKTtcblxuICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgIHdhcm5pbmcod2FybmluZ01lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIG5leHRTdGF0ZSA9IHt9O1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGZpbmFsUmVkdWNlcktleXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2tleSA9IGZpbmFsUmVkdWNlcktleXNbX2ldO1xuICAgICAgdmFyIHJlZHVjZXIgPSBmaW5hbFJlZHVjZXJzW19rZXldO1xuICAgICAgdmFyIHByZXZpb3VzU3RhdGVGb3JLZXkgPSBzdGF0ZVtfa2V5XTtcbiAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG5cbiAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2UoX2tleSwgYWN0aW9uKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG5cbiAgICAgIG5leHRTdGF0ZVtfa2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFzQ2hhbmdlZCA/IG5leHRTdGF0ZSA6IHN0YXRlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb24gY3JlYXRvcnMsIGludG8gYW4gb2JqZWN0IHdpdGggdGhlXG4gKiBzYW1lIGtleXMsIGJ1dCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uIHdyYXBwZWQgaW50byBhIGBkaXNwYXRjaGAgY2FsbCBzbyB0aGV5XG4gKiBtYXkgYmUgaW52b2tlZCBkaXJlY3RseS4gVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgbWV0aG9kLCBhcyB5b3UgY2FuIGNhbGxcbiAqIGBzdG9yZS5kaXNwYXRjaChNeUFjdGlvbkNyZWF0b3JzLmRvU29tZXRoaW5nKCkpYCB5b3Vyc2VsZiBqdXN0IGZpbmUuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB5b3UgY2FuIGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQsXG4gKiBhbmQgZ2V0IGEgZnVuY3Rpb24gaW4gcmV0dXJuLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cbiAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcbiAqIHN0b3JlLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG4gKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG4gKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuICogZnVuY3Rpb24uXG4gKi9cblxuXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkIFwiICsgKGFjdGlvbkNyZWF0b3JzID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdGlvbkNyZWF0b3JzKSArIFwiLiBcIiArIFwiRGlkIHlvdSB3cml0ZSBcXFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiIGluc3RlYWQgb2YgXFxcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiP1wiKTtcbiAgfVxuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWN0aW9uQ3JlYXRvcnMpO1xuICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciBhY3Rpb25DcmVhdG9yID0gYWN0aW9uQ3JlYXRvcnNba2V5XTtcblxuICAgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBib3VuZEFjdGlvbkNyZWF0b3JzO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcbiAgICB2YXIgb3duS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgICBpZiAodHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIG93bktleXMgPSBvd25LZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pLmVudW1lcmFibGU7XG4gICAgICB9KSk7XG4gICAgfVxuXG4gICAgb3duS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZ1bmNzWzBdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmNzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYShiLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2RcbiAqIG9mIHRoZSBSZWR1eCBzdG9yZS4gVGhpcyBpcyBoYW5keSBmb3IgYSB2YXJpZXR5IG9mIHRhc2tzLCBzdWNoIGFzIGV4cHJlc3NpbmdcbiAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG4gKlxuICogU2VlIGByZWR1eC10aHVua2AgcGFja2FnZSBhcyBhbiBleGFtcGxlIG9mIHRoZSBSZWR1eCBtaWRkbGV3YXJlLlxuICpcbiAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuICogc3RvcmUgZW5oYW5jZXIgaW4gdGhlIGNvbXBvc2l0aW9uIGNoYWluLlxuICpcbiAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcbiAqIGFzIG5hbWVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHN0b3JlIGVuaGFuY2VyIGFwcGx5aW5nIHRoZSBtaWRkbGV3YXJlLlxuICovXG5cbmZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG5cbiAgICAgIHZhciBfZGlzcGF0Y2ggPSBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlzcGF0Y2hpbmcgd2hpbGUgY29uc3RydWN0aW5nIHlvdXIgbWlkZGxld2FyZSBpcyBub3QgYWxsb3dlZC4gXCIgKyBcIk90aGVyIG1pZGRsZXdhcmUgd291bGQgbm90IGJlIGFwcGxpZWQgdG8gdGhpcyBkaXNwYXRjaC5cIik7XG4gICAgICB9O1xuXG4gICAgICB2YXIgbWlkZGxld2FyZUFQSSA9IHtcbiAgICAgICAgZ2V0U3RhdGU6IHN0b3JlLmdldFN0YXRlLFxuICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAgICAgcmV0dXJuIF9kaXNwYXRjaC5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgY2hhaW4gPSBtaWRkbGV3YXJlcy5tYXAoZnVuY3Rpb24gKG1pZGRsZXdhcmUpIHtcbiAgICAgICAgcmV0dXJuIG1pZGRsZXdhcmUobWlkZGxld2FyZUFQSSk7XG4gICAgICB9KTtcbiAgICAgIF9kaXNwYXRjaCA9IGNvbXBvc2UuYXBwbHkodm9pZCAwLCBjaGFpbikoc3RvcmUuZGlzcGF0Y2gpO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoe30sIHN0b3JlLCB7XG4gICAgICAgIGRpc3BhdGNoOiBfZGlzcGF0Y2hcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG59XG5cbi8qXG4gKiBUaGlzIGlzIGEgZHVtbXkgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaGFzIGJlZW4gYWx0ZXJlZCBieSBtaW5pZmljYXRpb24uXG4gKiBJZiB0aGUgZnVuY3Rpb24gaGFzIGJlZW4gbWluaWZpZWQgYW5kIE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsIHdhcm4gdGhlIHVzZXIuXG4gKi9cblxuZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcbiAgd2FybmluZygnWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIi4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIHNldHRpbmcgbW9kZSB0byBwcm9kdWN0aW9uIGluIHdlYnBhY2sgKGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uY2VwdHMvbW9kZS8pICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlU3RvcmUsIGNvbWJpbmVSZWR1Y2VycywgYmluZEFjdGlvbkNyZWF0b3JzLCBhcHBseU1pZGRsZXdhcmUsIGNvbXBvc2UsIEFjdGlvblR5cGVzIGFzIF9fRE9fTk9UX1VTRV9fQWN0aW9uVHlwZXMgfTtcbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgY3VycnkyID0gcmVxdWlyZSgnY3VycnkyJylcbnZhciBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ3NlbGVjdG4nKVxudmFyIGRvdHRlZCA9IHJlcXVpcmUoJ2JyYWNrZXRzMmRvdHMnKVxudmFyIHNwbGl0cyA9IHJlcXVpcmUoJ2RvdHNwbGl0LmpzJylcbnZhciBzdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG5cbm1vZHVsZS5leHBvcnRzID0gY3VycnkyKHNlbGVjdG4pXG5cbi8qKlxuICogQ3VycmllZCBwcm9wZXJ0eSBhY2Nlc3NvciBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIGRlZXBseS1uZXN0ZWQgb2JqZWN0IHByb3BlcnRpZXMgdmlhIGRvdC9icmFja2V0LW5vdGF0aW9uXG4gKiBzdHJpbmcgcGF0aCB3aGlsZSBtaXRpZ2F0aW5nIGBUeXBlRXJyb3JzYCB2aWEgZnJpZW5kbHkgYW5kIGNvbXBvc2FibGUgQVBJLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBwYXRoXG4gKiBEb3QvYnJhY2tldC1ub3RhdGlvbiBzdHJpbmcgcGF0aCBvciBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBPYmplY3QgdG8gYWNjZXNzLlxuICpcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufCp8dW5kZWZpbmVkfVxuICogKDEpIHJldHVybnMgYHNlbGVjdG4vMWAgd2hlbiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAqICgyKSByZXR1cm5zIHZhbHVlIGF0IHBhdGggaWYgcGF0aCBleGlzdHMuXG4gKiAoMykgcmV0dXJucyB1bmRlZmluZWQgaWYgcGF0aCBkb2VzIG5vdCBleGlzdC5cbiAqL1xuZnVuY3Rpb24gc2VsZWN0biAocGF0aCwgb2JqZWN0KSB7XG4gIGRlYnVnKCdhcmd1bWVudHM6Jywge1xuICAgIHBhdGg6IHBhdGgsXG4gICAgb2JqZWN0OiBvYmplY3RcbiAgfSlcblxuICB2YXIgaWR4ID0gLTFcbiAgdmFyIHNlZyA9IHN0cmluZy5jYWxsKHBhdGgpID09PSAnW29iamVjdCBBcnJheV0nID8gcGF0aCA6IHNwbGl0cyhkb3R0ZWQocGF0aCkpXG4gIHZhciBlbmQgPSBzZWcubGVuZ3RoXG4gIHZhciByZWYgPSBlbmQgPyBvYmplY3QgOiB2b2lkIDBcblxuICB3aGlsZSAoKytpZHggPCBlbmQpIHtcbiAgICBpZiAoT2JqZWN0KHJlZikgIT09IHJlZikgcmV0dXJuIHZvaWQgMFxuICAgIHJlZiA9IHJlZltzZWdbaWR4XV1cbiAgfVxuXG4gIGRlYnVnKCdyZWY6JywgcmVmKVxuICByZXR1cm4gdHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJyA/IHJlZigpIDogcmVmXG59XG4iLCIvL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCLCBjb21wYXJlLCBjb21wYXJlQ29udGV4dCkge1xuICB2YXIgcmV0ID0gY29tcGFyZSA/IGNvbXBhcmUuY2FsbChjb21wYXJlQ29udGV4dCwgb2JqQSwgb2JqQikgOiB2b2lkIDA7XG5cbiAgaWYgKHJldCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuICEhcmV0O1xuICB9XG5cbiAgaWYgKG9iakEgPT09IG9iakIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqQSAhPT0gXCJvYmplY3RcIiB8fCAhb2JqQSB8fCB0eXBlb2Ygb2JqQiAhPT0gXCJvYmplY3RcIiB8fCAhb2JqQikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpO1xuICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcblxuICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgYkhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5iaW5kKG9iakIpO1xuXG4gIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gIGZvciAodmFyIGlkeCA9IDA7IGlkeCA8IGtleXNBLmxlbmd0aDsgaWR4KyspIHtcbiAgICB2YXIga2V5ID0ga2V5c0FbaWR4XTtcblxuICAgIGlmICghYkhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWVBID0gb2JqQVtrZXldO1xuICAgIHZhciB2YWx1ZUIgPSBvYmpCW2tleV07XG5cbiAgICByZXQgPSBjb21wYXJlID8gY29tcGFyZS5jYWxsKGNvbXBhcmVDb250ZXh0LCB2YWx1ZUEsIHZhbHVlQiwga2V5KSA6IHZvaWQgMDtcblxuICAgIGlmIChyZXQgPT09IGZhbHNlIHx8IChyZXQgPT09IHZvaWQgMCAmJiB2YWx1ZUEgIT09IHZhbHVlQikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCwgcGFyZW50KSB7XG4gIGlmIChwYXJlbnQpe1xuICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICB9XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0LCBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCwgcGFyZW50KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUsIHRhcmdldCk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cblx0aWYob3B0aW9ucy5hdHRycy5ub25jZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcblx0XHRpZiAobm9uY2UpIHtcblx0XHRcdG9wdGlvbnMuYXR0cnMubm9uY2UgPSBub25jZTtcblx0XHR9XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXROb25jZSgpIHtcblx0aWYgKHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBfX3dlYnBhY2tfbm9uY2VfXztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSB0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbidcblx0XHQgPyBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKSBcblx0XHQgOiBvcHRpb25zLnRyYW5zZm9ybS5kZWZhdWx0KG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCIvKiBnbG9iYWwgd2luZG93ICovXG5pbXBvcnQgcG9ueWZpbGwgZnJvbSAnLi9wb255ZmlsbC5qcyc7XG5cbnZhciByb290O1xuXG5pZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBzZWxmO1xufSBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gd2luZG93O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gZ2xvYmFsO1xufSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gbW9kdWxlO1xufSBlbHNlIHtcbiAgcm9vdCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG59XG5cbnZhciByZXN1bHQgPSBwb255ZmlsbChyb290KTtcbmV4cG9ydCBkZWZhdWx0IHJlc3VsdDtcbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN5bWJvbE9ic2VydmFibGVQb255ZmlsbChyb290KSB7XG5cdHZhciByZXN1bHQ7XG5cdHZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxuXHRpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdGlmIChTeW1ib2wub2JzZXJ2YWJsZSkge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sLm9ic2VydmFibGU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbCgnb2JzZXJ2YWJsZScpO1xuXHRcdFx0U3ltYm9sLm9ic2VydmFibGUgPSByZXN1bHQ7XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCA9ICdAQG9ic2VydmFibGUnO1xuXHR9XG5cblx0cmV0dXJuIHJlc3VsdDtcbn07XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9yaWdpbmFsTW9kdWxlKSB7XG5cdGlmICghb3JpZ2luYWxNb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0dmFyIG1vZHVsZSA9IE9iamVjdC5jcmVhdGUob3JpZ2luYWxNb2R1bGUpO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImV4cG9ydHNcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLy8gUG9kcyBkZXBlbmRlbmNpZXNcbmltcG9ydCB7IFNUT1JFX0tFWV9FRElUX1BPRCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgUG9kc0RGVlNsdWdnYWJsZSB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zbHVnZ2FibGUnO1xuXG4vLyBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzXG4vLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcbmNvbnN0IHsgX18gfSA9IHdwLmkxOG47XG5jb25zdCB7IHdpdGhTZWxlY3QsIHdpdGhEaXNwYXRjaCB9ID0gd3AuZGF0YTtcbmNvbnN0IHsgY29tcG9zZSB9ID0gd3AuY29tcG9zZTtcblxuZXhwb3J0IGNvbnN0IEVkaXRQb2ROYW1lID0gY29tcG9zZSAoIFtcblx0d2l0aFNlbGVjdCggKCBzZWxlY3QgKSA9PiB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHBvZE5hbWU6IHNlbGVjdCggU1RPUkVfS0VZX0VESVRfUE9EICkuZ2V0UG9kTmFtZSgpXG5cdFx0fTtcblx0fSApLFxuXHR3aXRoRGlzcGF0Y2goICggZGlzcGF0Y2ggKSA9PiB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNldFBvZE5hbWU6IGRpc3BhdGNoKCBTVE9SRV9LRVlfRURJVF9QT0QgKS5zZXRQb2ROYW1lXG5cdFx0fTtcblx0fSApXG5dIClcbiggKCBwcm9wcyApID0+IHtcblx0cmV0dXJuIChcblx0XHQ8aDI+XG5cdFx0XHR7X18oICdFZGl0IFBvZDogJywgJ3BvZHMnICl9XG5cdFx0XHR7J1xcdTAwQTAnIC8qICZuYnNwOyAqL31cblx0XHRcdDxQb2RzREZWU2x1Z2dhYmxlXG5cdFx0XHRcdHZhbHVlPXtwcm9wcy5wb2ROYW1lfVxuXHRcdFx0XHR1cGRhdGVWYWx1ZT17cHJvcHMuc2V0UG9kTmFtZX1cblx0XHRcdC8+XG5cdFx0PC9oMj5cblx0KTtcbn0gKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8vIFBvZHMgZGVwZW5kZW5jaWVzXG5pbXBvcnQgd2l0aERyYWdEcm9wQ29udGV4dCBmcm9tICcuL3dpdGgtZHJhZy1kcm9wLWNvbnRleHQnO1xuaW1wb3J0IHsgU1RPUkVfS0VZX0VESVRfUE9EIH0gZnJvbSAnLi9zdG9yZS9jb25zdGFudHMnO1xuaW1wb3J0IHsgaGFuZGxlU3VibWl0IH0gZnJvbSAnLi9oYW5kbGUtc3VibWl0JztcbmltcG9ydCB7IFNhdmVTdGF0dXNNZXNzYWdlIH0gZnJvbSAnLi9zYXZlLXN0YXR1cy1tZXNzYWdlJztcbmltcG9ydCB7IEVkaXRQb2ROYW1lIH0gZnJvbSAnLi9lZGl0LXBvZC1uYW1lJztcbmltcG9ydCB7IFBvZHNOYXZUYWIgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29tcG9uZW50cy90YWJzL3BvZHMtbmF2LXRhYic7XG5pbXBvcnQgeyBBY3RpdmVUYWJDb250ZW50IH0gZnJvbSAnLi9tYWluLXRhYnMvYWN0aXZlLXRhYi1jb250ZW50JztcbmltcG9ydCB7IFBvc3Rib3ggfSBmcm9tICcuL3Bvc3Rib3gnO1xuXG4vLyBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzXG5jb25zdCB7IHdpdGhTZWxlY3QsIHdpdGhEaXNwYXRjaCB9ID0gd3AuZGF0YTtcbmNvbnN0IHsgY29tcG9zZSB9ID0gd3AuY29tcG9zZTtcblxuY29uc3QgU3RvcmVTdWJzY3JpYmUgPSBjb21wb3NlKCBbXG5cdHdpdGhTZWxlY3QoICggc2VsZWN0ICkgPT4ge1xuXHRcdGNvbnN0IHN0b3JlU2VsZWN0ID0gc2VsZWN0KCBTVE9SRV9LRVlfRURJVF9QT0QgKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dGFiczogc3RvcmVTZWxlY3QuZ2V0VGFicygpLFxuXHRcdFx0YWN0aXZlVGFiOiBzdG9yZVNlbGVjdC5nZXRBY3RpdmVUYWIoKSxcblx0XHR9O1xuXHR9ICksXG5cdHdpdGhEaXNwYXRjaCggKCBkaXNwYXRjaCApID0+IHtcblx0XHRjb25zdCBzdG9yZURpc3BhdGNoID0gZGlzcGF0Y2goIFNUT1JFX0tFWV9FRElUX1BPRCApO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZXRBY3RpdmVUYWI6IHN0b3JlRGlzcGF0Y2guc2V0QWN0aXZlVGFiLFxuXHRcdH07XG5cdH0gKVxuXSApO1xuXG5jb25zdCBFZGl0UG9kID0gU3RvcmVTdWJzY3JpYmUoICggcHJvcHMgKSA9PiB7XG5cbi8vLS0hIFRvZG86IGRlYnVnZ2luZyBvbmx5XG5cdHdpbmRvdy5zZWxlY3QgPSB3cC5kYXRhLnNlbGVjdCggJ3BvZHMvZWRpdC1wb2QnICk7XG5cdHdpbmRvdy5kaXNwYXRjaCA9IHdwLmRhdGEuZGlzcGF0Y2goICdwb2RzL2VkaXQtcG9kJyApO1xuLy8tLSEgVG9kbzogZGVidWdnaW5nIG9ubHlcblxuXHRyZXR1cm4gKFxuXHRcdDxmb3JtXG5cdFx0XHRvblN1Ym1pdD17KCBlICkgPT4gaGFuZGxlU3VibWl0KCBlLCBwcm9wcyApfT5cblx0XHRcdDxkaXY+XG5cdFx0XHRcdDxFZGl0UG9kTmFtZSAvPlxuXHRcdFx0XHQ8U2F2ZVN0YXR1c01lc3NhZ2UgLz5cblx0XHRcdFx0PFBvZHNOYXZUYWJcblx0XHRcdFx0XHR0YWJzPXtwcm9wcy50YWJzfVxuXHRcdFx0XHRcdGFjdGl2ZVRhYj17cHJvcHMuYWN0aXZlVGFifVxuXHRcdFx0XHRcdHNldEFjdGl2ZVRhYj17cHJvcHMuc2V0QWN0aXZlVGFifVxuXHRcdFx0XHQvPlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGlkPSdwb3N0c3R1ZmYnPlxuXHRcdFx0XHQ8ZGl2IGlkPSdwb3N0LWJvZHknIGNsYXNzTmFtZT0nY29sdW1ucy0yJz5cblx0XHRcdFx0XHQ8QWN0aXZlVGFiQ29udGVudCAvPlxuXHRcdFx0XHRcdDxQb3N0Ym94IC8+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9mb3JtPlxuXHQpO1xufSApO1xuXG5leHBvcnQgY29uc3QgUG9kc0RGVkVkaXRQb2QgPSB3aXRoRHJhZ0Ryb3BDb250ZXh0KCBFZGl0UG9kICk7XG4iLCJjb25zdCBBSkFYX0FDVElPTiA9ICdwb2RzX2FkbWluX3Byb3RvJztcblxuZXhwb3J0IGNvbnN0IGhhbmRsZVN1Ym1pdCA9ICggZSwgcHJvcHMgKSA9PiB7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRjb25zdCByZXF1ZXN0RGF0YSA9IHtcblx0XHQnaWQnOiBwcm9wcy5wb2RNZXRhLmlkLFxuXHRcdCduYW1lJzogcHJvcHMucG9kTWV0YS5uYW1lLFxuXHRcdCdvbGRfbmFtZSc6IHByb3BzLnBvZE1ldGEubmFtZSxcblx0XHQnX3dwbm9uY2UnOiBwcm9wcy5ub25jZSxcblx0XHQnZmllbGRzJzogcHJvcHMuZmllbGRzXG5cdH07XG5cblx0Lypcblx0cHJvcHMuc2V0U2F2ZVN0YXR1cyggc2F2ZVN0YXR1c2VzLlNBVklORyApO1xuXHRmZXRjaCggYCR7YWpheHVybH0/cG9kc19hamF4PTEmYWN0aW9uPSR7QUpBWF9BQ1RJT059YCwge1xuXHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdGhlYWRlcnM6IHtcblx0XHRcdCdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXG5cdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0fSxcblx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSggcmVxdWVzdERhdGEgKVxuXHR9IClcblx0LnRoZW4oXG5cdFx0KCByZXN1bHQgKSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZyggcmVzdWx0ICk7XG5cdFx0XHRwcm9wcy5zZXRTYXZlU3RhdHVzKCBzYXZlU3RhdHVzZXMuU0FWRV9TVUNDRVNTICk7XG5cdFx0fSxcblx0XHQoIGVycm9yICkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coIGVycm9yICk7XG5cdFx0XHRwcm9wcy5zZXRTYXZlU3RhdHVzKCBzYXZlU3RhdHVzZXMuU0FWRV9FUlJPUiApO1xuXHRcdH1cblx0KTtcblx0ICovXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLy8gV29yZFByZXNzIGRlcGVuZGVuY2llc1xuY29uc3QgeyB3aXRoU2VsZWN0LCB3aXRoRGlzcGF0Y2ggfSA9IHdwLmRhdGE7XG5jb25zdCB7IGNvbXBvc2UgfSA9IHdwLmNvbXBvc2U7XG5cbi8vIFBvZHMgZGVwZW5kZW5jaWVzXG5pbXBvcnQgeyBTVE9SRV9LRVlfRURJVF9QT0QgfSBmcm9tICdwb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvc3RvcmUvY29uc3RhbnRzJztcbmltcG9ydCB7IER5bmFtaWNUYWJDb250ZW50IH0gZnJvbSAnLi9keW5hbWljLXRhYi1jb250ZW50JztcbmltcG9ydCB7IEZpZWxkR3JvdXBzIH0gZnJvbSAnLi9maWVsZC1ncm91cHMnO1xuXG5jb25zdCBTdG9yZVN1YnNjcmliZSA9IGNvbXBvc2UoIFtcblx0d2l0aFNlbGVjdCggKCBzZWxlY3QgKSA9PiB7XG5cdFx0Y29uc3Qgc3RvcmVTZWxlY3QgPSBzZWxlY3QoIFNUT1JFX0tFWV9FRElUX1BPRCApO1xuXHRcdHJldHVybiB7XG5cdFx0XHRhY3RpdmVUYWI6IHN0b3JlU2VsZWN0LmdldEFjdGl2ZVRhYigpLFxuXHRcdFx0dGFiT3B0aW9uczogc3RvcmVTZWxlY3QuZ2V0VGFiT3B0aW9ucyggc3RvcmVTZWxlY3QuZ2V0QWN0aXZlVGFiKCkgKSxcblx0XHRcdGdyb3Vwczogc3RvcmVTZWxlY3QuZ2V0R3JvdXBzKCksXG5cdFx0XHRnZXRPcHRpb25WYWx1ZTogc3RvcmVTZWxlY3QuZ2V0T3B0aW9uVmFsdWUsXG5cdFx0XHRnZXRHcm91cEZpZWxkczogc3RvcmVTZWxlY3QuZ2V0R3JvdXBGaWVsZHMsXG5cdFx0XHRncm91cExpc3Q6IHN0b3JlU2VsZWN0LmdldEdyb3VwTGlzdCgpLFxuXHRcdH07XG5cdH0gKSxcblx0d2l0aERpc3BhdGNoKCAoIGRpc3BhdGNoICkgPT4ge1xuXHRcdGNvbnN0IHN0b3JlRGlzcGF0Y2ggPSBkaXNwYXRjaCggU1RPUkVfS0VZX0VESVRfUE9EICk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHNldE9wdGlvblZhbHVlOiBzdG9yZURpc3BhdGNoLnNldE9wdGlvblZhbHVlLFxuXHRcdFx0c2V0R3JvdXBMaXN0OiBzdG9yZURpc3BhdGNoLnNldEdyb3VwTGlzdCxcblx0XHRcdG1vdmVHcm91cDogc3RvcmVEaXNwYXRjaC5tb3ZlR3JvdXAsXG5cdFx0fTtcblx0fSApXG5dICk7XG5cbi8qKlxuICogQWN0aXZlVGFiQ29udGVudFxuICpcbiAqIERpc3BsYXkgdGhlIGNvbnRlbnQgZm9yIHRoZSBhY3RpdmUgdGFiLCBtYW5hZ2UtZmllbGRzIGlzIHRyZWF0ZWQgc3BlY2lhbFxuICovXG5leHBvcnQgY29uc3QgQWN0aXZlVGFiQ29udGVudCA9IFN0b3JlU3Vic2NyaWJlICggKCBwcm9wcyApID0+IHtcblx0bGV0IENvbXBvbmVudDtcblxuXHRpZiAoICdtYW5hZ2UtZmllbGRzJyA9PT0gcHJvcHMuYWN0aXZlVGFiICkge1xuXHRcdENvbXBvbmVudCA9IChcblx0XHRcdDxGaWVsZEdyb3Vwc1xuXHRcdFx0XHRncm91cHM9e3Byb3BzLmdyb3Vwc31cblx0XHRcdFx0Z2V0R3JvdXBGaWVsZHM9e3Byb3BzLmdldEdyb3VwRmllbGRzfVxuXHRcdFx0XHRncm91cExpc3Q9e3Byb3BzLmdyb3VwTGlzdH1cblx0XHRcdFx0c2V0R3JvdXBMaXN0PXtwcm9wcy5zZXRHcm91cExpc3R9XG5cdFx0XHRcdG1vdmVHcm91cD17cHJvcHMubW92ZUdyb3VwfVxuXHRcdFx0Lz5cblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdENvbXBvbmVudCA9IChcblx0XHRcdDxEeW5hbWljVGFiQ29udGVudFxuXHRcdFx0XHR0YWJPcHRpb25zPXtwcm9wcy50YWJPcHRpb25zfVxuXHRcdFx0XHRnZXRPcHRpb25WYWx1ZT17cHJvcHMuZ2V0T3B0aW9uVmFsdWV9XG5cdFx0XHRcdHNldE9wdGlvblZhbHVlPXtwcm9wcy5zZXRPcHRpb25WYWx1ZX1cblx0XHRcdC8+XG5cdFx0KTtcblx0fVxuXG5cdHJldHVybiAoXG5cdFx0PGRpdlxuXHRcdFx0aWQ9J3Bvc3QtYm9keS1jb250ZW50J1xuXHRcdFx0Y2xhc3NOYW1lPSdwb2RzLW5hdi10YWItZ3JvdXAgcG9kcy1tYW5hZ2UtZmllbGQnXG5cdFx0PlxuXHRcdFx0e0NvbXBvbmVudH1cblx0XHQ8L2Rpdj5cblx0KTtcbn0gKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBlYWNoLCBpc09iamVjdCB9IGZyb20gJ2xvZGFzaCc7XG5cbi8vIFdvcmRQcmVzcyBEZXBlbmRlbmNpZXNcbi8vIG5vaW5zcGVjdGlvbiBKU1VucmVzb2x2ZWRWYXJpYWJsZVxuY29uc3QgeyBzcHJpbnRmLCBfXyB9ID0gd3AuaTE4bjtcblxuLy8gUG9kIGRlcGVuZGVuY2llc1xuaW1wb3J0IHsgUG9kc0ZpZWxkT3B0aW9uIH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvbXBvbmVudHMvZmllbGQtb3B0aW9uJztcblxuY29uc3QgTUlTU0lORyA9IF9fKCAnW01JU1NJTkcgREVGQVVMVF0nLCAncG9kcycgKTtcblxuLyoqXG4gKiBvcHRpb24gZGF0YSBmb3JtYXRcbiAqIHtcbiAqICAgICBvcHRpb25OYW1lOiB7XG4gKiAgICAgICAgIC8vIGRlZmF1bHQgbWF5IGdldCByZW1vdmVkLi4uIG1lcmdlIGl0IGludG8gdmFsdWUgb24gdGhlIHNlcnZlciBzaWRlLFxuICogICAgICAgICAvLyBpdCdzIGEgb25lLXRpbWUgdGhpbmdcbiAqICAgICAgICAgZGVmYXVsdDogJycsXG4gKiAgICAgICAgIGRlcGVuZHMtb246IHsgb3B0aW9uTmFtZTogZGVwZW5kZW50VmFsdWUgfSxcbiAqICAgICAgICAgaGVscDogJ2hlbHAnLFxuICogICAgICAgICBsYWJlbDogJ1hYWCAlcycsXG4gKiAgICAgICAgIGxhYmVsX3BhcmFtOiAnb3B0aW9uTmFtZScsXG4gKiAgICAgICAgIHBhcmFtX2RlZmF1bHQ6ICdJdGVtJyxcbiAqICAgICAgICAgdHlwZTogJ3RleHQsIGJvb2xlYW4sIG51bWJlciwgcGljaywgZmlsZSdcbiAqICAgICAgICAgdmFsdWU6ICcnXG4gKiAgICAgfVxuICogfVxuICovXG5cbi8qKlxuICogRHluYW1pY1RhYkNvbnRlbnRcbiAqL1xuZXhwb3J0IGNvbnN0IER5bmFtaWNUYWJDb250ZW50ID0gKCBwcm9wcyApID0+IHtcblx0Y29uc3QgeyB0YWJPcHRpb25zLCBnZXRPcHRpb25WYWx1ZSwgc2V0T3B0aW9uVmFsdWUgfSA9IHByb3BzO1xuXG5cdGNvbnN0IGdldExhYmVsVmFsdWUgPSAoIGxhYmVsRm9ybWF0LCBwYXJhbU9wdGlvbiwgcGFyYW1EZWZhdWx0ICkgPT4ge1xuXHRcdGlmICggIXBhcmFtT3B0aW9uICkge1xuXHRcdFx0cmV0dXJuIGxhYmVsRm9ybWF0O1xuXHRcdH1cblxuXHRcdGNvbnN0IHBhcmFtID0gZ2V0T3B0aW9uVmFsdWUoIHBhcmFtT3B0aW9uICkgfHwgcGFyYW1EZWZhdWx0IHx8IE1JU1NJTkc7XG5cdFx0cmV0dXJuIHNwcmludGYoIGxhYmVsRm9ybWF0LCBwYXJhbSApO1xuXHR9O1xuXG5cdHJldHVybiB0YWJPcHRpb25zLm1hcCggb3B0aW9uID0+IChcblx0XHQ8RGVwZW5kZW50RmllbGRPcHRpb25cblx0XHRcdGtleT17b3B0aW9uLm5hbWV9XG5cdFx0XHRmaWVsZFR5cGU9e29wdGlvbi50eXBlfVxuXHRcdFx0bmFtZT17b3B0aW9uLm5hbWV9XG5cdFx0XHRsYWJlbD17Z2V0TGFiZWxWYWx1ZSggb3B0aW9uLmxhYmVsLCBvcHRpb24ubGFiZWxfcGFyYW0sIG9wdGlvbi5wYXJhbV9kZWZhdWx0ICl9XG5cdFx0XHR2YWx1ZT17b3B0aW9uLnZhbHVlIHx8ICcnfVxuXHRcdFx0ZGVwZW5kZW50cz17b3B0aW9uWyAnZGVwZW5kcy1vbicgXX1cblx0XHRcdGhlbHBUZXh0PXtvcHRpb24uaGVscH1cblx0XHRcdGdldE9wdGlvblZhbHVlPXtnZXRPcHRpb25WYWx1ZX1cblx0XHRcdHNldE9wdGlvblZhbHVlPXtzZXRPcHRpb25WYWx1ZX1cblx0XHQvPlxuXHQpICk7XG59O1xuRHluYW1pY1RhYkNvbnRlbnQucHJvcFR5cGVzID0ge1xuXHR0YWJPcHRpb25zOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcblx0Z2V0T3B0aW9uVmFsdWU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdHNldE9wdGlvblZhbHVlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxufTtcblxuLyoqXG4gKiBEZXBlbmRlbnRGaWVsZE9wdGlvblxuICpcbiAqIENvbmRpdGlvbmFsbHkgZGlzcGxheSBhIEZpZWxkT3B0aW9uIChkZXBlbmRzLW9uIHN1cHBvcnQpXG4gKi9cbmNvbnN0IERlcGVuZGVudEZpZWxkT3B0aW9uID0gKCBwcm9wcyApID0+IHtcblx0Y29uc3QgeyBmaWVsZFR5cGUsIG5hbWUsIGxhYmVsLCB2YWx1ZSwgZGVwZW5kZW50cyB9ID0gcHJvcHM7XG5cdGNvbnN0IHsgZ2V0T3B0aW9uVmFsdWUsIHNldE9wdGlvblZhbHVlIH0gPSBwcm9wcztcblxuXHRjb25zdCBoYW5kbGVJbnB1dENoYW5nZSA9ICggZSApID0+IHtcblx0XHRjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcblx0XHRjb25zdCB2YWx1ZSA9ICdjaGVja2JveCcgPT09IHRhcmdldC50eXBlID8gdGFyZ2V0LmNoZWNrZWQgOiB0YXJnZXQudmFsdWU7XG5cblx0XHRzZXRPcHRpb25WYWx1ZSggbmFtZSwgdmFsdWUgKTtcblx0fTtcblxuXHRpZiAoICFtZWV0c0RlcGVuZGVuY2llcyggZGVwZW5kZW50cywgZ2V0T3B0aW9uVmFsdWUgKSApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiAoXG5cdFx0PFBvZHNGaWVsZE9wdGlvblxuXHRcdFx0ZmllbGRUeXBlPXtmaWVsZFR5cGV9XG5cdFx0XHRuYW1lPXtuYW1lfVxuXHRcdFx0dmFsdWU9e3ZhbHVlfVxuXHRcdFx0bGFiZWw9e2xhYmVsfVxuXHRcdFx0b25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxuXHRcdFx0aGVscFRleHQ9e3Byb3BzLmhlbHBUZXh0fVxuXHRcdC8+XG5cdCk7XG59O1xuRGVwZW5kZW50RmllbGRPcHRpb24ucHJvcFR5cGVzID0ge1xuXHRmaWVsZFR5cGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblx0bmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXHR2YWx1ZTogUHJvcFR5cGVzLmFueS5pc1JlcXVpcmVkLFxuXHRsYWJlbDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXHRkZXBlbmRlbnRzOiBQcm9wVHlwZXMub2JqZWN0LFxuXHRoZWxwVGV4dDogUHJvcFR5cGVzLmFueSxcblx0Z2V0T3B0aW9uVmFsdWU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdHNldE9wdGlvblZhbHVlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R8b2JqZWN0W119IGRlcGVuZGVuY2llcyBEaWN0aW9uYXJ5IGluIHRoZSBmb3JtIG9wdGlvbk5hbWU6IHJlcXVpcmVkVmFsXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBnZXRPcHRpb25WYWx1ZSBTZWxlY3RvciB0byBsb29rdXAgb3B0aW9uIHZhbHVlcyBieSBuYW1lXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHNwZWNpZmllZCBkZXBlbmRlbmNpZXMgYXJlIG1ldFxuICovXG5jb25zdCBtZWV0c0RlcGVuZGVuY2llcyA9ICggZGVwZW5kZW5jaWVzLCBnZXRPcHRpb25WYWx1ZSApID0+IHtcblx0bGV0IHJldFZhbCA9IHRydWU7XG5cblx0aWYgKCBkZXBlbmRlbmNpZXMgJiYgaXNPYmplY3QoIGRlcGVuZGVuY2llcyApICkge1xuXHRcdGVhY2goIGRlcGVuZGVuY2llcywgKCBkZXBlbmRlbnRWYWx1ZSwgZGVwZW5kZW50T3B0aW9uTmFtZSApID0+IHtcblx0XHRcdC8vIExvb3NlIGNvbXBhcmlzb24gcmVxdWlyZWQsIHZhbHVlcyBtYXkgYmUgMS8wIGV4cGVjdGluZyB0cnVlL2ZhbHNlXG5cdFx0XHQvLyBub2luc3BlY3Rpb24gRXF1YWxpdHlDb21wYXJpc29uV2l0aENvZXJjaW9uSlNcblx0XHRcdGlmICggZ2V0T3B0aW9uVmFsdWUoIGRlcGVuZGVudE9wdGlvbk5hbWUgKSAhPSBkZXBlbmRlbnRWYWx1ZSApIHtcblx0XHRcdFx0cmV0VmFsID0gZmFsc2U7XG5cdFx0XHRcdHJldHVybiBmYWxzZTsgLy8gRWFybHktZXhpdHMgdGhlIGxvb3Agb25seSwgbm90IHRoZSBmdW5jdGlvblxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiByZXRWYWw7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYsIHVzZUVmZmVjdCwgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgZmxvdyB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBnZXRFbXB0eUltYWdlIH0gZnJvbSAncmVhY3QtZG5kLWh0bWw1LWJhY2tlbmQnO1xuXG5pbXBvcnQgZHJhZ1NvdXJjZSBmcm9tICcuL2dyb3VwLWRyYWctc291cmNlJztcbmltcG9ydCBkcm9wVGFyZ2V0IGZyb20gJy4vZ3JvdXAtZHJvcC10YXJnZXQnO1xuaW1wb3J0IHsgRmllbGRMaXN0IH0gZnJvbSAncG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL21haW4tdGFicy9maWVsZC1saXN0JztcblxuY29uc3QgeyB1c2VTdGF0ZSB9ID0gUmVhY3Q7XG5jb25zdCB7IERhc2hpY29uIH0gPSB3cC5jb21wb25lbnRzO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvZGlzcGxheS1uYW1lXG5jb25zdCBGaWVsZEdyb3VwID0gZm9yd2FyZFJlZiggKCBwcm9wcywgcmVmICkgPT4ge1xuXHRjb25zdCB7IGNvbm5lY3REcmFnU291cmNlLCBjb25uZWN0RHJvcFRhcmdldCwgY29ubmVjdERyYWdQcmV2aWV3LCBpc0RyYWdnaW5nIH0gPSBwcm9wcztcblx0Y29uc3QgeyBncm91cE5hbWUsIGdldEdyb3VwRmllbGRzIH0gPSBwcm9wcztcblx0Y29uc3QgWyBleHBhbmRlZCwgc2V0RXhwYW5kZWQgXSA9IHVzZVN0YXRlKCBmYWxzZSApO1xuXHRjb25zdCB3cmFwcGVyUmVmID0gdXNlUmVmKCByZWYgKTtcblx0Y29uc3QgZHJhZ0hhbmRsZVJlZiA9IHVzZVJlZiggcmVmICk7XG5cblx0dXNlRWZmZWN0KCAoKSA9PiB7XG5cdFx0aWYgKCBjb25uZWN0RHJhZ1ByZXZpZXcgKSB7XG5cdFx0XHQvLyBVc2UgZW1wdHkgaW1hZ2UgYXMgYSBkcmFnIHByZXZpZXcgc28gYnJvd3NlcnMgZG9uJ3QgZHJhdyBpdCxcblx0XHRcdC8vIHdlIHVzZSBvdXIgY3VzdG9tIGRyYWcgbGF5ZXIgaW5zdGVhZC5cblx0XHRcdGNvbm5lY3REcmFnUHJldmlldyggZ2V0RW1wdHlJbWFnZSgpLCB7XG5cdFx0XHRcdC8vIElFIGZhbGxiYWNrOiBzcGVjaWZ5IHRoYXQgd2UnZCByYXRoZXIgc2NyZWVuc2hvdCB0aGUgbm9kZVxuXHRcdFx0XHQvLyB3aGVuIGl0IGFscmVhZHkga25vd3MgaXQncyBiZWluZyBkcmFnZ2VkIHNvIHdlIGNhbiBoaWRlIGl0IHdpdGggQ1NTLlxuXHRcdFx0XHRjYXB0dXJlRHJhZ2dpbmdTdGF0ZTogdHJ1ZVxuXHRcdFx0fSApO1xuXHRcdH1cblx0fSApO1xuXG5cdGNvbm5lY3REcm9wVGFyZ2V0KCB3cmFwcGVyUmVmICk7XG5cdGNvbm5lY3REcmFnU291cmNlKCBkcmFnSGFuZGxlUmVmICk7XG5cblx0dXNlSW1wZXJhdGl2ZUhhbmRsZSggcmVmLCAoKSA9PiAoIHtcblx0XHRnZXRXcmFwcGVyTm9kZTogKCkgPT4gd3JhcHBlclJlZi5jdXJyZW50LFxuXHRcdGdldEhhbmRsZU5vZGU6ICgpID0+IGRyYWdIYW5kbGVSZWYuY3VycmVudCxcblx0fSApICk7XG5cblx0cmV0dXJuIChcblx0XHQ8ZGl2XG5cdFx0XHRjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwLXdyYXBwZXJcIlxuXHRcdFx0cmVmPXt3cmFwcGVyUmVmfVxuXHRcdFx0c3R5bGU9e3sgb3BhY2l0eTogaXNEcmFnZ2luZyA/IDAgOiAxIH19PlxuXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQtZ3JvdXAtLXRpdGxlXCJcblx0XHRcdFx0b25DbGljaz17KCkgPT4gc2V0RXhwYW5kZWQoICFleHBhbmRlZCApfT5cblxuXHRcdFx0XHQ8ZGl2IHJlZj17ZHJhZ0hhbmRsZVJlZn0gY2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cC0taGFuZGxlXCIgc3R5bGU9e3sgY3Vyc29yOiBpc0RyYWdnaW5nID8gJ25zLXJlc2l6ZScgOiBudWxsIH19PlxuXHRcdFx0XHRcdDxEYXNoaWNvbiBpY29uPSdtZW51JyAvPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwLS1uYW1lXCI+e2dyb3VwTmFtZX08L2Rpdj5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwLS1tYW5hZ2VcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQtZ3JvdXAtLXRvZ2dsZVwiPlxuXHRcdFx0XHRcdFx0PERhc2hpY29uIGljb249e2V4cGFuZGVkID8gJ2Fycm93LXVwJyA6ICdhcnJvdy1kb3duJ30gLz5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblxuXHRcdFx0e2V4cGFuZGVkICYmICFpc0RyYWdnaW5nICYmXG5cdFx0XHQ8RmllbGRMaXN0IGZpZWxkcz17Z2V0R3JvdXBGaWVsZHMoIGdyb3VwTmFtZSApfSAvPn1cblx0XHQ8L2Rpdj5cblx0KTtcbn0gKTtcblxuRmllbGRHcm91cC5wcm9wVHlwZXMgPSB7XG5cdGdyb3VwTmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXHRpbmRleDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuXHRnZXRHcm91cEZpZWxkczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0aGFuZGxlQmVnaW5EcmFnOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHRoYW5kbGVEcmFnQ2FuY2VsOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHRtb3ZlR3JvdXA6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cblx0Ly8gVGhpcyBjb21lcyBmcm9tIHRoZSBkcm9wIHRhcmdldFxuXHRjb25uZWN0RHJvcFRhcmdldDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblxuXHQvLyBUaGVzZSBjb21lIGZyb20gdGhlIGRyYWcgc291cmNlXG5cdGNvbm5lY3REcmFnU291cmNlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHRjb25uZWN0RHJhZ1ByZXZpZXc6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdGlzRHJhZ2dpbmc6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmbG93KCBkcm9wVGFyZ2V0LCBkcmFnU291cmNlICkoIEZpZWxkR3JvdXAgKTtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcblxuaW1wb3J0IEdyb3VwRHJhZ0xheWVyIGZyb20gJy4vZ3JvdXAtZHJhZy1sYXllcic7XG5pbXBvcnQgRmllbGRHcm91cCBmcm9tICcuL2ZpZWxkLWdyb3VwJztcbmltcG9ydCAnLi9maWVsZC1ncm91cHMuc2Nzcyc7XG5cbmV4cG9ydCBjb25zdCBGaWVsZEdyb3VwcyA9ICggeyBncm91cHMsIGdldEdyb3VwRmllbGRzLCBncm91cExpc3QsIHNldEdyb3VwTGlzdCwgbW92ZUdyb3VwIH0gKSA9PiB7XG5cdGNvbnN0IFsgb3JpZ2luYWxMaXN0LCBzZXRPcmlnaW5hbExpc3QgXSA9IHVzZVN0YXRlKCBncm91cExpc3QgKTtcblxuXHRjb25zdCBoYW5kbGVCZWdpbkRyYWcgPSAoKSA9PiB7XG5cdFx0Ly8gVGFrZSBhIHNuYXBzaG90IG9mIHRoZSBsaXN0IHN0YXRlIHdoZW4gZHJhZ2dpbmcgYmVnaW5zXG5cdFx0c2V0T3JpZ2luYWxMaXN0KCBncm91cExpc3QgKTtcblx0fTtcblxuXHRjb25zdCBoYW5kbGVEcmFnQ2FuY2VsID0gKCkgPT4ge1xuXHRcdC8vIEl0ZW1zIGFyZSByZS1vcmRlcmVkIG9uIHRoZSBmbHksIGJlIHN1cmUgdG8gcmVzZXQgb24gY2FuY2VsXG5cdFx0c2V0R3JvdXBMaXN0KCBvcmlnaW5hbExpc3QgKTtcblx0fTtcblxuXHRyZXR1cm4gKFxuXHRcdDxkaXYgY2xhc3NOYW1lPVwiZmllbGQtZ3JvdXBzXCI+XG5cdFx0XHR7Z3JvdXBzLm1hcCggKCBncm91cCwgaW5kZXggKSA9PiAoXG5cdFx0XHRcdDxGaWVsZEdyb3VwXG5cdFx0XHRcdFx0a2V5PXtncm91cC5uYW1lfVxuXHRcdFx0XHRcdGdyb3VwTmFtZT17Z3JvdXAubmFtZX1cblx0XHRcdFx0XHRpbmRleD17aW5kZXh9XG5cdFx0XHRcdFx0Z2V0R3JvdXBGaWVsZHM9e2dldEdyb3VwRmllbGRzfVxuXHRcdFx0XHRcdG1vdmVHcm91cD17bW92ZUdyb3VwfVxuXHRcdFx0XHRcdGhhbmRsZUJlZ2luRHJhZz17aGFuZGxlQmVnaW5EcmFnfVxuXHRcdFx0XHRcdGhhbmRsZURyYWdDYW5jZWw9e2hhbmRsZURyYWdDYW5jZWx9XG5cdFx0XHRcdC8+XG5cdFx0XHQpICl9XG5cdFx0XHQ8R3JvdXBEcmFnTGF5ZXIgLz5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1idXR0b24tZ3JvdXAtLWNvbnRhaW5lclwiPlxuXHRcdFx0XHQ8YSBocmVmPVwiI1wiPkFkZCBHcm91cDwvYT4gPGEgaHJlZj1cIiNcIj5BZGQgRmllbGQ8L2E+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L2Rpdj5cblx0KTtcbn07XG5cbkZpZWxkR3JvdXBzLnByb3BUeXBlcyA9IHtcblx0Z3JvdXBzOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcblx0Z2V0R3JvdXBGaWVsZHM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdG1vdmVHcm91cDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0Z3JvdXBMaXN0OiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcblx0c2V0R3JvdXBMaXN0OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxufTtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2ZpZWxkLWdyb3Vwcy5zY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2ZpZWxkLWdyb3Vwcy5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9maWVsZC1ncm91cHMuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmltcG9ydCAnLi9tYW5hZ2UtZmllbGRzLnNjc3MnO1xuXG4vLyBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzXG4vLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcbmNvbnN0IHsgX18gfSA9IHdwLmkxOG47XG5jb25zdCB7IERhc2hpY29uIH0gPSB3cC5jb21wb25lbnRzO1xuXG5leHBvcnQgY29uc3QgRmllbGRMaXN0ID0gKCBwcm9wcyApID0+IHtcblxuXHRpZiAoIDAgPT09IHByb3BzLmZpZWxkcy5sZW5ndGggKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdwb2RzLW1hbmFnZS1maWVsZHMgbm8tZmllbGRzJz5cblx0XHRcdFx0e19fKCAnVGhlcmUgYXJlIG5vIGZpZWxkcyBpbiB0aGlzIGdyb3VwJywgJ3BvZHMnICl9XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIChcblx0XHQ8ZGl2IGNsYXNzTmFtZT0ncG9kcy1tYW5hZ2UtZmllbGRzJz5cblx0XHRcdDxGaWVsZEhlYWRlciAvPlxuXHRcdFx0e3Byb3BzLmZpZWxkcy5tYXAoIGZpZWxkID0+IChcblx0XHRcdFx0PEZpZWxkTGlzdEl0ZW1cblx0XHRcdFx0XHRrZXk9e2ZpZWxkLmlkfVxuXHRcdFx0XHRcdGlkPXtmaWVsZC5pZH1cblx0XHRcdFx0XHRmaWVsZExhYmVsPXtmaWVsZC5sYWJlbH1cblx0XHRcdFx0XHRmaWVsZE5hbWU9e2ZpZWxkLm5hbWV9XG5cdFx0XHRcdFx0cmVxdWlyZWQ9e2ZpZWxkLnJlcXVpcmVkfVxuXHRcdFx0XHRcdHR5cGU9e2ZpZWxkLnR5cGV9XG5cdFx0XHRcdC8+XG5cdFx0XHQpICl9XG5cdFx0XHQ8RmllbGRIZWFkZXIgLz5cblx0XHQ8L2Rpdj5cblx0KTtcbn07XG5cbkZpZWxkTGlzdC5wcm9wVHlwZXMgPSB7XG5cdGZpZWxkczogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG59O1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBGaWVsZExpc3RJdGVtID0gKCBwcm9wcyApID0+IHtcblx0Y29uc3QgeyBpZCwgZmllbGROYW1lLCBmaWVsZExhYmVsLCByZXF1aXJlZCwgdHlwZSB9ID0gcHJvcHM7XG5cblx0cmV0dXJuIChcblx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQtLXdyYXBwZXJcIj5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZCBwb2RzLWZpZWxkLS1oYW5kbGVcIj5cblx0XHRcdFx0PERhc2hpY29uIGljb249J21lbnUnIC8+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZCBwb2RzLWZpZWxkLS1sYWJlbFwiPlxuXHRcdFx0XHR7ZmllbGRMYWJlbH08c3BhbiBjbGFzc05hbWU9e3JlcXVpcmVkICYmICdwb2RzLWZpZWxkLS1yZXF1aXJlZCd9Pio8L3NwYW4+XG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC0taWRcIj5baWQgPSB7aWR9XTwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQgcG9kcy1maWVsZC0tbmFtZVwiPlxuXHRcdFx0XHR7ZmllbGROYW1lfVxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQgcG9kcy1maWVsZC0tdHlwZVwiPlxuXHRcdFx0XHR7dHlwZX1cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLS1pZFwiPlt0eXBlID0gW1NUSUxMIE5FRUQgVEhJU11dPC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZCBwb2RzLWZpZWxkLS1hY3Rpb25zXCI+XG5cdFx0XHRcdDxEYXNoaWNvbiBpY29uPSdlZGl0JyAvPiA8RGFzaGljb24gaWNvbj0nYWRtaW4tcGFnZScgLz5cblx0XHRcdFx0PERhc2hpY29uIGljb249J3RyYXNoJyAvPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdCk7XG59O1xuXG5GaWVsZExpc3RJdGVtLnByb3BUeXBlcyA9IHtcblx0aWQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcblx0ZmllbGROYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdGZpZWxkTGFiZWw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblx0cmVxdWlyZWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblx0dHlwZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxufTtcblxuLyoqXG4gKlxuICovXG5leHBvcnQgY29uc3QgRmllbGRIZWFkZXIgPSAoKSA9PiB7XG5cdHJldHVybiAoXG5cdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLS13cmFwcGVyLWxhYmVsc1wiPlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLS13cmFwcGVyLWxhYmVsLWl0ZW1zXCI+TGFiZWw8L2Rpdj5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC0td3JhcHBlci1sYWJlbC1pdGVtc1wiPk5hbWU8L2Rpdj5cblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC0td3JhcHBlci1sYWJlbC1pdGVtc1wiPkZpZWxkIFR5cGU8L2Rpdj5cblx0XHQ8L2Rpdj5cblx0KTtcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHsgRHJhZ0xheWVyIH0gZnJvbSAncmVhY3QtZG5kJztcblxuaW1wb3J0IHsgdWlDb25zdGFudHMgfSBmcm9tICdwb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvc3RvcmUvY29uc3RhbnRzJztcblxuY29uc3QgeyBEYXNoaWNvbiB9ID0gd3AuY29tcG9uZW50cztcblxuY29uc3QgZ2V0TGF5ZXJTdHlsZXMgPSAoIHsgaXRlbSB9ICkgPT4ge1xuXHRyZXR1cm4ge1xuXHRcdHBvc2l0aW9uOiAnZml4ZWQnLFxuXHRcdG9wYWNpdHk6IC42LFxuXHRcdHBvaW50ZXJFdmVudHM6ICdub25lJyxcblx0XHR6SW5kZXg6IDEwMCxcblx0XHRsZWZ0OiBpdGVtLmxlZnQsXG5cdFx0dG9wOiAwLFxuXHRcdHdpZHRoOiAnMTAwJScsXG5cdFx0aGVpZ2h0OiAnMTAwJScsXG5cdH07XG5cbn07XG5cbi8vIExvY2sgdGhlIGRyYWdnaW5nIGF4aXNcbmNvbnN0IGdldEl0ZW1TdHlsZXMgPSAoIHsgaXRlbSwgaW5pdGlhbE9mZnNldCwgY3VycmVudE9mZnNldCB9ICkgPT4ge1xuXHRpZiAoICFpbml0aWFsT2Zmc2V0IHx8ICFjdXJyZW50T2Zmc2V0ICkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRkaXNwbGF5OiAnbm9uZSdcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogaXRlbS53aWR0aCxcblx0XHRcdHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2luaXRpYWxPZmZzZXQueH1weCwgJHtjdXJyZW50T2Zmc2V0Lnl9cHhgLFxuXHRcdFx0ZmlsdGVyOiAnZHJvcC1zaGFkb3coNXB4IDVweCA1cHggI0JCQiknLFxuXHRcdH07XG5cdH1cbn07XG5cbmNvbnN0IEN1c3RvbURyYWdMYXllciA9IHByb3BzID0+IHtcblx0Y29uc3QgeyBpdGVtLCBpdGVtVHlwZSwgaXNEcmFnZ2luZyB9ID0gcHJvcHM7XG5cblx0aWYgKCAhaXNEcmFnZ2luZyB8fCB1aUNvbnN0YW50cy5kcmFnSXRlbVR5cGVzLkdST1VQICE9PSBpdGVtVHlwZSApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiAoXG5cdFx0PGRpdiBzdHlsZT17Z2V0TGF5ZXJTdHlsZXMoIHByb3BzICl9PlxuXHRcdFx0PGRpdiBzdHlsZT17Z2V0SXRlbVN0eWxlcyggcHJvcHMgKX0+XG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cC13cmFwcGVyXCIgc3R5bGU9e3sgY3Vyc29yOiAnbnMtcmVzaXplJyB9fT5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQtZ3JvdXAtLXRpdGxlXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQtZ3JvdXAtLWhhbmRsZVwiPlxuXHRcdFx0XHRcdFx0XHQ8RGFzaGljb24gaWNvbj0nbWVudScgLz5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwLS1uYW1lXCI+e2l0ZW0uZ3JvdXBOYW1lfTwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwLS1tYW5hZ2VcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwLS10b2dnbGVcIj5cblx0XHRcdFx0XHRcdFx0XHQ8RGFzaGljb24gaWNvbj17J2Fycm93LWRvd24nfSAvPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvZGl2PlxuXHRcdDwvZGl2PlxuXHQpO1xufTtcblxuQ3VzdG9tRHJhZ0xheWVyLnByb3BUeXBlcyA9IHtcblx0aXRlbTogUHJvcFR5cGVzLnNoYXBlKCB7XG5cdFx0Z3JvdXBOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdFx0aW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxuXHR9ICksXG5cblx0aXRlbVR5cGU6IFByb3BUeXBlcy5zdHJpbmcsXG5cblx0aXNEcmFnZ2luZzogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblxuXHRjdXJyZW50T2Zmc2V0OiBQcm9wVHlwZXMuc2hhcGUoIHtcblx0XHR4OiBQcm9wVHlwZXMubnVtYmVyLFxuXHRcdHk6IFByb3BUeXBlcy5udW1iZXJcblx0fSApLFxuXG5cdGluaXRpYWxPZmZzZXQ6IFByb3BUeXBlcy5zaGFwZSgge1xuXHRcdHg6IFByb3BUeXBlcy5udW1iZXIsXG5cdFx0eTogUHJvcFR5cGVzLm51bWJlclxuXHR9ICksXG59O1xuXG5leHBvcnQgZGVmYXVsdCBEcmFnTGF5ZXIoIG1vbml0b3IgPT4gKCB7XG5cdGl0ZW06IG1vbml0b3IuZ2V0SXRlbSgpLFxuXHRpdGVtVHlwZTogbW9uaXRvci5nZXRJdGVtVHlwZSgpLFxuXHRpbml0aWFsT2Zmc2V0OiBtb25pdG9yLmdldEluaXRpYWxTb3VyY2VDbGllbnRPZmZzZXQoKSxcblx0Y3VycmVudE9mZnNldDogbW9uaXRvci5nZXRTb3VyY2VDbGllbnRPZmZzZXQoKSxcblx0aXNEcmFnZ2luZzogbW9uaXRvci5pc0RyYWdnaW5nKClcbn0gKSApKCBDdXN0b21EcmFnTGF5ZXIgKTtcblxuIiwiaW1wb3J0IHsgRHJhZ1NvdXJjZSB9IGZyb20gJ3JlYWN0LWRuZCc7XG5pbXBvcnQgeyB1aUNvbnN0YW50cyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9jb25zdGFudHMnO1xuXG5jb25zdCB7IGRyYWdJdGVtVHlwZXMgfSA9IHVpQ29uc3RhbnRzO1xuXG5jb25zdCBkcmFnU3BlYyA9IHtcblx0YmVnaW5EcmFnOiAoIHByb3BzLCBtb25pdG9yLCBjb21wb25lbnQgKSA9PiB7XG5cdFx0Y29uc3Qgd3JhcHBlck5vZGUgPSBjb21wb25lbnQuZGVjb3JhdGVkUmVmLmN1cnJlbnQuZ2V0V3JhcHBlck5vZGUoKTtcblx0XHRjb25zdCBoYW5kbGVOb2RlID0gY29tcG9uZW50LmRlY29yYXRlZFJlZi5jdXJyZW50LmdldEhhbmRsZU5vZGUoKTtcblx0XHRjb25zdCB3cmFwcGVyUmVjdCA9IHdyYXBwZXJOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdGNvbnN0IGhhbmRsZVJlY3QgPSBoYW5kbGVOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0cHJvcHMuaGFuZGxlQmVnaW5EcmFnKCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0Z3JvdXBOYW1lOiBwcm9wcy5ncm91cE5hbWUsXG5cdFx0XHRpbmRleDogcHJvcHMuaW5kZXgsXG5cdFx0XHR3aWR0aDogd3JhcHBlclJlY3Qud2lkdGgsXG5cdFx0XHRsZWZ0OiB3cmFwcGVyUmVjdC5sZWZ0IC0gaGFuZGxlUmVjdC5sZWZ0XG5cdFx0fTtcblx0fSxcblxuXHRlbmREcmFnOiAoIHByb3BzLCBtb25pdG9yICkgPT4ge1xuXG5cdFx0Ly8gSXRlbXMgYXJlIHJlLW9yZGVyZWQgb24gdGhlIGZseSwgYmUgc3VyZSB0byByZXNldCBvbiBjYW5jZWxcblx0XHRpZiAoICFtb25pdG9yLmRpZERyb3AoKSApIHtcblx0XHRcdHByb3BzLmhhbmRsZURyYWdDYW5jZWwoKTtcblx0XHR9XG5cdH0sXG59O1xuXG5jb25zdCBjb2xsZWN0ID0gKCBjb25uZWN0LCBtb25pdG9yICkgPT4gKCB7XG5cdGNvbm5lY3REcmFnU291cmNlOiBjb25uZWN0LmRyYWdTb3VyY2UoKSxcblx0Y29ubmVjdERyYWdQcmV2aWV3OiBjb25uZWN0LmRyYWdQcmV2aWV3KCksXG5cdGlzRHJhZ2dpbmc6IG1vbml0b3IuaXNEcmFnZ2luZygpLFxufSApO1xuXG5leHBvcnQgZGVmYXVsdCBEcmFnU291cmNlKCBkcmFnSXRlbVR5cGVzLkdST1VQLCBkcmFnU3BlYywgY29sbGVjdCApO1xuIiwiaW1wb3J0IHsgRHJvcFRhcmdldCB9IGZyb20gJ3JlYWN0LWRuZCc7XG5pbXBvcnQgeyB1aUNvbnN0YW50cyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9jb25zdGFudHMnO1xuXG5jb25zdCB7IGRyYWdJdGVtVHlwZXMgfSA9IHVpQ29uc3RhbnRzO1xuXG5jb25zdCBkcm9wU3BlYyA9IHtcblx0aG92ZXIgKCBwcm9wcywgbW9uaXRvciwgY29tcG9uZW50ICkge1xuXHRcdGlmICggIWNvbXBvbmVudCApIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHQvLyBub2RlID0gSFRNTCBEaXYgZWxlbWVudCBmcm9tIGltcGVyYXRpdmUgQVBJXG5cdFx0Y29uc3Qgbm9kZSA9IGNvbXBvbmVudC5nZXRXcmFwcGVyTm9kZSgpO1xuXHRcdGlmICggIW5vZGUgKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0Y29uc3QgZHJhZ0luZGV4ID0gbW9uaXRvci5nZXRJdGVtKCkuaW5kZXg7XG5cdFx0Y29uc3QgaG92ZXJJbmRleCA9IHByb3BzLmluZGV4O1xuXG5cdFx0Ly8gRG9uJ3QgcmVwbGFjZSBpdGVtcyB3aXRoIHRoZW1zZWx2ZXNcblx0XHRpZiAoIGRyYWdJbmRleCA9PT0gaG92ZXJJbmRleCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgaG92ZXJCb3VuZGluZ1JlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdGNvbnN0IGhvdmVyTWlkZGxlWSA9ICggaG92ZXJCb3VuZGluZ1JlY3QuYm90dG9tIC0gaG92ZXJCb3VuZGluZ1JlY3QudG9wICkgLyAyO1xuXHRcdGNvbnN0IGNsaWVudE9mZnNldCA9IG1vbml0b3IuZ2V0Q2xpZW50T2Zmc2V0KCk7XG5cdFx0Y29uc3QgaG92ZXJDbGllbnRZID0gY2xpZW50T2Zmc2V0LnkgLSBob3ZlckJvdW5kaW5nUmVjdC50b3A7XG5cblx0XHQvLyBPbmx5IHBlcmZvcm0gdGhlIG1vdmUgd2hlbiB0aGUgbW91c2UgaGFzIGNyb3NzZWQgaGFsZiBvZiB0aGUgaXRlbSdzIGhlaWdodFxuXG5cdFx0Ly8gRHJhZ2dpbmcgZG93bndhcmRzLCBvbmx5IG1vdmUgd2hlbiB0aGUgY3Vyc29yIGlzIGJlbG93IDUwJVxuXHRcdGlmICggZHJhZ0luZGV4IDwgaG92ZXJJbmRleCAmJiBob3ZlckNsaWVudFkgPCBob3Zlck1pZGRsZVkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdC8vIERyYWdnaW5nIHVwd2FyZHMsIG9ubHkgbW92ZSB3aGVuIHRoZSBjdXJzb3IgaXMgYWJvdmUgNTAlXG5cdFx0aWYgKCBkcmFnSW5kZXggPiBob3ZlckluZGV4ICYmIGhvdmVyQ2xpZW50WSA+IGhvdmVyTWlkZGxlWSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBUaW1lIHRvIGFjdHVhbGx5IHBlcmZvcm0gdGhlIGFjdGlvblxuXHRcdHByb3BzLm1vdmVHcm91cCggZHJhZ0luZGV4LCBob3ZlckluZGV4ICk7XG5cblx0XHQvLyBOb3RlOiB3ZSdyZSBtdXRhdGluZyB0aGUgbW9uaXRvciBpdGVtIGhlcmUhIEdlbmVyYWxseSBpdCdzXG5cdFx0Ly8gYmV0dGVyIHRvIGF2b2lkIG11dGF0aW9ucyBidXQgaXQncyBnb29kIGhlcmUgZm9yIHRoZSBzYWtlIG9mXG5cdFx0Ly8gcGVyZm9ybWFuY2UgdG8gYXZvaWQgZXhwZW5zaXZlIGluZGV4IHNlYXJjaGVzLlxuXHRcdG1vbml0b3IuZ2V0SXRlbSgpLmluZGV4ID0gaG92ZXJJbmRleDtcblx0fSxcbn07XG5cbmNvbnN0IGNvbGxlY3QgPSBjb25uZWN0ID0+ICgge1xuXHRjb25uZWN0RHJvcFRhcmdldDogY29ubmVjdC5kcm9wVGFyZ2V0KCksXG59ICk7XG5cbmV4cG9ydCBkZWZhdWx0IERyb3BUYXJnZXQoIGRyYWdJdGVtVHlwZXMuR1JPVVAsIGRyb3BTcGVjLCBjb2xsZWN0ICk7XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9tYW5hZ2UtZmllbGRzLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vbWFuYWdlLWZpZWxkcy5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9tYW5hZ2UtZmllbGRzLnNjc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcm9wLXR5cGVzICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU1RPUkVfS0VZX0VESVRfUE9EIH0gZnJvbSAncG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL3N0b3JlL2NvbnN0YW50cyc7XG5cbmNvbnN0IHsgX18gfSA9IHdwLmkxOG47XG5jb25zdCB7IHdpdGhTZWxlY3QgfSA9IHdwLmRhdGE7XG5cbmV4cG9ydCBjb25zdCBQb3N0Ym94ID0gd2l0aFNlbGVjdCggKCBzZWxlY3QgKSA9PiB7XG5cdHJldHVybiB7XG5cdFx0aXNTYXZpbmc6IHNlbGVjdCggU1RPUkVfS0VZX0VESVRfUE9EICkuaXNTYXZpbmcoKVxuXHR9O1xufSApXG4oICggcHJvcHMgKSA9PiB7XG5cdHJldHVybiAoXG5cdFx0PGRpdiBpZD0ncG9zdGJveC1jb250YWluZXItMScgY2xhc3NOYW1lPSdwb3N0Ym94LWNvbnRhaW5lciBwb2RzX2Zsb2F0bWVudSc+XG5cdFx0XHQ8ZGl2IGlkPSdzaWRlLWluZm8tZmllbGQnIGNsYXNzTmFtZT0naW5uZXItc2lkZWJhcic+XG5cdFx0XHRcdDxkaXYgaWQ9J3NpZGUtc29ydGFibGVzJz5cblx0XHRcdFx0XHQ8ZGl2IGlkPSdzdWJtaXRkaXYnIGNsYXNzTmFtZT0ncG9zdGJveCBwb2RzLW5vLXRvZ2dsZSc+XG5cdFx0XHRcdFx0XHQ8aDM+XG5cdFx0XHRcdFx0XHRcdDxzcGFuPlxuXHRcdFx0XHRcdFx0XHRcdHtfXyggJ01hbmFnZScsICdwb2RzJyApfVxuXHRcdFx0XHRcdFx0XHRcdHsnXFx1MDBBMCcgLyogJm5ic3A7ICovfVxuXHRcdFx0XHRcdFx0XHRcdDxzbWFsbD5cblx0XHRcdFx0XHRcdFx0XHRcdCg8YSBocmVmPScvd3AtYWRtaW4vYWRtaW4ucGhwP3BhZ2U9cG9kcyZhbXA7YWN0aW9uPW1hbmFnZSc+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtfXyggJ8KrIEJhY2sgdG8gTWFuYWdlJywgJ3BvZHMnICl9XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2E+KVxuXHRcdFx0XHRcdFx0XHRcdDwvc21hbGw+XG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cblx0XHRcdFx0XHRcdDwvaDM+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0naW5zaWRlJz5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3N1Ym1pdGJveCcgaWQ9J3N1Ym1pdHBvc3QnPlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgaWQ9J21ham9yLXB1Ymxpc2hpbmctYWN0aW9ucyc+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGlkPSdkZWxldGUtYWN0aW9uJz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PGEgaHJlZj0nI25vdC1pbXBsZW1lbnRlZCcgY2xhc3NOYW1lPSdzdWJtaXRkZWxldGUgZGVsZXRpb24gcG9kcy1jb25maXJtJz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7X18oICdEZWxldGUgUG9kJywgJ3BvZHMnICl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvYT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBpZD0ncHVibGlzaGluZy1hY3Rpb24nPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8U3Bpbm5lciBpc1NhdmluZz17IHByb3BzLmlzU2F2aW5nIH0gLz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0eydcXHUwMEEwJyAvKiAmbmJzcDsgKi99XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxidXR0b24gY2xhc3NOYW1lPSdidXR0b24tcHJpbWFyeScgdHlwZT0nc3VibWl0Jz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7X18oICdTYXZlIFBvZCcsICdwb2RzJyApfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2NsZWFyJz48L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ncG9kcy1zdWJtaXR0YWJsZS1maWVsZHMnPlxuXHRcdFx0XHRcdFx0PGRpdiBpZD0nc2lkZS1zb3J0YWJsZXMnIGNsYXNzTmFtZT0nbWV0YS1ib3gtc29ydGFibGVzJz48L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L2Rpdj5cblx0KTtcbn0gKTtcblxuY29uc3QgU3Bpbm5lciA9ICggcHJvcHMgKSA9PiB7XG5cdGlmICggcHJvcHMuaXNTYXZpbmcgKSB7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxpbWcgc3JjPScvd3AtYWRtaW4vaW1hZ2VzL3dwc3Bpbl9saWdodC5naWYnIGFsdD0nJyAvPlxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gbnVsbDtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcm9wLXR5cGVzICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU1RPUkVfS0VZX0VESVRfUE9ELCB1aUNvbnN0YW50cyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9jb25zdGFudHMnO1xuXG4vKiBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzICovXG4vLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcbmNvbnN0IHsgX18gfSA9IHdwLmkxOG47XG5jb25zdCB7IHdpdGhTZWxlY3QgfSA9IHdwLmRhdGE7XG5cbmV4cG9ydCBjb25zdCBTYXZlU3RhdHVzTWVzc2FnZSA9IHdpdGhTZWxlY3QoICggc2VsZWN0ICkgPT4ge1xuXHRyZXR1cm4ge1xuXHRcdHNhdmVTdGF0dXM6IHNlbGVjdCggU1RPUkVfS0VZX0VESVRfUE9EICkuZ2V0U2F2ZVN0YXR1cygpXG5cdH07XG59IClcbiggKCBwcm9wcyApID0+IHtcblx0c3dpdGNoICggcHJvcHMuc2F2ZVN0YXR1cyApIHtcblx0XHRjYXNlIHVpQ29uc3RhbnRzLnNhdmVTdGF0dXNlcy5TQVZJTkc6XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQ8ZGl2IGlkPVwibWVzc2FnZVwiIGNsYXNzTmFtZT1cIm5vdGljZSBub3RpY2Utd2FybmluZ1wiPlxuXHRcdFx0XHRcdDxwPjxiPntfXyggJ1NhdmluZyBQb2QuLi4nLCAncG9kcycgKX08L2I+PC9wPlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdCk7XG5cblx0XHRjYXNlIHVpQ29uc3RhbnRzLnNhdmVTdGF0dXNlcy5TQVZFX1NVQ0NFU1M6XG5cdFx0XHRyZXR1cm4gKFxuXHRcdFx0XHQ8ZGl2IGlkPVwibWVzc2FnZVwiIGNsYXNzTmFtZT1cInVwZGF0ZWQgZmFkZVwiPlxuXHRcdFx0XHRcdDxwPlxuXHRcdFx0XHRcdFx0PHN0cm9uZz57X18oICdTdWNjZXNzIScsICdwb2RzJyApfTwvc3Ryb25nPlxuXHRcdFx0XHRcdFx0eydcXHUwMEEwJyAvKiAmbmJzcDsgKi99XG5cdFx0XHRcdFx0XHR7X18oICdQb2Qgc2F2ZWQgc3VjY2Vzc2Z1bGx5LicsICdwb2RzJyApfVxuXHRcdFx0XHRcdDwvcD5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQpO1xuXG5cdFx0Y2FzZSB1aUNvbnN0YW50cy5zYXZlU3RhdHVzZXMuU0FWRV9FUlJPUjpcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdDxkaXYgaWQ9XCJtZXNzYWdlXCIgY2xhc3NOYW1lPVwibm90aWNlIGVycm9yXCI+XG5cdFx0XHRcdFx0PHA+PGI+e19fKCAnU2F2ZSBFcnJvcicsICdwb2RzJyApfTwvYj48L3A+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0KTtcblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0fVxufSApO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmNvbnN0IHsgdXNlU3RhdGUgfSA9IFJlYWN0O1xuXG4vKiBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzICovXG4vLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcbmNvbnN0IHsgX18gfSA9IHdwLmkxOG47XG5cbmV4cG9ydCBjb25zdCBQb2RzREZWU2x1Z2dhYmxlID0gKCBwcm9wcyApID0+IHtcblx0Y29uc3QgWyBlZGl0aW5nLCBzZXRFZGl0aW5nIF0gPSB1c2VTdGF0ZSggZmFsc2UgKTtcblx0Y29uc3QgWyBsb2NhbFZhbHVlLCBzZXRMb2NhbFZhbHVlIF0gPSB1c2VTdGF0ZSggcHJvcHMudmFsdWUgKTtcblxuXHRjb25zdCBoYW5kbGVWYWx1ZUNoYW5nZSA9ICggbmV3VmFsdWUgKSA9PiB7XG5cdFx0c2V0TG9jYWxWYWx1ZSggbmV3VmFsdWUgKTtcblx0fTtcblxuXHRjb25zdCBoYW5kbGVFZGl0Q2xpY2sgPSAoKSA9PiB7XG5cdFx0c2V0RWRpdGluZyggdHJ1ZSApO1xuXHR9O1xuXG5cdGNvbnN0IGhhbmRsZU9rQ2xpY2sgPSAoKSA9PiB7XG5cdFx0c2V0RWRpdGluZyggZmFsc2UgKTtcblx0XHRwcm9wcy51cGRhdGVWYWx1ZSggbG9jYWxWYWx1ZSApO1xuXHR9O1xuXG5cdGNvbnN0IGhhbmRsZUNhbmNlbENsaWNrID0gKCBlICkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRzZXRFZGl0aW5nKCBmYWxzZSApO1xuXHRcdHNldExvY2FsVmFsdWUoIHByb3BzLnZhbHVlICk7XG5cdH07XG5cblx0aWYgKCAhZWRpdGluZyApIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PE5vdEVkaXRpbmdcblx0XHRcdFx0dmFsdWU9e3Byb3BzLnZhbHVlfVxuXHRcdFx0XHRoYW5kbGVFZGl0Q2xpY2s9e2hhbmRsZUVkaXRDbGlja31cblx0XHRcdC8+XG5cdFx0KTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0PEVkaXRpbmdcblx0XHRcdFx0dmFsdWU9e2xvY2FsVmFsdWV9XG5cdFx0XHRcdGhhbmRsZVZhbHVlQ2hhbmdlPXtoYW5kbGVWYWx1ZUNoYW5nZX1cblx0XHRcdFx0aGFuZGxlT2tDbGljaz17aGFuZGxlT2tDbGlja31cblx0XHRcdFx0aGFuZGxlQ2FuY2VsQ2xpY2s9e2hhbmRsZUNhbmNlbENsaWNrfVxuXHRcdFx0Lz5cblx0XHQpO1xuXHR9XG59O1xuXG5Qb2RzREZWU2x1Z2dhYmxlLnByb3BUeXBlcyA9IHtcblx0dmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblx0dXBkYXRlVmFsdWU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn07XG5cbmNvbnN0IE5vdEVkaXRpbmcgPSAoIHByb3BzICkgPT4ge1xuXHRyZXR1cm4gKFxuXHRcdDxzcGFuPlxuXHRcdFx0PGVtXG5cdFx0XHRcdG9uQ2xpY2s9e3Byb3BzLmhhbmRsZUVkaXRDbGlja31cblx0XHRcdFx0c3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX0+XG5cdFx0XHRcdHtwcm9wcy52YWx1ZX1cblx0XHRcdDwvZW0+XG5cdFx0XHR7J1xcdTAwQTAnIC8qICZuYnNwOyAqL31cblx0XHRcdDxpbnB1dFxuXHRcdFx0XHR0eXBlPSdidXR0b24nXG5cdFx0XHRcdGNsYXNzTmFtZT0nZWRpdC1zbHVnLWJ1dHRvbiBidXR0b24nXG5cdFx0XHRcdHZhbHVlPXtfXyggJ0VkaXQnLCAncG9kcycgKX1cblx0XHRcdFx0b25DbGljaz17cHJvcHMuaGFuZGxlRWRpdENsaWNrfVxuXHRcdFx0Lz5cblx0XHQ8L3NwYW4+XG5cdCk7XG59O1xuXG5Ob3RFZGl0aW5nLnByb3BUeXBlcyA9IHtcblx0dmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblx0aGFuZGxlRWRpdENsaWNrOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59O1xuXG5jb25zdCBFZGl0aW5nID0gKCBwcm9wcyApID0+IHtcblx0Y29uc3QgaGFuZGxlRm9jdXMgPSAoIGUgKSA9PiBlLnRhcmdldC5zZWxlY3QoKTtcblxuXHRyZXR1cm4gKFxuXHRcdDxzcGFuPlxuXHRcdFx0PGlucHV0XG5cdFx0XHRcdHR5cGU9J3RleHQnXG5cdFx0XHRcdGF1dG9Gb2N1c1xuXHRcdFx0XHRpZD0ncG9kcy1mb3JtLXVpLW5hbWUnXG5cdFx0XHRcdG5hbWU9J25hbWUnXG5cdFx0XHRcdGNsYXNzTmFtZT0ncG9kcy1mb3JtLXVpLWZpZWxkIHBvZHMtZm9ybS11aS1maWVsZC10eXBlLXRleHQgcG9kcy1mb3JtLXVpLWZpZWxkLW5hbWUtbmFtZSdcblx0XHRcdFx0dmFsdWU9e3Byb3BzLnZhbHVlfVxuXHRcdFx0XHRvbkNoYW5nZT17KCBlICkgPT4gcHJvcHMuaGFuZGxlVmFsdWVDaGFuZ2UoIGUudGFyZ2V0LnZhbHVlICl9XG5cdFx0XHRcdG9uRm9jdXM9e2hhbmRsZUZvY3VzfVxuXHRcdFx0XHRtYXhMZW5ndGg9JzQ2J1xuXHRcdFx0XHRzaXplPScyNSdcblx0XHRcdC8+XG5cdFx0XHR7J1xcdTAwQTAnIC8qICZuYnNwOyAqL31cblx0XHRcdDxpbnB1dFxuXHRcdFx0XHR0eXBlPSdidXR0b24nXG5cdFx0XHRcdGNsYXNzTmFtZT0nc2F2ZS1idXR0b24gYnV0dG9uJ1xuXHRcdFx0XHR2YWx1ZT17X18oICdPSycsICdwb2RzJyApfVxuXHRcdFx0XHRvbkNsaWNrPXtwcm9wcy5oYW5kbGVPa0NsaWNrfVxuXHRcdFx0Lz5cblx0XHRcdHsnXFx1MDBBMCcgLyogJm5ic3A7ICovfVxuXHRcdFx0PGFcblx0XHRcdFx0Y2xhc3NOYW1lPSdjYW5jZWwnXG5cdFx0XHRcdG9uQ2xpY2s9e3Byb3BzLmhhbmRsZUNhbmNlbENsaWNrfT5cblx0XHRcdFx0e19fKCAnQ2FuY2VsJywgJ3BvZHMnICl9XG5cdFx0XHQ8L2E+XG5cdFx0PC9zcGFuPlxuXHQpO1xufTtcblxuRWRpdGluZy5wcm9wVHlwZXMgPSB7XG5cdHZhbHVlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdGhhbmRsZVZhbHVlQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHRoYW5kbGVPa0NsaWNrOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXHRoYW5kbGVDYW5jZWxDbGljazogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufTtcbiIsImltcG9ydCB7XG5cdHVpQ29uc3RhbnRzLFxuXHRvcHRpb25Db25zdGFudHMsXG5cdGdyb3VwQ29uc3RhbnRzLFxuXHRwb2RNZXRhQ29uc3RhbnRzLFxufSBmcm9tICdwb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvc3RvcmUvY29uc3RhbnRzJztcblxuLyoqXG4gKiBVSVxuICovXG5leHBvcnQgY29uc3Qgc2V0QWN0aXZlVGFiID0gKCBhY3RpdmVUYWIgKSA9PiB7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogdWlDb25zdGFudHMuYWN0aW9ucy5TRVRfQUNUSVZFX1RBQixcblx0XHRhY3RpdmVUYWJcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRTYXZlU3RhdHVzID0gKCBzYXZlU3RhdHVzICkgPT4ge1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IHVpQ29uc3RhbnRzLmFjdGlvbnMuU0VUX1NBVkVfU1RBVFVTLFxuXHRcdHNhdmVTdGF0dXNcblx0fTtcbn07XG5cbi8qKlxuICogT3B0aW9uc1xuICovXG5leHBvcnQgY29uc3Qgc2V0T3B0aW9uVmFsdWUgPSAoIG5hbWUsIHZhbHVlICkgPT4gc2V0T3B0aW9uSXRlbVZhbHVlKCBuYW1lLCAndmFsdWUnLCB2YWx1ZSApO1xuZXhwb3J0IGNvbnN0IHNldE9wdGlvbkl0ZW1WYWx1ZSA9ICggb3B0aW9uTmFtZSwgaXRlbU5hbWUsIGl0ZW1WYWx1ZSApID0+IHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBvcHRpb25Db25zdGFudHMuYWN0aW9ucy5TRVRfT1BUSU9OX0lURU1fVkFMVUUsXG5cdFx0b3B0aW9uTmFtZSxcblx0XHRpdGVtTmFtZSxcblx0XHRpdGVtVmFsdWVcblx0fTtcbn07XG5cbi8qKlxuICogR3JvdXBzXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRHcm91cExpc3QgPSAoIGdyb3VwTGlzdCApID0+IHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBncm91cENvbnN0YW50cy5hY3Rpb25zLlNFVF9HUk9VUF9MSVNULFxuXHRcdGdyb3VwTGlzdFxuXHR9O1xufTtcblxuZXhwb3J0IGNvbnN0IG1vdmVHcm91cCA9ICggb2xkSW5kZXgsIG5ld0luZGV4ICkgPT4ge1xuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IGdyb3VwQ29uc3RhbnRzLmFjdGlvbnMuTU9WRV9HUk9VUCxcblx0XHRvbGRJbmRleCxcblx0XHRuZXdJbmRleFxuXHR9O1xufTtcblxuLyoqXG4gKiBQb2QgbWV0YVxuICovXG5leHBvcnQgY29uc3Qgc2V0UG9kTmFtZSA9ICggbmFtZSApID0+IHtcblx0cmV0dXJuIHtcblx0XHR0eXBlOiBwb2RNZXRhQ29uc3RhbnRzLmFjdGlvbnMuU0VUX1BPRF9OQU1FLFxuXHRcdG5hbWVcblx0fTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRQb2RNZXRhVmFsdWUgPSAoIGtleSwgdmFsdWUgKSA9PiB7XG5cdHJldHVybiB7XG5cdFx0dHlwZTogcG9kTWV0YUNvbnN0YW50cy5hY3Rpb25zLlNFVF9QT0RfTUVUQV9WQUxVRSxcblx0XHRrZXksXG5cdFx0dmFsdWVcblx0fTtcbn07XG4iLCJleHBvcnQgY29uc3QgU1RPUkVfS0VZX0VESVRfUE9EID0gJ3BvZHMvZWRpdC1wb2QnO1xuXG5leHBvcnQgY29uc3QgdWlDb25zdGFudHMgPSB7XG5cdGFjdGlvbnM6IHtcblx0XHRTRVRfQUNUSVZFX1RBQjogJ1NFVF9BQ1RJVkVfVEFCJyxcblx0XHRTRVRfU0FWRV9TVEFUVVM6ICdTRVRfU0FWRV9TVEFUVVMnLFxuXHR9LFxuXG5cdHRhYk5hbWVzOiB7XG5cdFx0TUFOQUdFX0ZJRUxEUzogJ21hbmFnZS1maWVsZHMnLFxuXHRcdExBQkVMUzogJ2xhYmVscycsXG5cdFx0QURNSU5fVUk6ICdhZG1pbi11aScsXG5cdFx0QURWQU5DRURfT1BUSU9OUzogJ2FkdmFuY2VkJyxcblx0XHRBVVRPX1RFTVBMQVRFX09QVElPTlM6ICdwb2RzLXBmYXQnLFxuXHRcdFJFU1RfQVBJOiAncmVzdC1hcGknLFxuXHR9LFxuXG5cdHNhdmVTdGF0dXNlczoge1xuXHRcdE5PTkU6ICcnLFxuXHRcdFNBVklORzogJ1NBVklORycsXG5cdFx0U0FWRV9TVUNDRVNTOiAnU0FWRV9TVUNDRVNTJyxcblx0XHRTQVZFX0VSUk9SOiAnU0FWRV9FUlJPUicsXG5cdH0sXG5cblx0ZHJhZ0l0ZW1UeXBlczoge1xuXHRcdEdST1VQOiAnR1JPVVAnLFxuXHRcdEZJRUxEOiAnRklFTEQnLFxuXHR9LFxufTtcblxuZXhwb3J0IGNvbnN0IG9wdGlvbkNvbnN0YW50cyA9IHtcblx0YWN0aW9uczoge1xuXHRcdFNFVF9PUFRJT05fSVRFTV9WQUxVRTogJ1NFVF9PUFRJT05fSVRFTV9WQUxVRScsXG5cdH0sXG59O1xuXG5leHBvcnQgY29uc3QgZ3JvdXBDb25zdGFudHMgPSB7XG5cdGFjdGlvbnM6IHtcblx0XHRTRVRfR1JPVVBfTElTVDogJ1NFVF9HUk9VUF9MSVNUJyxcblx0XHRNT1ZFX0dST1VQOiAnTU9WRV9HUk9VUCcsXG5cdH0sXG59O1xuXG5leHBvcnQgY29uc3QgcG9kTWV0YUNvbnN0YW50cyA9IHtcblx0YWN0aW9uczoge1xuXHRcdFNFVF9QT0RfTkFNRTogJ1NFVF9QT0RfTkFNRScsXG5cdFx0U0VUX1BPRF9NRVRBX1ZBTFVFOiAnU0VUX1BPRF9NRVRBX1ZBTFVFJyxcblx0fSxcbn07XG5cbmV4cG9ydCBjb25zdCBpbml0aWFsVUlTdGF0ZSA9IHtcblx0YWN0aXZlVGFiOiB1aUNvbnN0YW50cy50YWJOYW1lcy5NQU5BR0VfRklFTERTLFxuXHRzYXZlU3RhdHVzOiB1aUNvbnN0YW50cy5zYXZlU3RhdHVzZXMuTk9ORSxcbn07XG4iLCJpbXBvcnQgKiBhcyBwYXRocyBmcm9tICcuL3N0YXRlLXBhdGhzJztcblxuaW1wb3J0IHtcblx0dWlDb25zdGFudHMsXG5cdGdyb3VwQ29uc3RhbnRzLFxuXHRvcHRpb25Db25zdGFudHMsXG5cdHBvZE1ldGFDb25zdGFudHMsXG5cdGluaXRpYWxVSVN0YXRlLFxufSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbmNvbnN0IHsgY29tYmluZVJlZHVjZXJzIH0gPSB3cC5kYXRhO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25cbmV4cG9ydCBjb25zdCBzZXRPYmplY3RWYWx1ZSA9ICggb2JqZWN0LCBrZXksIHZhbHVlICkgPT4ge1xuXHRyZXR1cm4ge1xuXHRcdC4uLm9iamVjdCxcblx0XHRbIGtleSBdOiB2YWx1ZVxuXHR9O1xufTtcblxuLy8gVUlcbmV4cG9ydCBjb25zdCB1aSA9ICggc3RhdGUgPSBpbml0aWFsVUlTdGF0ZSwgYWN0aW9uID0ge30gKSA9PiB7XG5cdGNvbnN0IHsgYWN0aW9ucywgc2F2ZVN0YXR1c2VzIH0gPSB1aUNvbnN0YW50cztcblxuXHRzd2l0Y2ggKCBhY3Rpb24udHlwZSApIHtcblx0XHRjYXNlIGFjdGlvbnMuU0VUX0FDVElWRV9UQUI6IHtcblx0XHRcdC8vIFVzZSB0aGUgZGVmYXVsdCBpZiB0aGUgdGFiIG5hbWUgZG9lc24ndCBleGlzdFxuXHRcdFx0bGV0IG5ld1RhYiA9IGluaXRpYWxVSVN0YXRlLmFjdGl2ZVRhYjtcblx0XHRcdGxldCB0YWJJbmRleCA9IHBhdGhzLlRBQl9MSVNULnRhaWxHZXRGcm9tKCBzdGF0ZSApLmluZGV4T2YoIGFjdGlvbi5hY3RpdmVUYWIgKTtcblxuXHRcdFx0aWYgKCAtMSAhPT0gdGFiSW5kZXggKSB7XG5cdFx0XHRcdG5ld1RhYiA9IGFjdGlvbi5hY3RpdmVUYWI7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdC4uLnN0YXRlLFxuXHRcdFx0XHRhY3RpdmVUYWI6IG5ld1RhYlxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y2FzZSBhY3Rpb25zLlNFVF9TQVZFX1NUQVRVUzoge1xuXHRcdFx0bGV0IG5ld1N0YXR1cyA9IGFjdGlvbi5zYXZlU3RhdHVzO1xuXG5cdFx0XHRpZiAoICFPYmplY3QudmFsdWVzKCBzYXZlU3RhdHVzZXMgKS5pbmNsdWRlcyggbmV3U3RhdHVzICkgKSB7XG5cdFx0XHRcdG5ld1N0YXR1cyA9IGluaXRpYWxVSVN0YXRlLnNhdmVTdGF0dXM7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHQuLi5zdGF0ZSxcblx0XHRcdFx0c2F2ZVN0YXR1czogbmV3U3RhdHVzXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gc3RhdGU7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCBncm91cHMgPSAoIHN0YXRlID0ge30sIGFjdGlvbiA9IHt9ICkgPT4ge1xuXHRjb25zdCB7IGFjdGlvbnMgfSA9IGdyb3VwQ29uc3RhbnRzO1xuXG5cdGlmICggYWN0aW9ucy5NT1ZFX0dST1VQID09PSBhY3Rpb24udHlwZSApIHtcblx0XHRjb25zdCB7IG9sZEluZGV4LCBuZXdJbmRleCB9ID0gYWN0aW9uO1xuXHRcdGNvbnN0IGdyb3VwTGlzdCA9IHBhdGhzLkdST1VQX0xJU1QudGFpbEdldEZyb20oIHN0YXRlICk7XG5cblx0XHQvLyBJbmRleCBib3VuZHMgY2hlY2tpbmdcblx0XHRpZiAoIG51bGwgPT09IG9sZEluZGV4IHx8IG51bGwgPT09IG5ld0luZGV4IHx8IG9sZEluZGV4ID09PSBuZXdJbmRleCApIHtcblx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHR9XG5cdFx0aWYgKCBvbGRJbmRleCA+PSBncm91cExpc3QubGVuZ3RoIHx8IDAgPiBvbGRJbmRleCApIHtcblx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHR9XG5cdFx0aWYgKCBuZXdJbmRleCA+PSBncm91cExpc3QubGVuZ3RoIHx8IDAgPiBuZXdJbmRleCApIHtcblx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHR9XG5cblx0XHRjb25zdCBuZXdHcm91cExpc3QgPSBbIC4uLmdyb3VwTGlzdCBdO1xuXHRcdG5ld0dyb3VwTGlzdC5zcGxpY2UoIG5ld0luZGV4LCAwLCBuZXdHcm91cExpc3Quc3BsaWNlKCBvbGRJbmRleCwgMSApWyAwIF0gKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3RhdGUsXG5cdFx0XHRbIHBhdGhzLkdST1VQX0xJU1QudGFpbFBhdGggXTogbmV3R3JvdXBMaXN0XG5cdFx0fTtcblxuXHR9IGVsc2UgaWYgKCBhY3Rpb25zLlNFVF9HUk9VUF9MSVNUID09PSBhY3Rpb24udHlwZSApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Li4uc3RhdGUsXG5cdFx0XHRbIHBhdGhzLkdST1VQX0xJU1QudGFpbFBhdGggXTogYWN0aW9uLmdyb3VwTGlzdFxuXHRcdH07XG5cdH0gZWxzZSB7XG5cblx0XHRyZXR1cm4gc3RhdGU7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCBvcHRpb25zID0gKCBzdGF0ZSA9IHt9LCBhY3Rpb24gPSB7fSApID0+IHtcblx0Y29uc3QgeyBhY3Rpb25zIH0gPSBvcHRpb25Db25zdGFudHM7XG5cblx0aWYgKCBhY3Rpb25zLlNFVF9PUFRJT05fSVRFTV9WQUxVRSA9PT0gYWN0aW9uLnR5cGUgKSB7XG5cdFx0Y29uc3QgeyBvcHRpb25OYW1lLCBpdGVtTmFtZSwgaXRlbVZhbHVlIH0gPSBhY3Rpb247XG5cdFx0cmV0dXJuIHtcblx0XHRcdC4uLnN0YXRlLFxuXHRcdFx0WyBvcHRpb25OYW1lIF06IHNldE9iamVjdFZhbHVlKCBzdGF0ZVsgb3B0aW9uTmFtZSBdLCBpdGVtTmFtZSwgaXRlbVZhbHVlIClcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBzdGF0ZTtcblx0fVxufTtcblxuLy8gUG9kIG1ldGFcbmV4cG9ydCBjb25zdCBwb2RNZXRhID0gKCBzdGF0ZSA9IHt9LCBhY3Rpb24gPSB7fSApID0+IHtcblx0Y29uc3QgeyBhY3Rpb25zIH0gPSBwb2RNZXRhQ29uc3RhbnRzO1xuXG5cdHN3aXRjaCAoIGFjdGlvbi50eXBlICkge1xuXHRcdGNhc2UgYWN0aW9ucy5TRVRfUE9EX05BTUU6XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHQuLi5zdGF0ZSxcblx0XHRcdFx0bmFtZTogYWN0aW9uLm5hbWVcblx0XHRcdH07XG5cblx0XHRjYXNlIGFjdGlvbnMuU0VUX1BPRF9NRVRBX1ZBTFVFOlxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Li4uc3RhdGUsXG5cdFx0XHRcdFsgYWN0aW9uLmtleSBdOiBhY3Rpb24udmFsdWVcblx0XHRcdH07XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHN0YXRlO1xuXHR9XG59O1xuXG4vLyBGaWVsZHNcbmV4cG9ydCBjb25zdCBmaWVsZHMgPSAoIHN0YXRlID0ge30sIGFjdGlvbiA9IHt9ICkgPT4ge1xuXHRyZXR1cm4gc3RhdGU7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAoIGNvbWJpbmVSZWR1Y2Vycygge1xuXHR1aSxcblx0cG9kTWV0YSxcblx0b3B0aW9ucyxcblx0Z3JvdXBzLFxuXHRmaWVsZHMsXG59ICkgKTtcbiIsImltcG9ydCAqIGFzIHBhdGhzIGZyb20gJy4vc3RhdGUtcGF0aHMnO1xuaW1wb3J0IHsgdWlDb25zdGFudHMgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5cbi8vIEV2ZXJ5dGhpbmdcbmV4cG9ydCBjb25zdCBnZXRTdGF0ZSA9IHN0YXRlID0+IHN0YXRlO1xuXG4vLy0tIFBvZCBtZXRhXG5leHBvcnQgY29uc3QgZ2V0UG9kTmFtZSA9IHN0YXRlID0+IHtcblx0cmV0dXJuIHBhdGhzLlBPRF9OQU1FLmdldEZyb20oIHN0YXRlICk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UG9kTWV0YVZhbHVlID0gKCBzdGF0ZSwga2V5ICkgPT4ge1xuXHRyZXR1cm4gcGF0aHMuUE9EX01FVEEuZ2V0RnJvbSggc3RhdGUgKVsga2V5IF07XG59O1xuXG4vLy0tIFRhYnNcbmV4cG9ydCBjb25zdCBnZXRBY3RpdmVUYWIgPSBzdGF0ZSA9PiBwYXRocy5BQ1RJVkVfVEFCLmdldEZyb20oIHN0YXRlICk7XG5cbmV4cG9ydCBjb25zdCBnZXRUYWIgPSAoIHN0YXRlLCB0YWJOYW1lICkgPT5cblx0cGF0aHMuVEFCU19CWV9OQU1FLmdldEZyb20oIHN0YXRlIClbIHRhYk5hbWUgXTtcblxuZXhwb3J0IGNvbnN0IGdldFRhYkxpc3QgPSBzdGF0ZSA9PlxuXHRwYXRocy5UQUJfTElTVC5nZXRGcm9tKCBzdGF0ZSApO1xuXG5leHBvcnQgY29uc3QgZ2V0VGFicyA9IHN0YXRlID0+XG5cdGdldFRhYkxpc3QoIHN0YXRlICkubWFwKCB0YWJOYW1lID0+IGdldFRhYiggc3RhdGUsIHRhYk5hbWUgKSApO1xuXG5leHBvcnQgY29uc3QgZ2V0VGFiT3B0aW9uc0xpc3QgPSAoIHN0YXRlLCB0YWJOYW1lICkgPT5cblx0cGF0aHMuVEFCX09QVElPTlNfTElTVC5nZXRGcm9tKCBzdGF0ZSApWyB0YWJOYW1lIF07XG5cbmV4cG9ydCBjb25zdCBnZXRUYWJPcHRpb25zID0gKCBzdGF0ZSwgdGFiTmFtZSApID0+IHtcblx0cmV0dXJuIGdldFRhYk9wdGlvbnNMaXN0KCBzdGF0ZSwgdGFiTmFtZSApLm1hcChcblx0XHRvcHRpb25OYW1lID0+IGdldE9wdGlvbiggc3RhdGUsIG9wdGlvbk5hbWUgKVxuXHQpO1xufTtcblxuLy8tLSBTYXZlIHN0YXR1c1xuZXhwb3J0IGNvbnN0IGdldFNhdmVTdGF0dXMgPSBzdGF0ZSA9PiBwYXRocy5TQVZFX1NUQVRVUy5nZXRGcm9tKCBzdGF0ZSApO1xuXG5leHBvcnQgY29uc3QgaXNTYXZpbmcgPSBzdGF0ZSA9PlxuXHRwYXRocy5TQVZFX1NUQVRVUy5nZXRGcm9tKCBzdGF0ZSApID09PSB1aUNvbnN0YW50cy5zYXZlU3RhdHVzZXMuU0FWSU5HO1xuXG4vLy0tIE9wdGlvbnNcbmV4cG9ydCBjb25zdCBnZXRPcHRpb24gPSAoIHN0YXRlLCBvcHRpb25OYW1lICkgPT5cblx0cGF0aHMuT1BUSU9OUy5nZXRGcm9tKCBzdGF0ZSApWyBvcHRpb25OYW1lIF07XG5cbmV4cG9ydCBjb25zdCBnZXRPcHRpb25JdGVtVmFsdWUgPSAoIHN0YXRlLCBvcHRpb25OYW1lLCBpdGVtTmFtZSApID0+XG5cdHBhdGhzLk9QVElPTlMuZ2V0RnJvbSggc3RhdGUgKVsgb3B0aW9uTmFtZSBdWyBpdGVtTmFtZSBdO1xuXG5leHBvcnQgY29uc3QgZ2V0T3B0aW9uVmFsdWUgPSAoIHN0YXRlLCBvcHRpb25OYW1lICkgPT5cblx0cGF0aHMuT1BUSU9OUy5nZXRGcm9tKCBzdGF0ZSApWyBvcHRpb25OYW1lIF0udmFsdWU7XG5cbi8vLS0gR3JvdXBzXG5leHBvcnQgY29uc3QgZ2V0R3JvdXBMaXN0ID0gc3RhdGUgPT5cblx0cGF0aHMuR1JPVVBfTElTVC5nZXRGcm9tKCBzdGF0ZSApO1xuXG5leHBvcnQgY29uc3QgZ2V0R3JvdXAgPSAoIHN0YXRlLCBncm91cE5hbWUgKSA9PlxuXHRwYXRocy5HUk9VUFNfQllfTkFNRS5nZXRGcm9tKCBzdGF0ZSApWyBncm91cE5hbWUgXTtcblxuZXhwb3J0IGNvbnN0IGdldEdyb3VwcyA9IHN0YXRlID0+XG5cdGdldEdyb3VwTGlzdCggc3RhdGUgKS5tYXAoIGdyb3VwTmFtZSA9PiBnZXRHcm91cCggc3RhdGUsIGdyb3VwTmFtZSApICk7XG5cbmV4cG9ydCBjb25zdCBnZXRGaWVsZExpc3QgPSAoIHN0YXRlLCBncm91cE5hbWUgKSA9PlxuXHRwYXRocy5HUk9VUF9GSUVMRF9MSVNULmdldEZyb20oIHN0YXRlIClbIGdyb3VwTmFtZSBdO1xuXG5leHBvcnQgY29uc3QgZ2V0R3JvdXBGaWVsZHMgPSAoIHN0YXRlLCBncm91cE5hbWUgKSA9PlxuXHRnZXRGaWVsZExpc3QoIHN0YXRlLCBncm91cE5hbWUgKS5tYXAoIGZpZWxkTmFtZSA9PiBnZXRGaWVsZCggc3RhdGUsIGZpZWxkTmFtZSApICk7XG5cbi8vLS0gRmllbGRzXG5leHBvcnQgY29uc3QgZ2V0RmllbGRzID0gc3RhdGUgPT4gcGF0aHMuRklFTERTLmdldEZyb20oIHN0YXRlICk7XG5leHBvcnQgY29uc3QgZ2V0RmllbGQgPSAoIHN0YXRlLCBmaWVsZE5hbWUgKSA9PiBnZXRGaWVsZHMoIHN0YXRlIClbIGZpZWxkTmFtZSBdO1xuIiwiaW1wb3J0IHsgdGFpbCB9IGZyb20gJ2xvZGFzaCc7XG5cbmNvbnN0IHRhaWxQYXRoID0gKCBkb3RQYXRoICkgPT4gdGFpbCggZG90UGF0aC5zcGxpdCggJy4nICkgKS5qb2luKCAnLicgKTtcblxuY29uc3QgY3JlYXRlVHJlZSA9ICggdmFsdWUsIGRvdFBhdGggKSA9PiB7XG5cdHJldHVybiBkb3RQYXRoLnNwbGl0KCAnLicgKS5yZWR1Y2VSaWdodChcblx0XHQoIGFjYywgY3VycmVudFZhbHVlICkgPT4ge1xuXHRcdFx0cmV0dXJuIHsgWyBjdXJyZW50VmFsdWUgXTogYWNjIH07XG5cdFx0fSxcblx0XHR2YWx1ZVxuXHQpO1xufTtcblxuY29uc3QgZ2V0RnJvbSA9ICggc3RhdGUsIGRvdFBhdGggKSA9PiB7XG5cdHJldHVybiBkb3RQYXRoLnNwbGl0KCAnLicgKS5yZWR1Y2UoICggdmFsdWUsIGVsICkgPT4gdmFsdWVbIGVsIF0sIHN0YXRlICk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlU3RhdGVQYXRoID0gcGF0aCA9PiB7XG5cdHJldHVybiB7XG5cdFx0Ly8gcGF0aCAndWkudGFicy50YWJMaXN0JywgdGFpbFBhdGg6ICd0YWJzLnRhYkxpc3QnXG5cdFx0cGF0aDogcGF0aCxcblx0XHR0YWlsUGF0aDogdGFpbFBhdGgoIHBhdGggKSxcblxuXHRcdGdldEZyb206ICggc3RhdGUsIGRvdFBhdGggPSBwYXRoICkgPT4ge1xuXHRcdFx0cmV0dXJuIGdldEZyb20oIHN0YXRlLCBkb3RQYXRoICk7XG5cdFx0fSxcblxuXHRcdHRhaWxHZXRGcm9tOiBzdGF0ZSA9PiB7XG5cdFx0XHRyZXR1cm4gZ2V0RnJvbSggc3RhdGUsIHRhaWxQYXRoKCBwYXRoICkgKTtcblx0XHR9LFxuXG5cdFx0Y3JlYXRlVHJlZTogKCB2YWx1ZSwgZG90UGF0aCA9IHBhdGggKSA9PiB7XG5cdFx0XHRyZXR1cm4gY3JlYXRlVHJlZSggdmFsdWUsIGRvdFBhdGggKTtcblx0XHR9LFxuXG5cdFx0dGFpbENyZWF0ZVRyZWU6IHZhbHVlID0+IHtcblx0XHRcdHJldHVybiBjcmVhdGVUcmVlKCB2YWx1ZSwgdGFpbFBhdGgoIHBhdGggKSApO1xuXHRcdH0sXG5cdH07XG59O1xuXG5leHBvcnQgY29uc3QgUE9EX01FVEEgPSBjcmVhdGVTdGF0ZVBhdGgoICdwb2RNZXRhJyApO1xuZXhwb3J0IGNvbnN0IFBPRF9OQU1FID0gY3JlYXRlU3RhdGVQYXRoKCBgJHtQT0RfTUVUQS5wYXRofS5uYW1lYCApO1xuZXhwb3J0IGNvbnN0IFBPRF9JRCA9IGNyZWF0ZVN0YXRlUGF0aCggYCR7UE9EX01FVEEucGF0aH0uaWRgICk7XG5cbmV4cG9ydCBjb25zdCBGSUVMRFMgPSBjcmVhdGVTdGF0ZVBhdGgoICdmaWVsZHMnICk7XG5cbmV4cG9ydCBjb25zdCBHUk9VUFMgPSBjcmVhdGVTdGF0ZVBhdGgoICdncm91cHMnICk7XG5leHBvcnQgY29uc3QgR1JPVVBTX0JZX05BTUUgPSBjcmVhdGVTdGF0ZVBhdGgoIGAke0dST1VQUy5wYXRofS5ieU5hbWVgICk7XG5cbi8vIE9yZGVyZWQgbGlzdCBvZiBncm91cCBuYW1lcyBhcyBhbiBhcnJheTogWyAnZ3JvdXAxJywgJ2dyb3VwMicsIC4uLiBdXG5leHBvcnQgY29uc3QgR1JPVVBfTElTVCA9IGNyZWF0ZVN0YXRlUGF0aCggYCR7R1JPVVBTLnBhdGh9Lmdyb3VwTGlzdGAgKTtcblxuLy8gT25lIHRvIG1hbnkgcmVsYXRpb25zaGlwOlxuLy8geyAnZ3JvdXAxJzogWyAnZmllbGQxJywgJ2ZpZWxkMicsIC4uLl0sICdncm91cDInOiBbLi4uXSB9XG5leHBvcnQgY29uc3QgR1JPVVBfRklFTERfTElTVCA9IGNyZWF0ZVN0YXRlUGF0aCggYCR7R1JPVVBTLnBhdGh9Lmdyb3VwRmllbGRMaXN0YCApO1xuXG5leHBvcnQgY29uc3QgVUkgPSBjcmVhdGVTdGF0ZVBhdGgoICd1aScgKTtcbmV4cG9ydCBjb25zdCBBQ1RJVkVfVEFCID0gY3JlYXRlU3RhdGVQYXRoKCBgJHtVSS5wYXRofS5hY3RpdmVUYWJgICk7XG5leHBvcnQgY29uc3QgU0FWRV9TVEFUVVMgPSBjcmVhdGVTdGF0ZVBhdGgoIGAke1VJLnBhdGh9LnNhdmVTdGF0dXNgICk7XG5cbmV4cG9ydCBjb25zdCBUQUJTID0gY3JlYXRlU3RhdGVQYXRoKCBgJHtVSS5wYXRofS50YWJzYCApO1xuXG4vLyBPcmRlcmVkIGxpc3Qgb2YgdGFiIG5hbWVzIGFzIGFuIGFycmF5OiBbICd0YWIxJywgJ3RhYjInLCAuLi4gXVxuZXhwb3J0IGNvbnN0IFRBQl9MSVNUID0gY3JlYXRlU3RhdGVQYXRoKCBgJHtUQUJTLnBhdGh9LnRhYkxpc3RgICk7XG5cbi8vIFRhYiBvYmplY3RzIGtleWVkIGJ5IHRhYiBuYW1lOlxuLy8geyB0YWIxOiB7dGFiIG9iamVjdH0sIHRhYjI6IHt0YWIgb2JqZWN0fSwgLi4ufVxuZXhwb3J0IGNvbnN0IFRBQlNfQllfTkFNRSA9IGNyZWF0ZVN0YXRlUGF0aCggYCR7VEFCUy5wYXRofS5ieU5hbWVgICk7XG5cbi8vIE9uZSB0byBtYW55IHJlbGF0aW9uc2hpcCB0YWIgPT4gb3B0aW9uczpcbi8vIHsgJ3RhYjEnOiBbICdvcHRpb24xJywgJ29wdGlvbjInLCAuLi5dLCAndGFiMic6IFsuLi5dIH1cbmV4cG9ydCBjb25zdCBUQUJfT1BUSU9OU19MSVNUID0gY3JlYXRlU3RhdGVQYXRoKCBgJHtUQUJTLnBhdGh9LnRhYk9wdGlvbnNMaXN0YCApO1xuXG4vLyBQb2Qgb3B0aW9uIGxpc3Qga2V5ZWQgYnkgb3B0aW9uIG5hbWU6XG4vLyB7IGNhbl9leHBvcnQ6IHtvYmplY3R9LCBzaG93X3VpOiB7b2JqZWN0fSwgZXRjIH1cbmV4cG9ydCBjb25zdCBPUFRJT05TID0gY3JlYXRlU3RhdGVQYXRoKCAnb3B0aW9ucycgKTtcblxuIiwiaW1wb3J0IHsgbWVyZ2UgfSBmcm9tICdsb2Rhc2gnO1xuXG5pbXBvcnQgKiBhcyBwYXRocyBmcm9tICcuL3N0YXRlLXBhdGhzJztcbmltcG9ydCB7IFNUT1JFX0tFWV9FRElUX1BPRCwgaW5pdGlhbFVJU3RhdGUgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgcmVkdWNlciBmcm9tICcuL3JlZHVjZXInO1xuaW1wb3J0ICogYXMgc2VsZWN0b3JzIGZyb20gJy4vc2VsZWN0b3JzJztcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnLi9hY3Rpb25zJztcblxuY29uc3QgeyByZWdpc3RlclN0b3JlIH0gPSB3cC5kYXRhO1xuXG5leHBvcnQgY29uc3QgaW5pdFN0b3JlID0gKCBwcm9wcyApID0+IHtcblx0Y29uc3QgaW5pdGlhbFN0YXRlID0gbWVyZ2UoXG5cdFx0cGF0aHMuVUkuY3JlYXRlVHJlZSggaW5pdGlhbFVJU3RhdGUgKSxcblx0XHRwcm9wc1xuXHQpO1xuXG5cdHJldHVybiByZWdpc3RlclN0b3JlKCBTVE9SRV9LRVlfRURJVF9QT0QsIHtcblx0XHRyZWR1Y2VyOiByZWR1Y2VyLFxuXHRcdHNlbGVjdG9yczogc2VsZWN0b3JzLFxuXHRcdGFjdGlvbnM6IGFjdGlvbnMsXG5cdFx0aW5pdGlhbFN0YXRlOiBpbml0aWFsU3RhdGUsXG5cdH0gKTtcbn07XG4iLCJpbXBvcnQge0RyYWdEcm9wQ29udGV4dH0gZnJvbSAncmVhY3QtZG5kJztcbmltcG9ydCBIVE1MNUJhY2tlbmQgZnJvbSAncmVhY3QtZG5kLWh0bWw1LWJhY2tlbmQnO1xuXG5leHBvcnQgZGVmYXVsdCBEcmFnRHJvcENvbnRleHQoSFRNTDVCYWNrZW5kKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBjb25zdCBQb2RzREZWQmFzZUlucHV0ID0gKCBwcm9wcyApID0+IHtcblxuXHQvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIGlmIG9uQ2hhbmdlIGlzIG9taXR0ZWQgZnJvbSBwcm9wc1xuXHRmdW5jdGlvbiBoYW5kbGVDaGFuZ2UgKCBldmVudCApIHtcblx0XHRwcm9wcy5zZXRWYWx1ZSggZXZlbnQudGFyZ2V0LnZhbHVlICk7XG5cdH1cblxuXHQvLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcblx0cmV0dXJuIChcblx0XHQ8aW5wdXRcblx0XHRcdHR5cGU9eyBwcm9wcy50eXBlIH1cblx0XHRcdG5hbWU9eyBwcm9wcy5odG1sQXR0ci5uYW1lIH1cblx0XHRcdGlkPXsgcHJvcHMuaHRtbEF0dHIuaWQgfVxuXHRcdFx0Y2xhc3NOYW1lPXsgcHJvcHMuY2xhc3NOYW1lIH1cblx0XHRcdGRhdGEtbmFtZS1jbGVhbj17IHByb3BzLmh0bWxBdHRyLm5hbWVfY2xlYW4gfVxuXHRcdFx0cGxhY2Vob2xkZXI9eyBwcm9wcy5maWVsZENvbmZpZy50ZXh0X3BsYWNlaG9sZGVyIH1cblx0XHRcdG1heExlbmd0aD17IHByb3BzLmZpZWxkQ29uZmlnLnRleHRfbWF4X2xlbmd0aCB9XG5cdFx0XHR2YWx1ZT17IHByb3BzLnZhbHVlIH1cblx0XHRcdHJlYWRPbmx5PXsgISFwcm9wcy5maWVsZENvbmZpZy5yZWFkb25seSB9XG5cdFx0XHRvbkNoYW5nZT17IHByb3BzLm9uQ2hhbmdlIHx8IGhhbmRsZUNoYW5nZSB9XG5cdFx0XHRvbkJsdXI9eyBwcm9wcy5vbkJsdXIgfVxuXHRcdFx0bWluPXsgcHJvcHMubWluIH1cblx0XHRcdG1heD17IHByb3BzLm1heCB9XG5cdFx0Lz5cblx0KTtcbn07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcm9wLXR5cGVzICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgeyBQb2RzREZWVmFsaWRhdGlvbk1lc3NhZ2VzIH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvbXBvbmVudHMvdmFsaWRhdGlvbi1tZXNzYWdlcyc7XG5pbXBvcnQgeyB2YWxpZGF0aW9uUnVsZXMgfSBmcm9tICdwb2RzLWRmdi9zcmMvdmFsaWRhdGlvbi92YWxpZGF0aW9uLXJ1bGVzJztcbmltcG9ydCB7IHBvZHNWYWxpZGF0aW9uIH0gZnJvbSAncG9kcy1kZnYvc3JjL3ZhbGlkYXRpb24vdmFsaWRhdGlvbic7XG5jb25zdCB1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlO1xuXG5leHBvcnQgY29uc3QgUG9kc0RGVkZpZWxkQ29udGFpbmVyID0gKCBwcm9wcyApID0+IHtcblx0Y29uc3QgRmllbGQgPSBwcm9wcy5maWVsZENvbXBvbmVudDtcblx0Y29uc3QgWyB2YWx1ZSwgc2V0VmFsdWUgXSA9IHVzZVN0YXRlKCBwcm9wcy5maWVsZEl0ZW1EYXRhWyAwIF0gfHwgJycgKTtcblx0Y29uc3QgdmFsaWRhdGlvbiA9IHBvZHNWYWxpZGF0aW9uKCk7XG5cdGNvbnN0IHZhbGlkYXRpb25NZXNzYWdlcyA9IHZhbGlkYXRpb24udXNlVmFsaWRhdGlvbiggdmFsdWUgKTtcblxuXHR2YWxpZGF0aW9uLmFkZFJ1bGVzKCBbXG5cdFx0e1xuXHRcdFx0cnVsZTogdmFsaWRhdGlvblJ1bGVzLnJlcXVpcmVkKCB2YWx1ZSwgcHJvcHMuZmllbGRDb25maWcubGFiZWwgKSxcblx0XHRcdGNvbmRpdGlvbjogJzEnID09PSBwcm9wcy5maWVsZENvbmZpZy5yZXF1aXJlZCxcblx0XHR9XG5cdF0gKTtcblxuXHRjb25zdCBmaWVsZENsYXNzZXMgPSBjbGFzc05hbWVzKFxuXHRcdHByb3BzLmh0bWxBdHRyLmNsYXNzLFxuXHRcdHsgJ3BvZHMtdmFsaWRhdGUtZXJyb3InOiB2YWxpZGF0aW9uTWVzc2FnZXMubGVuZ3RoIH1cblx0KTtcblxuXHRyZXR1cm4gKFxuXHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1kZnYtY29udGFpbmVyXCI+XG5cdFx0XHQ8RmllbGRcblx0XHRcdFx0dmFsdWU9e3ZhbHVlfVxuXHRcdFx0XHRzZXRWYWx1ZT17c2V0VmFsdWV9XG5cdFx0XHRcdHZhbGlkYXRpb249e3ZhbGlkYXRpb259XG5cdFx0XHRcdGNsYXNzTmFtZT17ZmllbGRDbGFzc2VzfVxuXHRcdFx0XHR7Li4ucHJvcHN9XG5cdFx0XHQvPlxuXHRcdFx0PFBvZHNERlZWYWxpZGF0aW9uTWVzc2FnZXMgbWVzc2FnZXM9e3ZhbGlkYXRpb25NZXNzYWdlc30gLz5cblx0XHQ8L2Rpdj5cblx0KTtcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgeyBIZWxwVG9vbHRpcCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb21wb25lbnRzL2hlbHAtdG9vbHRpcCc7XG5cblxuZXhwb3J0IGNvbnN0IFBvZHNGaWVsZE9wdGlvbiA9ICggcHJvcHMgKSA9PiB7XG5cdGNvbnN0IHsgZmllbGRUeXBlLCBuYW1lLCB2YWx1ZSwgbGFiZWwsIG9uQ2hhbmdlLCBoZWxwVGV4dCB9ID0gcHJvcHM7XG5cblx0Y29uc3QgdG9Cb29sID0gKCBzdHJpbmdPck51bWJlciApID0+IHtcblx0XHQvLyBGb3JjZSBhbnkgc3RyaW5ncyB0byBudW1lcmljIGZpcnN0XG5cdFx0cmV0dXJuICEhKCArc3RyaW5nT3JOdW1iZXIgKTtcblx0fTtcblxuXHRyZXR1cm4gKFxuXHRcdDxkaXYgY2xhc3NOYW1lPSdwb2RzLWZpZWxkLW9wdGlvbic+XG5cdFx0XHQ8bGFiZWxcblx0XHRcdFx0Y2xhc3NOYW1lPXtgcG9kcy1mb3JtLXVpLWxhYmVsIHBvZHMtZm9ybS11aS1sYWJlbC0ke25hbWV9YH1cblx0XHRcdFx0aHRtbEZvcj17bmFtZX0+XG5cdFx0XHRcdHtsYWJlbH1cblx0XHRcdFx0e2hlbHBUZXh0ICYmICggJ2hlbHAnICE9PSBoZWxwVGV4dCApICYmICggPEhlbHBUb29sdGlwIGhlbHBUZXh0PXtoZWxwVGV4dH0vPiApfVxuXHRcdFx0PC9sYWJlbD5cblx0XHRcdHsnYm9vbGVhbicgPT09IGZpZWxkVHlwZSA/XG5cdFx0XHRcdCggPGlucHV0XG5cdFx0XHRcdFx0dHlwZT0nY2hlY2tib3gnXG5cdFx0XHRcdFx0aWQ9e25hbWV9XG5cdFx0XHRcdFx0bmFtZT17bmFtZX1cblx0XHRcdFx0XHRjaGVja2VkPXt0b0Jvb2woIHZhbHVlICl9XG5cdFx0XHRcdFx0b25DaGFuZ2U9e29uQ2hhbmdlfVxuXHRcdFx0XHQvPiApIDpcblx0XHRcdFx0KCA8aW5wdXRcblx0XHRcdFx0XHR0eXBlPSd0ZXh0J1xuXHRcdFx0XHRcdGlkPXtuYW1lfVxuXHRcdFx0XHRcdG5hbWU9e25hbWV9XG5cdFx0XHRcdFx0dmFsdWU9e3ZhbHVlfVxuXHRcdFx0XHRcdG9uQ2hhbmdlPXtvbkNoYW5nZX1cblx0XHRcdFx0Lz4gKVxuXHRcdFx0fVxuXHRcdDwvZGl2PlxuXHQpO1xufTtcblxuUG9kc0ZpZWxkT3B0aW9uLnByb3BUeXBlcyA9IHtcblx0ZmllbGRUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG5cdG5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblx0dmFsdWU6IFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZCxcblx0bGFiZWw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblx0b25DaGFuZ2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG5cdGhlbHBUZXh0OiBQcm9wVHlwZXMuYW55LFxufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmNvbnN0IHsgVG9vbHRpcCwgRGFzaGljb24gfSA9IHdwLmNvbXBvbmVudHM7XG5cbmV4cG9ydCBjb25zdCBIZWxwVG9vbHRpcCA9ICggcHJvcHMgKSA9PiB7XG5cdHJldHVybiAoXG5cdFx0PFRvb2x0aXAgdGV4dD17cHJvcHMuaGVscFRleHR9PlxuXHRcdFx0PHNwYW4+XG5cdFx0XHRcdDxEYXNoaWNvbiBpY29uPSdlZGl0b3ItaGVscCcgLz5cblx0XHRcdDwvc3Bhbj5cblx0XHQ8L1Rvb2x0aXA+XG5cdCk7XG59O1xuXG5IZWxwVG9vbHRpcC5wcm9wVHlwZXMgPSB7XG5cdGhlbHBUZXh0OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5leHBvcnQgY29uc3QgUG9kc05hdlRhYiA9ICggeyB0YWJzLCBhY3RpdmVUYWIsIHNldEFjdGl2ZVRhYiB9ICkgPT4ge1xuXHRjb25zdCBnZXRDbGFzc05hbWUgPSAoIHRhYk5hbWUgKSA9PiB7XG5cdFx0cmV0dXJuIGNsYXNzTmFtZXMoXG5cdFx0XHQnbmF2LXRhYiBwb2RzLW5hdi10YWItbGluaycsXG5cdFx0XHR7ICduYXYtdGFiLWFjdGl2ZSc6ICggdGFiTmFtZSA9PT0gYWN0aXZlVGFiICkgfSxcblx0XHQpO1xuXHR9O1xuXG5cdGNvbnN0IGhhbmRsZUNsaWNrID0gKCBlLCB0YWJOYW1lICkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRzZXRBY3RpdmVUYWIoIHRhYk5hbWUgKTtcblx0fTtcblxuXHRyZXR1cm4gKFxuXHRcdDxoMiBjbGFzc05hbWU9J25hdi10YWItd3JhcHBlciBwb2RzLW5hdi10YWJzJz5cblx0XHRcdHt0YWJzLm1hcCggdGhpc1RhYiA9PiAoXG5cdFx0XHRcdDxhXG5cdFx0XHRcdFx0a2V5PXt0aGlzVGFiLm5hbWV9XG5cdFx0XHRcdFx0aHJlZj17YCNwb2RzLSR7dGhpc1RhYi5uYW1lfWB9XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPXtnZXRDbGFzc05hbWUoIHRoaXNUYWIubmFtZSApfVxuXHRcdFx0XHRcdG9uQ2xpY2s9eyggZSApID0+IGhhbmRsZUNsaWNrKCBlLCB0aGlzVGFiLm5hbWUgKX1cblx0XHRcdFx0PlxuXHRcdFx0XHRcdHt0aGlzVGFiLnRpdGxlVGV4dH1cblx0XHRcdFx0PC9hPlxuXHRcdFx0KSApfVxuXHRcdDwvaDI+XG5cdCk7XG59O1xuXG5Qb2RzTmF2VGFiLnByb3BUeXBlcyA9IHtcblx0dGFiczogUHJvcFR5cGVzLmFycmF5T2YoIFByb3BUeXBlcy5zaGFwZSgge1xuXHRcdG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG5cdFx0dGl0bGVUZXh0OiBQcm9wVHlwZXMuc3RyaW5nLFxuXHR9ICkgKS5pc1JlcXVpcmVkLFxuXHRhY3RpdmVUYWI6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcblx0c2V0QWN0aXZlVGFiOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBjb25zdCBQb2RzREZWVmFsaWRhdGlvbk1lc3NhZ2UgPSAoIHByb3BzICkgPT4ge1xuXHRyZXR1cm4gKCA8ZGl2IGNsYXNzTmFtZT1cIm5vdGljZSBub3RpY2UtZXJyb3JcIj57cHJvcHMubWVzc2FnZX08L2Rpdj4gKTtcbn07XG5cbmV4cG9ydCBjb25zdCBQb2RzREZWVmFsaWRhdGlvbk1lc3NhZ2VzID0gKCBwcm9wcyApID0+IHtcblx0cmV0dXJuIHByb3BzLm1lc3NhZ2VzLm1hcCggdGhpc01lc3NhZ2UgPT4ge1xuXHRcdHJldHVybiAoXG5cdFx0XHQ8UG9kc0RGVlZhbGlkYXRpb25NZXNzYWdlXG5cdFx0XHRcdGtleT17dGhpc01lc3NhZ2V9XG5cdFx0XHRcdG1lc3NhZ2U9e3RoaXNNZXNzYWdlfVxuXHRcdFx0Lz5cblx0XHQpO1xuXHR9ICk7XG59O1xuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCB3cCwgUG9kc0kxOG4gKi9cblxuLyoqXG4gKiBBIGZyYW1lIGZvciBkaXNwbGF5aW5nIGEgbW9kYWwgcG9wdXAgd2l0aCBpZnJhbWUgY29udGVudFxuICpcbiAqIEBhdWdtZW50cyB3cC5tZWRpYS52aWV3LkZyYW1lXG4gKi9cbmV4cG9ydCBjb25zdCBQb2RzREZWTW9kYWwgPSB3cC5tZWRpYS52aWV3Lk1vZGFsLmV4dGVuZCgge1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuXHQgKiBAcmV0dXJucyB7d3AubWVkaWEudmlldy5Nb2RhbH0gUmV0dXJucyBpdHNlbGYgdG8gYWxsb3cgY2hhaW5pbmdcblx0ICovXG5cdGNsb3NlOiBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XG5cdFx0Y29uc3QgcmV0VmFsID0gd3AubWVkaWEudmlldy5Nb2RhbC5wcm90b3R5cGUuY2xvc2UuYXBwbHkoIHRoaXMsIG9wdGlvbnMgKTtcblxuXHRcdC8vIEFsZXJ0IHRoZSBsaXN0ZW5pbmcgY29udHJvbCB3aGVuIHdlJ3ZlIGJlZW4gY2FuY2VsbGVkXG5cdFx0aWYgKCBvcHRpb25zICYmIG9wdGlvbnMuZXNjYXBlICkge1xuXHRcdFx0d2luZG93LnBhcmVudC5qUXVlcnkoIHdpbmRvdy5wYXJlbnQgKS50cmlnZ2VyKCAnZGZ2Om1vZGFsOmNhbmNlbCcgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0VmFsO1xuXHR9XG5cbn0gKTtcbiIsIi8qKlxuICogTm90ZTogTm8gY2hlY2tpbmcgaXMgZG9uZSBoZXJlIHRvIG1ha2Ugc3VyZSB3ZSdyZSBpbiBhIG1vZGFsIGFuZCB0aGF0XG4gKiBHdXRlbmJlcmcgaXMgYWN0dWFsbHkgbG9hZGVkLiAgQ29uc3VtaW5nIGNvZGUgbXVzdCBtYWtlIHN1cmUgdGhlIGltcGxpY2l0XG4gKiBHdXRlbmJlcmcgZGVwZW5kZW5jaWVzIGV4aXN0IChwcmltYXJpbHkgd3AuZGF0YSkgYmVmb3JlIGNhbGxpbmcgdGhyb3VnaFxuICogdG8gaW5pdCgpLlxuICovXG5cbi8vIFRoZSBndWFyZCBpbiBmcm9udCBpcyB0byBlbnN1cmUgd3AuZGF0YSBleGlzdHMgYmVmb3JlIGFjY2Vzc2luZyBzZWxlY3RcbmNvbnN0IGVkaXRvckRhdGEgPSB3cC5kYXRhICYmIHdwLmRhdGEuc2VsZWN0KCAnY29yZS9lZGl0b3InICk7XG5sZXQgdW5TdWJzY3JpYmU7XG5cbi8qKlxuICogaW5pdCgpIGlzIHRoZSBvbmx5IGV4cG9zZWQgaW50ZXJmYWNlXG4gKi9cbmV4cG9ydCBjb25zdCBQb2RzR2JNb2RhbExpc3RlbmVyID0ge1xuXHRpbml0OiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCBlZGl0b3JEYXRhLmlzQ3VycmVudFBvc3RQdWJsaXNoZWQoKSApIHtcblx0XHRcdC8vIFBvc3QgaXMgcHVibGlzaGVkLCB0aGlzIGlzIGFuIGVkaXRcblx0XHRcdHVuU3Vic2NyaWJlID0gd3AuZGF0YS5zdWJzY3JpYmUoIHNhdmVMaXN0ZW5lciApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBVbnB1Ymxpc2hlZCBwb3N0LCB0aGlzIGlzIGFuIFwiYWRkIG5ld1wiIG1vZGFsXG5cdFx0XHR1blN1YnNjcmliZSA9IHdwLmRhdGEuc3Vic2NyaWJlKCBwdWJsaXNoTGlzdGVuZXIgKTtcblx0XHR9XG5cdH1cbn07XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSGVscGVyIGZ1bmN0aW9ucywgbm90IGV4dGVybmFsbHkgZXhwb3NlZFxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICpcbiAqIEByZXR1cm4gc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGdldEZlYXR1cmVkSW1hZ2VVUkwgKCkge1xuXHRjb25zdCBmZWF0dXJlZEltYWdlSWQgPSBlZGl0b3JEYXRhLmdldEN1cnJlbnRQb3N0QXR0cmlidXRlKCAnZmVhdHVyZWRfbWVkaWEnICk7XG5cdGxldCB1cmwgPSAnJztcblxuXHQvLyBFYXJseSBleGl0IGlmIG5vdGhpbmcgd2FzIHNldFxuXHRpZiAoICFmZWF0dXJlZEltYWdlSWQgKSB7XG5cdFx0cmV0dXJuIHVybDtcblx0fVxuXG5cdGNvbnN0IG1lZGlhID0gd3AuZGF0YS5zZWxlY3QoICdjb3JlJyApLmdldE1lZGlhKCBmZWF0dXJlZEltYWdlSWQgKTtcblxuXHRpZiAoIG1lZGlhICkge1xuXHRcdGNvbnN0IG1lZGlhU2l6ZSA9IHdwLmhvb2tzLmFwcGx5RmlsdGVycyggJ2VkaXRvci5Qb3N0RmVhdHVyZWRJbWFnZS5pbWFnZVNpemUnLCAncG9zdC10aHVtYm5haWwnLCAnJyApO1xuXHRcdGlmICggbWVkaWEubWVkaWFfZGV0YWlscyAmJiBtZWRpYS5tZWRpYV9kZXRhaWxzLnNpemVzICYmIG1lZGlhLm1lZGlhX2RldGFpbHMuc2l6ZXNbIG1lZGlhU2l6ZSBdICkge1xuXHRcdFx0dXJsID0gbWVkaWEubWVkaWFfZGV0YWlscy5zaXplc1sgbWVkaWFTaXplIF0uc291cmNlX3VybDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dXJsID0gbWVkaWEuc291cmNlX3VybDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdXJsO1xufVxuXG4vKipcbiAqIEhhbmRsZXMgXCJhZGQgbmV3XCIgbW9kYWxzXG4gKi9cbmZ1bmN0aW9uIHB1Ymxpc2hMaXN0ZW5lciAoKSB7XG5cblx0aWYgKCBlZGl0b3JEYXRhLmlzQ3VycmVudFBvc3RQdWJsaXNoZWQoKSApIHtcblx0XHR1blN1YnNjcmliZSgpO1xuXG5cdFx0dHJpZ2dlclVwZGF0ZUV2ZW50KCB7XG5cdFx0XHQnaWNvbic6IGdldEZlYXR1cmVkSW1hZ2VVUkwoKSxcblx0XHRcdCdsaW5rJzogZWRpdG9yRGF0YS5nZXRQZXJtYWxpbmsoKSxcblx0XHRcdCdlZGl0X2xpbmsnOiBgcG9zdC5waHA/cG9zdD0ke2VkaXRvckRhdGEuZ2V0Q3VycmVudFBvc3RJZCgpfSZhY3Rpb249ZWRpdCZwb2RzX21vZGFsPTFgLFxuXHRcdFx0J3NlbGVjdGVkJzogdHJ1ZSAvLyBBdXRvbWF0aWNhbGx5IHNlbGVjdCBhZGQgbmV3IHJlY29yZHNcblx0XHR9ICk7XG5cdH1cbn1cblxuLyoqXG4gKiBIYW5kbGVzIFwiZWRpdCBleGlzdGluZ1wiIG1vZGFsc1xuICovXG5mdW5jdGlvbiBzYXZlTGlzdGVuZXIgKCkge1xuXG5cdGlmICggc2F2ZUxpc3RlbmVyLndhc1NhdmluZyApIHtcblxuXHRcdC8vIFRoZSB3YXNTYXZpbmcgZmxhZyBhbHJlYWR5IGlnbm9yZXMgYXV0b3NhdmUgc28gd2Ugb25seSBuZWVkIHRvXG5cdFx0Ly8gY2hlY2sgaXNTYXZpbmdQb3N0KClcblx0XHRpZiAoICFlZGl0b3JEYXRhLmlzU2F2aW5nUG9zdCgpICkge1xuXG5cdFx0XHQvLyBDdXJyZW50bHkgb24gc2F2ZSBmYWlsdXJlIHdlJ2xsIHJlbWFpbiBzdWJzY3JpYmVkIGFuZCB0cnlcblx0XHRcdC8vIGxpc3RlbmluZyBmb3IgdGhlIG5leHQgc2F2ZSBhdHRlbXB0XG5cdFx0XHRzYXZlTGlzdGVuZXIud2FzU2F2aW5nID0gZmFsc2U7XG5cblx0XHRcdGlmICggZWRpdG9yRGF0YS5kaWRQb3N0U2F2ZVJlcXVlc3RTdWNjZWVkKCkgKSB7XG5cdFx0XHRcdHVuU3Vic2NyaWJlKCk7XG5cdFx0XHRcdHRyaWdnZXJVcGRhdGVFdmVudCgge1xuXHRcdFx0XHRcdCdpY29uJzogZ2V0RmVhdHVyZWRJbWFnZVVSTCgpXG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0c2F2ZUxpc3RlbmVyLndhc1NhdmluZyA9IGlzVXNlclNhdmluZygpO1xuXHR9XG59XG5cbi8qKlxuICogV2hldGhlciBvciBub3QgYW4gYWN0aXZlIHNhdmUgaXMgaW4gcHJvZ3Jlc3MgZHVlIHRvIHVzZXIgYWN0aW9uIChpZ25vcmUgYXV0b3NhdmVzKVxuICpcbiAqIEByZXR1cm4gYm9vbGVhblxuICovXG5mdW5jdGlvbiBpc1VzZXJTYXZpbmcgKCkge1xuXHRyZXR1cm4gISEoIGVkaXRvckRhdGEuaXNTYXZpbmdQb3N0KCkgJiYgIWVkaXRvckRhdGEuaXNBdXRvc2F2aW5nUG9zdCgpICk7XG59XG5cbi8qKlxuICogVGhlIGV2ZW50IGxpc3RlbmVyIGluIHRoZSBwYXJlbnQgd2luZG93IHdpbGwgdGFrZSBjYXJlIG9mIGNsb3NpbmcgdGhlIG1vZGFsXG4gKi9cbmZ1bmN0aW9uIHRyaWdnZXJVcGRhdGVFdmVudCAoIG9wdGlvbmFsRGF0YSApIHtcblx0Y29uc3QgZGVmYXVsdERhdGEgPSB7XG5cdFx0J2lkJzogZWRpdG9yRGF0YS5nZXRDdXJyZW50UG9zdElkKCksXG5cdFx0J25hbWUnOiBlZGl0b3JEYXRhLmdldEN1cnJlbnRQb3N0QXR0cmlidXRlKCAndGl0bGUnIClcblx0fTtcblx0Y29uc3QgcG9zdERhdGEgPSBPYmplY3QuYXNzaWduKCBkZWZhdWx0RGF0YSwgb3B0aW9uYWxEYXRhICk7XG5cblx0d2luZG93LnBhcmVudC5qUXVlcnkoIHdpbmRvdy5wYXJlbnQgKS50cmlnZ2VyKCAnZGZ2Om1vZGFsOnVwZGF0ZScsIHBvc3REYXRhICk7XG59XG4iLCIvKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4sIHdwLCBQb2RzSTE4biAqL1xuXG5pbXBvcnQgeyBQb2RzREZWTW9kYWwgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9kZnYtbW9kYWwnO1xuXG4vKipcbiAqIEEgZnJhbWUgZm9yIGRpc3BsYXlpbmcgYSBtb2RhbCBwb3B1cCB3aXRoIGlmcmFtZSBjb250ZW50XG4gKlxuICogQGF1Z21lbnRzIHdwLm1lZGlhLnZpZXcuRnJhbWVcbiAqL1xuZXhwb3J0IGNvbnN0IElmcmFtZUZyYW1lID0gd3AubWVkaWEudmlldy5GcmFtZS5leHRlbmQoIHtcblx0Y2xhc3NOYW1lOiAncG9kcy1tb2RhbC1mcmFtZScsXG5cblx0dGVtcGxhdGU6IF8udGVtcGxhdGUoICc8ZGl2IGNsYXNzPVwibWVkaWEtZnJhbWUtdGl0bGVcIiAvPjxkaXYgY2xhc3M9XCJtZWRpYS1mcmFtZS1pZnJhbWVcIiAvPicgKSxcblxuXHRyZWdpb25zOiBbICd0aXRsZScsICdpZnJhbWUnIF0sXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xuXHRcdHdwLm1lZGlhLnZpZXcuRnJhbWUucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0Ly8gRW5zdXJlIGNvcmUgVUkgaXMgZW5hYmxlZC5cblx0XHR0aGlzLiRlbC5hZGRDbGFzcyggJ3dwLWNvcmUtdWknICk7XG5cblx0XHR0aGlzLmluaXRTdGF0ZSgpO1xuXHRcdHRoaXMuaW5pdE1vZGFsKCk7XG5cblx0XHR0aGlzLm9uKCAnaWZyYW1lOmNyZWF0ZTpkZWZhdWx0JywgdGhpcy5pZnJhbWVDb250ZW50LCB0aGlzICk7XG5cdFx0dGhpcy5pZnJhbWUubW9kZSggJ2RlZmF1bHQnICk7XG5cblx0XHR0aGlzLm9uKCAndGl0bGU6Y3JlYXRlOmRlZmF1bHQnLCB0aGlzLmNyZWF0ZVRpdGxlLCB0aGlzICk7XG5cdFx0dGhpcy50aXRsZS5tb2RlKCAnZGVmYXVsdCcgKTtcblx0XHR0aGlzLm9uKCAndGl0bGU6cmVuZGVyJywgZnVuY3Rpb24gKCB2aWV3ICkge1xuXHRcdFx0dmlldy4kZWwuYXBwZW5kKCAnPHNwYW4gY2xhc3M9XCJkYXNoaWNvbnMgZGFzaGljb25zLWFycm93LWRvd25cIj48L3NwYW4+JyApO1xuXHRcdH0gKTtcblx0fSxcblxuXHRpbml0U3RhdGU6IGZ1bmN0aW9uICgpIHtcblx0XHRjb25zdCB0aXRsZSA9IHRoaXMub3B0aW9ucy50aXRsZSB8fCBQb2RzSTE4bi5fXyggJ0FkZCBOZXcgUmVjb3JkJyApO1xuXHRcdGNvbnN0IHNyYyA9IHRoaXMub3B0aW9ucy5zcmMgfHwgJy8nO1xuXG5cdFx0dGhpcy5zdGF0ZXMuYWRkKCBbXG5cdFx0XHRuZXcgd3AubWVkaWEuY29udHJvbGxlci5TdGF0ZSgge1xuXHRcdFx0XHRpZDogJ2RlZmF1bHQnLFxuXHRcdFx0XHR0aXRsZTogdGl0bGUsXG5cdFx0XHRcdHNyYzogc3JjXG5cdFx0XHR9IClcblx0XHRdICk7XG5cblx0XHR0aGlzLm9wdGlvbnMuc3RhdGUgPSAnZGVmYXVsdCc7XG5cdH0sXG5cblx0aW5pdE1vZGFsOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5tb2RhbCA9IG5ldyBQb2RzREZWTW9kYWwoIHtcblx0XHRcdGNvbnRyb2xsZXI6IHRoaXNcblx0XHR9ICk7XG5cblx0XHR0aGlzLm1vZGFsLmNvbnRlbnQoIHRoaXMgKTtcblx0fSxcblxuXHRyZW5kZXI6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBBY3RpdmF0ZSB0aGUgZGVmYXVsdCBzdGF0ZSBpZiBubyBhY3RpdmUgc3RhdGUgZXhpc3RzLlxuXHRcdGlmICggIXRoaXMuc3RhdGUoKSAmJiB0aGlzLm9wdGlvbnMuc3RhdGUgKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKCB0aGlzLm9wdGlvbnMuc3RhdGUgKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBjYWxsICdyZW5kZXInIGRpcmVjdGx5IG9uIHRoZSBwYXJlbnQgY2xhc3Ncblx0XHQgKi9cblx0XHRyZXR1cm4gd3AubWVkaWEudmlldy5GcmFtZS5wcm90b3R5cGUucmVuZGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0fSxcblxuXHQvKipcblx0ICogQHBhcmFtIHtPYmplY3R9IGNvbnRlbnRcblx0ICogQHRoaXMgd3AubWVkaWEuY29udHJvbGxlci5SZWdpb25cblx0ICovXG5cdGlmcmFtZUNvbnRlbnQ6IGZ1bmN0aW9uICggY29udGVudCApIHtcblx0XHRjb250ZW50LnZpZXcgPSBuZXcgd3AubWVkaWEudmlldy5JZnJhbWUoIHtcblx0XHRcdGNvbnRyb2xsZXI6IHRoaXNcblx0XHR9ICk7XG5cdH0sXG5cblx0Y3JlYXRlVGl0bGU6IGZ1bmN0aW9uICggdGl0bGUgKSB7XG5cdFx0dGl0bGUudmlldyA9IG5ldyB3cC5tZWRpYS5WaWV3KCB7XG5cdFx0XHRjb250cm9sbGVyOiB0aGlzLFxuXHRcdFx0dGFnTmFtZTogJ2gxJ1xuXHRcdH0gKTtcblx0fVxufSApO1xuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uICovXG5leHBvcnQgY29uc3QgUG9kc0RGVkZpZWxkTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoIHtcblx0ZGVmYXVsdHM6IHtcblx0XHRodG1sQXR0cjoge30sXG5cdFx0ZmllbGRDb25maWc6IHt9XG5cdH1cbn0gKTtcbiIsIi8qZ2xvYmFsIGpRdWVyeSwgXywgQmFja2JvbmUsIFBvZHNNbiAqL1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBQb2RzRmllbGRMaXN0VmlldyA9IFBvZHNNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoIHtcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKCBvcHRpb25zICkge1xuXHRcdHRoaXMuZmllbGRNb2RlbCA9IG9wdGlvbnMuZmllbGRNb2RlbDtcblx0XHR0aGlzLmNoaWxkVmlld09wdGlvbnMgPSB7IGZpZWxkTW9kZWw6IG9wdGlvbnMuZmllbGRNb2RlbCB9O1xuXHR9XG59ICk7XG5cbi8qKlxuICogQGV4dGVuZHMgQmFja2JvbmUuVmlld1xuICovXG5leHBvcnQgY29uc3QgUG9kc0ZpZWxkVmlldyA9IFBvZHNNbi5WaWV3LmV4dGVuZCgge1xuXHRjaGlsZFZpZXdFdmVudFByZWZpeDogZmFsc2UsIC8vIERpc2FibGUgaW1wbGljaXQgZXZlbnQgbGlzdGVuZXJzIGluIGZhdm9yIG9mIGV4cGxpY2l0IGNoaWxkVmlld1RyaWdnZXJzIGFuZCBjaGlsZFZpZXdFdmVudHNcblxuXHRzZXJpYWxpemVEYXRhOiBmdW5jdGlvbiAoKSB7XG5cdFx0Y29uc3QgZmllbGRNb2RlbCA9IHRoaXMub3B0aW9ucy5maWVsZE1vZGVsO1xuXHRcdGxldCBkYXRhID0gdGhpcy5tb2RlbCA/IHRoaXMubW9kZWwudG9KU09OKCkgOiB7fTtcblxuXHRcdGRhdGEuaHRtbEF0dHIgPSBmaWVsZE1vZGVsLmdldCggJ2h0bWxBdHRyJyApO1xuXHRcdGRhdGEuZmllbGRDb25maWcgPSBmaWVsZE1vZGVsLmdldCggJ2ZpZWxkQ29uZmlnJyApO1xuXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH1cbn0gKTtcblxuLyoqXG4gKiBUb3AtbGV2ZWwgXCJtYWluIGZpZWxkIGNvbnRhaW5lclwiXG4gKi9cbmV4cG9ydCBjb25zdCBQb2RzREZWRmllbGRMYXlvdXQgPSBQb2RzTW4uVmlldy5leHRlbmQoIHtcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXG5cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKCBvcHRpb25zICkge1xuXHRcdHRoaXMuZmllbGRJdGVtRGF0YSA9IG9wdGlvbnMuZmllbGRJdGVtRGF0YTtcblx0fVxufSApO1xuIiwiaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHsgUG9kc0RGVkZpZWxkTW9kZWwgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9wb2RzLWZpZWxkLW1vZGVsJztcblxuZXhwb3J0IGZ1bmN0aW9uIG1uUmVuZGVyZXIgKCBGaWVsZENsYXNzLCBlbGVtZW50LCBkYXRhICkge1xuXG5cdC8vIEFzc2VtYmxlIHRoZSBtb2RlbCBhbmQgY3JlYXRlIHRoZSBmaWVsZFxuXHRjb25zdCBmaWVsZE1vZGVsID0gbmV3IFBvZHNERlZGaWVsZE1vZGVsKCB7XG5cdFx0aHRtbEF0dHI6IGRhdGEuaHRtbEF0dHIsXG5cdFx0ZmllbGRDb25maWc6IGRhdGEuZmllbGRDb25maWdcblx0fSApO1xuXG5cdGNvbnN0IG5ld0ZpZWxkID0gbmV3IEZpZWxkQ2xhc3MoIHtcblx0XHRlbDogZWxlbWVudCxcblx0XHRtb2RlbDogZmllbGRNb2RlbCxcblx0XHRmaWVsZEl0ZW1EYXRhOiBkYXRhLmZpZWxkSXRlbURhdGFcblx0fSApO1xuXG5cdC8vIFJlbmRlciB0aGUgZmllbGQsIHRyaWdnZXIgYW4gZXZlbnQgZm9yIHRoZSBvdXRzaWRlIHdvcmxkLCBhbmQgc3Rhc2ggYSByZWZlcmVuY2Vcblx0bmV3RmllbGQucmVuZGVyKCk7XG5cdGpRdWVyeSggZWxlbWVudCApLnRyaWdnZXIoICdyZW5kZXInICk7XG5cdHJldHVybiBuZXdGaWVsZDtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IGluaXRTdG9yZSB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9zdG9yZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFjdERpcmVjdFJlbmRlcmVyICggRmllbGRDbGFzcywgZWxlbWVudCwgcHJvcHMgKSB7XG5cdGNvbnN0IEZpZWxkID0gUmVhY3QuY3JlYXRlRmFjdG9yeSggRmllbGRDbGFzcyApO1xuXG5cdC8vIFRvZG86XG5cdC8vXG5cdC8vICAxOiBOZWVkIGEgZ2VuZXJpYyB3YXkgdG8gaW5pdGlhbGl6ZSB0aGUgc3RvcmVzLiAgVGhpcyBjYW4ndCBiZSBpbnNpZGVcblx0Ly8gdGhlIGNvbXBvbmVudCBvciBpdCB3aWxsIHJldmVydCB0byBpbml0aWFsIHZhbHVlcyBvbiBldmVyeSByZW5kZXIuXG5cdC8vIEtsdWRnZWQgaGVyZSBmb3Igbm93IHRvIGNvbnRpbnVlIHByb3RvdHlwaW5nLlxuXHQvL1xuXHQvLyAyOiBpbml0aWFsU3RhdGUgKGluIGluaXRTdG9yZSkgd2lsbCBub3QgYXJyaXZlIHVudGlsIFdQIDUuMi5cblx0Ly9cblx0aW5pdFN0b3JlKCBwcm9wcyApO1xuXG5cdFJlYWN0RE9NLnJlbmRlcihcblx0XHRGaWVsZCggcHJvcHMgKSxcblx0XHRlbGVtZW50XG5cdCk7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgeyBQb2RzREZWRmllbGRDb250YWluZXIgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29tcG9uZW50cy9maWVsZC1jb250YWluZXInO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVhY3RSZW5kZXJlciAoIEZpZWxkQ2xhc3MsIGVsZW1lbnQsIHByb3BzICkge1xuXHRjb25zdCBGaWVsZCA9IFJlYWN0LmNyZWF0ZUZhY3RvcnkoIEZpZWxkQ2xhc3MgKTtcblxuXHRSZWFjdERPTS5yZW5kZXIoXG5cdFx0PFBvZHNERlZGaWVsZENvbnRhaW5lclxuXHRcdFx0ZmllbGRDb21wb25lbnQ9eyBGaWVsZCB9XG5cdFx0XHR7IC4uLnByb3BzIH1cblx0XHQvPixcblx0XHRlbGVtZW50XG5cdCk7XG59XG4iLCJleHBvcnQgeyBGaWxlVXBsb2FkIH0gZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlLXVwbG9hZC9maWxlLXVwbG9hZCc7XG5leHBvcnQgeyBQaWNrIH0gZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9waWNrL3BpY2snO1xuZXhwb3J0IHsgUG9kc0RGVlRleHQgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3RleHQvdGV4dCc7XG5leHBvcnQgeyBQb2RzREZWUGFzc3dvcmQgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3Bhc3N3b3JkL3Bhc3N3b3JkJztcbmV4cG9ydCB7IFBvZHNERlZOdW1iZXIgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL251bWJlci9udW1iZXInO1xuZXhwb3J0IHsgUG9kc0RGVkVtYWlsIH0gZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9lbWFpbC9lbWFpbCc7XG5leHBvcnQgeyBQb2RzREZWVGV4dEFyZWEgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3RleHRhcmVhL3RleHRhcmVhJztcbmV4cG9ydCB7IFBvZHNERlZFZGl0UG9kIH0gZnJvbSAncG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL2VkaXQtcG9kJztcbiIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQb2RzREZWQmFzZUlucHV0IH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvbXBvbmVudHMvYmFzZS1pbnB1dCc7XG5pbXBvcnQgeyB2YWxpZGF0aW9uUnVsZXMgfSBmcm9tICdwb2RzLWRmdi9zcmMvdmFsaWRhdGlvbi92YWxpZGF0aW9uLXJ1bGVzJztcblxuZXhwb3J0IGNvbnN0IFBvZHNERlZFbWFpbCA9ICggcHJvcHMgKSA9PiB7XG5cdHByb3BzLnZhbGlkYXRpb24uYWRkUnVsZXMoIFtcblx0XHR7XG5cdFx0XHRydWxlOiB2YWxpZGF0aW9uUnVsZXMuZW1haWxGb3JtYXQoIHByb3BzLnZhbHVlICksXG5cdFx0XHRjb25kaXRpb246IHRydWUsXG5cdFx0fSxcblx0XSApO1xuXG5cdC8vIG5vaW5zcGVjdGlvbiBKU1VucmVzb2x2ZWRWYXJpYWJsZVxuXHRyZXR1cm4gKFxuXHRcdDxQb2RzREZWQmFzZUlucHV0XG5cdFx0XHR0eXBlPXsnMScgPT09IHByb3BzLmZpZWxkQ29uZmlnLmVtYWlsX2h0bWw1ID8gJ2VtYWlsJyA6ICd0ZXh0J31cblx0XHRcdHsuLi5wcm9wc31cblx0XHQvPlxuXHQpO1xufTtcbiIsIi8qZ2xvYmFsIGpRdWVyeSwgXywgQmFja2JvbmUsIFBvZHNNbiAqL1xuLyoqXG4gKlxuICovXG5leHBvcnQgY29uc3QgRmlsZVVwbG9hZE1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKCB7XG5cdGRlZmF1bHRzOiB7XG5cdFx0J2lkJzogMCxcblx0XHQnaWNvbic6ICcnLFxuXHRcdCduYW1lJzogJycsXG5cdFx0J2VkaXRfbGluayc6ICcnLFxuXHRcdCdsaW5rJzogJycsXG5cdFx0J2Rvd25sb2FkJzogJydcblx0fVxufSApO1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKCB7XG5cdG1vZGVsOiBGaWxlVXBsb2FkTW9kZWxcbn0gKTtcbiIsIi8qZ2xvYmFsIGpRdWVyeSwgXywgQmFja2JvbmUsIFBvZHNNbiAqL1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS11cGxvYWQvZmlsZS11cGxvYWQtbGF5b3V0Lmh0bWwnO1xuXG5pbXBvcnQgeyBQb2RzREZWRmllbGRMYXlvdXQgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9wb2RzLWZpZWxkLXZpZXdzJztcblxuaW1wb3J0IHsgRmlsZVVwbG9hZENvbGxlY3Rpb24gfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUtdXBsb2FkL2ZpbGUtdXBsb2FkLW1vZGVsJztcblxuaW1wb3J0IHsgRmlsZVVwbG9hZExpc3QgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUtdXBsb2FkL3ZpZXdzL2ZpbGUtdXBsb2FkLWxpc3QnO1xuaW1wb3J0IHsgRmlsZVVwbG9hZEZvcm0gfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUtdXBsb2FkL3ZpZXdzL2ZpbGUtdXBsb2FkLWZvcm0nO1xuXG5pbXBvcnQgeyBQbHVwbG9hZCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS11cGxvYWQvdXBsb2FkZXJzL3BsdXBsb2FkJztcbmltcG9ydCB7IE1lZGlhTW9kYWwgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUtdXBsb2FkL3VwbG9hZGVycy9tZWRpYS1tb2RhbCc7XG5cbmNvbnN0IFVwbG9hZGVycyA9IFtcblx0UGx1cGxvYWQsXG5cdE1lZGlhTW9kYWxcbl07XG5cbmNvbnN0IFVOTElNSVRFRF9GSUxFUyA9IDA7XG5cbi8qKlxuICogQGV4dGVuZHMgQmFja2JvbmUuVmlld1xuICovXG5leHBvcnQgY29uc3QgRmlsZVVwbG9hZCA9IFBvZHNERlZGaWVsZExheW91dC5leHRlbmQoIHtcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXG5cblx0dGVtcGxhdGU6IF8udGVtcGxhdGUoIHRlbXBsYXRlICksXG5cblx0cmVnaW9uczoge1xuXHRcdGxpc3Q6ICcucG9kcy11aS1maWxlLWxpc3QnLFxuXHRcdHVpUmVnaW9uOiAnLnBvZHMtdWktcmVnaW9uJywgLy8gXCJVdGlsaXR5XCIgY29udGFpbmVyIGZvciB1cGxvYWRlcnMgdG8gdXNlXG5cdFx0Zm9ybTogJy5wb2RzLXVpLWZvcm0nXG5cdH0sXG5cblx0Y2hpbGRWaWV3RXZlbnRzOiB7XG5cdFx0J2NoaWxkdmlldzpyZW1vdmU6ZmlsZTpjbGljayc6ICdvbkNoaWxkdmlld1JlbW92ZUZpbGVDbGljaycsXG5cdFx0J2NoaWxkdmlldzphZGQ6ZmlsZTpjbGljayc6ICdvbkNoaWxkdmlld0FkZEZpbGVDbGljaydcblx0fSxcblxuXHR1cGxvYWRlcjoge30sXG5cblx0LyoqXG5cdCAqXG5cdCAqL1xuXHRvbkJlZm9yZVJlbmRlcjogZnVuY3Rpb24gKCkge1xuXHRcdGlmICggdGhpcy5jb2xsZWN0aW9uID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aGlzLmNvbGxlY3Rpb24gPSBuZXcgRmlsZVVwbG9hZENvbGxlY3Rpb24oIHRoaXMuZmllbGRJdGVtRGF0YSApO1xuXHRcdH1cblx0fSxcblxuXHRvblJlbmRlcjogZnVuY3Rpb24gKCkge1xuXHRcdGNvbnN0IGxpc3RWaWV3ID0gbmV3IEZpbGVVcGxvYWRMaXN0KCB7IGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiwgZmllbGRNb2RlbDogdGhpcy5tb2RlbCB9ICk7XG5cdFx0Y29uc3QgZm9ybVZpZXcgPSBuZXcgRmlsZVVwbG9hZEZvcm0oIHsgZmllbGRNb2RlbDogdGhpcy5tb2RlbCB9ICk7XG5cblx0XHR0aGlzLnNob3dDaGlsZFZpZXcoICdsaXN0JywgbGlzdFZpZXcgKTtcblx0XHR0aGlzLnNob3dDaGlsZFZpZXcoICdmb3JtJywgZm9ybVZpZXcgKTtcblxuXHRcdC8vIFNldHVwIHRoZSB1cGxvYWRlciBhbmQgbGlzdGVuIGZvciBhIHJlc3BvbnNlIGV2ZW50XG5cdFx0dGhpcy51cGxvYWRlciA9IHRoaXMuY3JlYXRlVXBsb2FkZXIoKTtcblx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLnVwbG9hZGVyLCAnYWRkZWQ6ZmlsZXMnLCB0aGlzLm9uQWRkZWRGaWxlcyApO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBGaXJlZCBieSBhIHJlbW92ZTpmaWxlOmNsaWNrIHRyaWdnZXIgaW4gYW55IGNoaWxkIHZpZXdcblx0ICpcblx0ICogQHBhcmFtIGNoaWxkVmlldyBWaWV3IHRoYXQgd2FzIHRoZSBzb3VyY2Ugb2YgdGhlIGV2ZW50XG5cdCAqL1xuXHRvbkNoaWxkdmlld1JlbW92ZUZpbGVDbGljazogZnVuY3Rpb24gKCBjaGlsZFZpZXcgKSB7XG5cdFx0dGhpcy5jb2xsZWN0aW9uLnJlbW92ZSggY2hpbGRWaWV3Lm1vZGVsICk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIEZpcmVkIGJ5IGEgYWRkOmZpbGU6Y2xpY2sgdHJpZ2dlciBpbiBhbnkgY2hpbGQgdmlld1xuXHQgKlxuXHQgKiBwbHVwbG9hZCBmaWVsZHMgc2hvdWxkIG5ldmVyIGdlbmVyYXRlIHRoaXMgZXZlbnQsIGl0IHBsYWNlcyBhIHNoaW0gb3ZlciBvdXIgYnV0dG9uIGFuZCBoYW5kbGVzIHRoZVxuXHQgKiBldmVudCBpbnRlcm5hbGx5LiAgQnV0IHRoaXMgZXZlbnQgZG9lcyBzdGlsbCBjb21lIHRocm91Z2ggd2l0aCBwbHVwbG9hZCBmaWVsZHMgaW4gc29tZSBicm93c2VyXG5cdCAqIGVudmlyb25tZW50cyBmb3IgcmVhc29ucyB3ZSd2ZSBiZWVuIHVuYWJsZSB0byBkZXRlcm1pbmUuXG5cdCAqL1xuXHRvbkNoaWxkdmlld0FkZEZpbGVDbGljazogZnVuY3Rpb24gKCkge1xuXG5cdFx0Ly8gSW52b2tlIHRoZSB1cGxvYWRlclxuXHRcdGlmICggJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHRoaXMudXBsb2FkZXIuaW52b2tlICkge1xuXHRcdFx0dGhpcy51cGxvYWRlci5pbnZva2UoKTtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIENvbmNyZXRlIHVwbG9hZGVyIGltcGxlbWVudGF0aW9ucyBzaW1wbHkgbmVlZCB0bzogdGhpcy50cmlnZ2VyKCAnYWRkZWQ6ZmlsZXMnLCBuZXdGaWxlcyApXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0W119IGRhdGEgQW4gYXJyYXkgb2YgbW9kZWwgb2JqZWN0cyB0byBiZSBhZGRlZFxuXHQgKi9cblx0b25BZGRlZEZpbGVzOiBmdW5jdGlvbiAoIGRhdGEgKSB7XG5cdFx0Y29uc3QgZmllbGRDb25maWcgPSB0aGlzLm1vZGVsLmdldCggJ2ZpZWxkQ29uZmlnJyApO1xuXHRcdGNvbnN0IGZpbGVMaW1pdCA9ICtmaWVsZENvbmZpZ1sgJ2ZpbGVfbGltaXQnIF07IC8vIFVuYXJ5IHBsdXMgdG8gZm9yY2UgdG8gbnVtYmVyXG5cdFx0bGV0IG5ld0NvbGxlY3Rpb24sIGZpbHRlcmVkTW9kZWxzO1xuXG5cdFx0Ly8gR2V0IGEgY29weSBvZiB0aGUgZXhpc3RpbmcgY29sbGVjdGlvbiB3aXRoIHRoZSBuZXcgZmlsZXMgYWRkZWRcblx0XHRuZXdDb2xsZWN0aW9uID0gdGhpcy5jb2xsZWN0aW9uLmNsb25lKCk7XG5cdFx0bmV3Q29sbGVjdGlvbi5hZGQoIGRhdGEgKTtcblxuXHRcdC8vIEVuZm9yY2UgdGhlIGZpbGUgbGltaXQgb3B0aW9uIGlmIG9uZSBpcyBzZXRcblx0XHRpZiAoIFVOTElNSVRFRF9GSUxFUyA9PT0gZmlsZUxpbWl0ICkge1xuXHRcdFx0ZmlsdGVyZWRNb2RlbHMgPSBuZXdDb2xsZWN0aW9uLm1vZGVscztcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gTnVtYmVyIG9mIHVwbG9hZHMgaXMgbGltaXRlZDoga2VlcCB0aGUgbGFzdCBOIG1vZGVscywgRklGTy9xdWV1ZSBzdHlsZVxuXHRcdFx0ZmlsdGVyZWRNb2RlbHMgPSBuZXdDb2xsZWN0aW9uLmZpbHRlciggZnVuY3Rpb24gKCBtb2RlbCApIHtcblx0XHRcdFx0cmV0dXJuICggbmV3Q29sbGVjdGlvbi5pbmRleE9mKCBtb2RlbCApID49IG5ld0NvbGxlY3Rpb24ubGVuZ3RoIC0gZmlsZUxpbWl0ICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dGhpcy5jb2xsZWN0aW9uLnJlc2V0KCBmaWx0ZXJlZE1vZGVscyApO1xuXHR9LFxuXG5cdGNyZWF0ZVVwbG9hZGVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0Y29uc3QgZmllbGRDb25maWcgPSB0aGlzLm1vZGVsLmdldCggJ2ZpZWxkQ29uZmlnJyApO1xuXHRcdGNvbnN0IHRhcmdldFVwbG9hZGVyID0gZmllbGRDb25maWdbICdmaWxlX3VwbG9hZGVyJyBdO1xuXHRcdGxldCBVcGxvYWRlcjtcblxuXHRcdGpRdWVyeS5lYWNoKCBVcGxvYWRlcnMsIGZ1bmN0aW9uICggaW5kZXgsIHRoaXNVcGxvYWRlciApIHtcblx0XHRcdGlmICggdGFyZ2V0VXBsb2FkZXIgPT09IHRoaXNVcGxvYWRlci5wcm90b3R5cGUuZmlsZVVwbG9hZGVyICkge1xuXHRcdFx0XHRVcGxvYWRlciA9IHRoaXNVcGxvYWRlcjtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdGlmICggVXBsb2FkZXIgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHRoaXMudXBsb2FkZXIgPSBuZXcgVXBsb2FkZXIoIHtcblx0XHRcdFx0Ly8gV2UgcHJvdmlkZSByZWd1bGFyIERPTSBlbGVtZW50IGZvciB0aGUgYnV0dG9uXG5cdFx0XHRcdGJyb3dzZUJ1dHRvbjogdGhpcy5nZXRSZWdpb24oICdmb3JtJyApLmdldEVsKCAnLnBvZHMtZGZ2LWxpc3QtYWRkJyApLmdldCgpLFxuXHRcdFx0XHR1aVJlZ2lvbjogdGhpcy5nZXRSZWdpb24oICd1aVJlZ2lvbicgKSxcblx0XHRcdFx0ZmllbGRDb25maWc6IGZpZWxkQ29uZmlnXG5cdFx0XHR9ICk7XG5cdFx0XHRyZXR1cm4gdGhpcy51cGxvYWRlcjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gQHRvZG8gc3ByaW50ZiB0eXBlIHdpdGggUG9kc0kxOG4uX18oKVxuXHRcdFx0dGhyb3cgYENvdWxkIG5vdCBsb2NhdGUgZmlsZSB1cGxvYWRlciAnJHt0YXJnZXRVcGxvYWRlcn0nYDtcblx0XHR9XG5cdH1cbn0gKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xuLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCB3cCwgUG9kc0kxOG4gKi9cbmltcG9ydCB7IFBvZHNGaWxlVXBsb2FkZXIgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUtdXBsb2FkL3VwbG9hZGVycy9wb2RzLWZpbGUtdXBsb2FkZXInO1xuXG5leHBvcnQgY29uc3QgTWVkaWFNb2RhbCA9IFBvZHNGaWxlVXBsb2FkZXIuZXh0ZW5kKCB7XG5cdG1lZGlhT2JqZWN0OiB7fSxcblxuXHRmaWxlVXBsb2FkZXI6ICdhdHRhY2htZW50JyxcblxuXHRpbnZva2U6IGZ1bmN0aW9uICgpIHtcblxuXHRcdGlmICggd3AuVXBsb2FkZXIuZGVmYXVsdHMuZmlsdGVycy5taW1lX3R5cGVzID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR3cC5VcGxvYWRlci5kZWZhdWx0cy5maWx0ZXJzLm1pbWVfdHlwZXMgPSBbIHtcblx0XHRcdFx0dGl0bGU6IFBvZHNJMThuLl9fKCAnQWxsb3dlZCBGaWxlcycgKSxcblx0XHRcdFx0ZXh0ZW5zaW9uczogJyonXG5cdFx0XHR9IF07XG5cdFx0fVxuXG5cdFx0bGV0IGRlZmF1bHRFeHQgPSB3cC5VcGxvYWRlci5kZWZhdWx0cy5maWx0ZXJzLm1pbWVfdHlwZXNbIDAgXS5leHRlbnNpb25zO1xuXG5cdFx0d3AuVXBsb2FkZXIuZGVmYXVsdHMuZmlsdGVycy5taW1lX3R5cGVzWyAwIF0uZXh0ZW5zaW9ucyA9IHRoaXMuZmllbGRDb25maWdbICdsaW1pdF9leHRlbnNpb25zJyBdO1xuXG5cdFx0Ly8gc2V0IG91ciBzZXR0aW5nc1xuXHRcdC8vIG5vaW5zcGVjdGlvbiBFcXVhbGl0eUNvbXBhcmlzb25XaXRoQ29lcmNpb25KUyAoXCIxXCIgaXMgZXZlcnkgYml0IGFzIHZhbGlkIHRvIHVzIGFzIDEpXG5cdFx0dGhpcy5tZWRpYU9iamVjdCA9IHdwLm1lZGlhKCB7XG5cdFx0XHR0aXRsZTogdGhpcy5maWVsZENvbmZpZ1sgJ2ZpbGVfbW9kYWxfdGl0bGUnIF0sXG5cdFx0XHRtdWx0aXBsZTogKCAxICE9IHRoaXMuZmllbGRDb25maWdbICdmaWxlX2xpbWl0JyBdICksXG5cdFx0XHRsaWJyYXJ5OiB7XG5cdFx0XHRcdHR5cGU6IHRoaXMuZmllbGRDb25maWdbICdsaW1pdF90eXBlcycgXVxuXHRcdFx0fSxcblx0XHRcdC8vIEN1c3RvbWl6ZSB0aGUgc3VibWl0IGJ1dHRvbi5cblx0XHRcdGJ1dHRvbjoge1xuXHRcdFx0XHQvLyBTZXQgdGhlIHRleHQgb2YgdGhlIGJ1dHRvbi5cblx0XHRcdFx0dGV4dDogdGhpcy5maWVsZENvbmZpZ1sgJ2ZpbGVfbW9kYWxfYWRkX2J1dHRvbicgXVxuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdC8vIE9uZS1zaG90IGNhbGxiYWNrICggZXZlbnQsIGNhbGxiYWNrLCBjb250ZXh0IClcblx0XHR0aGlzLm1lZGlhT2JqZWN0Lm9uY2UoICdzZWxlY3QnLCB0aGlzLm9uTWVkaWFTZWxlY3QsIHRoaXMgKTtcblxuXHRcdC8vIG9wZW4gdGhlIGZyYW1lXG5cdFx0dGhpcy5tZWRpYU9iamVjdC5vcGVuKCk7XG5cdFx0dGhpcy5tZWRpYU9iamVjdC5jb250ZW50Lm1vZGUoIHRoaXMuZmllbGRDb25maWdbICdmaWxlX2F0dGFjaG1lbnRfdGFiJyBdICk7XG5cblx0XHQvLyBSZXNldCB0aGUgYWxsb3dlZCBmaWxlIGV4dGVuc2lvbnNcblx0XHR3cC5VcGxvYWRlci5kZWZhdWx0cy5maWx0ZXJzLm1pbWVfdHlwZXNbIDAgXS5leHRlbnNpb25zID0gZGVmYXVsdEV4dDtcblx0fSxcblxuXHRvbk1lZGlhU2VsZWN0OiBmdW5jdGlvbiAoKSB7XG5cdFx0Y29uc3Qgc2VsZWN0aW9uID0gdGhpcy5tZWRpYU9iamVjdC5zdGF0ZSgpLmdldCggJ3NlbGVjdGlvbicgKTtcblx0XHRsZXQgbmV3RmlsZXMgPSBbXTtcblxuXHRcdGlmICggIXNlbGVjdGlvbiApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBsb29wIHRocm91Z2ggdGhlIHNlbGVjdGVkIGZpbGVzXG5cdFx0c2VsZWN0aW9uLmVhY2goIGZ1bmN0aW9uICggYXR0YWNobWVudCApIHtcblx0XHRcdGNvbnN0IHNpemVzID0gYXR0YWNobWVudC5hdHRyaWJ1dGVzLnNpemVzO1xuXHRcdFx0bGV0IGF0dGFjaG1lbnRUaHVtYm5haWw7XG5cblx0XHRcdC8vIGJ5IGRlZmF1bHQgdXNlIHRoZSBnZW5lcmljIGljb25cblx0XHRcdGF0dGFjaG1lbnRUaHVtYm5haWwgPSBhdHRhY2htZW50LmF0dHJpYnV0ZXMuaWNvbjtcblxuXHRcdFx0Ly8gb25seSB0aHVtYm5haWxzIGhhdmUgc2l6ZXMgd2hpY2ggaXMgd2hhdCB3ZSdyZSBvbiB0aGUgaHVudCBmb3Jcblx0XHRcdGlmICggc2l6ZXMgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0Ly8gR2V0IHRodW1ibmFpbCBpZiBpdCBleGlzdHNcblx0XHRcdFx0aWYgKCBzaXplcy50aHVtYm5haWwgIT09IHVuZGVmaW5lZCAmJiBzaXplcy50aHVtYm5haWwudXJsICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0YXR0YWNobWVudFRodW1ibmFpbCA9IHNpemVzLnRodW1ibmFpbC51cmw7XG5cdFx0XHRcdH0gZWxzZSBpZiAoIHNpemVzLmZ1bGwgIT09IHVuZGVmaW5lZCAmJiBzaXplcy5mdWxsLnVybCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdC8vIElmIHRodW1ibmFpbCBkb2Vzbid0IGV4aXN0LCBnZXQgZnVsbCBiZWNhdXNlIHRoaXMgaXMgYSBzbWFsbCBpbWFnZVxuXHRcdFx0XHRcdGF0dGFjaG1lbnRUaHVtYm5haWwgPSBzaXplcy5mdWxsLnVybDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRuZXdGaWxlcy5wdXNoKCB7XG5cdFx0XHRcdGlkOiBhdHRhY2htZW50LmF0dHJpYnV0ZXMuaWQsXG5cdFx0XHRcdGljb246IGF0dGFjaG1lbnRUaHVtYm5haWwsXG5cdFx0XHRcdG5hbWU6IGF0dGFjaG1lbnQuYXR0cmlidXRlcy50aXRsZSxcblx0XHRcdFx0ZWRpdF9saW5rOiBhdHRhY2htZW50LmF0dHJpYnV0ZXMuZWRpdExpbmssXG5cdFx0XHRcdGxpbms6IGF0dGFjaG1lbnQuYXR0cmlidXRlcy5saW5rLFxuXHRcdFx0XHRkb3dubG9hZDogYXR0YWNobWVudC5hdHRyaWJ1dGVzLnVybFxuXHRcdFx0fSApO1xuXHRcdH0gKTtcblxuXHRcdC8vIEZpcmUgYW4gZXZlbnQgd2l0aCBhbiBhcnJheSBvZiBtb2RlbHMgdG8gYmUgYWRkZWRcblx0XHR0aGlzLnRyaWdnZXIoICdhZGRlZDpmaWxlcycsIG5ld0ZpbGVzICk7XG5cdH1cblxufSApO1xuIiwiLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG4vKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4sIHdwLCBwbHVwbG9hZCwgUG9kc0kxOG4gKi9cbmltcG9ydCB7IFBvZHNGaWxlVXBsb2FkZXIgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUtdXBsb2FkL3VwbG9hZGVycy9wb2RzLWZpbGUtdXBsb2FkZXInO1xuaW1wb3J0IHsgRmlsZVVwbG9hZFF1ZXVlTW9kZWwsIEZpbGVVcGxvYWRRdWV1ZSB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS11cGxvYWQvdmlld3MvZmlsZS11cGxvYWQtcXVldWUnO1xuXG5leHBvcnQgY29uc3QgUGx1cGxvYWQgPSBQb2RzRmlsZVVwbG9hZGVyLmV4dGVuZCgge1xuXHRwbHVwbG9hZDoge30sXG5cblx0ZmlsZVVwbG9hZGVyOiAncGx1cGxvYWQnLFxuXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHtcblx0XHQvLyBTZXQgdGhlIGJyb3dzZSBidXR0b24gYXJndW1lbnQgZm9yIHBsdXBsb2FkLi4uIGl0J3MgcmVxdWlyZWRcblx0XHR0aGlzLmZpZWxkQ29uZmlnWyAncGx1cGxvYWRfaW5pdCcgXVsgJ2Jyb3dzZV9idXR0b24nIF0gPSB0aGlzLmJyb3dzZUJ1dHRvbjtcblxuXHRcdHRoaXMucGx1cGxvYWQgPSBuZXcgcGx1cGxvYWQuVXBsb2FkZXIoIHRoaXMuZmllbGRDb25maWdbICdwbHVwbG9hZF9pbml0JyBdICk7XG5cdFx0dGhpcy5wbHVwbG9hZC5pbml0KCk7XG5cblx0XHQvLyBTZXR1cCBhbGwgY2FsbGJhY2tzOiAoIGV2ZW50X25hbWUsIGNhbGxiYWNrLCBjb250ZXh0IClcblx0XHR0aGlzLnBsdXBsb2FkLmJpbmQoICdGaWxlc0FkZGVkJywgdGhpcy5vbkZpbGVzQWRkZWQsIHRoaXMgKTtcblx0XHR0aGlzLnBsdXBsb2FkLmJpbmQoICdVcGxvYWRQcm9ncmVzcycsIHRoaXMub25VcGxvYWRQcm9ncmVzcywgdGhpcyApO1xuXHRcdHRoaXMucGx1cGxvYWQuYmluZCggJ0ZpbGVVcGxvYWRlZCcsIHRoaXMub25GaWxlVXBsb2FkZWQsIHRoaXMgKTtcblx0fSxcblxuXHQvKipcblx0ICogRmlyZWQgYWZ0ZXIgZmlsZXMgaGF2ZSBiZWVuIHNlbGVjdGVkIGZyb20gdGhlIGRpYWxvZ1xuXHQgKlxuXHQgKiBAcGFyYW0gdXBcblx0ICogQHBhcmFtIGZpbGVzXG5cdCAqL1xuXHRvbkZpbGVzQWRkZWQ6IGZ1bmN0aW9uICggdXAsIGZpbGVzICkge1xuXHRcdGxldCBtb2RlbCxcblx0XHRcdGNvbGxlY3Rpb24sXG5cdFx0XHR2aWV3O1xuXG5cdFx0Ly8gQXNzZW1ibGUgdGhlIGNvbGxlY3Rpb24gZGF0YSBmb3IgdGhlIGZpbGUgcXVldWVcblx0XHRjb2xsZWN0aW9uID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKTtcblx0XHRqUXVlcnkuZWFjaCggZmlsZXMsIGZ1bmN0aW9uICggaW5kZXgsIGZpbGUgKSB7XG5cdFx0XHRtb2RlbCA9IG5ldyBGaWxlVXBsb2FkUXVldWVNb2RlbCgge1xuXHRcdFx0XHRpZDogZmlsZS5pZCxcblx0XHRcdFx0ZmlsZW5hbWU6IGZpbGUubmFtZVxuXHRcdFx0fSApO1xuXG5cdFx0XHRjb2xsZWN0aW9uLmFkZCggbW9kZWwgKTtcblx0XHR9ICk7XG5cblx0XHQvLyBDcmVhdGUgYSBuZXcgdmlldyBiYXNlZCBvbiB0aGUgY29sbGVjdGlvblxuXHRcdHZpZXcgPSBuZXcgRmlsZVVwbG9hZFF1ZXVlKCB7IGNvbGxlY3Rpb246IGNvbGxlY3Rpb24gfSApO1xuXHRcdHZpZXcucmVuZGVyKCk7ICAvLyBHZW5lcmF0ZSB0aGUgSFRNTCwgbm90IGF0dGFjaGVkIHRvIHRoZSBET00geWV0XG5cblx0XHQvLyBSZXNldCB0aGUgcmVnaW9uIGluIGNhc2UgYW55IGVycm9yIG1lc3NhZ2VzIGFyZSBoYW5naW5nIGFyb3VuZCBmcm9tIGEgcHJldmlvdXMgdXBsb2FkXG5cdFx0Ly8gYW5kIHNob3cgdGhlIG5ldyBmaWxlIHVwbG9hZCBxdWV1ZVxuXHRcdHRoaXMudWlSZWdpb24ucmVzZXQoKTtcblx0XHR0aGlzLnVpUmVnaW9uLnNob3coIHZpZXcgKTtcblxuXHRcdC8vIFN0YXNoIHJlZmVyZW5jZXNcblx0XHR0aGlzLnF1ZXVlQ29sbGVjdGlvbiA9IGNvbGxlY3Rpb247XG5cblx0XHR1cC5yZWZyZXNoKCk7XG5cdFx0dXAuc3RhcnQoKTtcblx0fSxcblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHVwXG5cdCAqIEBwYXJhbSBmaWxlXG5cdCAqL1xuXHRvblVwbG9hZFByb2dyZXNzOiBmdW5jdGlvbiAoIHVwLCBmaWxlICkge1xuXHRcdGNvbnN0IG1vZGVsID0gdGhpcy5xdWV1ZUNvbGxlY3Rpb24uZ2V0KCBmaWxlLmlkICk7XG5cdFx0bW9kZWwuc2V0KCB7IHByb2dyZXNzOiBmaWxlLnBlcmNlbnQgfSApO1xuXHR9LFxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gdXBcblx0ICogQHBhcmFtIGZpbGVcblx0ICogQHBhcmFtIHJlc3Bcblx0ICovXG5cdG9uRmlsZVVwbG9hZGVkOiBmdW5jdGlvbiAoIHVwLCBmaWxlLCByZXNwICkge1xuXHRcdGNvbnN0IG1vZGVsID0gdGhpcy5xdWV1ZUNvbGxlY3Rpb24uZ2V0KCBmaWxlLmlkICk7XG5cdFx0bGV0IHJlc3BvbnNlID0gcmVzcC5yZXNwb25zZTtcblx0XHRsZXQgbmV3RmlsZSA9IFtdO1xuXHRcdGxldCBqc29uO1xuXG5cdFx0Ly8gRXJyb3IgY29uZGl0aW9uIDFcblx0XHRpZiAoICdFcnJvcjogJyA9PT0gcmVzcC5yZXNwb25zZS5zdWJzdHIoIDAsIDcgKSApIHtcblx0XHRcdHJlc3BvbnNlID0gcmVzcG9uc2Uuc3Vic3RyKCA3ICk7XG5cdFx0XHRpZiAoIHdpbmRvdy5jb25zb2xlICkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyggcmVzcG9uc2UgKTtcblx0XHRcdH1cblxuXHRcdFx0bW9kZWwuc2V0KCB7XG5cdFx0XHRcdHByb2dyZXNzOiAwLFxuXHRcdFx0XHRlcnJvck1zZzogcmVzcG9uc2Vcblx0XHRcdH0gKTtcblxuXHRcdFx0Ly8gRXJyb3IgY29uZGl0aW9uIDJcblx0XHR9IGVsc2UgaWYgKCAnPGU+JyA9PT0gcmVzcC5yZXNwb25zZS5zdWJzdHIoIDAsIDMgKSApIHtcblx0XHRcdHJlc3BvbnNlID0galF1ZXJ5KCByZXNwb25zZSApLnRleHQoKTsgLy8gU3RyaXAgdGFncywgdGV4dCBvbmx5XG5cdFx0XHRpZiAoIHdpbmRvdy5jb25zb2xlICkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyggcmVzcG9uc2UgKTtcblx0XHRcdH1cblxuXHRcdFx0bW9kZWwuc2V0KCB7XG5cdFx0XHRcdHByb2dyZXNzOiAwLFxuXHRcdFx0XHRlcnJvck1zZzogcmVzcG9uc2Vcblx0XHRcdH0gKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0anNvbiA9IHJlc3BvbnNlLm1hdGNoKCAvey4qfSQvICk7XG5cblx0XHRcdGlmICggbnVsbCAhPT0ganNvbiAmJiAwIDwganNvbi5sZW5ndGggKSB7XG5cdFx0XHRcdGpzb24gPSBqUXVlcnkucGFyc2VKU09OKCBqc29uWyAwIF0gKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGpzb24gPSB7fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCAnb2JqZWN0JyAhPT0gdHlwZW9mIGpzb24gfHwgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGpzb24gKSApIHtcblx0XHRcdFx0aWYgKCB3aW5kb3cuY29uc29sZSApIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyggcmVzcG9uc2UgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIHdpbmRvdy5jb25zb2xlICkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCBqc29uICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRtb2RlbC5zZXQoIHtcblx0XHRcdFx0XHRwcm9ncmVzczogMCxcblx0XHRcdFx0XHRlcnJvck1zZzogUG9kc0kxOG4uX18oICdFcnJvciB1cGxvYWRpbmcgZmlsZTogJyApICsgZmlsZS5uYW1lXG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRuZXdGaWxlID0ge1xuXHRcdFx0XHRpZDoganNvbi5JRCxcblx0XHRcdFx0aWNvbjoganNvbi50aHVtYm5haWwsXG5cdFx0XHRcdG5hbWU6IGpzb24ucG9zdF90aXRsZSxcblx0XHRcdFx0ZWRpdF9saW5rOiBqc29uLmVkaXRfbGluayxcblx0XHRcdFx0bGluazoganNvbi5saW5rLFxuXHRcdFx0XHRkb3dubG9hZDoganNvbi5kb3dubG9hZFxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gUmVtb3ZlIHRoZSBmaWxlIGZyb20gdGhlIHVwbG9hZCBxdWV1ZSBtb2RlbCBhbmQgdHJpZ2dlciBhbiBldmVudCBmb3IgdGhlIGhvc3RpbmcgY29udGFpbmVyXG5cdFx0XHRtb2RlbC50cmlnZ2VyKCAnZGVzdHJveScsIG1vZGVsICk7XG5cdFx0XHR0aGlzLnRyaWdnZXIoICdhZGRlZDpmaWxlcycsIG5ld0ZpbGUgKTtcblx0XHR9XG5cdH1cblxufSApO1xuXG4iLCIvKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4gKi9cbi8qKlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuYnJvd3NlQnV0dG9uICAgRXhpc3RpbmcgYW5kIGF0dGFjaGVkIERPTSBub2RlXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy51aVJlZ2lvbiAgICAgICBNYXJpb25ldHRlLlJlZ2lvbiBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmZpZWxkQ29uZmlnXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuZmllbGRDb25maWcuZmlsZV9tb2RhbF90aXRsZVxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuZmllbGRDb25maWcuZmlsZV9tb2RhbF9hZGRfYnV0dG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5maWVsZENvbmZpZy5maWxlX2xpbWl0XG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5maWVsZENvbmZpZy5saW1pdF9leHRlbnNpb25zXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5maWVsZENvbmZpZy5saW1pdF90eXBlc1xuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuZmllbGRDb25maWcuZmlsZV9hdHRhY2htZW50X3RhYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmZpZWxkQ29uZmlnLnBsdXBsb2FkX2luaXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmZpZWxkQ29uZmlnLnBsdXBsb2FkX2luaXQuYnJvd3NlX2J1dHRvblxuICpcbiAqIEBjbGFzc1xuICovXG5leHBvcnQgY29uc3QgUG9kc0ZpbGVVcGxvYWRlciA9IFBvZHNNbi5PYmplY3QuZXh0ZW5kKCB7XG5cblx0Y29uc3RydWN0b3I6IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcblx0XHQvLyBNYWdpY2FsbHkgc2V0IHRoZSBvYmplY3QgcHJvcGVydGllcyB3ZSBuZWVkLCB0aGV5J2xsIGp1c3QgXCJiZSB0aGVyZVwiIGZvciB0aGUgY29uY3JldGUgaW5zdGFuY2Vcblx0XHR0aGlzLmJyb3dzZUJ1dHRvbiA9IG9wdGlvbnMuYnJvd3NlQnV0dG9uO1xuXHRcdHRoaXMudWlSZWdpb24gPSBvcHRpb25zLnVpUmVnaW9uO1xuXHRcdHRoaXMuZmllbGRDb25maWcgPSBvcHRpb25zLmZpZWxkQ29uZmlnO1xuXG5cdFx0UG9kc01uLk9iamVjdC5jYWxsKCB0aGlzLCBvcHRpb25zICk7XG5cdH1cblxufSApO1xuXG4iLCIvKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4sIHdwICovXG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlLXVwbG9hZC92aWV3cy9maWxlLXVwbG9hZC1mb3JtLmh0bWwnO1xuXG5pbXBvcnQgeyBQb2RzRmllbGRWaWV3IH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvcG9kcy1maWVsZC12aWV3cyc7XG5cbmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkRm9ybSA9IFBvZHNGaWVsZFZpZXcuZXh0ZW5kKCB7XG5cdGNoaWxkVmlld0V2ZW50UHJlZml4OiBmYWxzZSwgLy8gRGlzYWJsZSBpbXBsaWNpdCBldmVudCBsaXN0ZW5lcnMgaW4gZmF2b3Igb2YgZXhwbGljaXQgY2hpbGRWaWV3VHJpZ2dlcnMgYW5kIGNoaWxkVmlld0V2ZW50c1xuXG5cdHRhZ05hbWU6ICdkaXYnLFxuXG5cdHRlbXBsYXRlOiBfLnRlbXBsYXRlKCB0ZW1wbGF0ZSApLFxuXG5cdHVpOiB7XG5cdFx0YWRkQnV0dG9uOiAnLnBvZHMtZGZ2LWxpc3QtYWRkJ1xuXHR9LFxuXG5cdHRyaWdnZXJzOiB7XG5cdFx0J2NsaWNrIEB1aS5hZGRCdXR0b24nOiAnY2hpbGR2aWV3OmFkZDpmaWxlOmNsaWNrJ1xuXHR9XG59ICk7XG4iLCIvKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4sIHdwICovXG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlLXVwbG9hZC92aWV3cy9maWxlLXVwbG9hZC1pdGVtLmh0bWwnO1xuXG5pbXBvcnQgeyBQb2RzRmllbGRMaXN0VmlldywgUG9kc0ZpZWxkVmlldyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL3BvZHMtZmllbGQtdmlld3MnO1xuXG4vKipcbiAqIEluZGl2aWR1YWwgbGlzdCBpdGVtcywgcmVwcmVzZW50aW5nIGEgc2luZ2xlIGZpbGVcbiAqL1xuZXhwb3J0IGNvbnN0IEZpbGVVcGxvYWRJdGVtID0gUG9kc0ZpZWxkVmlldy5leHRlbmQoIHtcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXG5cblx0dGFnTmFtZTogJ2xpJyxcblxuXHR0ZW1wbGF0ZTogXy50ZW1wbGF0ZSggdGVtcGxhdGUgKSxcblxuXHRjbGFzc05hbWU6ICdwb2RzLWRmdi1saXN0LWl0ZW0nLFxuXG5cdHVpOiB7XG5cdFx0ZHJhZ0hhbmRsZTogJy5wb2RzLWRmdi1saXN0LWhhbmRsZScsXG5cdFx0ZWRpdExpbms6ICcucG9kcy1kZnYtbGlzdC1lZGl0LWxpbmsnLFxuXHRcdHZpZXdMaW5rOiAnLnBvZHMtZGZ2LWxpc3QtbGluaycsXG5cdFx0ZG93bmxvYWRMaW5rOiAnLnBvZHMtZGZ2LWxpc3QtZG93bmxvYWQnLFxuXHRcdHJlbW92ZUJ1dHRvbjogJy5wb2RzLWRmdi1saXN0LXJlbW92ZScsXG5cdFx0aXRlbU5hbWU6ICcucG9kcy1kZnYtbGlzdC1uYW1lJ1xuXHR9LFxuXG5cdHRyaWdnZXJzOiB7XG5cdFx0J2NsaWNrIEB1aS5yZW1vdmVCdXR0b24nOiAncmVtb3ZlOmZpbGU6Y2xpY2snXG5cdH1cbn0gKTtcblxuLyoqXG4gKiBUaGUgZmlsZSBsaXN0IGNvbnRhaW5lclxuICovXG5leHBvcnQgY29uc3QgRmlsZVVwbG9hZExpc3QgPSBQb2RzRmllbGRMaXN0Vmlldy5leHRlbmQoIHtcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXG5cblx0dGFnTmFtZTogJ3VsJyxcblxuXHRjbGFzc05hbWU6ICdwb2RzLWRmdi1saXN0JyxcblxuXHRjaGlsZFZpZXc6IEZpbGVVcGxvYWRJdGVtLFxuXG5cdGNoaWxkVmlld1RyaWdnZXJzOiB7XG5cdFx0J3JlbW92ZTpmaWxlOmNsaWNrJzogJ2NoaWxkdmlldzpyZW1vdmU6ZmlsZTpjbGljaydcblx0fSxcblxuXHRvbkF0dGFjaDogZnVuY3Rpb24gKCkge1xuXHRcdGNvbnN0IGZpZWxkQ29uZmlnID0gdGhpcy5vcHRpb25zLmZpZWxkTW9kZWwuZ2V0KCAnZmllbGRDb25maWcnICk7XG5cdFx0bGV0IHNvcnRfYXhpcyA9ICd5JztcblxuXHRcdC8vIEB0b2RvXG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNzM1MzcyL2pxdWVyeS1zb3J0YWJsZS1saXN0LXNjcm9sbC1iYXItanVtcHMtdXAtd2hlbi1zb3J0aW5nLzQxODc4MzMjNDE4NzgzM1xuXG5cdFx0aWYgKCAxICE9IGZpZWxkQ29uZmlnWyAnZmlsZV9saW1pdCcgXSApIHtcblxuXHRcdFx0aWYgKCAndGlsZXMnID09IGZpZWxkQ29uZmlnWyAnZmlsZV9maWVsZF90ZW1wbGF0ZScgXSApIHtcblx0XHRcdFx0c29ydF9heGlzID0gJyc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGluaXQgc29ydGFibGVcblx0XHRcdHRoaXMuJGVsLnNvcnRhYmxlKCB7XG5cdFx0XHRcdGNvbnRhaW5tZW50OiAncGFyZW50Jyxcblx0XHRcdFx0YXhpczogc29ydF9heGlzLFxuXHRcdFx0XHRzY3JvbGxTZW5zaXRpdml0eTogNDAsXG5cdFx0XHRcdHRvbGVyYW5jZTogJ3BvaW50ZXInLFxuXHRcdFx0XHRvcGFjaXR5OiAwLjZcblx0XHRcdH0gKTtcblx0XHR9XG5cdH1cbn0gKTtcblxuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCB3cCAqL1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS11cGxvYWQvdmlld3MvZmlsZS11cGxvYWQtcXVldWUuaHRtbCc7XG5cbmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkUXVldWVNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCgge1xuXHRkZWZhdWx0czoge1xuXHRcdGlkOiAwLFxuXHRcdGZpbGVuYW1lOiAnJyxcblx0XHRwcm9ncmVzczogMCxcblx0XHRlcnJvck1zZzogJydcblx0fVxufSApO1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkUXVldWVJdGVtID0gUG9kc01uLlZpZXcuZXh0ZW5kKCB7XG5cdG1vZGVsOiBGaWxlVXBsb2FkUXVldWVNb2RlbCxcblxuXHR0YWdOYW1lOiAnbGknLFxuXG5cdHRlbXBsYXRlOiBfLnRlbXBsYXRlKCB0ZW1wbGF0ZSApLFxuXG5cdGF0dHJpYnV0ZXM6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0Y2xhc3M6ICdwb2RzLWRmdi1saXN0LWl0ZW0nLFxuXHRcdFx0aWQ6IHRoaXMubW9kZWwuZ2V0KCAnaWQnIClcblx0XHR9O1xuXHR9LFxuXG5cdG1vZGVsRXZlbnRzOiB7XG5cdFx0J2NoYW5nZSc6ICdvbk1vZGVsQ2hhbmdlZCdcblx0fSxcblxuXHRvbk1vZGVsQ2hhbmdlZDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMucmVuZGVyKCk7XG5cdH1cblxufSApO1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkUXVldWUgPSBQb2RzTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKCB7XG5cdHRhZ05hbWU6ICd1bCcsXG5cblx0Y2xhc3NOYW1lOiAncG9kcy1kZnYtbGlzdCBwb2RzLWRmdi1saXN0LXF1ZXVlJyxcblxuXHRjaGlsZFZpZXc6IEZpbGVVcGxvYWRRdWV1ZUl0ZW1cbn0gKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQb2RzREZWQmFzZUlucHV0IH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvbXBvbmVudHMvYmFzZS1pbnB1dCc7XG5pbXBvcnQgeyB2YWxpZGF0aW9uUnVsZXMgfSBmcm9tICdwb2RzLWRmdi9zcmMvdmFsaWRhdGlvbi92YWxpZGF0aW9uLXJ1bGVzJztcblxuZXhwb3J0IGNvbnN0IFBvZHNERlZOdW1iZXIgPSAoIHByb3BzICkgPT4ge1xuXHQvLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcblx0cHJvcHMudmFsaWRhdGlvbi5hZGRSdWxlcyggW1xuXHRcdHtcblx0XHRcdHJ1bGU6IHZhbGlkYXRpb25SdWxlcy5tYXgoIHByb3BzLnZhbHVlLCBwcm9wcy5maWVsZENvbmZpZy5udW1iZXJfbWF4ICksXG5cdFx0XHRjb25kaXRpb246IHRydWUsXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRydWxlOiB2YWxpZGF0aW9uUnVsZXMubWluKCBwcm9wcy52YWx1ZSwgcHJvcHMuZmllbGRDb25maWcubnVtYmVyX21pbiApLFxuXHRcdFx0Y29uZGl0aW9uOiB0cnVlLFxuXHRcdH0sXG5cdF0gKTtcblxuXHQvLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcblx0cmV0dXJuIChcblx0XHQ8UG9kc0RGVkJhc2VJbnB1dFxuXHRcdFx0dHlwZT17JzEnID09PSBwcm9wcy5maWVsZENvbmZpZy5udW1iZXJfaHRtbDUgPyAnbnVtYmVyJyA6ICd0ZXh0J31cblx0XHRcdG1pbj17cHJvcHMuZmllbGRDb25maWcubnVtYmVyX21pbn1cblx0XHRcdG1heD17cHJvcHMuZmllbGRDb25maWcubnVtYmVyX21heH1cblx0XHRcdHsuLi5wcm9wc31cblx0XHQvPlxuXHQpO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQb2RzREZWQmFzZUlucHV0IH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvbXBvbmVudHMvYmFzZS1pbnB1dCc7XG5cbmV4cG9ydCBjb25zdCBQb2RzREZWUGFzc3dvcmQgPSAoIHByb3BzICkgPT4ge1xuXG5cdHJldHVybiAoXG5cdFx0PFBvZHNERlZCYXNlSW5wdXRcblx0XHRcdHR5cGU9XCJwYXNzd29yZFwiXG5cdFx0XHR7Li4ucHJvcHN9XG5cdFx0Lz5cblx0KTtcbn07XG4iLCIvKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4gKi9cblxuZXhwb3J0IGNvbnN0IFBpY2tGaWVsZE1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKCB7XG5cdGRlZmF1bHRzOiB7XG5cdFx0J3ZpZXdfbmFtZSc6ICdzZWxlY3QnLFxuXHRcdCdpZnJhbWVfc3JjJzogJycsXG5cdFx0J3BpY2tfZm9ybWF0X3R5cGUnOiAnc2luZ2xlJyxcblx0XHQncGlja19zaG93X2ljb24nOiBmYWxzZSxcblx0XHQncGlja19zaG93X3ZpZXdfbGluayc6IGZhbHNlLFxuXHRcdCdwaWNrX3Nob3dfZWRpdF9saW5rJzogZmFsc2Vcblx0fVxufSApO1xuIiwiLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG4vKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4sIHdwLCBQb2RzSTE4biAqL1xuXG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9waWNrL3BpY2stbGF5b3V0Lmh0bWwnO1xuXG5pbXBvcnQgeyBQb2RzREZWRmllbGRNb2RlbCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL3BvZHMtZmllbGQtbW9kZWwnO1xuaW1wb3J0IHsgUG9kc0RGVkZpZWxkTGF5b3V0IH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvcG9kcy1maWVsZC12aWV3cyc7XG5cbmltcG9ydCB7IElmcmFtZUZyYW1lIH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvaWZyYW1lLWZyYW1lJztcblxuaW1wb3J0IHsgUmVsYXRpb25zaGlwQ29sbGVjdGlvbiB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay9yZWxhdGlvbnNoaXAtbW9kZWwnO1xuaW1wb3J0IHsgUGlja0ZpZWxkTW9kZWwgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svcGljay1maWVsZC1tb2RlbCc7XG5cbmltcG9ydCB7IFJhZGlvVmlldyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9yYWRpby12aWV3JztcbmltcG9ydCB7IENoZWNrYm94VmlldyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9jaGVja2JveC12aWV3JztcbmltcG9ydCB7IFNlbGVjdFZpZXcgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svdmlld3Mvc2VsZWN0LXZpZXcnO1xuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svdmlld3MvbGlzdC12aWV3JztcbmltcG9ydCB7IEFkZE5ldyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9hZGQtbmV3JztcblxuY29uc3Qgdmlld3MgPSB7XG5cdCdjaGVja2JveCc6IENoZWNrYm94Vmlldyxcblx0J3NlbGVjdCc6IFNlbGVjdFZpZXcsXG5cdCdzZWxlY3QyJzogU2VsZWN0VmlldywgIC8vIFNlbGVjdFZpZXcgaGFuZGxlcyBzZWxlY3QyIGFzIHdlbGxcblx0J3JhZGlvJzogUmFkaW9WaWV3LFxuXHQnbGlzdCc6IExpc3RWaWV3XG59O1xuXG5sZXQgbW9kYWxJRnJhbWU7XG5cbi8qKlxuICogQGV4dGVuZHMgQmFja2JvbmUuVmlld1xuICovXG5leHBvcnQgY29uc3QgUGljayA9IFBvZHNERlZGaWVsZExheW91dC5leHRlbmQoIHtcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXG5cblx0dGVtcGxhdGU6IF8udGVtcGxhdGUoIHRlbXBsYXRlICksXG5cblx0cmVnaW9uczoge1xuXHRcdGF1dG9jb21wbGV0ZTogJy5wb2RzLXVpLWxpc3QtYXV0b2NvbXBsZXRlJyxcblx0XHRsaXN0OiAnLnBvZHMtcGljay12YWx1ZXMnLFxuXHRcdGFkZE5ldzogJy5wb2RzLXVpLWFkZC1uZXcnXG5cdH0sXG5cblx0Y2hpbGRWaWV3RXZlbnRzOiB7XG5cdFx0J2NoaWxkdmlldzpyZW1vdmU6aXRlbTpjbGljayc6ICdvbkNoaWxkdmlld1JlbW92ZUl0ZW1DbGljaycsXG5cdFx0J2NoaWxkdmlldzplZGl0Oml0ZW06Y2xpY2snOiAnb25DaGlsZHZpZXdFZGl0SXRlbUNsaWNrJyxcblx0XHQnY2hpbGR2aWV3OnNlbGVjdGlvbjpsaW1pdDpvdmVyJzogJ29uQ2hpbGR2aWV3U2VsZWN0aW9uTGltaXRPdmVyJyxcblx0XHQnY2hpbGR2aWV3OnNlbGVjdGlvbjpsaW1pdDp1bmRlcic6ICdvbkNoaWxkdmlld1NlbGVjdGlvbkxpbWl0VW5kZXInLFxuXHRcdCdjaGlsZHZpZXc6Y2hhbmdlOnNlbGVjdGVkJzogJ29uQ2hpbGR2aWV3Q2hhbmdlU2VsZWN0ZWQnLFxuXHRcdCdjaGlsZHZpZXc6YWRkOm5ldyc6ICdvbkNoaWxkdmlld0FkZE5ldydcblx0fSxcblxuXHQvKipcblx0ICpcblx0ICovXG5cdG9uQmVmb3JlUmVuZGVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKCB0aGlzLmNvbGxlY3Rpb24gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHRoaXMuY29sbGVjdGlvbiA9IG5ldyBSZWxhdGlvbnNoaXBDb2xsZWN0aW9uKCB0aGlzLmZpZWxkSXRlbURhdGEgKTtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqXG5cdCAqL1xuXHRvblJlbmRlcjogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuZmllbGRDb25maWcgPSBuZXcgUGlja0ZpZWxkTW9kZWwoIHRoaXMubW9kZWwuZ2V0KCAnZmllbGRDb25maWcnICkgKTtcblxuXHRcdC8vIEFkZCBOZXc/XG5cdFx0Ly8gbm9pbnNwZWN0aW9uIEVxdWFsaXR5Q29tcGFyaXNvbldpdGhDb2VyY2lvbkpTICh3aHkgd291bGQgd2UgcmVqZWN0IFwiMVwiPylcblx0XHRpZiAoICcnICE9PSB0aGlzLmZpZWxkQ29uZmlnLmdldCggJ2lmcmFtZV9zcmMnICkgJiYgMSA9PSB0aGlzLmZpZWxkQ29uZmlnLmdldCggJ3BpY2tfYWxsb3dfYWRkX25ldycgKSApIHtcblx0XHRcdHRoaXMuc2hvd0FkZE5ldygpO1xuXHRcdH1cblxuXHRcdC8vIEF1dG9jb21wbGV0ZT9cblx0XHRpZiAoICdsaXN0JyA9PT0gdGhpcy5maWVsZENvbmZpZy5nZXQoICd2aWV3X25hbWUnICkgKSB7XG5cdFx0XHR0aGlzLmJ1aWxkQXV0b2NvbXBsZXRlKCk7XG5cdFx0fVxuXG5cdFx0Ly8gQnVpbGQgdGhlIGxpc3QgbGFzdCwgZXZlbnRzIGZpcmVkIGJ5IHRoZSBsaXN0IChsaWtlIHNlbGVjdGlvbiBsaW1pdCkgbWF5IGltcGFjdCBzdGF0ZSBpbiBvdGhlciB2aWV3cyB3ZSBtYW5hZ2Vcblx0XHR0aGlzLnNob3dMaXN0KCk7XG5cdH0sXG5cblx0LyoqXG5cdCAqIFRoaXMgaXMgZm9yIHRoZSBMaXN0IFZpZXcncyBhdXRvY29tcGxldGUgZm9yIHNlbGVjdCBmcm9tIGV4aXN0aW5nXG5cdCAqL1xuXHRidWlsZEF1dG9jb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuXHRcdGxldCBmaWVsZENvbmZpZywgbW9kZWwsIGNvbGxlY3Rpb24sIHZpZXc7XG5cdFx0Y29uc3QgcGlja0xpbWl0ID0gK3RoaXMuZmllbGRDb25maWcuZ2V0KCAncGlja19saW1pdCcgKTsgLy8gVW5hcnkgcGx1cyBmb3JjZXMgY2FzdCB0byBudW1iZXJcblxuXHRcdGZpZWxkQ29uZmlnID0ge1xuXHRcdFx0dmlld19uYW1lOiAnc2VsZWN0MicsXG5cdFx0XHRwaWNrX2Zvcm1hdF90eXBlOiAnbXVsdGknLFxuXHRcdFx0c2VsZWN0RnJvbUV4aXN0aW5nOiB0cnVlLFxuXHRcdFx0YWpheF9kYXRhOiB0aGlzLmZpZWxkQ29uZmlnLmdldCggJ2FqYXhfZGF0YScgKSxcblx0XHRcdHNlbGVjdDJfb3ZlcnJpZGVzOiB0aGlzLmZpZWxkQ29uZmlnLmdldCggJ3NlbGVjdDJfb3ZlcnJpZGVzJyApLFxuXHRcdFx0bGFiZWw6IHRoaXMuZmllbGRDb25maWcuZ2V0KCAnbGFiZWwnICksXG5cdFx0XHRwaWNrX2xpbWl0OiBwaWNrTGltaXRcblx0XHR9O1xuXG5cdFx0Ly8gVGhlIGF1dG9jb21wbGV0ZSBwb3J0aW9uIG9mIExpc3QgVmlldyBkb2Vzbid0IHRyYWNrIHNlbGVjdGVkIGl0ZW1zOyBkaXNhYmxlIGlmIHdlJ3JlIGF0IHRoZSBzZWxlY3Rpb24gbGltaXRcblx0XHRpZiAoIHRoaXMuY29sbGVjdGlvbi5maWx0ZXJCeVNlbGVjdGVkKCkubGVuZ3RoID49IHBpY2tMaW1pdCAmJiAwICE9PSBwaWNrTGltaXQgKSB7XG5cblx0XHRcdGZpZWxkQ29uZmlnLmxpbWl0RGlzYWJsZSA9IHRydWU7XG5cdFx0XHR0aGlzLm9uQ2hpbGR2aWV3U2VsZWN0aW9uTGltaXRPdmVyKCk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHR0aGlzLm9uQ2hpbGR2aWV3U2VsZWN0aW9uTGltaXRVbmRlcigpO1xuXHRcdH1cblxuXHRcdG1vZGVsID0gbmV3IFBvZHNERlZGaWVsZE1vZGVsKCB7IGZpZWxkQ29uZmlnOiBmaWVsZENvbmZpZyB9ICk7XG5cdFx0Y29sbGVjdGlvbiA9IHRoaXMuY29sbGVjdGlvbi5maWx0ZXJCeVVuc2VsZWN0ZWQoKTtcblx0XHR2aWV3ID0gbmV3IFNlbGVjdFZpZXcoIHsgY29sbGVjdGlvbjogY29sbGVjdGlvbiwgZmllbGRNb2RlbDogbW9kZWwgfSApO1xuXG5cdFx0Ly8gUHJvdmlkZSBhIGN1c3RvbSBsaXN0IGZpbHRlciBmb3IgdGhlIGF1dG9jb21wbGV0ZSBwb3J0aW9uJ3MgQUpBWCBkYXRhIGxpc3RzXG5cdFx0dmlldy5maWx0ZXJBamF4TGlzdCA9IHRoaXMuZmlsdGVyQWpheExpc3QuYmluZCggdGhpcyApO1xuXG5cdFx0Ly8gUmVidWlsZCBmcm9tIHNjcmF0Y2hcblx0XHR0aGlzLnNob3dDaGlsZFZpZXcoICdhdXRvY29tcGxldGUnLCB2aWV3ICk7XG5cdH0sXG5cblx0LyoqXG5cdCAqXG5cdCAqL1xuXHRzaG93TGlzdDogZnVuY3Rpb24gKCkge1xuXHRcdGxldCB2aWV3TmFtZSwgVmlldywgbGlzdDtcblxuXHRcdC8vIFNldHVwIHRoZSB2aWV3IHRvIGJlIHVzZWRcblx0XHR2aWV3TmFtZSA9IHRoaXMuZmllbGRDb25maWcuZ2V0KCAndmlld19uYW1lJyApO1xuXHRcdGlmICggdmlld3NbIHZpZXdOYW1lIF0gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvciggYEludmFsaWQgdmlldyBuYW1lIFwiJHt2aWV3TmFtZX1cImAgKTtcblx0XHR9XG5cdFx0VmlldyA9IHZpZXdzWyB2aWV3TmFtZSBdO1xuXHRcdGxpc3QgPSBuZXcgVmlldyggeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24sIGZpZWxkTW9kZWw6IHRoaXMubW9kZWwgfSApO1xuXG5cdFx0dGhpcy5zaG93Q2hpbGRWaWV3KCAnbGlzdCcsIGxpc3QgKTtcblx0fSxcblxuXHQvKipcblx0ICpcblx0ICovXG5cdHNob3dBZGROZXc6IGZ1bmN0aW9uICgpIHtcblx0XHRsZXQgYWRkTmV3ID0gbmV3IEFkZE5ldyggeyBmaWVsZE1vZGVsOiB0aGlzLm1vZGVsIH0gKTtcblx0XHR0aGlzLnNob3dDaGlsZFZpZXcoICdhZGROZXcnLCBhZGROZXcgKTtcblx0fSxcblxuXHQvKipcblx0ICogTGlzdCBWaWV3cyBuZWVkIHRvIGZpbHRlciBpdGVtcyBhbHJlYWR5IHNlbGVjdGVkIGZyb20gdGhlaXIgc2VsZWN0IGZyb20gZXhpc3RpbmcgbGlzdC4gIFRoZSBBSkFYIGZ1bmN0aW9uXG5cdCAqIGl0c2VsZiBkb2VzIG5vdCBmaWx0ZXIuXG5cdCAqXG5cdCAqIEBwYXJhbSBkYXRhXG5cdCAqL1xuXHRmaWx0ZXJBamF4TGlzdDogZnVuY3Rpb24gKCBkYXRhICkge1xuXHRcdGNvbnN0IHNlbGVjdGVkSXRlbXMgPSB0aGlzLmNvbGxlY3Rpb24uZmlsdGVyQnlTZWxlY3RlZCgpO1xuXHRcdGNvbnN0IHJldHVybkxpc3QgPSBbXTtcblxuXHRcdC8vIExvb3AgdGhyb3VnaCB0aGUgaXRlbXMgcmV0dXJuZWQgdmlhIGFqYXhcblx0XHRfLmVhY2goIGRhdGEucmVzdWx0cywgZnVuY3Rpb24gKCBlbGVtZW50ICkge1xuXHRcdFx0ZWxlbWVudC50ZXh0ID0gZWxlbWVudC5uYW1lOyAvLyBTZWxlY3QyIG5lZWRzIHRoZSBcInRleHRcIiBrZXkgYnV0IG91ciBtb2RlbCB1c2VzIFwibmFtZVwiXG5cblx0XHRcdC8vIE9ubHkga2VlcCBjaG9pY2VzIHRoYXQgaGF2ZW4ndCBiZWVuIHNlbGVjdGVkIHlldCwgd2UgZG9uJ3Qgd2FudCBzZWxlY3RlZCBpdGVtcyBpbiB0aGUgYXV0b2NvbXBsZXRlIHBvcnRpb25cblx0XHRcdGlmICggIXNlbGVjdGVkSXRlbXMuZ2V0KCBlbGVtZW50LmlkICkgKSB7XG5cdFx0XHRcdHJldHVybkxpc3QucHVzaCggZWxlbWVudCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblxuXHRcdC8vIFRoZSBjb2xsZWN0aW9uIG1heSBiZSBwYXJ0aWFsIGluIGFqYXggbW9kZSwgbWFrZSBzdXJlIHdlIGFkZCBhbnkgaXRlbXMgd2UgZGlkbid0IHlldCBoYXZlXG5cdFx0dGhpcy5jb2xsZWN0aW9uLmFkZCggcmV0dXJuTGlzdCApO1xuXHRcdHRoaXMuZ2V0Q2hpbGRWaWV3KCAnYXV0b2NvbXBsZXRlJyApLnNldENvbGxlY3Rpb24oIHRoaXMuY29sbGVjdGlvbi5maWx0ZXJCeVVuc2VsZWN0ZWQoKSApO1xuXG5cdFx0cmV0dXJuIHsgJ3Jlc3VsdHMnOiByZXR1cm5MaXN0IH07XG5cdH0sXG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSBjaGlsZFZpZXdcblx0ICovXG5cdG9uQ2hpbGR2aWV3U2VsZWN0aW9uTGltaXRPdmVyOiBmdW5jdGlvbiAoIGNoaWxkVmlldyApIHtcblx0XHRjb25zdCBhZGROZXcgPSB0aGlzLmdldENoaWxkVmlldyggJ2FkZE5ldycgKTtcblx0XHRpZiAoIGFkZE5ldyApIHtcblx0XHRcdGFkZE5ldy5kaXNhYmxlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gY2hpbGRWaWV3XG5cdCAqL1xuXHRvbkNoaWxkdmlld1NlbGVjdGlvbkxpbWl0VW5kZXI6IGZ1bmN0aW9uICggY2hpbGRWaWV3ICkge1xuXHRcdGNvbnN0IGFkZE5ldyA9IHRoaXMuZ2V0Q2hpbGRWaWV3KCAnYWRkTmV3JyApO1xuXHRcdGlmICggYWRkTmV3ICkge1xuXHRcdFx0YWRkTmV3LmVuYWJsZSgpO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogXCJSZW1vdmVcIiBpbiBsaXN0IHZpZXcganVzdCB0b2dnbGVzIGFuIGl0ZW0ncyBzZWxlY3RlZCBhdHRyaWJ1dGVcblx0ICpcblx0ICogQHBhcmFtIGNoaWxkVmlld1xuXHQgKi9cblx0b25DaGlsZHZpZXdSZW1vdmVJdGVtQ2xpY2s6IGZ1bmN0aW9uICggY2hpbGRWaWV3ICkge1xuXHRcdGNoaWxkVmlldy5tb2RlbC50b2dnbGVTZWxlY3RlZCgpO1xuXHRcdHRoaXMuZ2V0Q2hpbGRWaWV3KCAnbGlzdCcgKS5yZW5kZXIoKTtcblxuXHRcdC8vIEtlZXAgYXV0b2NvbXBsZXRlIGluIHN5bmMsIHJlbW92ZWQgaXRlbXMgc2hvdWxkIG5vdyBiZSBhdmFpbGFibGUgY2hvaWNlc1xuXHRcdGlmICggJ2xpc3QnID09PSB0aGlzLmZpZWxkQ29uZmlnLmdldCggJ3ZpZXdfbmFtZScgKSApIHtcblx0XHRcdHRoaXMuYnVpbGRBdXRvY29tcGxldGUoKTtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIEBwYXJhbSBjaGlsZFZpZXdcblx0ICovXG5cdG9uQ2hpbGR2aWV3QWRkTmV3OiBmdW5jdGlvbiAoIGNoaWxkVmlldyApIHtcblx0XHRjb25zdCBmaWVsZENvbmZpZyA9IHRoaXMubW9kZWwuZ2V0KCAnZmllbGRDb25maWcnICk7XG5cblx0XHRtb2RhbElGcmFtZSA9IG5ldyBJZnJhbWVGcmFtZSgge1xuXHRcdFx0dGl0bGU6IGZpZWxkQ29uZmlnLmlmcmFtZV90aXRsZV9hZGQsXG5cdFx0XHRzcmM6IGZpZWxkQ29uZmlnLmlmcmFtZV9zcmNcblx0XHR9ICk7XG5cblx0XHR0aGlzLnNldE1vZGFsTGlzdGVuZXJzKCk7XG5cdFx0bW9kYWxJRnJhbWUubW9kYWwub3BlbigpO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcGFyYW0gY2hpbGRWaWV3XG5cdCAqL1xuXHRvbkNoaWxkdmlld0VkaXRJdGVtQ2xpY2s6IGZ1bmN0aW9uICggY2hpbGRWaWV3ICkge1xuXHRcdGNvbnN0IGZpZWxkQ29uZmlnID0gdGhpcy5tb2RlbC5nZXQoICdmaWVsZENvbmZpZycgKTtcblxuXHRcdG1vZGFsSUZyYW1lID0gbmV3IElmcmFtZUZyYW1lKCB7XG5cdFx0XHR0aXRsZTogZmllbGRDb25maWcuaWZyYW1lX3RpdGxlX2VkaXQsXG5cdFx0XHRzcmM6IGNoaWxkVmlldy51aS5lZGl0QnV0dG9uLmF0dHIoICdocmVmJyApXG5cdFx0fSApO1xuXG5cdFx0dGhpcy5zZXRNb2RhbExpc3RlbmVycygpO1xuXHRcdG1vZGFsSUZyYW1lLm1vZGFsLm9wZW4oKTtcblx0fSxcblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIGNoaWxkVmlld1xuXHQgKi9cblx0b25DaGlsZHZpZXdDaGFuZ2VTZWxlY3RlZDogZnVuY3Rpb24gKCBjaGlsZFZpZXcgKSB7XG5cblx0XHQvLyBSZWZyZXNoIHRoZSBhdXRvY29tcGxldGUgYW5kIExpc3QgVmlldyBsaXN0cyBvbiBhdXRvY29tcGxldGUgc2VsZWN0aW9uXG5cdFx0aWYgKCBjaGlsZFZpZXcuZmllbGRDb25maWcuc2VsZWN0RnJvbUV4aXN0aW5nICkge1xuXHRcdFx0Xy5kZWZlciggdGhpcy5idWlsZEF1dG9jb21wbGV0ZS5iaW5kKCB0aGlzICkgKTtcblx0XHRcdHRoaXMuZ2V0Q2hpbGRWaWV3KCAnbGlzdCcgKS5yZW5kZXIoKTtcblx0XHR9XG5cdH0sXG5cblx0c2V0TW9kYWxMaXN0ZW5lcnM6IGZ1bmN0aW9uICgpIHtcblx0XHRqUXVlcnkoIHdpbmRvdyApLm9uKCAnZGZ2Om1vZGFsOnVwZGF0ZScsIHRoaXMubW9kYWxTdWNjZXNzLmJpbmQoIHRoaXMgKSApO1xuXHRcdGpRdWVyeSggd2luZG93ICkub24oICdkZnY6bW9kYWw6Y2FuY2VsJywgdGhpcy5tb2RhbENhbmNlbC5iaW5kKCB0aGlzICkgKTtcblx0fSxcblxuXHRjbGVhck1vZGFsTGlzdGVuZXJzOiBmdW5jdGlvbiAoKSB7XG5cdFx0alF1ZXJ5KCB3aW5kb3cgKS5vZmYoICdkZnY6bW9kYWw6dXBkYXRlJyApO1xuXHRcdGpRdWVyeSggd2luZG93ICkub2ZmKCAnZGZ2Om1vZGFsOmNhbmNlbCcgKTtcblx0fSxcblxuXHQvKipcblx0ICogQHBhcmFtIGV2ZW50XG5cdCAqIEBwYXJhbSBkYXRhXG5cdCAqL1xuXHRtb2RhbFN1Y2Nlc3M6IGZ1bmN0aW9uICggZXZlbnQsIGRhdGEgKSB7XG5cdFx0Y29uc3QgaXRlbU1vZGVsID0gdGhpcy5jb2xsZWN0aW9uLmdldCggZGF0YS5pZCApO1xuXG5cdFx0aWYgKCBpdGVtTW9kZWwgKSB7XG5cdFx0XHQvLyBFZGl0OiB1cGRhdGUgYW4gZXhpc3RpbmcgbW9kZWwgYW5kIGZvcmNlIGEgcmUtcmVuZGVyXG5cdFx0XHRpdGVtTW9kZWwuc2V0KCBkYXRhICk7XG5cdFx0XHR0aGlzLmdldENoaWxkVmlldyggJ2xpc3QnICkucmVuZGVyKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEFkZCBuZXc6IGNyZWF0ZSBhIG5ldyBtb2RlbCBpbiB0aGUgY29sbGVjdGlvblxuXHRcdFx0dGhpcy5jb2xsZWN0aW9uLmFkZCggZGF0YSApO1xuXHRcdH1cblxuXHRcdHRoaXMuY2xlYXJNb2RhbExpc3RlbmVycygpO1xuXHRcdG1vZGFsSUZyYW1lLm1vZGFsLmNsb3NlKCB7fSApO1xuXHR9LFxuXG5cdC8qKlxuXHQgKlxuXHQgKi9cblx0bW9kYWxDYW5jZWw6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLmNsZWFyTW9kYWxMaXN0ZW5lcnMoKTtcblx0fVxuXG59ICk7XG4iLCIvKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4gKi9cblxuLyoqXG4gKlxuICovXG5leHBvcnQgY29uc3QgUmVsYXRpb25zaGlwTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoIHtcblx0ZGVmYXVsdHM6IHtcblx0XHQnaWQnOiAwLFxuXHRcdCduYW1lJzogJycsXG5cdFx0J2ljb24nOiAnJyxcblx0XHQnbGluayc6ICcnLFxuXHRcdCdlZGl0X2xpbmsnOiAnJyxcblx0XHQnc2VsZWN0ZWQnOiBmYWxzZVxuXHR9LFxuXG5cdHRvZ2dsZVNlbGVjdGVkOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5zZXQoICdzZWxlY3RlZCcsICF0aGlzLmdldCggJ3NlbGVjdGVkJyApICk7XG5cdH1cbn0gKTtcblxuLyoqXG4gKlxuICovXG5leHBvcnQgY29uc3QgUmVsYXRpb25zaGlwQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKCB7XG5cdG1vZGVsOiBSZWxhdGlvbnNoaXBNb2RlbCxcblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIHsgP3N0cmluZ1tdIH0gaWRzXG5cdCAqL1xuXHRzZXRTZWxlY3RlZDogZnVuY3Rpb24gKCBpZHMgKSB7XG5cdFx0dGhpcy5tYXAoIGZ1bmN0aW9uICggdGhpc01vZGVsICkge1xuXHRcdFx0Y29uc3Qgc2VsZWN0ZWQgPSBfLmNvbnRhaW5zKCBpZHMsIHRoaXNNb2RlbC5nZXQoICdpZCcgKSArICcnICk7XG5cdFx0XHR0aGlzTW9kZWwuc2V0KCAnc2VsZWN0ZWQnLCBzZWxlY3RlZCApO1xuXHRcdH0gKTtcblx0fSxcblxuXHQvKipcblx0ICogUmV0dXJuIGEgbmV3IGNvbGxlY3Rpb24gY29udGFpbmluZyBqdXN0IHRoZSBzZWxlY3RlZCBpdGVtcyBpbiB0aGlzIG9uZVxuXHQgKlxuXHQgKiBAcmV0dXJucyB7Kn1cblx0ICovXG5cdGZpbHRlckJ5U2VsZWN0ZWQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdC8vIEdldCBhbiBhcnJheSB3aXRoIG9ubHkgdGhlIHNlbGVjdGVkIGl0ZW1zXG5cdFx0Y29uc3QgZmlsdGVyZWQgPSB0aGlzLmZpbHRlciggZnVuY3Rpb24gKCBpdGVtTW9kZWwgKSB7XG5cdFx0XHRyZXR1cm4gKCBpdGVtTW9kZWwuZ2V0KCAnc2VsZWN0ZWQnICkgKTtcblx0XHR9ICk7XG5cblx0XHQvLyB0aGlzLmZpbHRlciBpcyBnb2luZyB0byByZXR1cm4gYW4gYXJyYXksIHNvIGNyZWF0ZSBhIGNvbGxlY3Rpb24gb3V0IG9mIGl0XG5cdFx0cmV0dXJuIG5ldyBSZWxhdGlvbnNoaXBDb2xsZWN0aW9uKCBmaWx0ZXJlZCApO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBSZXR1cm4gYSBuZXcgY29sbGVjdGlvbiBjb250YWluaW5nIGp1c3QgdGhlIHVuc2VsZWN0ZWQgaXRlbXMgaW4gdGhpcyBvbmVcblx0ICpcblx0ICogQHJldHVybnMgeyp9XG5cdCAqL1xuXHRmaWx0ZXJCeVVuc2VsZWN0ZWQ6IGZ1bmN0aW9uICgpIHtcblxuXHRcdC8vIEdldCBhbiBhcnJheSB3aXRoIG9ubHkgdGhlIHVuc2VsZWN0ZWQgaXRlbXNcblx0XHRjb25zdCBmaWx0ZXJlZCA9IHRoaXMuZmlsdGVyKCBmdW5jdGlvbiAoIGl0ZW1Nb2RlbCApIHtcblx0XHRcdHJldHVybiAhKCBpdGVtTW9kZWwuZ2V0KCAnc2VsZWN0ZWQnICkgKTtcblx0XHR9ICk7XG5cblx0XHQvLyB0aGlzLmZpbHRlciBpcyBnb2luZyB0byByZXR1cm4gYW4gYXJyYXksIHNvIGNyZWF0ZSBhIGNvbGxlY3Rpb24gb3V0IG9mIGl0XG5cdFx0cmV0dXJuIG5ldyBSZWxhdGlvbnNoaXBDb2xsZWN0aW9uKCBmaWx0ZXJlZCApO1xuXHR9XG5cbn0gKTtcblxuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCB3cCAqL1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9hZGQtbmV3Lmh0bWwnO1xuXG5pbXBvcnQgeyBQb2RzRmllbGRWaWV3IH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvcG9kcy1maWVsZC12aWV3cyc7XG5cbmNvbnN0IERJU0FCTEVEX0NMQVNTID0gJ2J1dHRvbi1kaXNhYmxlZCc7XG5cbmV4cG9ydCBjb25zdCBBZGROZXcgPSBQb2RzRmllbGRWaWV3LmV4dGVuZCgge1xuXHRjaGlsZFZpZXdFdmVudFByZWZpeDogZmFsc2UsIC8vIERpc2FibGUgaW1wbGljaXQgZXZlbnQgbGlzdGVuZXJzIGluIGZhdm9yIG9mIGV4cGxpY2l0IGNoaWxkVmlld1RyaWdnZXJzIGFuZCBjaGlsZFZpZXdFdmVudHNcblxuXHR0YWdOYW1lOiAnZGl2JyxcblxuXHRjbGFzc05hbWU6ICdwb2RzZm9ybS1kZnYtbGlzdC1yZWxhdGlvbnNoaXAtY29udGFpbmVyJyxcblxuXHR1aToge1xuXHRcdGFkZEJ1dHRvbjogJ2EucG9kcy1yZWxhdGVkLWFkZC1uZXcnXG5cdH0sXG5cblx0dGVtcGxhdGU6IF8udGVtcGxhdGUoIHRlbXBsYXRlICksXG5cblx0dHJpZ2dlcnM6IHtcblx0XHQnY2xpY2sgQHVpLmFkZEJ1dHRvbic6ICdhZGQ6bmV3OmNsaWNrJ1xuXHR9LFxuXG5cdC8qKlxuXHQgKlxuXHQgKi9cblx0ZGlzYWJsZTogZnVuY3Rpb24gKCkge1xuXHRcdGNvbnN0IGFkZEJ1dHRvbiA9IHRoaXMuZ2V0VUkoICdhZGRCdXR0b24nICk7XG5cdFx0YWRkQnV0dG9uLmFkZENsYXNzKCBESVNBQkxFRF9DTEFTUyApOyAvLyBOb3RlOiB0aGlzIGp1c3Qgc3R5bGVzIHRoZSBsaW5rIChidXR0b24pLCBjbGljayBldmVudCBlbmZvcmNlc1xuXHR9LFxuXG5cdC8qKlxuXHQgKlxuXHQgKi9cblx0ZW5hYmxlOiBmdW5jdGlvbiAoKSB7XG5cdFx0Y29uc3QgYWRkQnV0dG9uID0gdGhpcy5nZXRVSSggJ2FkZEJ1dHRvbicgKTtcblx0XHRhZGRCdXR0b24ucmVtb3ZlQ2xhc3MoIERJU0FCTEVEX0NMQVNTICk7IC8vIE5vdGU6IHRoaXMganVzdCBzdHlsZXMgdGhlIGxpbmsgKGJ1dHRvbiksIGNsaWNrIGV2ZW50IGVuZm9yY2VzXG5cdH0sXG5cblx0LyoqXG5cdCAqXG5cdCAqL1xuXHRvbkFkZE5ld0NsaWNrOiBmdW5jdGlvbiAoKSB7XG5cdFx0Y29uc3QgYWRkQnV0dG9uID0gdGhpcy5nZXRVSSggJ2FkZEJ1dHRvbicgKTtcblxuXHRcdC8vIE9ubHkgcGFzcyB0aGUgZXZlbnQgdXAgdGhlIHZpZXcgY2hhaW4gaWYgd2UncmUgZW5hYmxlZFxuXHRcdGlmICggIWFkZEJ1dHRvbi5oYXNDbGFzcyggRElTQUJMRURfQ0xBU1MgKSApIHtcblx0XHRcdHRoaXMudHJpZ2dlciggJ2NoaWxkdmlldzphZGQ6bmV3JywgdGhpcyApO1xuXHRcdH1cblx0fVxufSApO1xuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCB3cCAqL1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9jaGVja2JveC1pdGVtLmh0bWwnO1xuXG5pbXBvcnQgeyBQb2RzRmllbGRMaXN0VmlldywgUG9kc0ZpZWxkVmlldyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL3BvZHMtZmllbGQtdmlld3MnO1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBDaGVja2JveEl0ZW0gPSBQb2RzRmllbGRWaWV3LmV4dGVuZCgge1xuXHRjaGlsZFZpZXdFdmVudFByZWZpeDogZmFsc2UsIC8vIERpc2FibGUgaW1wbGljaXQgZXZlbnQgbGlzdGVuZXJzIGluIGZhdm9yIG9mIGV4cGxpY2l0IGNoaWxkVmlld1RyaWdnZXJzIGFuZCBjaGlsZFZpZXdFdmVudHNcblxuXHR0YWdOYW1lOiAnbGknLFxuXG5cdHRlbXBsYXRlOiBfLnRlbXBsYXRlKCB0ZW1wbGF0ZSApLFxuXG5cdGNsYXNzTmFtZTogJ3BvZHMtcGljaycsXG5cblx0dWk6IHtcblx0XHRjaGVja2JveDogJ2lucHV0LnBvZHMtZm9ybS11aS1maWVsZC10eXBlLXBpY2snXG5cdH0sXG5cblx0dHJpZ2dlcnM6IHtcblx0XHQnY2xpY2sgQHVpLmNoZWNrYm94JzogJ3RvZ2dsZTpzZWxlY3RlZCdcblx0fSxcblxuXHRtb2RlbEV2ZW50czoge1xuXHRcdCdjaGFuZ2UnOiAnbW9kZWxDaGFuZ2VkJ1xuXHR9LFxuXG5cdHRlbXBsYXRlQ29udGV4dDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRvcmRpbmFsOiB0aGlzLm1vZGVsLmNvbGxlY3Rpb24uaW5kZXhPZiggdGhpcy5tb2RlbCApXG5cdFx0fTtcblx0fSxcblxuXHRtb2RlbENoYW5nZWQ6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLnJlbmRlcigpO1xuXHR9XG59ICk7XG5cbi8qKlxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IENoZWNrYm94VmlldyA9IFBvZHNGaWVsZExpc3RWaWV3LmV4dGVuZCgge1xuXHRjaGlsZFZpZXdFdmVudFByZWZpeDogZmFsc2UsIC8vIERpc2FibGUgaW1wbGljaXQgZXZlbnQgbGlzdGVuZXJzIGluIGZhdm9yIG9mIGV4cGxpY2l0IGNoaWxkVmlld1RyaWdnZXJzIGFuZCBjaGlsZFZpZXdFdmVudHNcblxuXHR0YWdOYW1lOiAndWwnLFxuXG5cdGNsYXNzTmFtZTogJ3BvZHMtY2hlY2tib3gtdmlldycsXG5cblx0Y2hpbGRWaWV3OiBDaGVja2JveEl0ZW0sXG5cblx0Y2hpbGRWaWV3RXZlbnRzOiB7XG5cdFx0J3RvZ2dsZTpzZWxlY3RlZCc6ICdvbkNoaWxkdmlld1RvZ2dsZVNlbGVjdGVkJ1xuXHR9LFxuXG5cdC8qKlxuXHQgKlxuXHQgKi9cblx0b25BdHRhY2g6IGZ1bmN0aW9uICgpIHtcblxuXHRcdC8vIENoZWNrIGluaXRpYWwgc2VsZWN0aW9uIGxpbWl0IHN0YXR1cyBhbmQgZW5mb3JjZSBpdCBpZiBuZWVkZWRcblx0XHRpZiAoICF0aGlzLnZhbGlkYXRlU2VsZWN0aW9uTGltaXQoKSApIHtcblx0XHRcdHRoaXMuc2VsZWN0aW9uTGltaXRPdmVyKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gY2hpbGRWaWV3XG5cdCAqL1xuXHRvbkNoaWxkdmlld1RvZ2dsZVNlbGVjdGVkOiBmdW5jdGlvbiAoIGNoaWxkVmlldyApIHtcblxuXHRcdGNoaWxkVmlldy5tb2RlbC50b2dnbGVTZWxlY3RlZCgpO1xuXG5cdFx0Ly8gRHluYW1pY2FsbHkgZW5mb3JjZSBzZWxlY3Rpb24gbGltaXRcblx0XHRpZiAoIHRoaXMudmFsaWRhdGVTZWxlY3Rpb25MaW1pdCgpICkge1xuXHRcdFx0dGhpcy5zZWxlY3Rpb25MaW1pdFVuZGVyKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc2VsZWN0aW9uTGltaXRPdmVyKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8qKlxuXHQgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiB1bmxpbWl0ZWQgc2VsZWN0aW9ucyBhcmUgYWxsb3dlZCBvciB3ZSdyZSBiZWxvdyB0aGUgc2VsZWN0aW9uIGxpbWl0XG5cdCAqL1xuXHR2YWxpZGF0ZVNlbGVjdGlvbkxpbWl0OiBmdW5jdGlvbiAoKSB7XG5cdFx0Y29uc3QgZmllbGRDb25maWcgPSB0aGlzLmZpZWxkTW9kZWwuZ2V0KCAnZmllbGRDb25maWcnICk7XG5cdFx0bGV0IGxpbWl0LCBudW1TZWxlY3RlZDtcblxuXHRcdGxpbWl0ID0gK2ZpZWxkQ29uZmlnLnBpY2tfbGltaXQ7ICAvLyBVbmFyeSBwbHVzIHdpbGwgaW1wbGljaXRseSBjYXN0IHRvIG51bWJlclxuXHRcdG51bVNlbGVjdGVkID0gdGhpcy5jb2xsZWN0aW9uLmZpbHRlckJ5U2VsZWN0ZWQoKS5sZW5ndGg7XG5cblx0XHRyZXR1cm4gMCA9PT0gbGltaXQgfHwgbnVtU2VsZWN0ZWQgPCBsaW1pdDtcblx0fSxcblxuXHQvKipcblx0ICpcblx0ICovXG5cdHNlbGVjdGlvbkxpbWl0T3ZlcjogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuJGVsLmZpbmQoICdpbnB1dDpjaGVja2JveDpub3QoOmNoZWNrZWQpJyApLnByb3AoICdkaXNhYmxlZCcsIHRydWUgKTtcblx0XHR0aGlzLnRyaWdnZXIoICdzZWxlY3Rpb246bGltaXQ6b3ZlcicsIHRoaXMgKTtcblx0fSxcblxuXHQvKipcblx0ICpcblx0ICovXG5cdHNlbGVjdGlvbkxpbWl0VW5kZXI6IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLiRlbC5maW5kKCAnaW5wdXQ6Y2hlY2tib3gnICkucHJvcCggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHR0aGlzLnRyaWdnZXIoICdzZWxlY3Rpb246bGltaXQ6dW5kZXInLCB0aGlzICk7XG5cdH1cblxufSApO1xuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCB3cCAqL1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9saXN0LWl0ZW0uaHRtbCc7XG5cbmltcG9ydCB7IFBvZHNGaWVsZExpc3RWaWV3LCBQb2RzRmllbGRWaWV3IH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvcG9kcy1maWVsZC12aWV3cyc7XG5cbi8qKlxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RJdGVtID0gUG9kc0ZpZWxkVmlldy5leHRlbmQoIHtcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXG5cblx0dGFnTmFtZTogJ2xpJyxcblxuXHRjbGFzc05hbWU6ICdwb2RzLWRmdi1saXN0LWl0ZW0gcG9kcy1yZWxhdGlvbnNoaXAnLFxuXG5cdHRlbXBsYXRlOiBfLnRlbXBsYXRlKCB0ZW1wbGF0ZSApLFxuXG5cdHVpOiB7XG5cdFx0cmVtb3ZlQnV0dG9uOiAnLnBvZHMtZGZ2LWxpc3QtcmVtb3ZlIGEnLFxuXHRcdGVkaXRCdXR0b246ICcucG9kcy1kZnYtbGlzdC1lZGl0IGEnXG5cdH0sXG5cblx0dHJpZ2dlcnM6IHtcblx0XHQnY2xpY2sgQHVpLnJlbW92ZUJ1dHRvbic6ICdyZW1vdmU6aXRlbTpjbGljaycsXG5cdFx0J2NsaWNrIEB1aS5lZGl0QnV0dG9uJzogJ2VkaXQ6aXRlbTpjbGljaydcblx0fSxcblxuXHR0ZW1wbGF0ZUNvbnRleHQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0b3JkaW5hbDogdGhpcy5tb2RlbC5jb2xsZWN0aW9uLmluZGV4T2YoIHRoaXMubW9kZWwgKVxuXHRcdH07XG5cdH1cblxufSApO1xuXG4vKipcbiAqICBSZXByZXNlbnRzIHRoZSBtYXJrdXAgb2YgdGhlIGNvbnRhaW5lciBhcyBhIHdob2xlXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0VmlldyA9IFBvZHNGaWVsZExpc3RWaWV3LmV4dGVuZCgge1x0Ly8gQ2FjaGUgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uIGZvciB0aGUgb3ZlcmFsbCBjb250YWluZXJcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXG5cblx0dGFnTmFtZTogJ3VsJyxcblxuXHRjbGFzc05hbWU6ICdwb2RzLWRmdi1saXN0IHBvZHMtcmVsYXRpb25zaGlwJyxcblxuXHRjaGlsZFZpZXc6IExpc3RJdGVtLFxuXG5cdC8vIFBhc3MgdGhlc2UgdXAgdGhlIGNvbnRhaW5tZW50IGNoYWluXG5cdGNoaWxkVmlld1RyaWdnZXJzOiB7XG5cdFx0J3JlbW92ZTppdGVtOmNsaWNrJzogJ2NoaWxkdmlldzpyZW1vdmU6aXRlbTpjbGljaycsXG5cdFx0J2VkaXQ6aXRlbTpjbGljayc6ICdjaGlsZHZpZXc6ZWRpdDppdGVtOmNsaWNrJ1xuXHR9LFxuXG5cdGZpbHRlcjogZnVuY3Rpb24gKCBjaGlsZCwgaW5kZXgsIGNvbGxlY3Rpb24gKSB7XG5cdFx0cmV0dXJuIGNoaWxkLmF0dHJpYnV0ZXMuc2VsZWN0ZWQ7XG5cdH0sXG5cblx0b25BdHRhY2g6IGZ1bmN0aW9uICgpIHtcblx0XHRjb25zdCBmaWVsZENvbmZpZyA9IHRoaXMub3B0aW9ucy5maWVsZE1vZGVsLmdldCggJ2ZpZWxkQ29uZmlnJyApO1xuXG5cdFx0Ly8gQHRvZG9cblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE3MzUzNzIvanF1ZXJ5LXNvcnRhYmxlLWxpc3Qtc2Nyb2xsLWJhci1qdW1wcy11cC13aGVuLXNvcnRpbmcvNDE4NzgzMyM0MTg3ODMzXG5cblx0XHRpZiAoIDEgIT09IGZpZWxkQ29uZmlnWyAncGlja19saW1pdCcgXSApIHtcblx0XHRcdC8vIGluaXQgc29ydGFibGVcblx0XHRcdHRoaXMuJGVsLnNvcnRhYmxlKCB7XG5cdFx0XHRcdGNvbnRhaW5tZW50OiAncGFyZW50Jyxcblx0XHRcdFx0YXhpczogJ3knLFxuXHRcdFx0XHRzY3JvbGxTZW5zaXRpdml0eTogNDAsXG5cdFx0XHRcdHRvbGVyYW5jZTogJ3BvaW50ZXInLFxuXHRcdFx0XHRvcGFjaXR5OiAwLjZcblx0XHRcdH0gKTtcblx0XHR9XG5cdH1cblxufSApO1xuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCB3cCAqL1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9yYWRpby1pdGVtLmh0bWwnO1xuXG5pbXBvcnQgeyBQb2RzRmllbGRMaXN0VmlldywgUG9kc0ZpZWxkVmlldyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL3BvZHMtZmllbGQtdmlld3MnO1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBSYWRpb0l0ZW0gPSBQb2RzRmllbGRWaWV3LmV4dGVuZCgge1xuXHRjaGlsZFZpZXdFdmVudFByZWZpeDogZmFsc2UsIC8vIERpc2FibGUgaW1wbGljaXQgZXZlbnQgbGlzdGVuZXJzIGluIGZhdm9yIG9mIGV4cGxpY2l0IGNoaWxkVmlld1RyaWdnZXJzIGFuZCBjaGlsZFZpZXdFdmVudHNcblxuXHR0YWdOYW1lOiAnbGknLFxuXG5cdHRlbXBsYXRlOiBfLnRlbXBsYXRlKCB0ZW1wbGF0ZSApLFxuXG5cdHRlbXBsYXRlQ29udGV4dDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRvcmRpbmFsOiB0aGlzLm1vZGVsLmNvbGxlY3Rpb24uaW5kZXhPZiggdGhpcy5tb2RlbCApICsgMSAvLyBPbmUgYmFzZWQgaW5kZXhpbmcgdW5saWtlIGNoZWNrYm94ZXNcblx0XHR9O1xuXHR9LFxuXG5cdG1vZGVsQ2hhbmdlZDogZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMucmVuZGVyKCk7XG5cdH1cblxufSApO1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBSYWRpb1ZpZXcgPSBQb2RzRmllbGRMaXN0Vmlldy5leHRlbmQoIHtcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXG5cblx0dGFnTmFtZTogJ3VsJyxcblxuXHRjbGFzc05hbWU6ICdwb2RzLXJhZGlvJyxcblxuXHRjaGlsZFZpZXc6IFJhZGlvSXRlbVxufSApO1xuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCBzZWxlY3QyLCBzcHJpbnRmLCB3cCwgYWpheHVybCwgUG9kc0kxOG4gKi9cblxuLy8gTm90ZTogdGhpcyBpcyBhIHRlbXBsYXRlLWxlc3Mgdmlld1xuaW1wb3J0IHsgUG9kc0ZpZWxkTGlzdFZpZXcsIFBvZHNGaWVsZFZpZXcgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9wb2RzLWZpZWxkLXZpZXdzJztcbmltcG9ydCB7IFJlbGF0aW9uc2hpcENvbGxlY3Rpb24gfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svcmVsYXRpb25zaGlwLW1vZGVsJztcblxuY29uc3QgU0VMRUNUMl9VTF9UQVJHRVQgPSAndWwuc2VsZWN0Mi1zZWxlY3Rpb25fX3JlbmRlcmVkJztcbmNvbnN0IFNFTEVDVDJfU0VMRUNURURfVEFSR0VUID0gJy5zZWxlY3QyLXNlbGVjdGlvbl9fY2hvaWNlJztcblxuLyoqXG4gKiBvcHRpb25cbiAqXG4gKiBAZXh0ZW5kcyBCYWNrYm9uZS5WaWV3XG4gKi9cbmV4cG9ydCBjb25zdCBTZWxlY3RJdGVtID0gUG9kc0ZpZWxkVmlldy5leHRlbmQoIHtcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXG5cblx0dGFnTmFtZTogJ29wdGlvbicsXG5cblx0dGVtcGxhdGU6IGZhbHNlLFxuXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcblx0XHR0aGlzLiRlbC52YWwoIHRoaXMubW9kZWwuZ2V0KCAnaWQnICkgKTtcblxuXHRcdHRoaXMuJGVsLmh0bWwoIHRoaXMubW9kZWwuZ2V0KCAnbmFtZScgKSApO1xuXG5cdFx0aWYgKCB0aGlzLm1vZGVsLmdldCggJ3NlbGVjdGVkJyApICkge1xuXHRcdFx0dGhpcy4kZWwucHJvcCggJ3NlbGVjdGVkJywgJ3NlbGVjdGVkJyApO1xuXHRcdH1cblx0fVxufSApO1xuXG4vKipcbiAqIG9wdGdyb3VwXG4gKlxuICogQGV4dGVuZHMgQmFja2JvbmUuVmlld1xuICovXG5leHBvcnQgY29uc3QgT3B0Z3JvdXAgPSBQb2RzRmllbGRMaXN0Vmlldy5leHRlbmQoIHtcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXG5cblx0dGFnTmFtZTogJ29wdGdyb3VwJyxcblxuXHRjaGlsZFZpZXc6IFNlbGVjdEl0ZW0sXG5cblx0YXR0cmlidXRlczogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRsYWJlbDogdGhpcy5tb2RlbC5nZXQoICdsYWJlbCcgKVxuXHRcdH07XG5cdH1cbn0gKTtcblxuLyoqXG4gKiBzZWxlY3RcbiAqXG4gKiBAZXh0ZW5kcyBCYWNrYm9uZS5WaWV3XG4gKi9cbmV4cG9ydCBjb25zdCBTZWxlY3RWaWV3ID0gUG9kc01uLkNvbGxlY3Rpb25WaWV3LmV4dGVuZCgge1xuXHRjaGlsZFZpZXdFdmVudFByZWZpeDogZmFsc2UsIC8vIERpc2FibGUgaW1wbGljaXQgZXZlbnQgbGlzdGVuZXJzIGluIGZhdm9yIG9mIGV4cGxpY2l0IGNoaWxkVmlld1RyaWdnZXJzIGFuZCBjaGlsZFZpZXdFdmVudHNcblxuXHR0YWdOYW1lOiAnc2VsZWN0JyxcblxuXHR0cmlnZ2Vyczoge1xuXHRcdCdjaGFuZ2UnOiB7XG5cdFx0XHRldmVudDogJ2NoYW5nZTpzZWxlY3RlZCcsXG5cdFx0XHRzdG9wUHJvcGFnYXRpb246IGZhbHNlXG5cdFx0fVxuXHR9LFxuXG5cdG11bHRpTGFzdFZhbGlkU2VsZWN0aW9uOiBbXSxcblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIG5ld0NvbGxlY3Rpb25cblx0ICovXG5cdHNldENvbGxlY3Rpb246IGZ1bmN0aW9uICggbmV3Q29sbGVjdGlvbiApIHtcblx0XHR0aGlzLmNvbGxlY3Rpb24gPSBuZXdDb2xsZWN0aW9uO1xuXHR9LFxuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcGFyYW0gb3B0aW9uc1xuXHQgKi9cblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKCBvcHRpb25zICkge1xuXHRcdHRoaXMuZmllbGRNb2RlbCA9IG9wdGlvbnMuZmllbGRNb2RlbDtcblx0XHR0aGlzLmZpZWxkQ29uZmlnID0gdGhpcy5maWVsZE1vZGVsLmdldCggJ2ZpZWxkQ29uZmlnJyApO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTZXQgdGhlIHByb3BlciBjaGlsZCB2aWV3IChvcHRncm91cHMgb3Igbm8pXG5cdCAqXG5cdCAqIEBwYXJhbSBpdGVtXG5cdCAqIEByZXR1cm5zIHsqfVxuXHQgKi9cblx0Y2hpbGRWaWV3OiBmdW5jdGlvbiAoIGl0ZW0gKSB7XG5cdFx0aWYgKCB0aGlzLmZpZWxkQ29uZmlnLm9wdGdyb3VwICkge1xuXHRcdFx0cmV0dXJuIE9wdGdyb3VwO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gU2VsZWN0SXRlbTtcblx0XHR9XG5cdH0sXG5cblx0LyoqXG5cdCAqIHRvZG86IFdlJ3JlIGJ5cGFzc2luZyB0aGUgUG9kc0ZpZWxkTGlzdFZpZXcgZnVuY3Rpb25hbGl0eSwgbmVlZCB0byBleHBsaWNpdGx5IGluY2x1ZGUgaXQgZm9yIG5vd1xuXHQgKlxuXHQgKiBAcGFyYW0gbW9kZWxcblx0ICogQHBhcmFtIGluZGV4XG5cdCAqIEByZXR1cm5zIHt7ZmllbGRNb2RlbDogKn19XG5cdCAqL1xuXHRjaGlsZFZpZXdPcHRpb25zOiBmdW5jdGlvbiAoIG1vZGVsLCBpbmRleCApIHtcblx0XHRsZXQgcmV0dXJuT3B0aW9ucyA9IHsgZmllbGRNb2RlbDogdGhpcy5maWVsZE1vZGVsIH07XG5cblx0XHRpZiAoIHRoaXMuZmllbGRDb25maWcub3B0Z3JvdXAgKSB7XG5cdFx0XHRyZXR1cm5PcHRpb25zLmNvbGxlY3Rpb24gPSBuZXcgUmVsYXRpb25zaGlwQ29sbGVjdGlvbiggbW9kZWwuZ2V0KCAnY29sbGVjdGlvbicgKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiByZXR1cm5PcHRpb25zO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiB0b2RvOiBXZSdyZSBieXBhc3NpbmcgdGhlIFBvZHNGaWVsZExpc3RWaWV3IGZ1bmN0aW9uYWxpdHksIG5lZWQgdG8gZXhwbGljaXRseSBpbmNsdWRlIGl0IGZvciBub3dcblx0ICpcblx0ICogQHJldHVybnMge3t9fVxuXHQgKi9cblx0c2VyaWFsaXplRGF0YTogZnVuY3Rpb24gKCkge1xuXHRcdGNvbnN0IGZpZWxkTW9kZWwgPSB0aGlzLm9wdGlvbnMuZmllbGRNb2RlbDtcblx0XHRsZXQgZGF0YSA9IHRoaXMubW9kZWwgPyB0aGlzLm1vZGVsLnRvSlNPTigpIDoge307XG5cblx0XHRkYXRhLmh0bWxBdHRyID0gZmllbGRNb2RlbC5nZXQoICdhdHRyaWJ1dGVzJyApO1xuXHRcdGRhdGEuZmllbGRDb25maWcgPSBmaWVsZE1vZGVsLmdldCggJ2ZpZWxkQ29uZmlnJyApO1xuXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH0sXG5cblx0LyoqXG5cdCAqXG5cdCAqL1xuXHRhdHRyaWJ1dGVzOiBmdW5jdGlvbiAoKSB7XG5cblx0XHQvKipcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbEF0dHIubmFtZVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sQXR0ci5jbGFzc1xuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sQXR0ci5uYW1lX2NsZWFuXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxBdHRyLmlkXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRDb25maWcucGlja19mb3JtYXRfdHlwZSAnc2luZ2xlJyBvciAnbXVsdGknXG5cdFx0ICovXG5cdFx0Y29uc3QgZmllbGRNb2RlbCA9IHRoaXMub3B0aW9ucy5maWVsZE1vZGVsO1xuXHRcdGNvbnN0IGh0bWxBdHRyID0gZmllbGRNb2RlbC5nZXQoICdodG1sQXR0cicgKTtcblx0XHRjb25zdCBmaWVsZENvbmZpZyA9IGZpZWxkTW9kZWwuZ2V0KCAnZmllbGRDb25maWcnICk7XG5cblx0XHRsZXQgbmFtZSA9IGh0bWxBdHRyLm5hbWU7XG5cdFx0aWYgKCAnbXVsdGknID09PSBmaWVsZENvbmZpZy5waWNrX2Zvcm1hdF90eXBlICkge1xuXHRcdFx0bmFtZSA9IG5hbWUgKyAnW10nO1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0J25hbWUnOiBuYW1lLFxuXHRcdFx0J2NsYXNzJzogaHRtbEF0dHIuY2xhc3MsXG5cdFx0XHQnZGF0YS1uYW1lLWNsZWFuJzogaHRtbEF0dHIubmFtZV9jbGVhbixcblx0XHRcdCdpZCc6IGh0bWxBdHRyLmlkLFxuXHRcdFx0J3RhYmluZGV4JzogJzInLFxuXHRcdFx0J211bHRpcGxlJzogKCAnbXVsdGknID09PSBmaWVsZENvbmZpZy5waWNrX2Zvcm1hdF90eXBlIClcblx0XHR9O1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBTZXR1cCB0byBiZSBkb25lIG9uY2UgYXR0YWNoZWQgdG8gdGhlIERPTS4gIFNlbGVjdDIgaGFzIHNvbWUgc2V0dXAgbmVlZHMuXG5cdCAqXG5cdCAqIEB2YXIge1JlbGF0aW9uc2hpcENvbGxlY3Rpb259IHRoaXMuY29sbGVjdGlvblxuXHQgKi9cblx0b25BdHRhY2g6IGZ1bmN0aW9uICgpIHtcblx0XHRjb25zdCB2aWV3X25hbWUgPSB0aGlzLmZpZWxkQ29uZmlnLnZpZXdfbmFtZTtcblx0XHRjb25zdCBmb3JtYXRfdHlwZSA9IHRoaXMuZmllbGRDb25maWcucGlja19mb3JtYXRfdHlwZTtcblxuXHRcdC8vIEluaXRpYWxpemUgc2VsZWN0MiBmaWVsZHNcblx0XHRpZiAoICdzZWxlY3QyJyA9PT0gdmlld19uYW1lICkge1xuXHRcdFx0dGhpcy5zZXR1cFNlbGVjdDIoKTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpbml0aWFsIHNlbGVjdGlvbiBsaW1pdCBzdGF0dXMgZm9yIHJlZ3VsYXIgbXVsdGlzZWxlY3QgYW5kIGVuZm9yY2UgaXQgaWYgbmVlZGVkXG5cdFx0aWYgKCAnc2VsZWN0JyA9PT0gdmlld19uYW1lICYmICdtdWx0aScgPT09IGZvcm1hdF90eXBlICkge1xuXG5cdFx0XHQvLyBTdG9yZSBpbml0aWFsIHNlbGVjdGlvbiBpbiBjYXNlIHdlIG5lZWQgdG8gcmV2ZXJ0IGJhY2sgZnJvbSBhbiBpbnZhbGlkIHN0YXRlXG5cdFx0XHR0aGlzLm11bHRpTGFzdFZhbGlkU2VsZWN0aW9uID0gdGhpcy4kZWwudmFsKCk7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UncmUgYXQgdGhlIGxpbWl0OiBkaXNhYmxlIGFsbCB1bnNlbGVjdGVkIGl0ZW1zIHNvIG5vIHNlbGVjdGlvbnMgY2FuIGJlIGFkZGVkXG5cdFx0aWYgKCAhdGhpcy52YWxpZGF0ZVNlbGVjdGlvbkxpbWl0KCkgKSB7XG5cdFx0XHR0aGlzLnNlbGVjdGlvbkxpbWl0T3ZlcigpO1xuXHRcdH1cblx0fSxcblxuXHQvKipcblx0ICogQHZhciB7UmVsYXRpb25zaGlwQ29sbGVjdGlvbn0gdGhpcy5jb2xsZWN0aW9uXG5cdCAqL1xuXHRvbkNoYW5nZVNlbGVjdGVkOiBmdW5jdGlvbiAoKSB7XG5cdFx0Y29uc3QgbGltaXQgPSArdGhpcy5maWVsZENvbmZpZy5waWNrX2xpbWl0OyAvLyBVbmFyeSBwbHVzIHdpbGwgaW1wbGljaXRseSBjYXN0IHRvIG51bWJlclxuXHRcdGNvbnN0IHZpZXdfbmFtZSA9IHRoaXMuZmllbGRDb25maWcudmlld19uYW1lO1xuXHRcdGNvbnN0IGZvcm1hdF90eXBlID0gdGhpcy5maWVsZENvbmZpZy5waWNrX2Zvcm1hdF90eXBlO1xuXG5cdFx0Ly8gUmVndWxhciBtdWx0aXNlbGVjdCBtYXkgbmVlZCB0byByZWplY3QgdGhlIHNlbGVjdGlvbiBjaGFuZ2Vcblx0XHRpZiAoICdzZWxlY3QnID09PSB2aWV3X25hbWUgJiYgJ211bHRpJyA9PT0gZm9ybWF0X3R5cGUgKSB7XG5cblx0XHRcdC8vIEhhcyB0aGUgc2VsZWN0aW9uIGdvbmUgT1ZFUiB0aGUgbGltaXQ/ICBDYW4gb2NjdXIgd2l0aCBjb25zZWN1dGl2ZSBpdGVtIHNlbGVjdGlvbi5cblx0XHRcdGlmICggbnVsbCAhPT0gdGhpcy4kZWwudmFsKCkgJiYgMCAhPT0gbGltaXQgJiYgbGltaXQgPCB0aGlzLiRlbC52YWwoKS5sZW5ndGggKSB7XG5cblx0XHRcdFx0Ly8gUmV2ZXJ0IHRvIHRoZSBsYXN0IHZhbGlkIHNlbGVjdGlvbiBhbmQgcHVudCBvbiB3aGF0IHRoZXkgYXR0ZW1wdGVkXG5cdFx0XHRcdHRoaXMuJGVsLnZhbCggdGhpcy5tdWx0aUxhc3RWYWxpZFNlbGVjdGlvbiApO1xuXHRcdFx0XHR3aW5kb3cuYWxlcnQoIGAke1BvZHNJMThuLl9fKCAnWW91IGNhbiBvbmx5IHNlbGVjdCcgKX0gJHtzcHJpbnRmKCBQb2RzSTE4bi5fbiggJyVzIGl0ZW0nLCAnJXMgaXRlbXMnLCBsaW1pdCApLCBsaW1pdCApfWAgKTtcblx0XHRcdFx0dGhpcy50cmlnZ2VyKCAnY2hpbGR2aWV3OmNoYW5nZTpzZWxlY3RlZCcsIHRoaXMgKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSB0aGUgY29sbGVjdGlvbiBhbmQgbGFzdCB2YWxpZCBzZWxlY3Rpb24gYmFzZWQgb24gdGhlIG5ldyBzZWxlY3Rpb25zXG5cdFx0dGhpcy5jb2xsZWN0aW9uLnNldFNlbGVjdGVkKCB0aGlzLiRlbC52YWwoKSApO1xuXHRcdHRoaXMubXVsdGlMYXN0VmFsaWRTZWxlY3Rpb24gPSB0aGlzLiRlbC52YWwoKTtcblxuXHRcdC8vIER5bmFtaWNhbGx5IGVuZm9yY2Ugc2VsZWN0aW9uIGxpbWl0c1xuXHRcdGlmICggdGhpcy52YWxpZGF0ZVNlbGVjdGlvbkxpbWl0KCkgKSB7XG5cdFx0XHR0aGlzLnNlbGVjdGlvbkxpbWl0VW5kZXIoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zZWxlY3Rpb25MaW1pdE92ZXIoKTtcblx0XHR9XG5cblx0XHR0aGlzLnRyaWdnZXIoICdjaGlsZHZpZXc6Y2hhbmdlOnNlbGVjdGVkJywgdGhpcyApO1xuXHR9LFxuXG5cdG9uQmVmb3JlRGV0YWNoOiBmdW5jdGlvbigpIHtcblx0XHR0aGlzLiRlbC5zZWxlY3RXb28oICdkZXN0cm95JyApO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBAdmFyIHtSZWxhdGlvbnNoaXBDb2xsZWN0aW9ufSB0aGlzLmNvbGxlY3Rpb25cblx0ICpcblx0ICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdW5saW1pdGVkIHNlbGVjdGlvbnMgYXJlIGFsbG93ZWQgb3Igd2UncmUgYmVsb3cgdGhlIHNlbGVjdGlvbiBsaW1pdFxuXHQgKi9cblx0dmFsaWRhdGVTZWxlY3Rpb25MaW1pdDogZnVuY3Rpb24gKCkge1xuXHRcdGxldCBsaW1pdCwgbnVtU2VsZWN0ZWQ7XG5cblx0XHRsaW1pdCA9ICt0aGlzLmZpZWxkQ29uZmlnLnBpY2tfbGltaXQ7ICAvLyBVbmFyeSBwbHVzIHdpbGwgaW1wbGljaXRseSBjYXN0IHRvIG51bWJlclxuXHRcdG51bVNlbGVjdGVkID0gdGhpcy5jb2xsZWN0aW9uLmZpbHRlckJ5U2VsZWN0ZWQoKS5sZW5ndGg7XG5cblx0XHRyZXR1cm4gMCA9PT0gbGltaXQgfHwgbnVtU2VsZWN0ZWQgPCBsaW1pdDtcblx0fSxcblxuXHQvKipcblx0ICpcblx0ICovXG5cdHNlbGVjdGlvbkxpbWl0T3ZlcjogZnVuY3Rpb24gKCkge1xuXHRcdGNvbnN0IHZpZXdOYW1lID0gdGhpcy5maWVsZENvbmZpZy52aWV3X25hbWU7XG5cdFx0Y29uc3QgZm9ybWF0VHlwZSA9IHRoaXMuZmllbGRDb25maWcucGlja19mb3JtYXRfdHlwZTtcblxuXHRcdGlmICggJ3NlbGVjdCcgPT09IHZpZXdOYW1lICYmICdtdWx0aScgPT09IGZvcm1hdFR5cGUgKSB7XG5cdFx0XHQvLyBBdCB0aGUgbGltaXQ6IGRpc2FibGUgYWxsIHVuc2VsZWN0ZWQgaXRlbXMgc28gbm8gZnVydGhlciBzZWxlY3Rpb25zIGNhbiBiZSBhZGRlZFxuXHRcdFx0dGhpcy4kZWwuZmluZCggJ29wdGlvbjpub3QoOnNlbGVjdGVkKScgKS5wcm9wKCAnZGlzYWJsZWQnLCB0cnVlICk7XG5cdFx0fVxuXG5cdFx0dGhpcy50cmlnZ2VyKCAnY2hpbGR2aWV3OnNlbGVjdGlvbjpsaW1pdDpvdmVyJywgdGhpcyApO1xuXHR9LFxuXG5cdC8qKlxuXHQgKlxuXHQgKi9cblx0c2VsZWN0aW9uTGltaXRVbmRlcjogZnVuY3Rpb24gKCkge1xuXHRcdGNvbnN0IHZpZXdOYW1lID0gdGhpcy5maWVsZENvbmZpZy52aWV3X25hbWU7XG5cdFx0Y29uc3QgZm9ybWF0VHlwZSA9IHRoaXMuZmllbGRDb25maWcucGlja19mb3JtYXRfdHlwZTtcblxuXHRcdGlmICggJ3NlbGVjdCcgPT09IHZpZXdOYW1lICYmICdtdWx0aScgPT09IGZvcm1hdFR5cGUgKSB7XG5cdFx0XHQvLyBOb3QgYXQgbGltaXQsIG1ha2Ugc3VyZSBhbGwgaXRlbXMgYXJlIGVuYWJsZWRcblx0XHRcdHRoaXMuJGVsLmZpbmQoICdvcHRpb24nICkucHJvcCggJ2Rpc2FibGVkJywgZmFsc2UgKTtcblx0XHR9XG5cblx0XHR0aGlzLnRyaWdnZXIoICdjaGlsZHZpZXc6c2VsZWN0aW9uOmxpbWl0OnVuZGVyJywgdGhpcyApO1xuXHR9LFxuXG5cdC8qKlxuXHQgKiBObyBmaWx0ZXJpbmcsIGJ5IGRlZmF1bHQuICBDb25zdW1pbmcgdmlld3MgY2FuIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gdG8gcHJvdmlkZSBjdXN0b20gZmlsdGVyaW5nXG5cdCAqIChlLmcuIExpc3QgVmlldyBuZWVkcyB0byBmaWx0ZXIgaXRlbXMgYWxyZWFkeSBzZWxlY3RlZCBmb3IgaXRzIHNlbGVjdCBmcm9tIGV4aXN0aW5nIGxpc3QpXG5cdCAqXG5cdCAqIEBwYXJhbSBkYXRhXG5cdCAqL1xuXHRmaWx0ZXJBamF4TGlzdDogZnVuY3Rpb24gKCBkYXRhICkge1xuXHRcdGNvbnN0IHNlbGVjdGVkSXRlbXMgPSB0aGlzLmNvbGxlY3Rpb24uZmlsdGVyQnlTZWxlY3RlZCgpO1xuXHRcdGNvbnN0IHJldHVybkxpc3QgPSBbXTtcblxuXHRcdF8uZWFjaCggZGF0YS5yZXN1bHRzLCBmdW5jdGlvbiAoIGVsZW1lbnQgKSB7XG5cdFx0XHRlbGVtZW50LnRleHQgPSBlbGVtZW50Lm5hbWU7IC8vIFNlbGVjdDIgbmVlZHMgdGhlIFwidGV4dFwiIGtleSBidXQgb3VyIG1vZGVsIHVzZXMgXCJuYW1lXCJcblxuXHRcdFx0Ly8gT25seSBrZWVwIGNob2ljZXMgdGhhdCBoYXZlbid0IGJlZW4gc2VsZWN0ZWQgeWV0LCB3ZSBkb24ndCB3YW50IHNlbGVjdGVkIGl0ZW1zIGluIHRoZSBhdXRvY29tcGxldGUgcG9ydGlvblxuXHRcdFx0aWYgKCAhc2VsZWN0ZWRJdGVtcy5nZXQoIGVsZW1lbnQuaWQgKSApIHtcblx0XHRcdFx0cmV0dXJuTGlzdC5wdXNoKCBlbGVtZW50ICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0cmV0dXJuIHsgJ3Jlc3VsdHMnOiByZXR1cm5MaXN0IH07XG5cdH0sXG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemUgU2VsZWN0Miwgc2V0dXAgZHJhZy1kcm9wIHJlb3JkZXJpbmdcblx0ICovXG5cdHNldHVwU2VsZWN0MjogZnVuY3Rpb24gKCkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXHRcdGNvbnN0ICRzZWxlY3QyID0gdGhpcy4kZWw7XG5cdFx0Y29uc3QgZmllbGRDb25maWcgPSB0aGlzLm9wdGlvbnMuZmllbGRNb2RlbC5nZXQoICdmaWVsZENvbmZpZycgKTtcblx0XHRjb25zdCBhamF4RGF0YSA9IGZpZWxkQ29uZmlnLmFqYXhfZGF0YTtcblx0XHRjb25zdCBzZWxlY3QyT3ZlcnJpZGVzID0gZmllbGRDb25maWcuc2VsZWN0Ml9vdmVycmlkZXM7XG5cdFx0Y29uc3QgbGltaXQgPSBmaWVsZENvbmZpZy5waWNrX2xpbWl0O1xuXHRcdGNvbnN0IGlzU2luZ2xlID0gKCAnc2luZ2xlJyA9PT0gZmllbGRDb25maWcucGlja19mb3JtYXRfdHlwZSApO1xuXHRcdGNvbnN0IHNlbGVjdGVkQ291bnQgPSB0aGlzLmNvbGxlY3Rpb24uZmlsdGVyQnlTZWxlY3RlZCgpLmxlbmd0aDtcblx0XHRsZXQgJHVsQ29udGFpbmVyLCBzZWxlY3QyT3B0aW9ucywgcGxhY2Vob2xkZXI7XG5cblx0XHQvLyAncGxhY2Vob2xkZXInIGZvciBzaW5nbGUgc2VsZWN0IHJlcXVpcmVzIGFuIGVtcHR5IG9wdGlvbi4gIE5vbmUgb2YgdGhlIGV4YW1wbGVzIHNldCBzZWxlY3RlZCBidXRcblx0XHQvLyBpdCBkaWQgbm90IHdvcmsgZm9yIG1lIGluIHRlc3Rpbmcgd2l0aCBqdXN0IGFuIGVtcHR5IG9wdGlvbiBsaWtlIHRoZSBleGFtcGxlcy5cblx0XHQvL1xuXHRcdC8vIGh0dHBzOi8vc2VsZWN0Mi5vcmcvcGxhY2Vob2xkZXJzI3NpbmdsZS1zZWxlY3QtcGxhY2Vob2xkZXJzXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3NlbGVjdDIvc2VsZWN0Mi9pc3N1ZXMvMzU1M1xuXHRcdGlmICggMCA9PT0gc2VsZWN0ZWRDb3VudCAmJiBpc1NpbmdsZSApIHtcblx0XHRcdCRzZWxlY3QyLnByZXBlbmQoICc8b3B0aW9uIHNlbGVjdGVkPVwic2VsZWN0ZWRcIj4nICk7XG5cdFx0fVxuXG5cdFx0Ly8gVG9Ebzpcblx0XHQvLyBsaW1pdERpc2FibGUgaXMgb25seSB1c2VkIHRvIGNvbnRyb2wgdGhlIExpc3QgVmlldydzIHNlbGVjdDIgY29tcG9uZW50LCBpdCB3b24ndCBiZSBzZXRcblx0XHQvLyBmb3IgcmVndWxhciBhdXRvY29tcGxldGUuICBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBnZW5lcmljIGFuZCBub3QgaGF2ZSB0byBwb2tlIGFyb3VuZCB3aXRoXG5cdFx0Ly8gc3BlY2lhbCBwcm9wZXJ0aWVzIGxpa2UgdGhpcyBmb3IgZXhjZXB0aW9uIGNhc2VzLlxuXHRcdGlmICggZmllbGRDb25maWcubGltaXREaXNhYmxlICkge1xuXHRcdFx0cGxhY2Vob2xkZXIgPSBgJHtQb2RzSTE4bi5fXyggJ1lvdSBjYW4gb25seSBzZWxlY3QnICl9ICR7c3ByaW50ZiggUG9kc0kxOG4uX24oICclcyBpdGVtJywgJyVzIGl0ZW1zJywgbGltaXQgKSwgbGltaXQgKX1gO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwbGFjZWhvbGRlciA9IGAke1BvZHNJMThuLl9fKCAnU2VhcmNoJyApfSAke2ZpZWxkQ29uZmlnLmxhYmVsfS4uLmA7XG5cdFx0fVxuXG5cdFx0c2VsZWN0Mk9wdGlvbnMgPSB7XG5cdFx0XHRtYXhpbXVtU2VsZWN0aW9uTGVuZ3RoOiBpc1NpbmdsZSA/IHVuZGVmaW5lZCA6IGxpbWl0LCAvLyBTaG91bGQgbm90IGJlIHNldCBmb3Igc2luZ2xlIHNlbGVjdCwgbWVzc2VzIHVwIHBsYWNlaG9sZGVyXG5cdFx0XHRwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG5cdFx0XHRhbGxvd0NsZWFyOiBpc1NpbmdsZSxcblx0XHRcdGRpc2FibGVkOiBmaWVsZENvbmZpZy5saW1pdERpc2FibGUsXG5cdFx0XHR0YWdzOiBmaWVsZENvbmZpZy5waWNrX3RhZ2dhYmxlLFxuXHRcdFx0ZXNjYXBlTWFya3VwOiBmdW5jdGlvbiAoIHRleHQgKSB7XG5cdFx0XHRcdHJldHVybiB0ZXh0O1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRpZiAoIGFqYXhEYXRhLmFqYXggKSB7XG5cdFx0XHRqUXVlcnkuZXh0ZW5kKCBzZWxlY3QyT3B0aW9ucywge1xuXHRcdFx0XHRtaW5pbXVtSW5wdXRMZW5ndGg6IGFqYXhEYXRhLm1pbmltdW1faW5wdXRfbGVuZ3RoLFxuXHRcdFx0XHRhamF4OiB7XG5cdFx0XHRcdFx0dXJsOiBhamF4dXJsICsgJz9wb2RzX2FqYXg9MScsXG5cdFx0XHRcdFx0dHlwZTogJ1BPU1QnLFxuXHRcdFx0XHRcdGRhdGFUeXBlOiAnanNvbicsXG5cdFx0XHRcdFx0ZGVsYXk6IGFqYXhEYXRhLmRlbGF5LFxuXHRcdFx0XHRcdGRhdGE6IGZ1bmN0aW9uICggcGFyYW1zICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0X3dwbm9uY2U6IGFqYXhEYXRhLl93cG5vbmNlLFxuXHRcdFx0XHRcdFx0XHRhY3Rpb246ICdwb2RzX3JlbGF0aW9uc2hpcCcsXG5cdFx0XHRcdFx0XHRcdG1ldGhvZDogJ3NlbGVjdDInLFxuXHRcdFx0XHRcdFx0XHRwb2Q6IGFqYXhEYXRhLnBvZCxcblx0XHRcdFx0XHRcdFx0ZmllbGQ6IGFqYXhEYXRhLmZpZWxkLFxuXHRcdFx0XHRcdFx0XHR1cmk6IGFqYXhEYXRhLnVyaSxcblx0XHRcdFx0XHRcdFx0aWQ6IGFqYXhEYXRhLmlkLFxuXHRcdFx0XHRcdFx0XHRxdWVyeTogcGFyYW1zLnRlcm0gLy8gVG9EbzogdGVybXtsYW5nfVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHByb2Nlc3NSZXN1bHRzOiBmdW5jdGlvbiAoIGRhdGEsIHBhcmFtcyApIHtcblx0XHRcdFx0XHRcdHJldHVybiBzZWxmLmZpbHRlckFqYXhMaXN0KCBkYXRhLCBwYXJhbXMgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHQvLyBJbml0aWFsaXplIHNlbGVjdDJcblx0XHQkc2VsZWN0Mi5zZWxlY3RXb28oIGpRdWVyeS5leHRlbmQoIHRydWUsIHNlbGVjdDJPcHRpb25zLCBzZWxlY3QyT3ZlcnJpZGVzICkgKTtcblxuXHRcdC8vIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgdWwgY29udGFpbmVyIG9mIHRoZSB2aXN1YWwgVUkgcG9ydGlvbi4gIENhbid0IGRvIHRoaXMgdW50aWwgc2VsZWN0MiBpcyBpbml0aWFsaXplZFxuXHRcdCR1bENvbnRhaW5lciA9ICRzZWxlY3QyLnBhcmVudCgpLmZpbmQoIFNFTEVDVDJfVUxfVEFSR0VUICk7XG5cblx0XHQvLyBNYWtlIHRoZSBsaXN0IGRyYWctZHJvcCBzb3J0YWJsZVxuXHRcdCR1bENvbnRhaW5lci5zb3J0YWJsZSgge1xuXHRcdFx0Y29udGFpbm1lbnQ6ICdwYXJlbnQnXG5cdFx0fSApO1xuXG5cdFx0Ly8gV2l0aCBzZWxlY3QyIDQuMCwgc29ydGFibGUgaXMganVzdCByZW9yZGVyaW5nIHRoZSBVSSBlbGVtZW50cy4gIEtlZXAgdGhlIHVuZGVybHlpbmcgc2VsZWN0L29wdGlvbiBsaXN0XG5cdFx0Ly8gc3luY2VkIHdpdGggdGhlIGNoYW5nZXMuICBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9zZWxlY3QyL3NlbGVjdDIvaXNzdWVzLzMwMDRcblx0XHQkdWxDb250YWluZXIub24oICdzb3J0c3RvcCcsIGZ1bmN0aW9uICgpIHtcblx0XHRcdGNvbnN0ICRzZWxlY3RlZCA9ICR1bENvbnRhaW5lci5maW5kKCBTRUxFQ1QyX1NFTEVDVEVEX1RBUkdFVCApLmdldCgpLnJldmVyc2UoKTtcblxuXHRcdFx0alF1ZXJ5KCAkc2VsZWN0ZWQgKS5lYWNoKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdGNvbnN0IGlkID0galF1ZXJ5KCB0aGlzICkuZGF0YSggJ2RhdGEnICkuaWQ7XG5cdFx0XHRcdGNvbnN0IG9wdGlvbiA9ICRzZWxlY3QyLmZpbmQoICdvcHRpb25bdmFsdWU9XCInICsgaWQgKyAnXCJdJyApWyAwIF07XG5cblx0XHRcdFx0JHNlbGVjdDIucHJlcGVuZCggb3B0aW9uICk7XG5cdFx0XHR9ICk7XG5cdFx0fSApO1xuXHR9XG5cbn0gKTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQb2RzREZWQmFzZUlucHV0IH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvbXBvbmVudHMvYmFzZS1pbnB1dCc7XG5cbmV4cG9ydCBjb25zdCBQb2RzREZWVGV4dCA9ICggcHJvcHMgKSA9PiB7XG5cblx0cmV0dXJuIChcblx0XHQ8UG9kc0RGVkJhc2VJbnB1dFxuXHRcdFx0dHlwZT1cInRleHRcIlxuXHRcdFx0ey4uLnByb3BzfVxuXHRcdC8+XG5cdCk7XG59O1xuIiwiLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcHJvcC10eXBlcyAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGNvbnN0IFBvZHNERlZUZXh0QXJlYSA9ICggcHJvcHMgKSA9PiB7XG5cblx0Ly8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBpZiBvbkNoYW5nZSBpcyBvbWl0dGVkIGZyb20gcHJvcHNcblx0ZnVuY3Rpb24gaGFuZGxlQ2hhbmdlICggZXZlbnQgKSB7XG5cdFx0cHJvcHMuc2V0VmFsdWUoIGV2ZW50LnRhcmdldC52YWx1ZSApO1xuXHR9XG5cblx0cmV0dXJuIChcblx0XHQ8dGV4dGFyZWFcblx0XHRcdHZhbHVlPXsgcHJvcHMudmFsdWUgfVxuXHRcdFx0bmFtZT17IHByb3BzLmh0bWxBdHRyLm5hbWUgfVxuXHRcdFx0aWQ9eyBwcm9wcy5odG1sQXR0ci5pZCB9XG5cdFx0XHRjbGFzc05hbWU9eyBwcm9wcy5jbGFzc05hbWUgfVxuXHRcdFx0ZGF0YS1uYW1lLWNsZWFuPXsgcHJvcHMuaHRtbEF0dHIubmFtZV9jbGVhbiB9XG5cdFx0XHRkYXRhLWxhYmVsPXsgcHJvcHMuZmllbGRDb25maWcubGFiZWwgfVxuXHRcdFx0b25DaGFuZ2U9eyBwcm9wcy5vbkNoYW5nZSB8fCBoYW5kbGVDaGFuZ2UgfVxuXHRcdFx0b25CbHVyPXsgcHJvcHMub25CbHVyIH1cblx0XHQ+XG5cdFx0XHR7IHByb3BzLnZhbHVlIH1cblx0XHQ8L3RleHRhcmVhPlxuXHQpO1xufTtcbiIsImV4cG9ydCB7IFBvZHNERlZGaWVsZE1vZGVsIH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvcG9kcy1maWVsZC1tb2RlbCc7XG5leHBvcnQgKiBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svcmVsYXRpb25zaGlwLW1vZGVsJztcbmV4cG9ydCAqIGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS11cGxvYWQvZmlsZS11cGxvYWQtbW9kZWwnO1xuIiwiaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknO1xuaW1wb3J0IHsgbW5SZW5kZXJlciB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL3JlbmRlcmVycy9tbi1yZW5kZXJlcic7XG5pbXBvcnQgeyByZWFjdFJlbmRlcmVyIH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvcmVuZGVyZXJzL3JlYWN0LXJlbmRlcmVyJztcbmltcG9ydCB7IHJlYWN0RGlyZWN0UmVuZGVyZXIgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9yZW5kZXJlcnMvcmVhY3QtZGlyZWN0LXJlbmRlcmVyJztcbmltcG9ydCB7IFBvZHNHYk1vZGFsTGlzdGVuZXIgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9nYi1tb2RhbC1saXN0ZW5lcic7XG5pbXBvcnQgKiBhcyBmaWVsZHMgZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkLW1hbmlmZXN0JztcbmltcG9ydCAqIGFzIG1vZGVscyBmcm9tICdwb2RzLWRmdi9zcmMvbW9kZWwtbWFuaWZlc3QnO1xuXG5jb25zdCBTQ1JJUFRfVEFSR0VUID0gJ3NjcmlwdC5wb2RzLWRmdi1maWVsZC1kYXRhJzsgICAvLyBXaGF0IHNjcmlwdHMgdG8gbG9vayBmb3JcblxuY29uc3QgZmllbGRDbGFzc2VzID0gIHtcblx0J2ZpbGUnOiB7XG5cdFx0RmllbGRDbGFzczogZmllbGRzLkZpbGVVcGxvYWQsXG5cdFx0cmVuZGVyZXI6IG1uUmVuZGVyZXJcblx0fSxcblx0J2F2YXRhcic6IHtcblx0XHRGaWVsZENsYXNzOiBmaWVsZHMuRmlsZVVwbG9hZCxcblx0XHRyZW5kZXJlcjogbW5SZW5kZXJlclxuXHR9LFxuXHQncGljayc6IHtcblx0XHRGaWVsZENsYXNzOiBmaWVsZHMuUGljayxcblx0XHRyZW5kZXJlcjogbW5SZW5kZXJlclxuXHR9LFxuXHQndGV4dCc6IHtcblx0XHRGaWVsZENsYXNzOiBmaWVsZHMuUG9kc0RGVlRleHQsXG5cdFx0cmVuZGVyZXI6IHJlYWN0UmVuZGVyZXJcblx0fSxcblx0J3Bhc3N3b3JkJzoge1xuXHRcdEZpZWxkQ2xhc3M6IGZpZWxkcy5Qb2RzREZWUGFzc3dvcmQsXG5cdFx0cmVuZGVyZXI6IHJlYWN0UmVuZGVyZXJcblx0fSxcblx0J251bWJlcic6IHtcblx0XHRGaWVsZENsYXNzOiBmaWVsZHMuUG9kc0RGVk51bWJlcixcblx0XHRyZW5kZXJlcjogcmVhY3RSZW5kZXJlclxuXHR9LFxuXHQnZW1haWwnOiB7XG5cdFx0RmllbGRDbGFzczogZmllbGRzLlBvZHNERlZFbWFpbCxcblx0XHRyZW5kZXJlcjogcmVhY3RSZW5kZXJlclxuXHR9LFxuXHQncGFyYWdyYXBoJzoge1xuXHRcdEZpZWxkQ2xhc3M6IGZpZWxkcy5Qb2RzREZWVGV4dEFyZWEsXG5cdFx0cmVuZGVyZXI6IHJlYWN0UmVuZGVyZXJcblx0fSxcblx0J2VkaXQtcG9kJzoge1xuXHRcdEZpZWxkQ2xhc3M6IGZpZWxkcy5Qb2RzREZWRWRpdFBvZCxcblx0XHRyZW5kZXJlcjogcmVhY3REaXJlY3RSZW5kZXJlclxuXHR9LFxufTtcblxuY29uc3QgUG9kc0RGViA9IHtcblx0ZmllbGRzOiBmaWVsZENsYXNzZXMsXG5cdG1vZGVsczogbW9kZWxzLFxuXHRmaWVsZEluc3RhbmNlczoge30sXG5cblx0LyoqXG5cdCAqXG5cdCAqL1xuXHRpbml0OiBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gRmluZCBhbGwgaW4tbGluZSBkYXRhIHNjcmlwdHNcblx0XHRqUXVlcnkoIFNDUklQVF9UQVJHRVQgKS5lYWNoKCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRjb25zdCBwYXJlbnQgPSBqUXVlcnkoIHRoaXMgKS5wYXJlbnQoKS5nZXQoIDAgKTtcblx0XHRcdGNvbnN0IGRhdGEgPSBqUXVlcnkucGFyc2VKU09OKCBqUXVlcnkoIHRoaXMgKS5odG1sKCkgKTtcblxuXHRcdFx0Ly8gS2x1ZGdlIHRvIGRpc2FibGUgdGhlIFwiQWRkIE5ld1wiIGJ1dHRvbiBpZiB3ZSdyZSBpbnNpZGUgYSBtZWRpYSBtb2RhbC4gIFRoaXMgc2hvdWxkXG5cdFx0XHQvLyBldmVudHVhbGx5IGJlIGlyb25lZCBvdXQgc28gd2UgY2FuIHVzZSBBZGQgTmV3IGZyb20gdGhpcyBjb250ZXh0IChzZWUgIzQ4NjQpXG5cdFx0XHRpZiAoIGpRdWVyeSggdGhpcyApLnBhcmVudHMoICcubWVkaWEtbW9kYWwtY29udGVudCcgKS5sZW5ndGggKSB7XG5cdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXHRcdFx0XHRkYXRhLmZpZWxkQ29uZmlnLnBpY2tfYWxsb3dfYWRkX25ldyA9IDA7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElnbm9yZSBhbnl0aGluZyB0aGF0IGRvZXNuJ3QgaGF2ZSB0aGUgZmllbGQgdHlwZSBzZXRcblx0XHRcdGlmICggZGF0YS5maWVsZFR5cGUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0bGV0IGZpZWxkID0gZmllbGRDbGFzc2VzWyBkYXRhLmZpZWxkVHlwZSBdO1xuXG5cdFx0XHRcdGlmICggZmllbGQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHQvL3NlbGYuZmllbGRJbnN0YW5jZXNbIGRhdGEuaHRtbEF0dHIuaWQgXSA9IGZpZWxkLnJlbmRlcmVyKCBmaWVsZC5maWVsZENsYXNzLCBkYXRhICk7XG5cdFx0XHRcdFx0ZmllbGQucmVuZGVyZXIoIGZpZWxkLkZpZWxkQ2xhc3MsIHBhcmVudCwgZGF0YSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZSgpO1xuXHRcdH0gKTtcblx0fSxcblxuXHRpc01vZGFsV2luZG93OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuICggLTEgIT09IGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCAncG9kc19tb2RhbD0nICkgKTtcblx0fSxcblxuXHRpc0d1dGVuYmVyZ0VkaXRvckxvYWRlZDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiAoIHdwLmRhdGEgIT09IHVuZGVmaW5lZCAmJiB3cC5kYXRhLnNlbGVjdCggJ2NvcmUvZWRpdG9yJyApICE9PSB1bmRlZmluZWQgKTtcblx0fVxufTtcbmV4cG9ydCBkZWZhdWx0IFBvZHNERlY7XG5cbi8qKlxuICogS2ljayBldmVyeXRoaW5nIG9mZiBvbiBET01Db250ZW50TG9hZGVkXG4gKi9cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuXHRQb2RzREZWLmluaXQoKTtcblxuXHQvLyBMb2FkIHRoZSBHdXRlbmJlcmcgbW9kYWwgbGlzdGVuZXIgaWYgd2UncmUgaW5zaWRlIGEgUG9kcyBtb2RhbCB3aXRoIEd1dGVuYmVyZyBhY3RpdmVcblx0aWYgKCBQb2RzREZWLmlzTW9kYWxXaW5kb3coKSAmJiBQb2RzREZWLmlzR3V0ZW5iZXJnRWRpdG9yTG9hZGVkKCkgKSB7XG5cdFx0UG9kc0diTW9kYWxMaXN0ZW5lci5pbml0KCk7XG5cdH1cbn0gKTtcbiIsImNvbnN0IHsgX18sIHNwcmludGYgfSA9IHdwLmkxOG47XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uUnVsZXMgPSB7XG5cdHJlcXVpcmVkOiAoIHZhbHVlLCBmaWVsZExhYmVsICkgPT4ge1xuXHRcdHJldHVybiB7XG5cdFx0XHRmYWN0czogeyB2YWx1ZTogdmFsdWUgfSxcblx0XHRcdGNvbmRpdGlvbnM6IHsgdmFsdWU6IHsgZXF1YWw6ICcnIH0gfSxcblx0XHRcdGV2ZW50OiB7XG5cdFx0XHRcdG1lc3NhZ2U6IHNwcmludGYoIF9fKCAnJXMgaXMgcmVxdWlyZWQuJywgJ3BvZHMnICksIGZpZWxkTGFiZWwgKVxuXHRcdFx0fVxuXHRcdH07XG5cdH0sXG5cblx0bWF4OiAoIHZhbHVlLCBtYXggKSA9PiB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGZhY3RzOiB7IG51bWVyaWNWYWx1ZTogdmFsdWUgKiAxLCBtYXg6IG1heCAqIDEgfSxcblx0XHRcdGNvbmRpdGlvbnM6IHsgbnVtZXJpY1ZhbHVlOiB7IGdyZWF0ZXI6ICckbWF4JyB9IH0sXG5cdFx0XHRldmVudDoge1xuXHRcdFx0XHRtZXNzYWdlOiBzcHJpbnRmKCBfXyggJ0V4Y2VlZHMgdGhlIG1heGltdW0gdmFsdWUgb2YgJXMnLCAncG9kcycgKSwgbWF4IClcblx0XHRcdH1cblxuXHRcdH07XG5cdH0sXG5cblx0bWluOiAoIHZhbHVlLCBtaW4gKSA9PiB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGZhY3RzOiB7IG51bWVyaWNWYWx1ZTogdmFsdWUgKiAxLCBtaW46IG1pbiAqIDEgfSxcblx0XHRcdGNvbmRpdGlvbnM6IHsgbnVtZXJpY1ZhbHVlOiB7IGxlc3M6ICckbWluJyB9IH0sXG5cdFx0XHRldmVudDoge1xuXHRcdFx0XHRtZXNzYWdlOiBzcHJpbnRmKCBfXyggJ0JlbG93IHRoZSBtaW5pbXVtIHZhbHVlIG9mICVzJywgJ3BvZHMnICksIG1pbiApXG5cdFx0XHR9XG5cblx0XHR9O1xuXHR9LFxuXG5cdGVtYWlsRm9ybWF0OiAoIHZhbHVlICkgPT4ge1xuXHRcdGNvbnN0IGVtYWlsUmVnZXggPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcblxuXHRcdHJldHVybiB7XG5cdFx0XHRmYWN0czogeyB2YWx1ZTogdmFsdWUsIGVtYWlsUmVnZXg6IGVtYWlsUmVnZXggfSxcblx0XHRcdGNvbmRpdGlvbnM6IHtcblx0XHRcdFx0bm90OiB7XG5cdFx0XHRcdFx0b3I6IFtcblx0XHRcdFx0XHRcdHsgdmFsdWU6IHsgZXF1YWw6ICcnIH0gfSxcblx0XHRcdFx0XHRcdHsgZW1haWxSZWdleDogeyBtYXRjaGVzOiB2YWx1ZSB9IH1cblx0XHRcdFx0XHRdXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRldmVudDoge1xuXHRcdFx0XHRtZXNzYWdlOiBfXyggJ0ludmFsaWQgZW1haWwgYWRkcmVzcyBmb3JtYXQnIClcblx0XHRcdH1cblx0XHR9O1xuXHR9XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmNvbnN0IHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGU7XG5jb25zdCB1c2VFZmZlY3QgPSBSZWFjdC51c2VFZmZlY3Q7XG5pbXBvcnQgRW5naW5lIGZyb20gJ2pzb24tcnVsZXMtZW5naW5lLXNpbXBsaWZpZWQnO1xuXG4vKipcbiAqXG4gKiBAcmV0dXJuXG4gKiB7XG4gKiAgICAge2Z1bmN0aW9ufSBhZGRSdWxlc1xuICogICAgIHtmdW5jdGlvbn0gdXNlVmFsaWRhdGlvbixcbiAqIFx0fVxuICovXG5leHBvcnQgY29uc3QgcG9kc1ZhbGlkYXRpb24gPSAoKSA9PiB7XG5cdGNvbnN0IFsgdmFsaWRhdGlvbk1lc3NhZ2VzLCBzZXRWYWxpZGF0aW9uTWVzc2FnZXMgXSA9IHVzZVN0YXRlKCBbXSApO1xuXHRjb25zdCBydWxlcyA9IFtdO1xuXHRsZXQgZmFjdHMgPSB7fTtcblxuXHQvKipcblx0ICpcblx0ICogQHBhcmFtIGNvbmRpdGlvbmFsUnVsZXNcblx0ICovXG5cdGNvbnN0IGFkZFJ1bGVzID0gKCBjb25kaXRpb25hbFJ1bGVzICkgPT4ge1xuXHRcdGNvbmRpdGlvbmFsUnVsZXMuZm9yRWFjaCggY29uZGl0aW9uYWxSdWxlID0+IHtcblx0XHRcdGlmICggY29uZGl0aW9uYWxSdWxlLmNvbmRpdGlvbiApIHtcblx0XHRcdFx0cnVsZXMucHVzaCggY29uZGl0aW9uYWxSdWxlLnJ1bGUgKTtcblx0XHRcdFx0aWYgKCBjb25kaXRpb25hbFJ1bGUucnVsZS5mYWN0cyApIHtcblx0XHRcdFx0XHRmYWN0cyA9IE9iamVjdC5hc3NpZ24oIGZhY3RzLCBjb25kaXRpb25hbFJ1bGUucnVsZS5mYWN0cyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9O1xuXG5cdC8qKlxuXHQgKlxuXHQgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59XG5cdCAqL1xuXHRjb25zdCBjaGVja1ZhbGlkYXRpb24gPSAoKSA9PiB7XG5cdFx0Y29uc3QgcnVsZXNFbmdpbmUgPSBuZXcgRW5naW5lKCBydWxlcyApO1xuXHRcdGNvbnN0IG1lc3NhZ2VzID0gW107XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoICggcmVzb2x2ZSApID0+IHtcblx0XHRcdC8vIG5vaW5zcGVjdGlvbiBKU1VucmVzb2x2ZWRGdW5jdGlvblxuXHRcdFx0cnVsZXNFbmdpbmUucnVuKCBmYWN0cyApXG5cdFx0XHQudGhlbihcblx0XHRcdFx0ZXZlbnRzID0+IHtcblx0XHRcdFx0XHRldmVudHMuZm9yRWFjaCggZXZlbnQgPT4ge1xuXHRcdFx0XHRcdFx0bWVzc2FnZXMucHVzaCggZXZlbnQubWVzc2FnZSApO1xuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fVxuXHRcdFx0KVxuXHRcdFx0LmZpbmFsbHkoICgpID0+IHtcblx0XHRcdFx0cmVzb2x2ZSggbWVzc2FnZXMgKTtcblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH07XG5cblx0LyoqXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgZmllbGQncyB2YWx1ZVxuXHQgKlxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IEFycmF5IG9mIG1lc3NhZ2VzIGZvciBhbGwgdmFsaWRhdGlvbiBmYWlsdXJlc1xuXHQgKi9cblx0Y29uc3QgdXNlVmFsaWRhdGlvbiA9ICggdmFsdWUgKSA9PiB7XG5cdFx0dXNlRWZmZWN0KCAoKSA9PiB7XG5cdFx0XHRjaGVja1ZhbGlkYXRpb24oKVxuXHRcdFx0LnRoZW4oIG1lc3NhZ2VzID0+IHNldFZhbGlkYXRpb25NZXNzYWdlcyggbWVzc2FnZXMgKSApO1xuXHRcdH0sIFsgdmFsdWUgXSApO1xuXG5cdFx0cmV0dXJuIHZhbGlkYXRpb25NZXNzYWdlcztcblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdGFkZFJ1bGVzOiBhZGRSdWxlcyxcblx0XHR1c2VWYWxpZGF0aW9uOiB1c2VWYWxpZGF0aW9uXG5cdH07XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBqUXVlcnk7IiwibW9kdWxlLmV4cG9ydHMgPSBsb2Rhc2g7IiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdDsiLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NOyJdLCJzb3VyY2VSb290IjoiIn0=