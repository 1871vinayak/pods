/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./ui/js/pods-dfv/src/pods-dfv.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/asap/browser-asap.js":
/*!*******************************************!*\
  !*** ./node_modules/asap/browser-asap.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// rawAsap provides everything we need except exception management.
var rawAsap = __webpack_require__(/*! ./raw */ "./node_modules/asap/browser-raw.js");
// RawTasks are recycled to reduce GC churn.
var freeTasks = [];
// We queue errors to ensure they are thrown in right order (FIFO).
// Array-as-queue is good enough here, since we are just dealing with exceptions.
var pendingErrors = [];
var requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);

function throwFirstError() {
    if (pendingErrors.length) {
        throw pendingErrors.shift();
    }
}

/**
 * Calls a task as soon as possible after returning, in its own event, with priority
 * over other events like animation, reflow, and repaint. An error thrown from an
 * event will not interrupt, nor even substantially slow down the processing of
 * other events, but will be rather postponed to a lower priority event.
 * @param {{call}} task A callable object, typically a function that takes no
 * arguments.
 */
module.exports = asap;
function asap(task) {
    var rawTask;
    if (freeTasks.length) {
        rawTask = freeTasks.pop();
    } else {
        rawTask = new RawTask();
    }
    rawTask.task = task;
    rawAsap(rawTask);
}

// We wrap tasks with recyclable task objects.  A task object implements
// `call`, just like a function.
function RawTask() {
    this.task = null;
}

// The sole purpose of wrapping the task is to catch the exception and recycle
// the task object after its single use.
RawTask.prototype.call = function () {
    try {
        this.task.call();
    } catch (error) {
        if (asap.onerror) {
            // This hook exists purely for testing purposes.
            // Its name will be periodically randomized to break any code that
            // depends on its existence.
            asap.onerror(error);
        } else {
            // In a web browser, exceptions are not fatal. However, to avoid
            // slowing down the queue of pending tasks, we rethrow the error in a
            // lower priority turn.
            pendingErrors.push(error);
            requestErrorThrow();
        }
    } finally {
        this.task = null;
        freeTasks[freeTasks.length] = this;
    }
};


/***/ }),

/***/ "./node_modules/asap/browser-raw.js":
/*!******************************************!*\
  !*** ./node_modules/asap/browser-raw.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {

// Use the fastest means possible to execute a task in its own turn, with
// priority over other events including IO, animation, reflow, and redraw
// events in browsers.
//
// An exception thrown by a task will permanently interrupt the processing of
// subsequent tasks. The higher level `asap` function ensures that if an
// exception is thrown by a task, that the task queue will continue flushing as
// soon as possible, but if you use `rawAsap` directly, you are responsible to
// either ensure that no exceptions are thrown from your task, or to manually
// call `rawAsap.requestFlush` if an exception is thrown.
module.exports = rawAsap;
function rawAsap(task) {
    if (!queue.length) {
        requestFlush();
        flushing = true;
    }
    // Equivalent to push, but avoids a function call.
    queue[queue.length] = task;
}

var queue = [];
// Once a flush has been requested, no further calls to `requestFlush` are
// necessary until the next `flush` completes.
var flushing = false;
// `requestFlush` is an implementation-specific method that attempts to kick
// off a `flush` event as quickly as possible. `flush` will attempt to exhaust
// the event queue before yielding to the browser's own event loop.
var requestFlush;
// The position of the next task to execute in the task queue. This is
// preserved between calls to `flush` so that it can be resumed if
// a task throws an exception.
var index = 0;
// If a task schedules additional tasks recursively, the task queue can grow
// unbounded. To prevent memory exhaustion, the task queue will periodically
// truncate already-completed tasks.
var capacity = 1024;

// The flush function processes all tasks that have been scheduled with
// `rawAsap` unless and until one of those tasks throws an exception.
// If a task throws an exception, `flush` ensures that its state will remain
// consistent and will resume where it left off when called again.
// However, `flush` does not make any arrangements to be called again if an
// exception is thrown.
function flush() {
    while (index < queue.length) {
        var currentIndex = index;
        // Advance the index before calling the task. This ensures that we will
        // begin flushing on the next task the task throws an error.
        index = index + 1;
        queue[currentIndex].call();
        // Prevent leaking memory for long chains of recursive calls to `asap`.
        // If we call `asap` within tasks scheduled by `asap`, the queue will
        // grow, but to avoid an O(n) walk for every task we execute, we don't
        // shift tasks off the queue after they have been executed.
        // Instead, we periodically shift 1024 tasks off the queue.
        if (index > capacity) {
            // Manually shift all values starting at the index back to the
            // beginning of the queue.
            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {
                queue[scan] = queue[scan + index];
            }
            queue.length -= index;
            index = 0;
        }
    }
    queue.length = 0;
    index = 0;
    flushing = false;
}

// `requestFlush` is implemented using a strategy based on data collected from
// every available SauceLabs Selenium web driver worker at time of writing.
// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593

// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that
// have WebKitMutationObserver but not un-prefixed MutationObserver.
// Must use `global` or `self` instead of `window` to work in both frames and web
// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.

/* globals self */
var scope = typeof global !== "undefined" ? global : self;
var BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;

// MutationObservers are desirable because they have high priority and work
// reliably everywhere they are implemented.
// They are implemented in all modern browsers.
//
// - Android 4-4.3
// - Chrome 26-34
// - Firefox 14-29
// - Internet Explorer 11
// - iPad Safari 6-7.1
// - iPhone Safari 7-7.1
// - Safari 6-7
if (typeof BrowserMutationObserver === "function") {
    requestFlush = makeRequestCallFromMutationObserver(flush);

// MessageChannels are desirable because they give direct access to the HTML
// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera
// 11-12, and in web workers in many engines.
// Although message channels yield to any queued rendering and IO tasks, they
// would be better than imposing the 4ms delay of timers.
// However, they do not work reliably in Internet Explorer or Safari.

// Internet Explorer 10 is the only browser that has setImmediate but does
// not have MutationObservers.
// Although setImmediate yields to the browser's renderer, it would be
// preferrable to falling back to setTimeout since it does not have
// the minimum 4ms penalty.
// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and
// Desktop to a lesser extent) that renders both setImmediate and
// MessageChannel useless for the purposes of ASAP.
// https://github.com/kriskowal/q/issues/396

// Timers are implemented universally.
// We fall back to timers in workers in most engines, and in foreground
// contexts in the following browsers.
// However, note that even this simple case requires nuances to operate in a
// broad spectrum of browsers.
//
// - Firefox 3-13
// - Internet Explorer 6-9
// - iPad Safari 4.3
// - Lynx 2.8.7
} else {
    requestFlush = makeRequestCallFromTimer(flush);
}

// `requestFlush` requests that the high priority event queue be flushed as
// soon as possible.
// This is useful to prevent an error thrown in a task from stalling the event
// queue if the exception handled by Node.js’s
// `process.on("uncaughtException")` or by a domain.
rawAsap.requestFlush = requestFlush;

// To request a high priority event, we induce a mutation observer by toggling
// the text of a text node between "1" and "-1".
function makeRequestCallFromMutationObserver(callback) {
    var toggle = 1;
    var observer = new BrowserMutationObserver(callback);
    var node = document.createTextNode("");
    observer.observe(node, {characterData: true});
    return function requestCall() {
        toggle = -toggle;
        node.data = toggle;
    };
}

// The message channel technique was discovered by Malte Ubl and was the
// original foundation for this library.
// http://www.nonblocking.io/2011/06/windownexttick.html

// Safari 6.0.5 (at least) intermittently fails to create message ports on a
// page's first load. Thankfully, this version of Safari supports
// MutationObservers, so we don't need to fall back in that case.

// function makeRequestCallFromMessageChannel(callback) {
//     var channel = new MessageChannel();
//     channel.port1.onmessage = callback;
//     return function requestCall() {
//         channel.port2.postMessage(0);
//     };
// }

// For reasons explained above, we are also unable to use `setImmediate`
// under any circumstances.
// Even if we were, there is another bug in Internet Explorer 10.
// It is not sufficient to assign `setImmediate` to `requestFlush` because
// `setImmediate` must be called *by name* and therefore must be wrapped in a
// closure.
// Never forget.

// function makeRequestCallFromSetImmediate(callback) {
//     return function requestCall() {
//         setImmediate(callback);
//     };
// }

// Safari 6.0 has a problem where timers will get lost while the user is
// scrolling. This problem does not impact ASAP because Safari 6.0 supports
// mutation observers, so that implementation is used instead.
// However, if we ever elect to use timers in Safari, the prevalent work-around
// is to add a scroll event listener that calls for a flush.

// `setTimeout` does not call the passed callback if the delay is less than
// approximately 7 in web workers in Firefox 8 through 18, and sometimes not
// even then.

function makeRequestCallFromTimer(callback) {
    return function requestCall() {
        // We dispatch a timeout with a specified delay of 0 for engines that
        // can reliably accommodate that request. This will usually be snapped
        // to a 4 milisecond delay, but once we're flushing, there's no delay
        // between events.
        var timeoutHandle = setTimeout(handleTimer, 0);
        // However, since this timer gets frequently dropped in Firefox
        // workers, we enlist an interval handle that will try to fire
        // an event 20 times per second until it succeeds.
        var intervalHandle = setInterval(handleTimer, 50);

        function handleTimer() {
            // Whichever timer succeeds will cancel both timers and
            // execute the callback.
            clearTimeout(timeoutHandle);
            clearInterval(intervalHandle);
            callback();
        }
    };
}

// This is for `asap.js` only.
// Its name will be periodically randomized to break any code that depends on
// its existence.
rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;

// ASAP was originally a nextTick shim included in Q. This was factored out
// into this ASAP package. It was later adapted to RSVP which made further
// amendments. These decisions, particularly to marginalize MessageChannel and
// to capture the MutationObserver implementation in a closure, were integrated
// back into ASAP proper.
// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/brackets2dots/index.js":
/*!*********************************************!*\
  !*** ./node_modules/brackets2dots/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*!
 * exports.
 */

module.exports = brackets2dots;

/*!
 * regexp patterns.
 */

var REPLACE_BRACKETS = /\[([^\[\]]+)\]/g;
var LFT_RT_TRIM_DOTS = /^[.]*|[.]*$/g;

/**
 * Convert string with bracket notation to dot property notation.
 *
 * ### Examples:
 *
 *      brackets2dots('group[0].section.a.seat[3]')
 *      //=> 'group.0.section.a.seat.3'
 *
 *      brackets2dots('[0].section.a.seat[3]')
 *      //=> '0.section.a.seat.3'
 *
 *      brackets2dots('people[*].age')
 *      //=> 'people.*.age'
 *
 * @param  {String} string
 * original string
 *
 * @return {String}
 * dot/bracket-notation string
 */

function brackets2dots(string) {
  return ({}).toString.call(string) == '[object String]'
       ? string.replace(REPLACE_BRACKETS, '.$1').replace(LFT_RT_TRIM_DOTS, '')
       : ''
}


/***/ }),

/***/ "./node_modules/classnames/index.js":
/*!******************************************!*\
  !*** ./node_modules/classnames/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/* global define */

(function () {
	'use strict';

	var hasOwn = {}.hasOwnProperty;

	function classNames () {
		var classes = [];

		for (var i = 0; i < arguments.length; i++) {
			var arg = arguments[i];
			if (!arg) continue;

			var argType = typeof arg;

			if (argType === 'string' || argType === 'number') {
				classes.push(arg);
			} else if (Array.isArray(arg) && arg.length) {
				var inner = classNames.apply(null, arg);
				if (inner) {
					classes.push(inner);
				}
			} else if (argType === 'object') {
				for (var key in arg) {
					if (hasOwn.call(arg, key) && arg[key]) {
						classes.push(key);
					}
				}
			}
		}

		return classes.join(' ');
	}

	if ( true && module.exports) {
		classNames.default = classNames;
		module.exports = classNames;
	} else if (true) {
		// register as 'classnames', consistent with npm package name
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function () {
			return classNames;
		}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}());


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss":
/*!******************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss ***!
  \******************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".opacity-ghost {\n  transition: all .8s ease;\n  opacity: 0.4;\n  box-shadow: 3px 3px 10px 3px rgba(0, 0, 0, 0.3);\n  cursor: ns-resize; }\n\n.pods-field_wrapper {\n  display: flex;\n  width: auto;\n  background-color: #fff;\n  align-items: center;\n  transition: 200ms ease background-color; }\n  .pods-field_wrapper:hover {\n    background-color: #f3f3f3; }\n\n.pods-field_handle {\n  width: 20px;\n  opacity: .2;\n  padding-left: 10px;\n  padding-right: 10px;\n  cursor: move;\n  margin-bottom: -5px; }\n\n.pods-field_required {\n  color: red; }\n\n.pods-field_actions {\n  display: flex; }\n\n.pods-field_actions i {\n  padding: 10px;\n  color: #0073aa; }\n  .pods-field_actions i:hover {\n    cursor: pointer;\n    color: #00a0d2; }\n\n.pods-field_label {\n  padding-left: 0; }\n\n.pods-field_label:hover .pods-field_id,\n.pods-field_type:hover .pods-field_id {\n  opacity: 1;\n  height: auto; }\n\n.pods-field_id {\n  font-size: 13px;\n  color: #999;\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n  transition: 200ms ease opacity;\n  display: block; }\n\n.pods-field_label,\n.pods-field_name {\n  color: #0073aa; }\n  .pods-field_label:hover,\n  .pods-field_name:hover {\n    cursor: pointer;\n    color: #00a0d2; }\n\n.pods-field_label,\n.pods-field_type {\n  width: 30%; }\n\n.pods-field_name {\n  display: none; }\n\n.pods-field_wrapper-labels {\n  display: flex;\n  width: 100%;\n  background-color: #f5f5f5;\n  font-weight: 600;\n  border: 1px solid #e5e5e5;\n  border-left: none;\n  border-right: none; }\n  .pods-field_wrapper-labels:first-child {\n    border-top: none; }\n\n.pods-field_wrapper-labels .pods-field_handle {\n  cursor: inherit; }\n\n.pods-field_wrapper-label-items {\n  justify-content: flex-start; }\n  .pods-field_wrapper-label-items:first-child {\n    margin-left: 46px; }\n\n.pods-field-group-wrapper {\n  background-color: #fff;\n  margin-bottom: 10px; }\n  .pods-field-group-wrapper > .pods-field_wrapper {\n    background-color: #f3f3f3; }\n    .pods-field-group-wrapper > .pods-field_wrapper:hover {\n      background-color: #e4e4e4; }\n  .pods-field-group-wrapper:last-child {\n    border-bottom: 0; }\n\n.pods-field-group_title {\n  padding: 10px;\n  display: flex;\n  color: #333;\n  border: 1px solid #e5e5e5;\n  align-items: center; }\n\n.pods-field-group_handle {\n  padding-right: 13px;\n  display: flex;\n  cursor: move; }\n\n.pods-field-group_edit {\n  margin-left: auto;\n  color: #0073aa;\n  transition-property: border,background,color;\n  transition-duration: .05s;\n  transition-timing-function: ease-in-out;\n  text-decoration: underline;\n  margin-right: 10px;\n  cursor: pointer; }\n\n.pods-button-group_container {\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n  margin-top: 10px; }\n\n.pods-field-group_toggle {\n  cursor: pointer; }\n\n.pods-button-group_item {\n  padding: 10px 20px;\n  color: #333;\n  text-decoration: none;\n  transition: 300ms ease background-color; }\n  .pods-button-group_item:hover {\n    background-color: #e0e0e0; }\n  .pods-button-group_item:last-child {\n    background-color: #94bf3a;\n    color: white; }\n    .pods-button-group_item:last-child:hover {\n      background-color: #7c9e33; }\n\n.pods-field-group_settings {\n  width: 100%;\n  height: 100%; }\n  .pods-field-group_settings--visible {\n    display: block; }\n\n.pods-field-group_settings .components-modal__content {\n  padding: 0; }\n\n.pods-field-group_settings .components-modal__header {\n  padding: 0 36px;\n  margin-bottom: 0; }\n\n.pods-field-group_settings-container {\n  width: 100%;\n  margin: 0 auto;\n  background-color: #eeeeee;\n  position: absolute;\n  height: calc(100% - 56px); }\n\n.pods-field-group_settings-options {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\n.pods-field-group_heading {\n  border-bottom: 1px solid #e5e5e5;\n  padding: 10px;\n  font-weight: bolder;\n  font-size: 16px; }\n\n.pods-field-group_settings-sidebar {\n  width: 35%;\n  background-color: #f3f3f3;\n  position: absolute;\n  left: 0;\n  height: 100%; }\n  .pods-field-group_settings-sidebar-item {\n    padding: 10px;\n    border-bottom: 1px solid #c6cbd0;\n    cursor: pointer;\n    transition: 300ms ease background-color; }\n    .pods-field-group_settings-sidebar-item:last-child {\n      border-bottom: none; }\n    .pods-field-group_settings-sidebar-item--active {\n      background-color: #eee;\n      font-weight: bolder;\n      margin-right: -2px; }\n    .pods-field-group_settings-sidebar-item:hover {\n      background-color: #eee; }\n\n.pods-field-group_settings-main,\n.pods-field-group_settings-advanced,\n.pods-field-group_settings-other {\n  width: 65%;\n  padding: 20px;\n  position: absolute;\n  left: 35%; }\n\n.pods-input-container {\n  display: flex;\n  align-items: center;\n  padding-bottom: 20px; }\n  .pods-input-container:last-child {\n    padding-bottom: 0; }\n\n.pods-label_text {\n  width: 30%;\n  padding-right: 20px;\n  font-weight: bold; }\n\n.pods-input {\n  width: 70%; }\n\n/* Media Queries */\n@media screen and (min-width: 850px) {\n  .pods-field_name {\n    display: block; }\n  .pods-field_id {\n    display: inline; } }\n", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss":
/*!*******************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss ***!
  \*******************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".pods-manage-fields {\n  border-left: 1px solid #e5e5e5;\n  border-right: 1px solid #e5e5e5; }\n\n.pods-manage-fields.no-fields {\n  font-weight: bold;\n  padding: 1em; }\n\n.pods-field_handle {\n  width: auto;\n  opacity: .2; }\n\n.pods-field_required {\n  color: red; }\n\n.pods-field_actions {\n  display: flex;\n  width: auto; }\n\n.pods-field_actions .dashicon {\n  padding: 12px 10px;\n  color: #0073aa; }\n  .pods-field_actions .dashicon:hover {\n    cursor: pointer;\n    color: #00a0d2; }\n\n.pods-field_label {\n  padding-left: 0; }\n\n.pods-field_label:hover .pods-field_id,\n.pods-field_type:hover .pods-field_id {\n  opacity: 1; }\n\n.pods-field_id {\n  font-size: 13px;\n  color: #999;\n  display: inline;\n  opacity: 0;\n  transition: 200ms ease opacity; }\n\n.pods-field_label,\n.pods-field_name {\n  color: #0073aa; }\n  .pods-field_label:hover,\n  .pods-field_name:hover {\n    cursor: pointer;\n    color: #00a0d2; }\n\n.pods-field_label {\n  flex: 1; }\n\n.pods-field_name {\n  flex: 1; }\n\n.pods-field_wrapper-labels {\n  display: flex;\n  width: 100%;\n  background-color: #fff;\n  border-bottom: 2px solid whitesmoke; }\n\n.pods-field_wrapper-label-items {\n  width: 172px;\n  padding: 20px 20px 17px;\n  justify-content: flex-start; }\n  .pods-field_wrapper-label-items:first-child {\n    margin-left: 36px; }\n", ""]);



/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function (useSourceMap) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item, useSourceMap);

      if (item[2]) {
        return '@media ' + item[2] + '{' + content + '}';
      } else {
        return content;
      }
    }).join('');
  }; // import a list of modules into the list


  list.i = function (modules, mediaQuery) {
    if (typeof modules === 'string') {
      modules = [[null, modules, '']];
    }

    var alreadyImportedModules = {};

    for (var i = 0; i < this.length; i++) {
      var id = this[i][0];

      if (id != null) {
        alreadyImportedModules[id] = true;
      }
    }

    for (i = 0; i < modules.length; i++) {
      var item = modules[i]; // skip already imported module
      // this implementation is not 100% perfect for weird media query combinations
      // when a module is imported multiple times with different media queries.
      // I hope this will never occur (Hey this way we have smaller bundles)

      if (item[0] == null || !alreadyImportedModules[item[0]]) {
        if (mediaQuery && !item[2]) {
          item[2] = mediaQuery;
        } else if (mediaQuery) {
          item[2] = '(' + item[2] + ') and (' + mediaQuery + ')';
        }

        list.push(item);
      }
    }
  };

  return list;
};

function cssWithMappingToString(item, useSourceMap) {
  var content = item[1] || '';
  var cssMapping = item[3];

  if (!cssMapping) {
    return content;
  }

  if (useSourceMap && typeof btoa === 'function') {
    var sourceMapping = toComment(cssMapping);
    var sourceURLs = cssMapping.sources.map(function (source) {
      return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */';
    });
    return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
  }

  return [content].join('\n');
} // Adapted from convert-source-map (MIT)


function toComment(sourceMap) {
  // eslint-disable-next-line no-undef
  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
  var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;
  return '/*# ' + data + ' */';
}

/***/ }),

/***/ "./node_modules/curry2/index.js":
/*!**************************************!*\
  !*** ./node_modules/curry2/index.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/*!
 * imports.
 */

var bind = Function.prototype.bind || __webpack_require__(/*! fast-bind */ "./node_modules/fast-bind/bind-loop.js")

/*!
 * exports.
 */

module.exports = curry2

/**
 * Curry a binary function.
 *
 * @param {Function} fn
 * Binary function to curry.
 *
 * @param {Object} [self]
 * Function `this` context.
 *
 * @return {Function|*}
 * If partially applied, return unary function, otherwise, return result of full application.
 */

function curry2 (fn, self) {
  var out = function () {
    if (arguments.length === 0) return out

    return arguments.length > 1
      ? fn.apply(self, arguments)
      : bind.call(fn, self, arguments[0])
  }

  out.uncurry = function uncurry () {
    return fn
  }

  return out
}


/***/ }),

/***/ "./node_modules/debug/src/browser.js":
/*!*******************************************!*\
  !*** ./node_modules/debug/src/browser.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process) {/**
 * This is the web browser implementation of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = __webpack_require__(/*! ./debug */ "./node_modules/debug/src/debug.js");
exports.log = log;
exports.formatArgs = formatArgs;
exports.save = save;
exports.load = load;
exports.useColors = useColors;
exports.storage = 'undefined' != typeof chrome
               && 'undefined' != typeof chrome.storage
                  ? chrome.storage.local
                  : localstorage();

/**
 * Colors.
 */

exports.colors = [
  'lightseagreen',
  'forestgreen',
  'goldenrod',
  'dodgerblue',
  'darkorchid',
  'crimson'
];

/**
 * Currently only WebKit-based Web Inspectors, Firefox >= v31,
 * and the Firebug extension (any Firefox version) are known
 * to support "%c" CSS customizations.
 *
 * TODO: add a `localStorage` variable to explicitly enable/disable colors
 */

function useColors() {
  // NB: In an Electron preload script, document will be defined but not fully
  // initialized. Since we know we're in Chrome, we'll just detect this case
  // explicitly
  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {
    return true;
  }

  // is webkit? http://stackoverflow.com/a/16459606/376773
  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632
  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||
    // is firebug? http://stackoverflow.com/a/398120/376773
    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||
    // is firefox >= v31?
    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||
    // double check webkit in userAgent just in case we are in a worker
    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/));
}

/**
 * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.
 */

exports.formatters.j = function(v) {
  try {
    return JSON.stringify(v);
  } catch (err) {
    return '[UnexpectedJSONParseError]: ' + err.message;
  }
};


/**
 * Colorize log arguments if enabled.
 *
 * @api public
 */

function formatArgs(args) {
  var useColors = this.useColors;

  args[0] = (useColors ? '%c' : '')
    + this.namespace
    + (useColors ? ' %c' : ' ')
    + args[0]
    + (useColors ? '%c ' : ' ')
    + '+' + exports.humanize(this.diff);

  if (!useColors) return;

  var c = 'color: ' + this.color;
  args.splice(1, 0, c, 'color: inherit')

  // the final "%c" is somewhat tricky, because there could be other
  // arguments passed either before or after the %c, so we need to
  // figure out the correct index to insert the CSS into
  var index = 0;
  var lastC = 0;
  args[0].replace(/%[a-zA-Z%]/g, function(match) {
    if ('%%' === match) return;
    index++;
    if ('%c' === match) {
      // we only are interested in the *last* %c
      // (the user may have provided their own)
      lastC = index;
    }
  });

  args.splice(lastC, 0, c);
}

/**
 * Invokes `console.log()` when available.
 * No-op when `console.log` is not a "function".
 *
 * @api public
 */

function log() {
  // this hackery is required for IE8/9, where
  // the `console.log` function doesn't have 'apply'
  return 'object' === typeof console
    && console.log
    && Function.prototype.apply.call(console.log, console, arguments);
}

/**
 * Save `namespaces`.
 *
 * @param {String} namespaces
 * @api private
 */

function save(namespaces) {
  try {
    if (null == namespaces) {
      exports.storage.removeItem('debug');
    } else {
      exports.storage.debug = namespaces;
    }
  } catch(e) {}
}

/**
 * Load `namespaces`.
 *
 * @return {String} returns the previously persisted debug modes
 * @api private
 */

function load() {
  var r;
  try {
    r = exports.storage.debug;
  } catch(e) {}

  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG
  if (!r && typeof process !== 'undefined' && 'env' in process) {
    r = process.env.DEBUG;
  }

  return r;
}

/**
 * Enable namespaces listed in `localStorage.debug` initially.
 */

exports.enable(load());

/**
 * Localstorage attempts to return the localstorage.
 *
 * This is necessary because safari throws
 * when a user disables cookies/localstorage
 * and you attempt to access it.
 *
 * @return {LocalStorage}
 * @api private
 */

function localstorage() {
  try {
    return window.localStorage;
  } catch (e) {}
}

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../process/browser.js */ "./node_modules/process/browser.js")))

/***/ }),

/***/ "./node_modules/debug/src/debug.js":
/*!*****************************************!*\
  !*** ./node_modules/debug/src/debug.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


/**
 * This is the common logic for both the Node.js and web browser
 * implementations of `debug()`.
 *
 * Expose `debug()` as the module.
 */

exports = module.exports = createDebug.debug = createDebug['default'] = createDebug;
exports.coerce = coerce;
exports.disable = disable;
exports.enable = enable;
exports.enabled = enabled;
exports.humanize = __webpack_require__(/*! ms */ "./node_modules/ms/index.js");

/**
 * The currently active debug mode names, and names to skip.
 */

exports.names = [];
exports.skips = [];

/**
 * Map of special "%n" handling functions, for the debug "format" argument.
 *
 * Valid key names are a single, lower or upper-case letter, i.e. "n" and "N".
 */

exports.formatters = {};

/**
 * Previous log timestamp.
 */

var prevTime;

/**
 * Select a color.
 * @param {String} namespace
 * @return {Number}
 * @api private
 */

function selectColor(namespace) {
  var hash = 0, i;

  for (i in namespace) {
    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);
    hash |= 0; // Convert to 32bit integer
  }

  return exports.colors[Math.abs(hash) % exports.colors.length];
}

/**
 * Create a debugger with the given `namespace`.
 *
 * @param {String} namespace
 * @return {Function}
 * @api public
 */

function createDebug(namespace) {

  function debug() {
    // disabled?
    if (!debug.enabled) return;

    var self = debug;

    // set `diff` timestamp
    var curr = +new Date();
    var ms = curr - (prevTime || curr);
    self.diff = ms;
    self.prev = prevTime;
    self.curr = curr;
    prevTime = curr;

    // turn the `arguments` into a proper Array
    var args = new Array(arguments.length);
    for (var i = 0; i < args.length; i++) {
      args[i] = arguments[i];
    }

    args[0] = exports.coerce(args[0]);

    if ('string' !== typeof args[0]) {
      // anything else let's inspect with %O
      args.unshift('%O');
    }

    // apply any `formatters` transformations
    var index = 0;
    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {
      // if we encounter an escaped % then don't increase the array index
      if (match === '%%') return match;
      index++;
      var formatter = exports.formatters[format];
      if ('function' === typeof formatter) {
        var val = args[index];
        match = formatter.call(self, val);

        // now we need to remove `args[index]` since it's inlined in the `format`
        args.splice(index, 1);
        index--;
      }
      return match;
    });

    // apply env-specific formatting (colors, etc.)
    exports.formatArgs.call(self, args);

    var logFn = debug.log || exports.log || console.log.bind(console);
    logFn.apply(self, args);
  }

  debug.namespace = namespace;
  debug.enabled = exports.enabled(namespace);
  debug.useColors = exports.useColors();
  debug.color = selectColor(namespace);

  // env-specific initialization logic for debug instances
  if ('function' === typeof exports.init) {
    exports.init(debug);
  }

  return debug;
}

/**
 * Enables a debug mode by namespaces. This can include modes
 * separated by a colon and wildcards.
 *
 * @param {String} namespaces
 * @api public
 */

function enable(namespaces) {
  exports.save(namespaces);

  exports.names = [];
  exports.skips = [];

  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\s,]+/);
  var len = split.length;

  for (var i = 0; i < len; i++) {
    if (!split[i]) continue; // ignore empty strings
    namespaces = split[i].replace(/\*/g, '.*?');
    if (namespaces[0] === '-') {
      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));
    } else {
      exports.names.push(new RegExp('^' + namespaces + '$'));
    }
  }
}

/**
 * Disable debug output.
 *
 * @api public
 */

function disable() {
  exports.enable('');
}

/**
 * Returns true if the given mode name is enabled, false otherwise.
 *
 * @param {String} name
 * @return {Boolean}
 * @api public
 */

function enabled(name) {
  var i, len;
  for (i = 0, len = exports.skips.length; i < len; i++) {
    if (exports.skips[i].test(name)) {
      return false;
    }
  }
  for (i = 0, len = exports.names.length; i < len; i++) {
    if (exports.names[i].test(name)) {
      return true;
    }
  }
  return false;
}

/**
 * Coerce `val`.
 *
 * @param {Mixed} val
 * @return {Mixed}
 * @api private
 */

function coerce(val) {
  if (val instanceof Error) return val.stack || val.message;
  return val;
}


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/DragDropManagerImpl.js":
/*!**************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/DragDropManagerImpl.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var redux_1 = __webpack_require__(/*! redux */ "./node_modules/redux/es/redux.js");
var reducers_1 = __webpack_require__(/*! ./reducers */ "./node_modules/dnd-core/lib/cjs/reducers/index.js");
var dragDrop_1 = __webpack_require__(/*! ./actions/dragDrop */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js");
var DragDropMonitorImpl_1 = __webpack_require__(/*! ./DragDropMonitorImpl */ "./node_modules/dnd-core/lib/cjs/DragDropMonitorImpl.js");
var HandlerRegistryImpl_1 = __webpack_require__(/*! ./HandlerRegistryImpl */ "./node_modules/dnd-core/lib/cjs/HandlerRegistryImpl.js");
function makeStoreInstance(debugMode) {
    // TODO: if we ever make a react-native version of this,
    // we'll need to consider how to pull off dev-tooling
    var reduxDevTools = typeof window !== 'undefined' &&
        window.__REDUX_DEVTOOLS_EXTENSION__;
    return redux_1.createStore(reducers_1.default, debugMode &&
        reduxDevTools &&
        reduxDevTools({
            name: 'dnd-core',
            instanceId: 'dnd-core',
        }));
}
var DragDropManagerImpl = /** @class */ (function () {
    function DragDropManagerImpl(createBackend, context, debugMode) {
        var _this = this;
        if (context === void 0) { context = {}; }
        if (debugMode === void 0) { debugMode = false; }
        this.context = context;
        this.isSetUp = false;
        this.handleRefCountChange = function () {
            var shouldSetUp = _this.store.getState().refCount > 0;
            if (shouldSetUp && !_this.isSetUp) {
                _this.backend.setup();
                _this.isSetUp = true;
            }
            else if (!shouldSetUp && _this.isSetUp) {
                _this.backend.teardown();
                _this.isSetUp = false;
            }
        };
        var store = makeStoreInstance(debugMode);
        this.store = store;
        this.monitor = new DragDropMonitorImpl_1.default(store, new HandlerRegistryImpl_1.default(store));
        this.backend = createBackend(this);
        store.subscribe(this.handleRefCountChange);
    }
    DragDropManagerImpl.prototype.getContext = function () {
        return this.context;
    };
    DragDropManagerImpl.prototype.getMonitor = function () {
        return this.monitor;
    };
    DragDropManagerImpl.prototype.getBackend = function () {
        return this.backend;
    };
    DragDropManagerImpl.prototype.getRegistry = function () {
        return this.monitor.registry;
    };
    DragDropManagerImpl.prototype.getActions = function () {
        var manager = this;
        var dispatch = this.store.dispatch;
        function bindActionCreator(actionCreator) {
            return function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                var action = actionCreator.apply(manager, args);
                if (typeof action !== 'undefined') {
                    dispatch(action);
                }
            };
        }
        var actions = dragDrop_1.default(this);
        return Object.keys(actions).reduce(function (boundActions, key) {
            var action = actions[key];
            boundActions[key] = bindActionCreator(action);
            return boundActions;
        }, {});
    };
    DragDropManagerImpl.prototype.dispatch = function (action) {
        this.store.dispatch(action);
    };
    return DragDropManagerImpl;
}());
exports.default = DragDropManagerImpl;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/DragDropMonitorImpl.js":
/*!**************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/DragDropMonitorImpl.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var matchesType_1 = __webpack_require__(/*! ./utils/matchesType */ "./node_modules/dnd-core/lib/cjs/utils/matchesType.js");
var coords_1 = __webpack_require__(/*! ./utils/coords */ "./node_modules/dnd-core/lib/cjs/utils/coords.js");
var dirtiness_1 = __webpack_require__(/*! ./utils/dirtiness */ "./node_modules/dnd-core/lib/cjs/utils/dirtiness.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var DragDropMonitorImpl = /** @class */ (function () {
    function DragDropMonitorImpl(store, registry) {
        this.store = store;
        this.registry = registry;
    }
    DragDropMonitorImpl.prototype.subscribeToStateChange = function (listener, options) {
        var _this = this;
        if (options === void 0) { options = { handlerIds: undefined }; }
        var handlerIds = options.handlerIds;
        invariant(typeof listener === 'function', 'listener must be a function.');
        invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');
        var prevStateId = this.store.getState().stateId;
        var handleChange = function () {
            var state = _this.store.getState();
            var currentStateId = state.stateId;
            try {
                var canSkipListener = currentStateId === prevStateId ||
                    (currentStateId === prevStateId + 1 &&
                        !dirtiness_1.areDirty(state.dirtyHandlerIds, handlerIds));
                if (!canSkipListener) {
                    listener();
                }
            }
            finally {
                prevStateId = currentStateId;
            }
        };
        return this.store.subscribe(handleChange);
    };
    DragDropMonitorImpl.prototype.subscribeToOffsetChange = function (listener) {
        var _this = this;
        invariant(typeof listener === 'function', 'listener must be a function.');
        var previousState = this.store.getState().dragOffset;
        var handleChange = function () {
            var nextState = _this.store.getState().dragOffset;
            if (nextState === previousState) {
                return;
            }
            previousState = nextState;
            listener();
        };
        return this.store.subscribe(handleChange);
    };
    DragDropMonitorImpl.prototype.canDragSource = function (sourceId) {
        if (!sourceId) {
            return false;
        }
        var source = this.registry.getSource(sourceId);
        invariant(source, 'Expected to find a valid source.');
        if (this.isDragging()) {
            return false;
        }
        return source.canDrag(this, sourceId);
    };
    DragDropMonitorImpl.prototype.canDropOnTarget = function (targetId) {
        // undefined on initial render
        if (!targetId) {
            return false;
        }
        var target = this.registry.getTarget(targetId);
        invariant(target, 'Expected to find a valid target.');
        if (!this.isDragging() || this.didDrop()) {
            return false;
        }
        var targetType = this.registry.getTargetType(targetId);
        var draggedItemType = this.getItemType();
        return (matchesType_1.default(targetType, draggedItemType) && target.canDrop(this, targetId));
    };
    DragDropMonitorImpl.prototype.isDragging = function () {
        return Boolean(this.getItemType());
    };
    DragDropMonitorImpl.prototype.isDraggingSource = function (sourceId) {
        // undefined on initial render
        if (!sourceId) {
            return false;
        }
        var source = this.registry.getSource(sourceId, true);
        invariant(source, 'Expected to find a valid source.');
        if (!this.isDragging() || !this.isSourcePublic()) {
            return false;
        }
        var sourceType = this.registry.getSourceType(sourceId);
        var draggedItemType = this.getItemType();
        if (sourceType !== draggedItemType) {
            return false;
        }
        return source.isDragging(this, sourceId);
    };
    DragDropMonitorImpl.prototype.isOverTarget = function (targetId, options) {
        if (options === void 0) { options = { shallow: false }; }
        // undefined on initial render
        if (!targetId) {
            return false;
        }
        var shallow = options.shallow;
        if (!this.isDragging()) {
            return false;
        }
        var targetType = this.registry.getTargetType(targetId);
        var draggedItemType = this.getItemType();
        if (draggedItemType && !matchesType_1.default(targetType, draggedItemType)) {
            return false;
        }
        var targetIds = this.getTargetIds();
        if (!targetIds.length) {
            return false;
        }
        var index = targetIds.indexOf(targetId);
        if (shallow) {
            return index === targetIds.length - 1;
        }
        else {
            return index > -1;
        }
    };
    DragDropMonitorImpl.prototype.getItemType = function () {
        return this.store.getState().dragOperation.itemType;
    };
    DragDropMonitorImpl.prototype.getItem = function () {
        return this.store.getState().dragOperation.item;
    };
    DragDropMonitorImpl.prototype.getSourceId = function () {
        return this.store.getState().dragOperation.sourceId;
    };
    DragDropMonitorImpl.prototype.getTargetIds = function () {
        return this.store.getState().dragOperation.targetIds;
    };
    DragDropMonitorImpl.prototype.getDropResult = function () {
        return this.store.getState().dragOperation.dropResult;
    };
    DragDropMonitorImpl.prototype.didDrop = function () {
        return this.store.getState().dragOperation.didDrop;
    };
    DragDropMonitorImpl.prototype.isSourcePublic = function () {
        return this.store.getState().dragOperation.isSourcePublic;
    };
    DragDropMonitorImpl.prototype.getInitialClientOffset = function () {
        return this.store.getState().dragOffset.initialClientOffset;
    };
    DragDropMonitorImpl.prototype.getInitialSourceClientOffset = function () {
        return this.store.getState().dragOffset.initialSourceClientOffset;
    };
    DragDropMonitorImpl.prototype.getClientOffset = function () {
        return this.store.getState().dragOffset.clientOffset;
    };
    DragDropMonitorImpl.prototype.getSourceClientOffset = function () {
        return coords_1.getSourceClientOffset(this.store.getState().dragOffset);
    };
    DragDropMonitorImpl.prototype.getDifferenceFromInitialOffset = function () {
        return coords_1.getDifferenceFromInitialOffset(this.store.getState().dragOffset);
    };
    return DragDropMonitorImpl;
}());
exports.default = DragDropMonitorImpl;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/HandlerRegistryImpl.js":
/*!**************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/HandlerRegistryImpl.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var registry_1 = __webpack_require__(/*! ./actions/registry */ "./node_modules/dnd-core/lib/cjs/actions/registry.js");
var getNextUniqueId_1 = __webpack_require__(/*! ./utils/getNextUniqueId */ "./node_modules/dnd-core/lib/cjs/utils/getNextUniqueId.js");
var interfaces_1 = __webpack_require__(/*! ./interfaces */ "./node_modules/dnd-core/lib/cjs/interfaces.js");
var contracts_1 = __webpack_require__(/*! ./contracts */ "./node_modules/dnd-core/lib/cjs/contracts.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var asap = __webpack_require__(/*! asap */ "./node_modules/asap/browser-asap.js");
function getNextHandlerId(role) {
    var id = getNextUniqueId_1.default().toString();
    switch (role) {
        case interfaces_1.HandlerRole.SOURCE:
            return "S" + id;
        case interfaces_1.HandlerRole.TARGET:
            return "T" + id;
        default:
            throw new Error("Unknown Handler Role: " + role);
    }
}
function parseRoleFromHandlerId(handlerId) {
    switch (handlerId[0]) {
        case 'S':
            return interfaces_1.HandlerRole.SOURCE;
        case 'T':
            return interfaces_1.HandlerRole.TARGET;
        default:
            invariant(false, "Cannot parse handler ID: " + handlerId);
    }
}
function mapContainsValue(map, searchValue) {
    var entries = map.entries();
    var isDone = false;
    do {
        var _a = entries.next(), done = _a.done, _b = _a.value, value = _b[1];
        if (value === searchValue) {
            return true;
        }
        isDone = done;
    } while (!isDone);
    return false;
}
var HandlerRegistryImpl = /** @class */ (function () {
    function HandlerRegistryImpl(store) {
        this.store = store;
        this.types = new Map();
        this.dragSources = new Map();
        this.dropTargets = new Map();
        this.pinnedSourceId = null;
        this.pinnedSource = null;
    }
    HandlerRegistryImpl.prototype.addSource = function (type, source) {
        contracts_1.validateType(type);
        contracts_1.validateSourceContract(source);
        var sourceId = this.addHandler(interfaces_1.HandlerRole.SOURCE, type, source);
        this.store.dispatch(registry_1.addSource(sourceId));
        return sourceId;
    };
    HandlerRegistryImpl.prototype.addTarget = function (type, target) {
        contracts_1.validateType(type, true);
        contracts_1.validateTargetContract(target);
        var targetId = this.addHandler(interfaces_1.HandlerRole.TARGET, type, target);
        this.store.dispatch(registry_1.addTarget(targetId));
        return targetId;
    };
    HandlerRegistryImpl.prototype.containsHandler = function (handler) {
        return (mapContainsValue(this.dragSources, handler) ||
            mapContainsValue(this.dropTargets, handler));
    };
    HandlerRegistryImpl.prototype.getSource = function (sourceId, includePinned) {
        if (includePinned === void 0) { includePinned = false; }
        invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');
        var isPinned = includePinned && sourceId === this.pinnedSourceId;
        var source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);
        return source;
    };
    HandlerRegistryImpl.prototype.getTarget = function (targetId) {
        invariant(this.isTargetId(targetId), 'Expected a valid target ID.');
        return this.dropTargets.get(targetId);
    };
    HandlerRegistryImpl.prototype.getSourceType = function (sourceId) {
        invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');
        return this.types.get(sourceId);
    };
    HandlerRegistryImpl.prototype.getTargetType = function (targetId) {
        invariant(this.isTargetId(targetId), 'Expected a valid target ID.');
        return this.types.get(targetId);
    };
    HandlerRegistryImpl.prototype.isSourceId = function (handlerId) {
        var role = parseRoleFromHandlerId(handlerId);
        return role === interfaces_1.HandlerRole.SOURCE;
    };
    HandlerRegistryImpl.prototype.isTargetId = function (handlerId) {
        var role = parseRoleFromHandlerId(handlerId);
        return role === interfaces_1.HandlerRole.TARGET;
    };
    HandlerRegistryImpl.prototype.removeSource = function (sourceId) {
        var _this = this;
        invariant(this.getSource(sourceId), 'Expected an existing source.');
        this.store.dispatch(registry_1.removeSource(sourceId));
        asap(function () {
            _this.dragSources.delete(sourceId);
            _this.types.delete(sourceId);
        });
    };
    HandlerRegistryImpl.prototype.removeTarget = function (targetId) {
        invariant(this.getTarget(targetId), 'Expected an existing target.');
        this.store.dispatch(registry_1.removeTarget(targetId));
        this.dropTargets.delete(targetId);
        this.types.delete(targetId);
    };
    HandlerRegistryImpl.prototype.pinSource = function (sourceId) {
        var source = this.getSource(sourceId);
        invariant(source, 'Expected an existing source.');
        this.pinnedSourceId = sourceId;
        this.pinnedSource = source;
    };
    HandlerRegistryImpl.prototype.unpinSource = function () {
        invariant(this.pinnedSource, 'No source is pinned at the time.');
        this.pinnedSourceId = null;
        this.pinnedSource = null;
    };
    HandlerRegistryImpl.prototype.addHandler = function (role, type, handler) {
        var id = getNextHandlerId(role);
        this.types.set(id, type);
        if (role === interfaces_1.HandlerRole.SOURCE) {
            this.dragSources.set(id, handler);
        }
        else if (role === interfaces_1.HandlerRole.TARGET) {
            this.dropTargets.set(id, handler);
        }
        return id;
    };
    return HandlerRegistryImpl;
}());
exports.default = HandlerRegistryImpl;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/beginDrag.js":
/*!*********************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/beginDrag.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var setClientOffset_1 = __webpack_require__(/*! ./local/setClientOffset */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/local/setClientOffset.js");
var discount_lodash_1 = __webpack_require__(/*! ../../utils/discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
var ResetCoordinatesAction = {
    type: types_1.INIT_COORDS,
    payload: {
        clientOffset: null,
        sourceClientOffset: null,
    },
};
function createBeginDrag(manager) {
    return function beginDrag(sourceIds, options) {
        if (sourceIds === void 0) { sourceIds = []; }
        if (options === void 0) { options = {
            publishSource: true,
        }; }
        var _a = options.publishSource, publishSource = _a === void 0 ? true : _a, clientOffset = options.clientOffset, getSourceClientOffset = options.getSourceClientOffset;
        var monitor = manager.getMonitor();
        var registry = manager.getRegistry();
        // Initialize the coordinates using the client offset
        manager.dispatch(setClientOffset_1.setClientOffset(clientOffset));
        verifyInvariants(sourceIds, monitor, registry);
        // Get the draggable source
        var sourceId = getDraggableSource(sourceIds, monitor);
        if (sourceId === null) {
            manager.dispatch(ResetCoordinatesAction);
            return;
        }
        // Get the source client offset
        var sourceClientOffset = null;
        if (clientOffset) {
            verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);
            sourceClientOffset = getSourceClientOffset(sourceId);
        }
        // Initialize the full coordinates
        manager.dispatch(setClientOffset_1.setClientOffset(clientOffset, sourceClientOffset));
        var source = registry.getSource(sourceId);
        var item = source.beginDrag(monitor, sourceId);
        verifyItemIsObject(item);
        registry.pinSource(sourceId);
        var itemType = registry.getSourceType(sourceId);
        return {
            type: types_1.BEGIN_DRAG,
            payload: {
                itemType: itemType,
                item: item,
                sourceId: sourceId,
                clientOffset: clientOffset || null,
                sourceClientOffset: sourceClientOffset || null,
                isSourcePublic: !!publishSource,
            },
        };
    };
}
exports.default = createBeginDrag;
function verifyInvariants(sourceIds, monitor, registry) {
    invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');
    for (var _i = 0, sourceIds_1 = sourceIds; _i < sourceIds_1.length; _i++) {
        var s = sourceIds_1[_i];
        invariant(registry.getSource(s), 'Expected sourceIds to be registered.');
    }
}
function verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {
    invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');
}
function verifyItemIsObject(item) {
    invariant(discount_lodash_1.isObject(item), 'Item must be an object.');
}
function getDraggableSource(sourceIds, monitor) {
    var sourceId = null;
    for (var i = sourceIds.length - 1; i >= 0; i--) {
        if (monitor.canDragSource(sourceIds[i])) {
            sourceId = sourceIds[i];
            break;
        }
    }
    return sourceId;
}


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/drop.js":
/*!****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/drop.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
var discount_lodash_1 = __webpack_require__(/*! ../../utils/discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function createDrop(manager) {
    return function drop(options) {
        if (options === void 0) { options = {}; }
        var monitor = manager.getMonitor();
        var registry = manager.getRegistry();
        verifyInvariants(monitor);
        var targetIds = getDroppableTargets(monitor);
        // Multiple actions are dispatched here, which is why this doesn't return an action
        targetIds.forEach(function (targetId, index) {
            var dropResult = determineDropResult(targetId, index, registry, monitor);
            var action = {
                type: types_1.DROP,
                payload: {
                    dropResult: __assign({}, options, dropResult),
                },
            };
            manager.dispatch(action);
        });
    };
}
exports.default = createDrop;
function verifyInvariants(monitor) {
    invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');
    invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');
}
function determineDropResult(targetId, index, registry, monitor) {
    var target = registry.getTarget(targetId);
    var dropResult = target ? target.drop(monitor, targetId) : undefined;
    verifyDropResultType(dropResult);
    if (typeof dropResult === 'undefined') {
        dropResult = index === 0 ? {} : monitor.getDropResult();
    }
    return dropResult;
}
function verifyDropResultType(dropResult) {
    invariant(typeof dropResult === 'undefined' || discount_lodash_1.isObject(dropResult), 'Drop result must either be an object or undefined.');
}
function getDroppableTargets(monitor) {
    var targetIds = monitor
        .getTargetIds()
        .filter(monitor.canDropOnTarget, monitor);
    targetIds.reverse();
    return targetIds;
}


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/endDrag.js":
/*!*******************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/endDrag.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function createEndDrag(manager) {
    return function endDrag() {
        var monitor = manager.getMonitor();
        var registry = manager.getRegistry();
        verifyIsDragging(monitor);
        var sourceId = monitor.getSourceId();
        var source = registry.getSource(sourceId, true);
        source.endDrag(monitor, sourceId);
        registry.unpinSource();
        return { type: types_1.END_DRAG };
    };
}
exports.default = createEndDrag;
function verifyIsDragging(monitor) {
    invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');
}


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/hover.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/hover.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var matchesType_1 = __webpack_require__(/*! ../../utils/matchesType */ "./node_modules/dnd-core/lib/cjs/utils/matchesType.js");
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function createHover(manager) {
    return function hover(targetIdsArg, _a) {
        var clientOffset = (_a === void 0 ? {} : _a).clientOffset;
        verifyTargetIdsIsArray(targetIdsArg);
        var targetIds = targetIdsArg.slice(0);
        var monitor = manager.getMonitor();
        var registry = manager.getRegistry();
        checkInvariants(targetIds, monitor, registry);
        var draggedItemType = monitor.getItemType();
        removeNonMatchingTargetIds(targetIds, registry, draggedItemType);
        hoverAllTargets(targetIds, monitor, registry);
        return {
            type: types_1.HOVER,
            payload: {
                targetIds: targetIds,
                clientOffset: clientOffset || null,
            },
        };
    };
}
exports.default = createHover;
function verifyTargetIdsIsArray(targetIdsArg) {
    invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');
}
function checkInvariants(targetIds, monitor, registry) {
    invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');
    invariant(!monitor.didDrop(), 'Cannot call hover after drop.');
    for (var i = 0; i < targetIds.length; i++) {
        var targetId = targetIds[i];
        invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');
        var target = registry.getTarget(targetId);
        invariant(target, 'Expected targetIds to be registered.');
    }
}
function removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {
    // Remove those targetIds that don't match the targetType.  This
    // fixes shallow isOver which would only be non-shallow because of
    // non-matching targets.
    for (var i = targetIds.length - 1; i >= 0; i--) {
        var targetId = targetIds[i];
        var targetType = registry.getTargetType(targetId);
        if (!matchesType_1.default(targetType, draggedItemType)) {
            targetIds.splice(i, 1);
        }
    }
}
function hoverAllTargets(targetIds, monitor, registry) {
    // Finally call hover on all matching targets.
    for (var _i = 0, targetIds_1 = targetIds; _i < targetIds_1.length; _i++) {
        var targetId = targetIds_1[_i];
        var target = registry.getTarget(targetId);
        target.hover(monitor, targetId);
    }
}


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
var beginDrag_1 = __webpack_require__(/*! ./beginDrag */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/beginDrag.js");
var publishDragSource_1 = __webpack_require__(/*! ./publishDragSource */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/publishDragSource.js");
var hover_1 = __webpack_require__(/*! ./hover */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/hover.js");
var drop_1 = __webpack_require__(/*! ./drop */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/drop.js");
var endDrag_1 = __webpack_require__(/*! ./endDrag */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/endDrag.js");
__export(__webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js"));
function createDragDropActions(manager) {
    return {
        beginDrag: beginDrag_1.default(manager),
        publishDragSource: publishDragSource_1.default(manager),
        hover: hover_1.default(manager),
        drop: drop_1.default(manager),
        endDrag: endDrag_1.default(manager),
    };
}
exports.default = createDragDropActions;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/local/setClientOffset.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/local/setClientOffset.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var types_1 = __webpack_require__(/*! ../types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
function setClientOffset(clientOffset, sourceClientOffset) {
    return {
        type: types_1.INIT_COORDS,
        payload: {
            sourceClientOffset: sourceClientOffset || null,
            clientOffset: clientOffset || null,
        },
    };
}
exports.setClientOffset = setClientOffset;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/publishDragSource.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/publishDragSource.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var types_1 = __webpack_require__(/*! ./types */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js");
function createPublishDragSource(manager) {
    return function publishDragSource() {
        var monitor = manager.getMonitor();
        if (monitor.isDragging()) {
            return { type: types_1.PUBLISH_DRAG_SOURCE };
        }
    };
}
exports.default = createPublishDragSource;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/dragDrop/types.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.INIT_COORDS = 'dnd-core/INIT_COORDS';
exports.BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';
exports.PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';
exports.HOVER = 'dnd-core/HOVER';
exports.DROP = 'dnd-core/DROP';
exports.END_DRAG = 'dnd-core/END_DRAG';


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/actions/registry.js":
/*!***********************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/actions/registry.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.ADD_SOURCE = 'dnd-core/ADD_SOURCE';
exports.ADD_TARGET = 'dnd-core/ADD_TARGET';
exports.REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';
exports.REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';
function addSource(sourceId) {
    return {
        type: exports.ADD_SOURCE,
        payload: {
            sourceId: sourceId,
        },
    };
}
exports.addSource = addSource;
function addTarget(targetId) {
    return {
        type: exports.ADD_TARGET,
        payload: {
            targetId: targetId,
        },
    };
}
exports.addTarget = addTarget;
function removeSource(sourceId) {
    return {
        type: exports.REMOVE_SOURCE,
        payload: {
            sourceId: sourceId,
        },
    };
}
exports.removeSource = removeSource;
function removeTarget(targetId) {
    return {
        type: exports.REMOVE_TARGET,
        payload: {
            targetId: targetId,
        },
    };
}
exports.removeTarget = removeTarget;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/contracts.js":
/*!****************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/contracts.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function validateSourceContract(source) {
    invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');
    invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');
    invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');
}
exports.validateSourceContract = validateSourceContract;
function validateTargetContract(target) {
    invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');
    invariant(typeof target.hover === 'function', 'Expected hover to be a function.');
    invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');
}
exports.validateTargetContract = validateTargetContract;
function validateType(type, allowArray) {
    if (allowArray && Array.isArray(type)) {
        type.forEach(function (t) { return validateType(t, false); });
        return;
    }
    invariant(typeof type === 'string' || typeof type === 'symbol', allowArray
        ? 'Type can only be a string, a symbol, or an array of either.'
        : 'Type can only be a string or a symbol.');
}
exports.validateType = validateType;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/factories.js":
/*!****************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/factories.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var DragDropManagerImpl_1 = __webpack_require__(/*! ./DragDropManagerImpl */ "./node_modules/dnd-core/lib/cjs/DragDropManagerImpl.js");
function createDragDropManager(backend, context, debugMode) {
    return new DragDropManagerImpl_1.default(backend, context, debugMode);
}
exports.createDragDropManager = createDragDropManager;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/index.js":
/*!************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/index.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
__export(__webpack_require__(/*! ./interfaces */ "./node_modules/dnd-core/lib/cjs/interfaces.js"));
__export(__webpack_require__(/*! ./factories */ "./node_modules/dnd-core/lib/cjs/factories.js"));


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/interfaces.js":
/*!*****************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/interfaces.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var HandlerRole;
(function (HandlerRole) {
    HandlerRole["SOURCE"] = "SOURCE";
    HandlerRole["TARGET"] = "TARGET";
})(HandlerRole = exports.HandlerRole || (exports.HandlerRole = {}));


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/dirtyHandlerIds.js":
/*!*******************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/dirtyHandlerIds.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var dragDrop_1 = __webpack_require__(/*! ../actions/dragDrop */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js");
var registry_1 = __webpack_require__(/*! ../actions/registry */ "./node_modules/dnd-core/lib/cjs/actions/registry.js");
var equality_1 = __webpack_require__(/*! ../utils/equality */ "./node_modules/dnd-core/lib/cjs/utils/equality.js");
var dirtiness_1 = __webpack_require__(/*! ../utils/dirtiness */ "./node_modules/dnd-core/lib/cjs/utils/dirtiness.js");
var discount_lodash_1 = __webpack_require__(/*! ../utils/discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
function dirtyHandlerIds(state, action) {
    if (state === void 0) { state = dirtiness_1.NONE; }
    switch (action.type) {
        case dragDrop_1.HOVER:
            break;
        case registry_1.ADD_SOURCE:
        case registry_1.ADD_TARGET:
        case registry_1.REMOVE_TARGET:
        case registry_1.REMOVE_SOURCE:
            return dirtiness_1.NONE;
        case dragDrop_1.BEGIN_DRAG:
        case dragDrop_1.PUBLISH_DRAG_SOURCE:
        case dragDrop_1.END_DRAG:
        case dragDrop_1.DROP:
        default:
            return dirtiness_1.ALL;
    }
    var _a = action.payload, _b = _a.targetIds, targetIds = _b === void 0 ? [] : _b, _c = _a.prevTargetIds, prevTargetIds = _c === void 0 ? [] : _c;
    var result = discount_lodash_1.xor(targetIds, prevTargetIds);
    var didChange = result.length > 0 || !equality_1.areArraysEqual(targetIds, prevTargetIds);
    if (!didChange) {
        return dirtiness_1.NONE;
    }
    // Check the target ids at the innermost position. If they are valid, add them
    // to the result
    var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];
    var innermostTargetId = targetIds[targetIds.length - 1];
    if (prevInnermostTargetId !== innermostTargetId) {
        if (prevInnermostTargetId) {
            result.push(prevInnermostTargetId);
        }
        if (innermostTargetId) {
            result.push(innermostTargetId);
        }
    }
    return result;
}
exports.default = dirtyHandlerIds;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/dragOffset.js":
/*!**************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/dragOffset.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var dragDrop_1 = __webpack_require__(/*! ../actions/dragDrop */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js");
var equality_1 = __webpack_require__(/*! ../utils/equality */ "./node_modules/dnd-core/lib/cjs/utils/equality.js");
var initialState = {
    initialSourceClientOffset: null,
    initialClientOffset: null,
    clientOffset: null,
};
function dragOffset(state, action) {
    if (state === void 0) { state = initialState; }
    var payload = action.payload;
    switch (action.type) {
        case dragDrop_1.INIT_COORDS:
        case dragDrop_1.BEGIN_DRAG:
            return {
                initialSourceClientOffset: payload.sourceClientOffset,
                initialClientOffset: payload.clientOffset,
                clientOffset: payload.clientOffset,
            };
        case dragDrop_1.HOVER:
            if (equality_1.areCoordsEqual(state.clientOffset, payload.clientOffset)) {
                return state;
            }
            return __assign({}, state, { clientOffset: payload.clientOffset });
        case dragDrop_1.END_DRAG:
        case dragDrop_1.DROP:
            return initialState;
        default:
            return state;
    }
}
exports.default = dragOffset;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/dragOperation.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/dragOperation.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var dragDrop_1 = __webpack_require__(/*! ../actions/dragDrop */ "./node_modules/dnd-core/lib/cjs/actions/dragDrop/index.js");
var registry_1 = __webpack_require__(/*! ../actions/registry */ "./node_modules/dnd-core/lib/cjs/actions/registry.js");
var discount_lodash_1 = __webpack_require__(/*! ../utils/discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
var initialState = {
    itemType: null,
    item: null,
    sourceId: null,
    targetIds: [],
    dropResult: null,
    didDrop: false,
    isSourcePublic: null,
};
function dragOperation(state, action) {
    if (state === void 0) { state = initialState; }
    var payload = action.payload;
    switch (action.type) {
        case dragDrop_1.BEGIN_DRAG:
            return __assign({}, state, { itemType: payload.itemType, item: payload.item, sourceId: payload.sourceId, isSourcePublic: payload.isSourcePublic, dropResult: null, didDrop: false });
        case dragDrop_1.PUBLISH_DRAG_SOURCE:
            return __assign({}, state, { isSourcePublic: true });
        case dragDrop_1.HOVER:
            return __assign({}, state, { targetIds: payload.targetIds });
        case registry_1.REMOVE_TARGET:
            if (state.targetIds.indexOf(payload.targetId) === -1) {
                return state;
            }
            return __assign({}, state, { targetIds: discount_lodash_1.without(state.targetIds, payload.targetId) });
        case dragDrop_1.DROP:
            return __assign({}, state, { dropResult: payload.dropResult, didDrop: true, targetIds: [] });
        case dragDrop_1.END_DRAG:
            return __assign({}, state, { itemType: null, item: null, sourceId: null, dropResult: null, didDrop: false, isSourcePublic: null, targetIds: [] });
        default:
            return state;
    }
}
exports.default = dragOperation;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/index.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var dragOffset_1 = __webpack_require__(/*! ./dragOffset */ "./node_modules/dnd-core/lib/cjs/reducers/dragOffset.js");
var dragOperation_1 = __webpack_require__(/*! ./dragOperation */ "./node_modules/dnd-core/lib/cjs/reducers/dragOperation.js");
var refCount_1 = __webpack_require__(/*! ./refCount */ "./node_modules/dnd-core/lib/cjs/reducers/refCount.js");
var dirtyHandlerIds_1 = __webpack_require__(/*! ./dirtyHandlerIds */ "./node_modules/dnd-core/lib/cjs/reducers/dirtyHandlerIds.js");
var stateId_1 = __webpack_require__(/*! ./stateId */ "./node_modules/dnd-core/lib/cjs/reducers/stateId.js");
var discount_lodash_1 = __webpack_require__(/*! ../utils/discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
function reduce(state, action) {
    if (state === void 0) { state = {}; }
    return {
        dirtyHandlerIds: dirtyHandlerIds_1.default(state.dirtyHandlerIds, {
            type: action.type,
            payload: __assign({}, action.payload, { prevTargetIds: discount_lodash_1.get(state, 'dragOperation.targetIds', []) }),
        }),
        dragOffset: dragOffset_1.default(state.dragOffset, action),
        refCount: refCount_1.default(state.refCount, action),
        dragOperation: dragOperation_1.default(state.dragOperation, action),
        stateId: stateId_1.default(state.stateId),
    };
}
exports.default = reduce;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/refCount.js":
/*!************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/refCount.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var registry_1 = __webpack_require__(/*! ../actions/registry */ "./node_modules/dnd-core/lib/cjs/actions/registry.js");
function refCount(state, action) {
    if (state === void 0) { state = 0; }
    switch (action.type) {
        case registry_1.ADD_SOURCE:
        case registry_1.ADD_TARGET:
            return state + 1;
        case registry_1.REMOVE_SOURCE:
        case registry_1.REMOVE_TARGET:
            return state - 1;
        default:
            return state;
    }
}
exports.default = refCount;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/reducers/stateId.js":
/*!***********************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/reducers/stateId.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function stateId(state) {
    if (state === void 0) { state = 0; }
    return state + 1;
}
exports.default = stateId;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/coords.js":
/*!*******************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/coords.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Coordinate addition
 * @param a The first coordinate
 * @param b The second coordinate
 */
function add(a, b) {
    return {
        x: a.x + b.x,
        y: a.y + b.y,
    };
}
exports.add = add;
/**
 * Coordinate subtraction
 * @param a The first coordinate
 * @param b The second coordinate
 */
function subtract(a, b) {
    return {
        x: a.x - b.x,
        y: a.y - b.y,
    };
}
exports.subtract = subtract;
/**
 * Returns the cartesian distance of the drag source component's position, based on its position
 * at the time when the current drag operation has started, and the movement difference.
 *
 * Returns null if no item is being dragged.
 *
 * @param state The offset state to compute from
 */
function getSourceClientOffset(state) {
    var clientOffset = state.clientOffset, initialClientOffset = state.initialClientOffset, initialSourceClientOffset = state.initialSourceClientOffset;
    if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {
        return null;
    }
    return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);
}
exports.getSourceClientOffset = getSourceClientOffset;
/**
 * Determines the x,y offset between the client offset and the initial client offset
 *
 * @param state The offset state to compute from
 */
function getDifferenceFromInitialOffset(state) {
    var clientOffset = state.clientOffset, initialClientOffset = state.initialClientOffset;
    if (!clientOffset || !initialClientOffset) {
        return null;
    }
    return subtract(clientOffset, initialClientOffset);
}
exports.getDifferenceFromInitialOffset = getDifferenceFromInitialOffset;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/dirtiness.js":
/*!**********************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/dirtiness.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var discount_lodash_1 = __webpack_require__(/*! ./discount_lodash */ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js");
exports.NONE = [];
exports.ALL = [];
exports.NONE.__IS_NONE__ = true;
exports.ALL.__IS_ALL__ = true;
/**
 * Determines if the given handler IDs are dirty or not.
 *
 * @param dirtyIds The set of dirty handler ids
 * @param handlerIds The set of handler ids to check
 */
function areDirty(dirtyIds, handlerIds) {
    if (dirtyIds === exports.NONE) {
        return false;
    }
    if (dirtyIds === exports.ALL || typeof handlerIds === 'undefined') {
        return true;
    }
    var commonIds = discount_lodash_1.intersection(handlerIds, dirtyIds);
    return commonIds.length > 0;
}
exports.areDirty = areDirty;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js":
/*!****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/discount_lodash.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * drop-in replacement for _.get
 * @param obj
 * @param path
 * @param defaultValue
 */
function get(obj, path, defaultValue) {
    return path
        .split('.')
        .reduce(function (a, c) { return (a && a[c] ? a[c] : defaultValue || null); }, obj);
}
exports.get = get;
/**
 * drop-in replacement for _.without
 */
function without(items, item) {
    return items.filter(function (i) { return i !== item; });
}
exports.without = without;
/**
 * drop-in replacement for _.isString
 * @param input
 */
function isString(input) {
    return typeof input === 'string';
}
exports.isString = isString;
/**
 * drop-in replacement for _.isString
 * @param input
 */
function isObject(input) {
    return typeof input === 'object';
}
exports.isObject = isObject;
/**
 * repalcement for _.xor
 * @param itemsA
 * @param itemsB
 */
function xor(itemsA, itemsB) {
    var map = new Map();
    var insertItem = function (item) {
        return map.set(item, map.has(item) ? map.get(item) + 1 : 1);
    };
    itemsA.forEach(insertItem);
    itemsB.forEach(insertItem);
    var result = [];
    map.forEach(function (count, key) {
        if (count === 1) {
            result.push(key);
        }
    });
    return result;
}
exports.xor = xor;
/**
 * replacement for _.intersection
 * @param itemsA
 * @param itemsB
 */
function intersection(itemsA, itemsB) {
    return itemsA.filter(function (t) { return itemsB.indexOf(t) > -1; });
}
exports.intersection = intersection;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/equality.js":
/*!*********************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/equality.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.strictEquality = function (a, b) { return a === b; };
/**
 * Determine if two cartesian coordinate offsets are equal
 * @param offsetA
 * @param offsetB
 */
function areCoordsEqual(offsetA, offsetB) {
    if (!offsetA && !offsetB) {
        return true;
    }
    else if (!offsetA || !offsetB) {
        return false;
    }
    else {
        return offsetA.x === offsetB.x && offsetA.y === offsetB.y;
    }
}
exports.areCoordsEqual = areCoordsEqual;
/**
 * Determines if two arrays of items are equal
 * @param a The first array of items
 * @param b The second array of items
 */
function areArraysEqual(a, b, isEqual) {
    if (isEqual === void 0) { isEqual = exports.strictEquality; }
    if (a.length !== b.length) {
        return false;
    }
    for (var i = 0; i < a.length; ++i) {
        if (!isEqual(a[i], b[i])) {
            return false;
        }
    }
    return true;
}
exports.areArraysEqual = areArraysEqual;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/getNextUniqueId.js":
/*!****************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/getNextUniqueId.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var nextUniqueId = 0;
function getNextUniqueId() {
    return nextUniqueId++;
}
exports.default = getNextUniqueId;


/***/ }),

/***/ "./node_modules/dnd-core/lib/cjs/utils/matchesType.js":
/*!************************************************************!*\
  !*** ./node_modules/dnd-core/lib/cjs/utils/matchesType.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function matchesType(targetType, draggedItemType) {
    if (draggedItemType === null) {
        return targetType === null;
    }
    return Array.isArray(targetType)
        ? targetType.some(function (t) { return t === draggedItemType; })
        : targetType === draggedItemType;
}
exports.default = matchesType;


/***/ }),

/***/ "./node_modules/dotsplit.js/index.js":
/*!*******************************************!*\
  !*** ./node_modules/dotsplit.js/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var toString = Object.prototype.toString

/**
 * Transform dot-delimited strings to array of strings.
 *
 * @param  {String} string
 * Dot-delimited string.
 *
 * @return {Array}
 * Array of strings.
 */

function dotsplit (string) {
  var idx = -1
  var str = compact(normalize(string).split('.'))
  var end = str.length
  var out = []

  while (++idx < end) {
    out.push(todots(str[idx]))
  }

  return out
}

/**
 * Replace escapes with a placeholder.
 *
 * @param  {String} string
 * Dot-delimited string.
 *
 * @return {String}
 * Dot-delimited string with placeholders in place of escapes.
 */

function normalize (string) {
  return (toString.call(string) === '[object String]' ? string : '').replace(/\\\./g, '\uffff')
}

/**
 * Drop empty values from array.
 *
 * @param  {Array} array
 * Array of strings.
 *
 * @return {Array}
 * Array of strings (empty values dropped).
 */

function compact (arr) {
  var idx = -1
  var end = arr.length
  var out = []

  while (++idx < end) {
    if (arr[idx]) out.push(arr[idx])
  }

  return out
}

/**
 * Change placeholder to dots.
 *
 * @param  {String} string
 * Dot-delimited string with placeholders.
 *
 * @return {String}
 * Dot-delimited string without placeholders.
 */

function todots (string) {
  return string.replace(/\uffff/g, '.')
}

/*!
 * exports.
 */

module.exports = dotsplit


/***/ }),

/***/ "./node_modules/fast-bind/bind-loop.js":
/*!*********************************************!*\
  !*** ./node_modules/fast-bind/bind-loop.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

module.exports = function(boundThis) {
  var f = this
    , ret

  if (arguments.length < 2)
    ret = function() {
      if (this instanceof ret) {
        var ret_ = f.apply(this, arguments)
        return Object(ret_) === ret_
          ? ret_
          : this
      }
      else
        return f.apply(boundThis, arguments)
    }
  else {
    var boundArgs = new Array(arguments.length - 1)
    for (var i = 1; i < arguments.length; i++)
      boundArgs[i - 1] = arguments[i]

    ret = function() {
      var boundLen = boundArgs.length
        , args = new Array(boundLen + arguments.length)
        , i
      for (i = 0; i < boundLen; i++)
        args[i] = boundArgs[i]
      for (i = 0; i < arguments.length; i++)
        args[boundLen + i] = arguments[i]

      if (this instanceof ret) {
        var ret_ = f.apply(this, args)
        return Object(ret_) === ret_
          ? ret_
          : this
      }
      else
        return f.apply(boundThis, args)
    }
  }

  ret.prototype = f.prototype
  return ret
}


/***/ }),

/***/ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */
var ReactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");
var REACT_STATICS = {
    childContextTypes: true,
    contextType: true,
    contextTypes: true,
    defaultProps: true,
    displayName: true,
    getDefaultProps: true,
    getDerivedStateFromError: true,
    getDerivedStateFromProps: true,
    mixins: true,
    propTypes: true,
    type: true
};

var KNOWN_STATICS = {
    name: true,
    length: true,
    prototype: true,
    caller: true,
    callee: true,
    arguments: true,
    arity: true
};

var FORWARD_REF_STATICS = {
    '$$typeof': true,
    render: true,
    defaultProps: true,
    displayName: true,
    propTypes: true
};

var MEMO_STATICS = {
    '$$typeof': true,
    compare: true,
    defaultProps: true,
    displayName: true,
    propTypes: true,
    type: true
};

var TYPE_STATICS = {};
TYPE_STATICS[ReactIs.ForwardRef] = FORWARD_REF_STATICS;

function getStatics(component) {
    if (ReactIs.isMemo(component)) {
        return MEMO_STATICS;
    }
    return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;
}

var defineProperty = Object.defineProperty;
var getOwnPropertyNames = Object.getOwnPropertyNames;
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
var getPrototypeOf = Object.getPrototypeOf;
var objectPrototype = Object.prototype;

function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
    if (typeof sourceComponent !== 'string') {
        // don't hoist over string (html) components

        if (objectPrototype) {
            var inheritedComponent = getPrototypeOf(sourceComponent);
            if (inheritedComponent && inheritedComponent !== objectPrototype) {
                hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
            }
        }

        var keys = getOwnPropertyNames(sourceComponent);

        if (getOwnPropertySymbols) {
            keys = keys.concat(getOwnPropertySymbols(sourceComponent));
        }

        var targetStatics = getStatics(targetComponent);
        var sourceStatics = getStatics(sourceComponent);

        for (var i = 0; i < keys.length; ++i) {
            var key = keys[i];
            if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
                var descriptor = getOwnPropertyDescriptor(sourceComponent, key);
                try {
                    // Avoid failures from read-only properties
                    defineProperty(targetComponent, key, descriptor);
                } catch (e) {}
            }
        }

        return targetComponent;
    }

    return targetComponent;
}

module.exports = hoistNonReactStatics;


/***/ }),

/***/ "./node_modules/invariant/browser.js":
/*!*******************************************!*\
  !*** ./node_modules/invariant/browser.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



/**
 * Use invariant() to assert state which your program assumes to be true.
 *
 * Provide sprintf-style format (only %s is supported) and arguments
 * to provide information about what broke and what you were
 * expecting.
 *
 * The invariant message will be stripped in production, but the invariant
 * will remain to ensure logic does not differ in production.
 */

var invariant = function(condition, format, a, b, c, d, e, f) {
  if (true) {
    if (format === undefined) {
      throw new Error('invariant requires an error message argument');
    }
  }

  if (!condition) {
    var error;
    if (format === undefined) {
      error = new Error(
        'Minified exception occurred; use the non-minified dev environment ' +
        'for the full error message and additional helpful warnings.'
      );
    } else {
      var args = [a, b, c, d, e, f];
      var argIndex = 0;
      error = new Error(
        format.replace(/%s/g, function() { return args[argIndex++]; })
      );
      error.name = 'Invariant Violation';
    }

    error.framesToPop = 1; // we don't care about invariant's own frame
    throw error;
  }
};

module.exports = invariant;


/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/Engine.js":
/*!*****************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/Engine.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _validation = __webpack_require__(/*! ./validation */ "./node_modules/json-rules-engine-simplified/lib/validation.js");

var _applicableActions = __webpack_require__(/*! ./applicableActions */ "./node_modules/json-rules-engine-simplified/lib/applicableActions.js");

var _applicableActions2 = _interopRequireDefault(_applicableActions);

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/json-rules-engine-simplified/lib/utils.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var validate = function validate(schema) {
  var isSchemaDefined = schema !== undefined && schema !== null;
  if ((0, _utils.isDevelopment)() && isSchemaDefined) {
    if (!(0, _utils.isObject)(schema)) {
      (0, _utils.toError)("Expected valid schema object, but got - " + schema);
    }
    return function (rule) {
      (0, _validation.validatePredicates)([rule.conditions], schema);
      (0, _validation.validateConditionFields)([rule.conditions], schema);
    };
  } else {
    return function () {};
  }
};

var Engine = function Engine(rules, schema) {
  var _this = this;

  _classCallCheck(this, Engine);

  this.addRule = function (rule) {
    _this.validate(rule);
    _this.rules.push(rule);
  };

  this.run = function (formData) {
    return Promise.resolve((0, _applicableActions2.default)(_this.rules, formData));
  };

  this.rules = [];
  this.validate = validate(schema);

  if (rules) {
    (0, _utils.toArray)(rules).forEach(function (rule) {
      return _this.addRule(rule);
    });
  }
};

exports.default = Engine;

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/applicableActions.js":
/*!****************************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/applicableActions.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = applicableActions;

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/json-rules-engine-simplified/lib/utils.js");

var _conditionsMeet = __webpack_require__(/*! ./conditionsMeet */ "./node_modules/json-rules-engine-simplified/lib/conditionsMeet.js");

var _conditionsMeet2 = _interopRequireDefault(_conditionsMeet);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function applicableActions(rules, formData) {
  return (0, _utils.flatMap)(rules, function (_ref) {
    var conditions = _ref.conditions,
        event = _ref.event;

    if ((0, _conditionsMeet2.default)(conditions, formData)) {
      return (0, _utils.toArray)(event);
    } else {
      return [];
    }
  });
}

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/checkField.js":
/*!*********************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/checkField.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = checkField;

var _predicate = __webpack_require__(/*! predicate */ "./node_modules/predicate/index.js");

var _predicate2 = _interopRequireDefault(_predicate);

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/json-rules-engine-simplified/lib/utils.js");

var _constants = __webpack_require__(/*! ./constants */ "./node_modules/json-rules-engine-simplified/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var doCheckField = function doCheckField(fieldVal, rule) {
  if ((0, _utils.isObject)(rule)) {
    return Object.keys(rule).every(function (p) {
      var subRule = rule[p];
      if (p === _constants.OR || p === _constants.AND) {
        if (Array.isArray(subRule)) {
          if (p === _constants.OR) {
            return subRule.some(function (rule) {
              return doCheckField(fieldVal, rule);
            });
          } else {
            return subRule.every(function (rule) {
              return doCheckField(fieldVal, rule);
            });
          }
        } else {
          return false;
        }
      } else if (p === _constants.NOT) {
        return !doCheckField(fieldVal, subRule);
      } else if (_predicate2.default[p]) {
        return _predicate2.default[p](fieldVal, subRule);
      } else {
        return false;
      }
    });
  } else {
    return _predicate2.default[rule](fieldVal);
  }
};

function checkField(fieldVal, rule) {
  return doCheckField(fieldVal, rule);
}

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/conditionsMeet.js":
/*!*************************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/conditionsMeet.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toRelCondition = toRelCondition;
exports.default = conditionsMeet;

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/json-rules-engine-simplified/lib/utils.js");

var _checkField = __webpack_require__(/*! ./checkField */ "./node_modules/json-rules-engine-simplified/lib/checkField.js");

var _checkField2 = _interopRequireDefault(_checkField);

var _constants = __webpack_require__(/*! ./constants */ "./node_modules/json-rules-engine-simplified/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function toRelCondition(refCondition, formData) {
  if (Array.isArray(refCondition)) {
    return refCondition.map(function (cond) {
      return toRelCondition(cond, formData);
    });
  } else if ((0, _utils.isObject)(refCondition)) {
    return Object.keys(refCondition).reduce(function (agg, field) {
      agg[field] = toRelCondition(refCondition[field], formData);
      return agg;
    }, {});
  } else if (typeof refCondition === "string" && refCondition.startsWith("$")) {
    return (0, _utils.selectRef)(refCondition.substr(1), formData);
  } else {
    return refCondition;
  }
}

function conditionsMeet(condition, formData) {
  if (!(0, _utils.isObject)(condition) || !(0, _utils.isObject)(formData)) {
    (0, _utils.toError)("Rule " + JSON.stringify(condition) + " with " + formData + " can't be processed");
    return false;
  }
  return Object.keys(condition).every(function (ref) {
    var refCondition = condition[ref];
    if (ref === _constants.OR) {
      return refCondition.some(function (rule) {
        return conditionsMeet(rule, formData);
      });
    } else if (ref === _constants.AND) {
      return refCondition.every(function (rule) {
        return conditionsMeet(rule, formData);
      });
    } else if (ref === _constants.NOT) {
      return !conditionsMeet(refCondition, formData);
    } else {
      var refVal = (0, _utils.selectRef)(ref, formData);
      if (Array.isArray(refVal)) {
        var condMeatOnce = refVal.some(function (val) {
          return (0, _utils.isObject)(val) ? conditionsMeet(refCondition, val) : false;
        });
        // It's either true for an element in an array or for the whole array
        return condMeatOnce || (0, _checkField2.default)(refVal, toRelCondition(refCondition, formData));
      } else {
        return (0, _checkField2.default)(refVal, toRelCondition(refCondition, formData));
      }
    }
  });
}

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/constants.js":
/*!********************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/constants.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var OR = exports.OR = "or";
var AND = exports.AND = "and";
var NOT = exports.NOT = "not";

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/index.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _Engine = __webpack_require__(/*! ./Engine */ "./node_modules/json-rules-engine-simplified/lib/Engine.js");

var _Engine2 = _interopRequireDefault(_Engine);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = _Engine2.default;

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/utils.js":
/*!****************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/utils.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.flatMap = undefined;

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports.normRef = normRef;
exports.selectRef = selectRef;
exports.isObject = isObject;
exports.isDevelopment = isDevelopment;
exports.toArray = toArray;
exports.toError = toError;
exports.isRefArray = isRefArray;
exports.extractRefSchema = extractRefSchema;

var _selectn = __webpack_require__(/*! selectn */ "./node_modules/selectn/index.js");

var _selectn2 = _interopRequireDefault(_selectn);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function normRef(ref) {
  return ref.replace(/\$/g, ".");
}

function selectRef(field, formData) {
  var ref = normRef(field);
  return (0, _selectn2.default)(ref, formData);
}

function isObject(obj) {
  return (typeof obj === "undefined" ? "undefined" : _typeof(obj)) === "object" && obj !== null;
}

function isDevelopment() {
  return "development" !== "production";
}

function toArray(event) {
  if (Array.isArray(event)) {
    return event;
  } else {
    return [event];
  }
}

function toError(message) {
  if (isDevelopment()) {
    throw new ReferenceError(message);
  } else {
    console.error(message);
  }
}

function isRefArray(field, schema) {
  return schema.properties[field] && schema.properties[field].type === "array" && schema.properties[field].items && schema.properties[field].items["$ref"];
}

function fetchSchema(ref, schema) {
  if (ref.startsWith("#/")) {
    return ref.substr(2).split("/").reduce(function (schema, field) {
      return schema[field];
    }, schema);
  } else {
    toError("Only local references supported at this point use json-schema-deref");
    return undefined;
  }
}

function extractRefSchema(field, schema) {
  var properties = schema.properties;

  if (!properties || !properties[field]) {
    toError(field + " not defined in properties");
    return undefined;
  } else if (properties[field].type === "array") {
    if (isRefArray(field, schema)) {
      return fetchSchema(properties[field].items["$ref"], schema);
    } else {
      return properties[field].items;
    }
  } else if (properties[field] && properties[field]["$ref"]) {
    return fetchSchema(properties[field]["$ref"], schema);
  } else if (properties[field] && properties[field].type === "object") {
    return properties[field];
  } else {
    toError(field + " has no $ref field ref schema extraction is impossible");
    return undefined;
  }
}

var concat = function concat(x, y) {
  return x.concat(y);
};
var flatMap = exports.flatMap = function flatMap(xs, f) {
  return xs.map(f).reduce(concat, []);
};

/***/ }),

/***/ "./node_modules/json-rules-engine-simplified/lib/validation.js":
/*!*********************************************************************!*\
  !*** ./node_modules/json-rules-engine-simplified/lib/validation.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.predicatesFromRule = predicatesFromRule;
exports.predicatesFromCondition = predicatesFromCondition;
exports.listAllPredicates = listAllPredicates;
exports.listInvalidPredicates = listInvalidPredicates;
exports.validatePredicates = validatePredicates;
exports.fieldsFromPredicates = fieldsFromPredicates;
exports.fieldsFromCondition = fieldsFromCondition;
exports.listAllFields = listAllFields;
exports.listInvalidFields = listInvalidFields;
exports.validateConditionFields = validateConditionFields;

var _predicate = __webpack_require__(/*! predicate */ "./node_modules/predicate/index.js");

var _predicate2 = _interopRequireDefault(_predicate);

var _utils = __webpack_require__(/*! ./utils */ "./node_modules/json-rules-engine-simplified/lib/utils.js");

var _constants = __webpack_require__(/*! ./constants */ "./node_modules/json-rules-engine-simplified/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var UNSUPPORTED_PREDICATES = ["and", "or", "ternary", "every", "some", "curry", "partial", "complement", "mod"];

function predicatesFromRule(rule, schema) {
  if ((0, _utils.isObject)(rule)) {
    return (0, _utils.flatMap)(Object.keys(rule), function (p) {
      var comparable = rule[p];
      if ((0, _utils.isObject)(comparable) || p === _constants.NOT) {
        if (p === _constants.OR || p === _constants.AND) {
          if (Array.isArray(comparable)) {
            return (0, _utils.flatMap)(comparable, function (condition) {
              return predicatesFromRule(condition, schema);
            });
          } else {
            (0, _utils.toError)("\"" + p + "\" must be an array");
            return [];
          }
        } else {
          var predicates = predicatesFromRule(comparable, schema);
          predicates.push(p);
          return predicates;
        }
      } else {
        return predicatesFromRule(p, schema);
      }
    });
  } else {
    return [rule];
  }
}

function predicatesFromCondition(condition, schema) {
  return (0, _utils.flatMap)(Object.keys(condition), function (ref) {
    var refVal = condition[ref];
    ref = (0, _utils.normRef)(ref);
    if (ref === _constants.OR || ref === _constants.AND) {
      if (Array.isArray(refVal)) {
        return (0, _utils.flatMap)(refVal, function (c) {
          return predicatesFromCondition(c, schema);
        });
      } else {
        (0, _utils.toError)(ref + " with " + JSON.stringify(refVal) + " must be an Array");
        return [];
      }
    } else if (ref === _constants.NOT) {
      return predicatesFromCondition(refVal, schema);
    } else if (ref.indexOf(".") !== -1) {
      var separator = ref.indexOf(".");
      var schemaField = ref.substr(0, separator);
      var subSchema = (0, _utils.extractRefSchema)(schemaField, schema);

      if (subSchema) {
        var subSchemaField = ref.substr(separator + 1);
        var newCondition = _defineProperty({}, subSchemaField, refVal);
        return predicatesFromCondition(newCondition, subSchema);
      } else {
        (0, _utils.toError)("Can't find schema for " + schemaField);
        return [];
      }
    } else if ((0, _utils.isRefArray)(ref, schema)) {
      var refSchema = (0, _utils.extractRefSchema)(ref, schema);
      return refSchema ? predicatesFromCondition(refVal, refSchema) : [];
    } else if (schema.properties[ref]) {
      return predicatesFromRule(refVal, schema);
    } else {
      (0, _utils.toError)("Can't validate " + ref);
      return [];
    }
  });
}

function listAllPredicates(conditions, schema) {
  var allPredicates = (0, _utils.flatMap)(conditions, function (condition) {
    return predicatesFromCondition(condition, schema);
  });
  return allPredicates.filter(function (v, i, a) {
    return allPredicates.indexOf(v) === i;
  });
}

function listInvalidPredicates(conditions, schema) {
  var refPredicates = listAllPredicates(conditions, schema);
  return refPredicates.filter(function (p) {
    return UNSUPPORTED_PREDICATES.includes(p) || _predicate2.default[p] === undefined;
  });
}

function validatePredicates(conditions, schema) {
  var invalidPredicates = listInvalidPredicates(conditions, schema);
  if (invalidPredicates.length !== 0) {
    (0, _utils.toError)("Rule contains invalid predicates " + invalidPredicates);
  }
}

function fieldsFromPredicates(predicate) {
  if (Array.isArray(predicate)) {
    return (0, _utils.flatMap)(predicate, fieldsFromPredicates);
  } else if ((0, _utils.isObject)(predicate)) {
    return (0, _utils.flatMap)(Object.keys(predicate), function (field) {
      var predicateValue = predicate[field];
      return fieldsFromPredicates(predicateValue);
    });
  } else if (typeof predicate === "string" && predicate.startsWith("$")) {
    return [predicate.substr(1)];
  } else {
    return [];
  }
}

function fieldsFromCondition(condition) {
  return (0, _utils.flatMap)(Object.keys(condition), function (ref) {
    var refCondition = condition[ref];
    if (ref === _constants.OR || ref === _constants.AND) {
      return (0, _utils.flatMap)(refCondition, fieldsFromCondition);
    } else if (ref === _constants.NOT) {
      return fieldsFromCondition(refCondition);
    } else {
      return [(0, _utils.normRef)(ref)].concat(fieldsFromPredicates(refCondition));
    }
  });
}

function listAllFields(conditions) {
  var allFields = (0, _utils.flatMap)(conditions, fieldsFromCondition);
  return allFields.filter(function (field) {
    return field.indexOf(".") === -1;
  }).filter(function (v, i, a) {
    return allFields.indexOf(v) === i;
  });
}

function listInvalidFields(conditions, schema) {
  var allFields = listAllFields(conditions);
  return allFields.filter(function (field) {
    return schema.properties[field] === undefined;
  });
}

function validateConditionFields(conditions, schema) {
  var invalidFields = listInvalidFields(conditions, schema);
  if (invalidFields.length !== 0) {
    (0, _utils.toError)("Rule contains invalid fields " + invalidFields);
  }
}

/***/ }),

/***/ "./node_modules/ms/index.js":
/*!**********************************!*\
  !*** ./node_modules/ms/index.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Helpers.
 */

var s = 1000;
var m = s * 60;
var h = m * 60;
var d = h * 24;
var y = d * 365.25;

/**
 * Parse or format the given `val`.
 *
 * Options:
 *
 *  - `long` verbose formatting [false]
 *
 * @param {String|Number} val
 * @param {Object} [options]
 * @throws {Error} throw an error if val is not a non-empty string or a number
 * @return {String|Number}
 * @api public
 */

module.exports = function(val, options) {
  options = options || {};
  var type = typeof val;
  if (type === 'string' && val.length > 0) {
    return parse(val);
  } else if (type === 'number' && isNaN(val) === false) {
    return options.long ? fmtLong(val) : fmtShort(val);
  }
  throw new Error(
    'val is not a non-empty string or a valid number. val=' +
      JSON.stringify(val)
  );
};

/**
 * Parse the given `str` and return milliseconds.
 *
 * @param {String} str
 * @return {Number}
 * @api private
 */

function parse(str) {
  str = String(str);
  if (str.length > 100) {
    return;
  }
  var match = /^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(
    str
  );
  if (!match) {
    return;
  }
  var n = parseFloat(match[1]);
  var type = (match[2] || 'ms').toLowerCase();
  switch (type) {
    case 'years':
    case 'year':
    case 'yrs':
    case 'yr':
    case 'y':
      return n * y;
    case 'days':
    case 'day':
    case 'd':
      return n * d;
    case 'hours':
    case 'hour':
    case 'hrs':
    case 'hr':
    case 'h':
      return n * h;
    case 'minutes':
    case 'minute':
    case 'mins':
    case 'min':
    case 'm':
      return n * m;
    case 'seconds':
    case 'second':
    case 'secs':
    case 'sec':
    case 's':
      return n * s;
    case 'milliseconds':
    case 'millisecond':
    case 'msecs':
    case 'msec':
    case 'ms':
      return n;
    default:
      return undefined;
  }
}

/**
 * Short format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtShort(ms) {
  if (ms >= d) {
    return Math.round(ms / d) + 'd';
  }
  if (ms >= h) {
    return Math.round(ms / h) + 'h';
  }
  if (ms >= m) {
    return Math.round(ms / m) + 'm';
  }
  if (ms >= s) {
    return Math.round(ms / s) + 's';
  }
  return ms + 'ms';
}

/**
 * Long format for `ms`.
 *
 * @param {Number} ms
 * @return {String}
 * @api private
 */

function fmtLong(ms) {
  return plural(ms, d, 'day') ||
    plural(ms, h, 'hour') ||
    plural(ms, m, 'minute') ||
    plural(ms, s, 'second') ||
    ms + ' ms';
}

/**
 * Pluralization helper.
 */

function plural(ms, n, name) {
  if (ms < n) {
    return;
  }
  if (ms < n * 1.5) {
    return Math.floor(ms / n) + ' ' + name;
  }
  return Math.ceil(ms / n) + ' ' + name + 's';
}


/***/ }),

/***/ "./node_modules/object-assign/index.js":
/*!*********************************************!*\
  !*** ./node_modules/object-assign/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/


/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};


/***/ }),

/***/ "./node_modules/predicate/index.js":
/*!*****************************************!*\
  !*** ./node_modules/predicate/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


const utils = __webpack_require__(/*! ./lib/utils */ "./node_modules/predicate/lib/utils.js");
const predicate = {};
predicate.VERSION = '1.0.0';

[
  utils,
  __webpack_require__(/*! ./lib/predicates */ "./node_modules/predicate/lib/predicates.js"),
  __webpack_require__(/*! ./lib/chain */ "./node_modules/predicate/lib/chain.js"),
  __webpack_require__(/*! ./lib/other */ "./node_modules/predicate/lib/other.js"),
].reduce(utils.assign, predicate);

module.exports = predicate;


/***/ }),

/***/ "./node_modules/predicate/lib/chain.js":
/*!*********************************************!*\
  !*** ./node_modules/predicate/lib/chain.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


const predicates = __webpack_require__(/*! ./predicates */ "./node_modules/predicate/lib/predicates.js");
const predicate = module.exports;

// chaining mixin
class Lazy {
  constructor() {
    this.lazy = [];
  }

  valueOf() {
    return this.val();
  }

  val() {
    return this.lazy[this.method](function(args) {
      return args[0].apply(null, args[1]);
    });
  }
}

class Every extends Lazy {
  constructor() {
    super();
    this.method = 'every';
  }
}

class Some extends Lazy {
  constructor() {
    super();
    this.method = 'some';
  }
}

// Extend chaining methods onto the prototypes
[Every, Some].forEach(function(cls) {
  Object.keys(predicates).reduce(function(proto, fnName) {
    if (!predicates.fn(predicates[fnName])) return proto;

    proto[fnName] = function() {
      this.lazy.push([predicates[fnName], arguments]);
      return this;
    };

    return proto;
  }, cls.prototype);
});

predicate.all = predicate.every = function() {
  return new Every();
};

predicate.any = predicate.some = function() {
  return new Some();
};


/***/ }),

/***/ "./node_modules/predicate/lib/other.js":
/*!*********************************************!*\
  !*** ./node_modules/predicate/lib/other.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


const predicates = __webpack_require__(/*! ./predicates */ "./node_modules/predicate/lib/predicates.js");
const utils = __webpack_require__(/*! ./utils */ "./node_modules/predicate/lib/utils.js");
const predicate = module.exports;

predicate.ternary = function(pred, a, b) {
  if (predicates.bool(pred)) return pred ? a : b;
  if (predicates.undef(a)) return utils.partial(predicate.ternary, pred);
  if (predicates.undef(b)) return utils.partial(predicate.ternary, pred, a);
  return predicate.ternary(pred(a, b), a, b);
};

const _every = Array.prototype.every;
const _some = Array.prototype.some;

predicate.and = function() {
  const predicates = arguments;

  return function _and(val) {
    return _every.call(predicates, function(p) {
      return p(val);
    });
  };
};

predicate.or = function() {
  const predicates = arguments;

  return function _or(val) {
    return _some.call(predicates, function(p) {
      return p(val);
    });
  };
};


/***/ }),

/***/ "./node_modules/predicate/lib/predicates.js":
/*!**************************************************!*\
  !*** ./node_modules/predicate/lib/predicates.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


const utils = __webpack_require__(/*! ./utils */ "./node_modules/predicate/lib/utils.js");
const predicate = module.exports;

const curry = utils.curry;

if (Object.is) {
  predicate.is = curry(Object.is);
} else {
  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
  predicate.is = curry(function(v1, v2) {
    if (v1 === 0 && v2 === 0) {
      return 1 / v1 === 1 / v2;
    }
    if (v1 !== v1) {
      return v2 !== v2;
    }
    return v1 === v2;
  });
}

predicate.exists = function(val) {
  return val != null;
};

predicate.truthy = function(val) {
  // coerce for null != null
  return !!(val && predicate.exists(val));
};

predicate.falsey = utils.complement(predicate.truthy);

//---- value comparision methods

predicate.equal = curry(function(a, b) {
  return a === b;
});

predicate.eq = curry(function(a, b) {
  return a == b;
});

predicate.null = predicate.equal(null);
predicate.undef = predicate.equal(undefined);

predicate.lt = predicate.less = curry(function(a, b) {
  return a < b;
});

predicate.ltEq = predicate.le = predicate.lessEq = curry(function(a, b) {
  return predicate.equal(a, b) || predicate.less(a, b);
});

predicate.gt = predicate.greater = curry(function(a, b) {
  return a > b;
});

predicate.gtEq = predicate.ge = predicate.greaterEq = curry(function(a, b) {
  return predicate.equal(a, b) || predicate.greater(a, b);
});

// --- Type checking predicates

// Forces objects toString called returned as [object Object] for instance
const __toString = Object.prototype.toString;
const eqToStr = curry(function(str, val) {
  return predicate.equal(str, __toString.call(val));
});

//---- Object type checks

predicate.object = predicate.obj = function(val) {
  return val === Object(val);
};

predicate.array = predicate.arr = Array.isArray || eqToStr('[object Array]');
predicate.date = eqToStr('[object Date]');
predicate.regex = predicate.regexp = predicate.rgx = predicate.RegExp = eqToStr('[object RegExp]');

// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isFinite
predicate.finite = Number.isFinite || function(val) {
  return predicate.number(val) && isFinite(val);
};

predicate.nan = predicate.NaN = predicate.is(NaN);

predicate.instance = curry(function(Cls, inst) {
  return inst instanceof Cls;
});

predicate.arguments = eqToStr('[object Arguments]');
predicate.error = predicate.instance(Error);

// creates fns for predicate.string, etc
const typeofBuilder = curry(function(type, val) {
  return predicate.equal(type, typeof val);
});

//--- Create typeof methods

// type of string and alias name
// predicate.fn, predicate.num, etc
[
  ['function', 'fn'],
  ['string', 'str'],
  ['boolean', 'bool']
].reduce(function(predicate, type) {
  predicate[type[0]] = predicate[type[1]] = typeofBuilder(type[0]);
  return predicate;
}, predicate);

predicate.number = predicate.num = function(val) {
  return typeof val === 'number' && predicate.not.NaN(val);
};

predicate.int = function(val) {
  return predicate.num(val) && predicate.zero(utils.mod(val, 1));
};

predicate.pos = function(val) {
  return predicate.num(val) && predicate.greater(val, 0);
};

predicate.neg = function(val) {
  return predicate.num(val) && predicate.less(val, 0);
};

predicate.zero = function(val) {
  return predicate.num(val) && predicate.equal(val, 0);
};

predicate.even = function(val) {
  return predicate.num(val) &&
          predicate.not.zero(val) &&
          predicate.zero(utils.mod(val, 2));
};

predicate.odd = function(val) {
  return predicate.num(val) &&
          predicate.not.zero(val) &&
          predicate.not.zero(utils.mod(val, 2));
};

predicate.contains = predicate.includes = curry(function(arrOrString, val) {
  if (!predicate.array(arrOrString) && !predicate.string(arrOrString)) {
    throw new TypeError('Expected an array or string');
  }

  if (predicate.string(arrOrString) && !predicate.string(val)) {
    return false;
  }

  if (predicate.NaN(val)) {
    return arrOrString.some(predicate.NaN);
  }

  return !!~arrOrString.indexOf(val);
});

const __has = Object.prototype.hasOwnProperty;
predicate.has = curry(function(o, key) {
  return __has.call(o, key);
});

predicate.empty = function(o) {
  if (predicate.not.exists(o)) return true;
  if (predicate.arr(o) || predicate.str(o)) return !o.length;
  if (predicate.obj(o)) {
    for (let k in o) if (predicate.has(o, k)) return false;
    return true;
  }
  throw new TypeError();
};

predicate.primitive = function(val) {
  return predicate.string(val) || predicate.num(val) || predicate.bool(val) ||
    predicate.null(val) || predicate.undef(val) || predicate.NaN(val);
};

predicate.matches = curry(function(rgx, val) {
  return rgx.test(val);
});

// Assign inverse of each predicate
predicate.not = Object.keys(predicate).reduce(function(acc, fnName) {
  acc[fnName] = utils.complement(predicate[fnName]);
  return acc;
}, {});


/***/ }),

/***/ "./node_modules/predicate/lib/utils.js":
/*!*********************************************!*\
  !*** ./node_modules/predicate/lib/utils.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

const predicate = module.exports;
const _slice = Array.prototype.slice;

// Useful for debuging curried functions
const setSrc = function(curried, src) {
  curried.toString = () => src.toString();
  curried.src = src;
  return curried;
};

// Curry's fn's with arity 2
const curry = predicate.curry = function(f) {
  return setSrc(function curried(a, b) {
    switch (arguments.length) {
      case 0: throw new TypeError('Function called with no arguments');
      case 1: return setSrc(function(b) {
        return f(a, b);
      }, f);
    }

    return f(a, b);
  }, f);
};

// TODO: es6ing this breaks!
predicate.partial = function (fn) {
  const args = _slice.call(arguments, 1);
  return function() {
    return fn.apply(null, args.concat(_slice.call(arguments)));
  };
};

predicate.complement = predicate.invert = function(pred) {
  return function () {
    const ret = pred.apply(null, arguments);
    // Handle curried fns
    if (typeof ret === 'function') return predicate.complement(ret);
    return !ret;
  };
};

predicate.mod = curry(function(a, b) {
  return a % b;
});

// assign b's props to a
predicate.assign = curry(Object.assign || function(a, b) {
  // use crummy for/in for perf purposes
  for (let prop in b) {
    if (b.hasOwnProperty(prop)) {
      a[prop] = b[prop];
    }
  }

  return a;
});


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/prop-types/checkPropTypes.js":
/*!***************************************************!*\
  !*** ./node_modules/prop-types/checkPropTypes.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var printWarning = function() {};

if (true) {
  var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ "./node_modules/prop-types/lib/ReactPropTypesSecret.js");
  var loggedTypeFailures = {};
  var has = Function.call.bind(Object.prototype.hasOwnProperty);

  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

/**
 * Assert that the values match with the type specs.
 * Error messages are memorized and will only be shown once.
 *
 * @param {object} typeSpecs Map of name to a ReactPropType
 * @param {object} values Runtime values that need to be type-checked
 * @param {string} location e.g. "prop", "context", "child context"
 * @param {string} componentName Name of the component for error messages.
 * @param {?Function} getStack Returns the component stack.
 * @private
 */
function checkPropTypes(typeSpecs, values, location, componentName, getStack) {
  if (true) {
    for (var typeSpecName in typeSpecs) {
      if (has(typeSpecs, typeSpecName)) {
        var error;
        // Prop type validation may throw. In case they do, we don't want to
        // fail the render phase where it didn't fail before. So we log it.
        // After these have been cleaned up, we'll let them throw.
        try {
          // This is intentionally an invariant that gets caught. It's the same
          // behavior as without this statement except with a better message.
          if (typeof typeSpecs[typeSpecName] !== 'function') {
            var err = Error(
              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +
              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'
            );
            err.name = 'Invariant Violation';
            throw err;
          }
          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);
        } catch (ex) {
          error = ex;
        }
        if (error && !(error instanceof Error)) {
          printWarning(
            (componentName || 'React class') + ': type specification of ' +
            location + ' `' + typeSpecName + '` is invalid; the type checker ' +
            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +
            'You may have forgotten to pass an argument to the type checker ' +
            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +
            'shape all require an argument).'
          );
        }
        if (error instanceof Error && !(error.message in loggedTypeFailures)) {
          // Only monitor this failure once because there tends to be a lot of the
          // same error.
          loggedTypeFailures[error.message] = true;

          var stack = getStack ? getStack() : '';

          printWarning(
            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')
          );
        }
      }
    }
  }
}

/**
 * Resets warning cache when testing.
 *
 * @private
 */
checkPropTypes.resetWarningCache = function() {
  if (true) {
    loggedTypeFailures = {};
  }
}

module.exports = checkPropTypes;


/***/ }),

/***/ "./node_modules/prop-types/factoryWithTypeCheckers.js":
/*!************************************************************!*\
  !*** ./node_modules/prop-types/factoryWithTypeCheckers.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");
var assign = __webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js");

var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ "./node_modules/prop-types/lib/ReactPropTypesSecret.js");
var checkPropTypes = __webpack_require__(/*! ./checkPropTypes */ "./node_modules/prop-types/checkPropTypes.js");

var has = Function.call.bind(Object.prototype.hasOwnProperty);
var printWarning = function() {};

if (true) {
  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

function emptyFunctionThatReturnsNull() {
  return null;
}

module.exports = function(isValidElement, throwOnDirectAccess) {
  /* global Symbol */
  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;
  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.

  /**
   * Returns the iterator method function contained on the iterable object.
   *
   * Be sure to invoke the function with the iterable as context:
   *
   *     var iteratorFn = getIteratorFn(myIterable);
   *     if (iteratorFn) {
   *       var iterator = iteratorFn.call(myIterable);
   *       ...
   *     }
   *
   * @param {?object} maybeIterable
   * @return {?function}
   */
  function getIteratorFn(maybeIterable) {
    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
    if (typeof iteratorFn === 'function') {
      return iteratorFn;
    }
  }

  /**
   * Collection of methods that allow declaration and validation of props that are
   * supplied to React components. Example usage:
   *
   *   var Props = require('ReactPropTypes');
   *   var MyArticle = React.createClass({
   *     propTypes: {
   *       // An optional string prop named "description".
   *       description: Props.string,
   *
   *       // A required enum prop named "category".
   *       category: Props.oneOf(['News','Photos']).isRequired,
   *
   *       // A prop named "dialog" that requires an instance of Dialog.
   *       dialog: Props.instanceOf(Dialog).isRequired
   *     },
   *     render: function() { ... }
   *   });
   *
   * A more formal specification of how these methods are used:
   *
   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)
   *   decl := ReactPropTypes.{type}(.isRequired)?
   *
   * Each and every declaration produces a function with the same signature. This
   * allows the creation of custom validation functions. For example:
   *
   *  var MyLink = React.createClass({
   *    propTypes: {
   *      // An optional string or URI prop named "href".
   *      href: function(props, propName, componentName) {
   *        var propValue = props[propName];
   *        if (propValue != null && typeof propValue !== 'string' &&
   *            !(propValue instanceof URI)) {
   *          return new Error(
   *            'Expected a string or an URI for ' + propName + ' in ' +
   *            componentName
   *          );
   *        }
   *      }
   *    },
   *    render: function() {...}
   *  });
   *
   * @internal
   */

  var ANONYMOUS = '<<anonymous>>';

  // Important!
  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.
  var ReactPropTypes = {
    array: createPrimitiveTypeChecker('array'),
    bool: createPrimitiveTypeChecker('boolean'),
    func: createPrimitiveTypeChecker('function'),
    number: createPrimitiveTypeChecker('number'),
    object: createPrimitiveTypeChecker('object'),
    string: createPrimitiveTypeChecker('string'),
    symbol: createPrimitiveTypeChecker('symbol'),

    any: createAnyTypeChecker(),
    arrayOf: createArrayOfTypeChecker,
    element: createElementTypeChecker(),
    elementType: createElementTypeTypeChecker(),
    instanceOf: createInstanceTypeChecker,
    node: createNodeChecker(),
    objectOf: createObjectOfTypeChecker,
    oneOf: createEnumTypeChecker,
    oneOfType: createUnionTypeChecker,
    shape: createShapeTypeChecker,
    exact: createStrictShapeTypeChecker,
  };

  /**
   * inlined Object.is polyfill to avoid requiring consumers ship their own
   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
   */
  /*eslint-disable no-self-compare*/
  function is(x, y) {
    // SameValue algorithm
    if (x === y) {
      // Steps 1-5, 7-10
      // Steps 6.b-6.e: +0 != -0
      return x !== 0 || 1 / x === 1 / y;
    } else {
      // Step 6.a: NaN == NaN
      return x !== x && y !== y;
    }
  }
  /*eslint-enable no-self-compare*/

  /**
   * We use an Error-like object for backward compatibility as people may call
   * PropTypes directly and inspect their output. However, we don't use real
   * Errors anymore. We don't inspect their stack anyway, and creating them
   * is prohibitively expensive if they are created too often, such as what
   * happens in oneOfType() for any type before the one that matched.
   */
  function PropTypeError(message) {
    this.message = message;
    this.stack = '';
  }
  // Make `instanceof Error` still work for returned errors.
  PropTypeError.prototype = Error.prototype;

  function createChainableTypeChecker(validate) {
    if (true) {
      var manualPropTypeCallCache = {};
      var manualPropTypeWarningCount = 0;
    }
    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
      componentName = componentName || ANONYMOUS;
      propFullName = propFullName || propName;

      if (secret !== ReactPropTypesSecret) {
        if (throwOnDirectAccess) {
          // New behavior only for users of `prop-types` package
          var err = new Error(
            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
            'Use `PropTypes.checkPropTypes()` to call them. ' +
            'Read more at http://fb.me/use-check-prop-types'
          );
          err.name = 'Invariant Violation';
          throw err;
        } else if ( true && typeof console !== 'undefined') {
          // Old behavior for people using React.PropTypes
          var cacheKey = componentName + ':' + propName;
          if (
            !manualPropTypeCallCache[cacheKey] &&
            // Avoid spamming the console because they are often not actionable except for lib authors
            manualPropTypeWarningCount < 3
          ) {
            printWarning(
              'You are manually calling a React.PropTypes validation ' +
              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +
              'and will throw in the standalone `prop-types` package. ' +
              'You may be seeing this warning due to a third-party PropTypes ' +
              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'
            );
            manualPropTypeCallCache[cacheKey] = true;
            manualPropTypeWarningCount++;
          }
        }
      }
      if (props[propName] == null) {
        if (isRequired) {
          if (props[propName] === null) {
            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));
          }
          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));
        }
        return null;
      } else {
        return validate(props, propName, componentName, location, propFullName);
      }
    }

    var chainedCheckType = checkType.bind(null, false);
    chainedCheckType.isRequired = checkType.bind(null, true);

    return chainedCheckType;
  }

  function createPrimitiveTypeChecker(expectedType) {
    function validate(props, propName, componentName, location, propFullName, secret) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== expectedType) {
        // `propValue` being instance of, say, date/regexp, pass the 'object'
        // check, but we can offer a more precise error message here rather than
        // 'of type `object`'.
        var preciseType = getPreciseType(propValue);

        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createAnyTypeChecker() {
    return createChainableTypeChecker(emptyFunctionThatReturnsNull);
  }

  function createArrayOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');
      }
      var propValue = props[propName];
      if (!Array.isArray(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));
      }
      for (var i = 0; i < propValue.length; i++) {
        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);
        if (error instanceof Error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!isValidElement(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!ReactIs.isValidElementType(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createInstanceTypeChecker(expectedClass) {
    function validate(props, propName, componentName, location, propFullName) {
      if (!(props[propName] instanceof expectedClass)) {
        var expectedClassName = expectedClass.name || ANONYMOUS;
        var actualClassName = getClassName(props[propName]);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createEnumTypeChecker(expectedValues) {
    if (!Array.isArray(expectedValues)) {
      if (true) {
        if (arguments.length > 1) {
          printWarning(
            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +
            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'
          );
        } else {
          printWarning('Invalid argument supplied to oneOf, expected an array.');
        }
      }
      return emptyFunctionThatReturnsNull;
    }

    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      for (var i = 0; i < expectedValues.length; i++) {
        if (is(propValue, expectedValues[i])) {
          return null;
        }
      }

      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {
        var type = getPreciseType(value);
        if (type === 'symbol') {
          return String(value);
        }
        return value;
      });
      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createObjectOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');
      }
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));
      }
      for (var key in propValue) {
        if (has(propValue, key)) {
          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
          if (error instanceof Error) {
            return error;
          }
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createUnionTypeChecker(arrayOfTypeCheckers) {
    if (!Array.isArray(arrayOfTypeCheckers)) {
       true ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : undefined;
      return emptyFunctionThatReturnsNull;
    }

    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
      var checker = arrayOfTypeCheckers[i];
      if (typeof checker !== 'function') {
        printWarning(
          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +
          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'
        );
        return emptyFunctionThatReturnsNull;
      }
    }

    function validate(props, propName, componentName, location, propFullName) {
      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
        var checker = arrayOfTypeCheckers[i];
        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {
          return null;
        }
      }

      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createNodeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      if (!isNode(props[propName])) {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      for (var key in shapeTypes) {
        var checker = shapeTypes[key];
        if (!checker) {
          continue;
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createStrictShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      // We need to check all keys in case some are required but missing from
      // props.
      var allKeys = assign({}, props[propName], shapeTypes);
      for (var key in allKeys) {
        var checker = shapeTypes[key];
        if (!checker) {
          return new PropTypeError(
            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +
            '\nBad object: ' + JSON.stringify(props[propName], null, '  ') +
            '\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')
          );
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }

    return createChainableTypeChecker(validate);
  }

  function isNode(propValue) {
    switch (typeof propValue) {
      case 'number':
      case 'string':
      case 'undefined':
        return true;
      case 'boolean':
        return !propValue;
      case 'object':
        if (Array.isArray(propValue)) {
          return propValue.every(isNode);
        }
        if (propValue === null || isValidElement(propValue)) {
          return true;
        }

        var iteratorFn = getIteratorFn(propValue);
        if (iteratorFn) {
          var iterator = iteratorFn.call(propValue);
          var step;
          if (iteratorFn !== propValue.entries) {
            while (!(step = iterator.next()).done) {
              if (!isNode(step.value)) {
                return false;
              }
            }
          } else {
            // Iterator will provide entry [k,v] tuples rather than values.
            while (!(step = iterator.next()).done) {
              var entry = step.value;
              if (entry) {
                if (!isNode(entry[1])) {
                  return false;
                }
              }
            }
          }
        } else {
          return false;
        }

        return true;
      default:
        return false;
    }
  }

  function isSymbol(propType, propValue) {
    // Native Symbol.
    if (propType === 'symbol') {
      return true;
    }

    // falsy value can't be a Symbol
    if (!propValue) {
      return false;
    }

    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'
    if (propValue['@@toStringTag'] === 'Symbol') {
      return true;
    }

    // Fallback for non-spec compliant Symbols which are polyfilled.
    if (typeof Symbol === 'function' && propValue instanceof Symbol) {
      return true;
    }

    return false;
  }

  // Equivalent of `typeof` but with special handling for array and regexp.
  function getPropType(propValue) {
    var propType = typeof propValue;
    if (Array.isArray(propValue)) {
      return 'array';
    }
    if (propValue instanceof RegExp) {
      // Old webkits (at least until Android 4.0) return 'function' rather than
      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/
      // passes PropTypes.object.
      return 'object';
    }
    if (isSymbol(propType, propValue)) {
      return 'symbol';
    }
    return propType;
  }

  // This handles more types than `getPropType`. Only used for error messages.
  // See `createPrimitiveTypeChecker`.
  function getPreciseType(propValue) {
    if (typeof propValue === 'undefined' || propValue === null) {
      return '' + propValue;
    }
    var propType = getPropType(propValue);
    if (propType === 'object') {
      if (propValue instanceof Date) {
        return 'date';
      } else if (propValue instanceof RegExp) {
        return 'regexp';
      }
    }
    return propType;
  }

  // Returns a string that is postfixed to a warning about an invalid type.
  // For example, "undefined" or "of type array"
  function getPostfixForTypeWarning(value) {
    var type = getPreciseType(value);
    switch (type) {
      case 'array':
      case 'object':
        return 'an ' + type;
      case 'boolean':
      case 'date':
      case 'regexp':
        return 'a ' + type;
      default:
        return type;
    }
  }

  // Returns class name of the object, if any.
  function getClassName(propValue) {
    if (!propValue.constructor || !propValue.constructor.name) {
      return ANONYMOUS;
    }
    return propValue.constructor.name;
  }

  ReactPropTypes.checkPropTypes = checkPropTypes;
  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;
  ReactPropTypes.PropTypes = ReactPropTypes;

  return ReactPropTypes;
};


/***/ }),

/***/ "./node_modules/prop-types/index.js":
/*!******************************************!*\
  !*** ./node_modules/prop-types/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

if (true) {
  var ReactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");

  // By explicitly using `prop-types` you are opting into new development behavior.
  // http://fb.me/prop-types-in-prod
  var throwOnDirectAccess = true;
  module.exports = __webpack_require__(/*! ./factoryWithTypeCheckers */ "./node_modules/prop-types/factoryWithTypeCheckers.js")(ReactIs.isElement, throwOnDirectAccess);
} else {}


/***/ }),

/***/ "./node_modules/prop-types/lib/ReactPropTypesSecret.js":
/*!*************************************************************!*\
  !*** ./node_modules/prop-types/lib/ReactPropTypesSecret.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

module.exports = ReactPropTypesSecret;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/BrowserDetector.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/BrowserDetector.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd-html5-backend/lib/cjs/utils/discount_lodash.js");
exports.isFirefox = discount_lodash_1.memoize(function () {
    return /firefox/i.test(navigator.userAgent);
});
exports.isSafari = discount_lodash_1.memoize(function () { return Boolean(window.safari); });


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/EnterLeaveCounter.js":
/*!***************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/EnterLeaveCounter.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd-html5-backend/lib/cjs/utils/discount_lodash.js");
var EnterLeaveCounter = /** @class */ (function () {
    function EnterLeaveCounter(isNodeInDocument) {
        this.entered = [];
        this.isNodeInDocument = isNodeInDocument;
    }
    EnterLeaveCounter.prototype.enter = function (enteringNode) {
        var _this = this;
        var previousLength = this.entered.length;
        var isNodeEntered = function (node) {
            return _this.isNodeInDocument(node) &&
                (!node.contains || node.contains(enteringNode));
        };
        this.entered = discount_lodash_1.union(this.entered.filter(isNodeEntered), [enteringNode]);
        return previousLength === 0 && this.entered.length > 0;
    };
    EnterLeaveCounter.prototype.leave = function (leavingNode) {
        var previousLength = this.entered.length;
        this.entered = discount_lodash_1.without(this.entered.filter(this.isNodeInDocument), leavingNode);
        return previousLength > 0 && this.entered.length === 0;
    };
    EnterLeaveCounter.prototype.reset = function () {
        this.entered = [];
    };
    return EnterLeaveCounter;
}());
exports.default = EnterLeaveCounter;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/HTML5Backend.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/HTML5Backend.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var EnterLeaveCounter_1 = __webpack_require__(/*! ./EnterLeaveCounter */ "./node_modules/react-dnd-html5-backend/lib/cjs/EnterLeaveCounter.js");
var BrowserDetector_1 = __webpack_require__(/*! ./BrowserDetector */ "./node_modules/react-dnd-html5-backend/lib/cjs/BrowserDetector.js");
var OffsetUtils_1 = __webpack_require__(/*! ./OffsetUtils */ "./node_modules/react-dnd-html5-backend/lib/cjs/OffsetUtils.js");
var NativeDragSources_1 = __webpack_require__(/*! ./NativeDragSources */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/index.js");
var NativeTypes = __webpack_require__(/*! ./NativeTypes */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js");
var HTML5Backend = /** @class */ (function () {
    function HTML5Backend(manager) {
        var _this = this;
        this.sourcePreviewNodes = new Map();
        this.sourcePreviewNodeOptions = new Map();
        this.sourceNodes = new Map();
        this.sourceNodeOptions = new Map();
        this.dragStartSourceIds = null;
        this.dropTargetIds = [];
        this.dragEnterTargetIds = [];
        this.currentNativeSource = null;
        this.currentNativeHandle = null;
        this.currentDragSourceNode = null;
        this.altKeyPressed = false;
        this.mouseMoveTimeoutTimer = null;
        this.asyncEndDragFrameId = null;
        this.dragOverTargetIds = null;
        this.getSourceClientOffset = function (sourceId) {
            return OffsetUtils_1.getNodeClientOffset(_this.sourceNodes.get(sourceId));
        };
        this.endDragNativeItem = function () {
            if (!_this.isDraggingNativeItem()) {
                return;
            }
            _this.actions.endDrag();
            _this.registry.removeSource(_this.currentNativeHandle);
            _this.currentNativeHandle = null;
            _this.currentNativeSource = null;
        };
        this.isNodeInDocument = function (node) {
            // Check the node either in the main document or in the current context
            return ((!!document && document.body.contains(node)) ||
                (!!_this.window && _this.window.document.body.contains(node)));
        };
        this.endDragIfSourceWasRemovedFromDOM = function () {
            var node = _this.currentDragSourceNode;
            if (_this.isNodeInDocument(node)) {
                return;
            }
            if (_this.clearCurrentDragSourceNode()) {
                _this.actions.endDrag();
            }
        };
        this.handleTopDragStartCapture = function () {
            _this.clearCurrentDragSourceNode();
            _this.dragStartSourceIds = [];
        };
        this.handleTopDragStart = function (e) {
            var dragStartSourceIds = _this.dragStartSourceIds;
            _this.dragStartSourceIds = null;
            var clientOffset = OffsetUtils_1.getEventClientOffset(e);
            // Avoid crashing if we missed a drop event or our previous drag died
            if (_this.monitor.isDragging()) {
                _this.actions.endDrag();
            }
            // Don't publish the source just yet (see why below)
            _this.actions.beginDrag(dragStartSourceIds || [], {
                publishSource: false,
                getSourceClientOffset: _this.getSourceClientOffset,
                clientOffset: clientOffset,
            });
            var dataTransfer = e.dataTransfer;
            var nativeType = NativeDragSources_1.matchNativeItemType(dataTransfer);
            if (_this.monitor.isDragging()) {
                if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {
                    // Use custom drag image if user specifies it.
                    // If child drag source refuses drag but parent agrees,
                    // use parent's node as drag image. Neither works in IE though.
                    var sourceId = _this.monitor.getSourceId();
                    var sourceNode = _this.sourceNodes.get(sourceId);
                    var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;
                    if (dragPreview) {
                        var _a = _this.getCurrentSourcePreviewNodeOptions(), anchorX = _a.anchorX, anchorY = _a.anchorY, offsetX = _a.offsetX, offsetY = _a.offsetY;
                        var anchorPoint = { anchorX: anchorX, anchorY: anchorY };
                        var offsetPoint = { offsetX: offsetX, offsetY: offsetY };
                        var dragPreviewOffset = OffsetUtils_1.getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);
                        dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);
                    }
                }
                try {
                    // Firefox won't drag without setting data
                    dataTransfer.setData('application/json', {});
                }
                catch (err) {
                    // IE doesn't support MIME types in setData
                }
                // Store drag source node so we can check whether
                // it is removed from DOM and trigger endDrag manually.
                _this.setCurrentDragSourceNode(e.target);
                // Now we are ready to publish the drag source.. or are we not?
                var captureDraggingState = _this.getCurrentSourcePreviewNodeOptions().captureDraggingState;
                if (!captureDraggingState) {
                    // Usually we want to publish it in the next tick so that browser
                    // is able to screenshot the current (not yet dragging) state.
                    //
                    // It also neatly avoids a situation where render() returns null
                    // in the same tick for the source element, and browser freaks out.
                    setTimeout(function () { return _this.actions.publishDragSource(); }, 0);
                }
                else {
                    // In some cases the user may want to override this behavior, e.g.
                    // to work around IE not supporting custom drag previews.
                    //
                    // When using a custom drag layer, the only way to prevent
                    // the default drag preview from drawing in IE is to screenshot
                    // the dragging state in which the node itself has zero opacity
                    // and height. In this case, though, returning null from render()
                    // will abruptly end the dragging, which is not obvious.
                    //
                    // This is the reason such behavior is strictly opt-in.
                    _this.actions.publishDragSource();
                }
            }
            else if (nativeType) {
                // A native item (such as URL) dragged from inside the document
                _this.beginDragNativeItem(nativeType);
            }
            else if (dataTransfer &&
                !dataTransfer.types &&
                ((e.target && !e.target.hasAttribute) ||
                    !e.target.hasAttribute('draggable'))) {
                // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.
                // Just let it drag. It's a native type (URL or text) and will be picked up in
                // dragenter handler.
                return;
            }
            else {
                // If by this time no drag source reacted, tell browser not to drag.
                e.preventDefault();
            }
        };
        this.handleTopDragEndCapture = function () {
            if (_this.clearCurrentDragSourceNode()) {
                // Firefox can dispatch this event in an infinite loop
                // if dragend handler does something like showing an alert.
                // Only proceed if we have not handled it already.
                _this.actions.endDrag();
            }
        };
        this.handleTopDragEnterCapture = function (e) {
            _this.dragEnterTargetIds = [];
            var isFirstEnter = _this.enterLeaveCounter.enter(e.target);
            if (!isFirstEnter || _this.monitor.isDragging()) {
                return;
            }
            var dataTransfer = e.dataTransfer;
            var nativeType = NativeDragSources_1.matchNativeItemType(dataTransfer);
            if (nativeType) {
                // A native item (such as file or URL) dragged from outside the document
                _this.beginDragNativeItem(nativeType);
            }
        };
        this.handleTopDragEnter = function (e) {
            var dragEnterTargetIds = _this.dragEnterTargetIds;
            _this.dragEnterTargetIds = [];
            if (!_this.monitor.isDragging()) {
                // This is probably a native item type we don't understand.
                return;
            }
            _this.altKeyPressed = e.altKey;
            if (!BrowserDetector_1.isFirefox()) {
                // Don't emit hover in `dragenter` on Firefox due to an edge case.
                // If the target changes position as the result of `dragenter`, Firefox
                // will still happily dispatch `dragover` despite target being no longer
                // there. The easy solution is to only fire `hover` in `dragover` on FF.
                _this.actions.hover(dragEnterTargetIds, {
                    clientOffset: OffsetUtils_1.getEventClientOffset(e),
                });
            }
            var canDrop = dragEnterTargetIds.some(function (targetId) {
                return _this.monitor.canDropOnTarget(targetId);
            });
            if (canDrop) {
                // IE requires this to fire dragover events
                e.preventDefault();
                if (e.dataTransfer) {
                    e.dataTransfer.dropEffect = _this.getCurrentDropEffect();
                }
            }
        };
        this.handleTopDragOverCapture = function () {
            _this.dragOverTargetIds = [];
        };
        this.handleTopDragOver = function (e) {
            var dragOverTargetIds = _this.dragOverTargetIds;
            _this.dragOverTargetIds = [];
            if (!_this.monitor.isDragging()) {
                // This is probably a native item type we don't understand.
                // Prevent default "drop and blow away the whole document" action.
                e.preventDefault();
                if (e.dataTransfer) {
                    e.dataTransfer.dropEffect = 'none';
                }
                return;
            }
            _this.altKeyPressed = e.altKey;
            _this.actions.hover(dragOverTargetIds || [], {
                clientOffset: OffsetUtils_1.getEventClientOffset(e),
            });
            var canDrop = (dragOverTargetIds || []).some(function (targetId) {
                return _this.monitor.canDropOnTarget(targetId);
            });
            if (canDrop) {
                // Show user-specified drop effect.
                e.preventDefault();
                if (e.dataTransfer) {
                    e.dataTransfer.dropEffect = _this.getCurrentDropEffect();
                }
            }
            else if (_this.isDraggingNativeItem()) {
                // Don't show a nice cursor but still prevent default
                // "drop and blow away the whole document" action.
                e.preventDefault();
            }
            else {
                e.preventDefault();
                if (e.dataTransfer) {
                    e.dataTransfer.dropEffect = 'none';
                }
            }
        };
        this.handleTopDragLeaveCapture = function (e) {
            if (_this.isDraggingNativeItem()) {
                e.preventDefault();
            }
            var isLastLeave = _this.enterLeaveCounter.leave(e.target);
            if (!isLastLeave) {
                return;
            }
            if (_this.isDraggingNativeItem()) {
                _this.endDragNativeItem();
            }
        };
        this.handleTopDropCapture = function (e) {
            _this.dropTargetIds = [];
            e.preventDefault();
            if (_this.isDraggingNativeItem()) {
                _this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer);
            }
            _this.enterLeaveCounter.reset();
        };
        this.handleTopDrop = function (e) {
            var dropTargetIds = _this.dropTargetIds;
            _this.dropTargetIds = [];
            _this.actions.hover(dropTargetIds, {
                clientOffset: OffsetUtils_1.getEventClientOffset(e),
            });
            _this.actions.drop({ dropEffect: _this.getCurrentDropEffect() });
            if (_this.isDraggingNativeItem()) {
                _this.endDragNativeItem();
            }
            else {
                _this.endDragIfSourceWasRemovedFromDOM();
            }
        };
        this.handleSelectStart = function (e) {
            var target = e.target;
            // Only IE requires us to explicitly say
            // we want drag drop operation to start
            if (typeof target.dragDrop !== 'function') {
                return;
            }
            // Inputs and textareas should be selectable
            if (target.tagName === 'INPUT' ||
                target.tagName === 'SELECT' ||
                target.tagName === 'TEXTAREA' ||
                target.isContentEditable) {
                return;
            }
            // For other targets, ask IE
            // to enable drag and drop
            e.preventDefault();
            target.dragDrop();
        };
        this.actions = manager.getActions();
        this.monitor = manager.getMonitor();
        this.registry = manager.getRegistry();
        this.context = manager.getContext();
        this.enterLeaveCounter = new EnterLeaveCounter_1.default(this.isNodeInDocument);
    }
    Object.defineProperty(HTML5Backend.prototype, "window", {
        // public for test
        get: function () {
            if (this.context && this.context.window) {
                return this.context.window;
            }
            else if (typeof window !== 'undefined') {
                return window;
            }
            return undefined;
        },
        enumerable: true,
        configurable: true
    });
    HTML5Backend.prototype.setup = function () {
        if (this.window === undefined) {
            return;
        }
        if (this.window.__isReactDndBackendSetUp) {
            throw new Error('Cannot have two HTML5 backends at the same time.');
        }
        this.window.__isReactDndBackendSetUp = true;
        this.addEventListeners(this.window);
    };
    HTML5Backend.prototype.teardown = function () {
        if (this.window === undefined) {
            return;
        }
        this.window.__isReactDndBackendSetUp = false;
        this.removeEventListeners(this.window);
        this.clearCurrentDragSourceNode();
        if (this.asyncEndDragFrameId) {
            this.window.cancelAnimationFrame(this.asyncEndDragFrameId);
        }
    };
    HTML5Backend.prototype.connectDragPreview = function (sourceId, node, options) {
        var _this = this;
        this.sourcePreviewNodeOptions.set(sourceId, options);
        this.sourcePreviewNodes.set(sourceId, node);
        return function () {
            _this.sourcePreviewNodes.delete(sourceId);
            _this.sourcePreviewNodeOptions.delete(sourceId);
        };
    };
    HTML5Backend.prototype.connectDragSource = function (sourceId, node, options) {
        var _this = this;
        this.sourceNodes.set(sourceId, node);
        this.sourceNodeOptions.set(sourceId, options);
        var handleDragStart = function (e) { return _this.handleDragStart(e, sourceId); };
        var handleSelectStart = function (e) { return _this.handleSelectStart(e); };
        node.setAttribute('draggable', 'true');
        node.addEventListener('dragstart', handleDragStart);
        node.addEventListener('selectstart', handleSelectStart);
        return function () {
            _this.sourceNodes.delete(sourceId);
            _this.sourceNodeOptions.delete(sourceId);
            node.removeEventListener('dragstart', handleDragStart);
            node.removeEventListener('selectstart', handleSelectStart);
            node.setAttribute('draggable', 'false');
        };
    };
    HTML5Backend.prototype.connectDropTarget = function (targetId, node) {
        var _this = this;
        var handleDragEnter = function (e) { return _this.handleDragEnter(e, targetId); };
        var handleDragOver = function (e) { return _this.handleDragOver(e, targetId); };
        var handleDrop = function (e) { return _this.handleDrop(e, targetId); };
        node.addEventListener('dragenter', handleDragEnter);
        node.addEventListener('dragover', handleDragOver);
        node.addEventListener('drop', handleDrop);
        return function () {
            node.removeEventListener('dragenter', handleDragEnter);
            node.removeEventListener('dragover', handleDragOver);
            node.removeEventListener('drop', handleDrop);
        };
    };
    HTML5Backend.prototype.addEventListeners = function (target) {
        // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813
        if (!target.addEventListener) {
            return;
        }
        target.addEventListener('dragstart', this
            .handleTopDragStart);
        target.addEventListener('dragstart', this.handleTopDragStartCapture, true);
        target.addEventListener('dragend', this.handleTopDragEndCapture, true);
        target.addEventListener('dragenter', this
            .handleTopDragEnter);
        target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);
        target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);
        target.addEventListener('dragover', this.handleTopDragOver);
        target.addEventListener('dragover', this.handleTopDragOverCapture, true);
        target.addEventListener('drop', this.handleTopDrop);
        target.addEventListener('drop', this.handleTopDropCapture, true);
    };
    HTML5Backend.prototype.removeEventListeners = function (target) {
        // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813
        if (!target.removeEventListener) {
            return;
        }
        target.removeEventListener('dragstart', this.handleTopDragStart);
        target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);
        target.removeEventListener('dragend', this.handleTopDragEndCapture, true);
        target.removeEventListener('dragenter', this
            .handleTopDragEnter);
        target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);
        target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);
        target.removeEventListener('dragover', this
            .handleTopDragOver);
        target.removeEventListener('dragover', this.handleTopDragOverCapture, true);
        target.removeEventListener('drop', this.handleTopDrop);
        target.removeEventListener('drop', this.handleTopDropCapture, true);
    };
    HTML5Backend.prototype.getCurrentSourceNodeOptions = function () {
        var sourceId = this.monitor.getSourceId();
        var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);
        return __assign({ dropEffect: this.altKeyPressed ? 'copy' : 'move' }, (sourceNodeOptions || {}));
    };
    HTML5Backend.prototype.getCurrentDropEffect = function () {
        if (this.isDraggingNativeItem()) {
            // It makes more sense to default to 'copy' for native resources
            return 'copy';
        }
        return this.getCurrentSourceNodeOptions().dropEffect;
    };
    HTML5Backend.prototype.getCurrentSourcePreviewNodeOptions = function () {
        var sourceId = this.monitor.getSourceId();
        var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);
        return __assign({ anchorX: 0.5, anchorY: 0.5, captureDraggingState: false }, (sourcePreviewNodeOptions || {}));
    };
    HTML5Backend.prototype.isDraggingNativeItem = function () {
        var itemType = this.monitor.getItemType();
        return Object.keys(NativeTypes).some(function (key) { return NativeTypes[key] === itemType; });
    };
    HTML5Backend.prototype.beginDragNativeItem = function (type) {
        this.clearCurrentDragSourceNode();
        this.currentNativeSource = NativeDragSources_1.createNativeDragSource(type);
        this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);
        this.actions.beginDrag([this.currentNativeHandle]);
    };
    HTML5Backend.prototype.setCurrentDragSourceNode = function (node) {
        var _this = this;
        this.clearCurrentDragSourceNode();
        this.currentDragSourceNode = node;
        // A timeout of > 0 is necessary to resolve Firefox issue referenced
        // See:
        //   * https://github.com/react-dnd/react-dnd/pull/928
        //   * https://github.com/react-dnd/react-dnd/issues/869
        var MOUSE_MOVE_TIMEOUT = 1000;
        // Receiving a mouse event in the middle of a dragging operation
        // means it has ended and the drag source node disappeared from DOM,
        // so the browser didn't dispatch the dragend event.
        //
        // We need to wait before we start listening for mousemove events.
        // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event
        // immediately in some browsers.
        //
        // See:
        //   * https://github.com/react-dnd/react-dnd/pull/928
        //   * https://github.com/react-dnd/react-dnd/issues/869
        //
        this.mouseMoveTimeoutTimer = setTimeout(function () {
            return (_this.window &&
                _this.window.addEventListener('mousemove', _this.endDragIfSourceWasRemovedFromDOM, true));
        }, MOUSE_MOVE_TIMEOUT);
    };
    HTML5Backend.prototype.clearCurrentDragSourceNode = function () {
        if (this.currentDragSourceNode) {
            this.currentDragSourceNode = null;
            if (this.window) {
                this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);
                this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);
            }
            this.mouseMoveTimeoutTimer = null;
            return true;
        }
        return false;
    };
    HTML5Backend.prototype.handleDragStart = function (e, sourceId) {
        if (!this.dragStartSourceIds) {
            this.dragStartSourceIds = [];
        }
        this.dragStartSourceIds.unshift(sourceId);
    };
    HTML5Backend.prototype.handleDragEnter = function (e, targetId) {
        this.dragEnterTargetIds.unshift(targetId);
    };
    HTML5Backend.prototype.handleDragOver = function (e, targetId) {
        if (this.dragOverTargetIds === null) {
            this.dragOverTargetIds = [];
        }
        this.dragOverTargetIds.unshift(targetId);
    };
    HTML5Backend.prototype.handleDrop = function (e, targetId) {
        this.dropTargetIds.unshift(targetId);
    };
    return HTML5Backend;
}());
exports.default = HTML5Backend;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/MonotonicInterpolant.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/MonotonicInterpolant.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var MonotonicInterpolant = /** @class */ (function () {
    function MonotonicInterpolant(xs, ys) {
        var length = xs.length;
        // Rearrange xs and ys so that xs is sorted
        var indexes = [];
        for (var i = 0; i < length; i++) {
            indexes.push(i);
        }
        indexes.sort(function (a, b) { return (xs[a] < xs[b] ? -1 : 1); });
        // Get consecutive differences and slopes
        var dys = [];
        var dxs = [];
        var ms = [];
        var dx;
        var dy;
        for (var i = 0; i < length - 1; i++) {
            dx = xs[i + 1] - xs[i];
            dy = ys[i + 1] - ys[i];
            dxs.push(dx);
            dys.push(dy);
            ms.push(dy / dx);
        }
        // Get degree-1 coefficients
        var c1s = [ms[0]];
        for (var i = 0; i < dxs.length - 1; i++) {
            var m2 = ms[i];
            var mNext = ms[i + 1];
            if (m2 * mNext <= 0) {
                c1s.push(0);
            }
            else {
                dx = dxs[i];
                var dxNext = dxs[i + 1];
                var common = dx + dxNext;
                c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));
            }
        }
        c1s.push(ms[ms.length - 1]);
        // Get degree-2 and degree-3 coefficients
        var c2s = [];
        var c3s = [];
        var m;
        for (var i = 0; i < c1s.length - 1; i++) {
            m = ms[i];
            var c1 = c1s[i];
            var invDx = 1 / dxs[i];
            var common = c1 + c1s[i + 1] - m - m;
            c2s.push((m - c1 - common) * invDx);
            c3s.push(common * invDx * invDx);
        }
        this.xs = xs;
        this.ys = ys;
        this.c1s = c1s;
        this.c2s = c2s;
        this.c3s = c3s;
    }
    MonotonicInterpolant.prototype.interpolate = function (x) {
        var _a = this, xs = _a.xs, ys = _a.ys, c1s = _a.c1s, c2s = _a.c2s, c3s = _a.c3s;
        // The rightmost point in the dataset should give an exact result
        var i = xs.length - 1;
        if (x === xs[i]) {
            return ys[i];
        }
        // Search for the interval x is in, returning the corresponding y if x is one of the original xs
        var low = 0;
        var high = c3s.length - 1;
        var mid;
        while (low <= high) {
            mid = Math.floor(0.5 * (low + high));
            var xHere = xs[mid];
            if (xHere < x) {
                low = mid + 1;
            }
            else if (xHere > x) {
                high = mid - 1;
            }
            else {
                return ys[mid];
            }
        }
        i = Math.max(0, high);
        // Interpolate
        var diff = x - xs[i];
        var diffSq = diff * diff;
        return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;
    };
    return MonotonicInterpolant;
}());
exports.default = MonotonicInterpolant;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/NativeDragSource.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/NativeDragSource.js ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var NativeDragSource = /** @class */ (function () {
    function NativeDragSource(config) {
        var _this = this;
        this.config = config;
        this.item = {};
        Object.keys(this.config.exposeProperties).forEach(function (property) {
            Object.defineProperty(_this.item, property, {
                configurable: true,
                enumerable: true,
                get: function () {
                    // eslint-disable-next-line no-console
                    console.warn("Browser doesn't allow reading \"" + property + "\" until the drop event.");
                    return null;
                },
            });
        });
    }
    NativeDragSource.prototype.mutateItemByReadingDataTransfer = function (dataTransfer) {
        var _this = this;
        var newProperties = {};
        if (dataTransfer) {
            Object.keys(this.config.exposeProperties).forEach(function (property) {
                newProperties[property] = {
                    value: _this.config.exposeProperties[property](dataTransfer, _this.config.matchesTypes),
                };
            });
        }
        Object.defineProperties(this.item, newProperties);
    };
    NativeDragSource.prototype.canDrag = function () {
        return true;
    };
    NativeDragSource.prototype.beginDrag = function () {
        return this.item;
    };
    NativeDragSource.prototype.isDragging = function (monitor, handle) {
        return handle === monitor.getSourceId();
    };
    NativeDragSource.prototype.endDrag = function () {
        // empty
    };
    return NativeDragSource;
}());
exports.NativeDragSource = NativeDragSource;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/getDataFromDataTransfer.js":
/*!***************************************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/getDataFromDataTransfer.js ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {
    var result = typesToTry.reduce(function (resultSoFar, typeToTry) { return resultSoFar || dataTransfer.getData(typeToTry); }, '');
    return result != null ? result : defaultValue;
}
exports.getDataFromDataTransfer = getDataFromDataTransfer;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/index.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var nativeTypesConfig_1 = __webpack_require__(/*! ./nativeTypesConfig */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/nativeTypesConfig.js");
var NativeDragSource_1 = __webpack_require__(/*! ./NativeDragSource */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/NativeDragSource.js");
function createNativeDragSource(type) {
    return new NativeDragSource_1.NativeDragSource(nativeTypesConfig_1.nativeTypesConfig[type]);
}
exports.createNativeDragSource = createNativeDragSource;
function matchNativeItemType(dataTransfer) {
    if (!dataTransfer) {
        return null;
    }
    var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);
    return (Object.keys(nativeTypesConfig_1.nativeTypesConfig).filter(function (nativeItemType) {
        var matchesTypes = nativeTypesConfig_1.nativeTypesConfig[nativeItemType].matchesTypes;
        return matchesTypes.some(function (t) { return dataTransferTypes.indexOf(t) > -1; });
    })[0] || null);
}
exports.matchNativeItemType = matchNativeItemType;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/nativeTypesConfig.js":
/*!*********************************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/nativeTypesConfig.js ***!
  \*********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var _a;
Object.defineProperty(exports, "__esModule", { value: true });
var NativeTypes = __webpack_require__(/*! ../NativeTypes */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js");
var getDataFromDataTransfer_1 = __webpack_require__(/*! ./getDataFromDataTransfer */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/getDataFromDataTransfer.js");
exports.nativeTypesConfig = (_a = {},
    _a[NativeTypes.FILE] = {
        exposeProperties: {
            files: function (dataTransfer) {
                return Array.prototype.slice.call(dataTransfer.files);
            },
            items: function (dataTransfer) { return dataTransfer.items; },
        },
        matchesTypes: ['Files'],
    },
    _a[NativeTypes.URL] = {
        exposeProperties: {
            urls: function (dataTransfer, matchesTypes) {
                return getDataFromDataTransfer_1.getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\n');
            },
        },
        matchesTypes: ['Url', 'text/uri-list'],
    },
    _a[NativeTypes.TEXT] = {
        exposeProperties: {
            text: function (dataTransfer, matchesTypes) {
                return getDataFromDataTransfer_1.getDataFromDataTransfer(dataTransfer, matchesTypes, '');
            },
        },
        matchesTypes: ['Text', 'text/plain'],
    },
    _a);


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
exports.FILE = '__NATIVE_FILE__';
exports.URL = '__NATIVE_URL__';
exports.TEXT = '__NATIVE_TEXT__';


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/OffsetUtils.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/OffsetUtils.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var BrowserDetector_1 = __webpack_require__(/*! ./BrowserDetector */ "./node_modules/react-dnd-html5-backend/lib/cjs/BrowserDetector.js");
var MonotonicInterpolant_1 = __webpack_require__(/*! ./MonotonicInterpolant */ "./node_modules/react-dnd-html5-backend/lib/cjs/MonotonicInterpolant.js");
var ELEMENT_NODE = 1;
function getNodeClientOffset(node) {
    var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;
    if (!el) {
        return null;
    }
    var _a = el.getBoundingClientRect(), top = _a.top, left = _a.left;
    return { x: left, y: top };
}
exports.getNodeClientOffset = getNodeClientOffset;
function getEventClientOffset(e) {
    return {
        x: e.clientX,
        y: e.clientY,
    };
}
exports.getEventClientOffset = getEventClientOffset;
function isImageNode(node) {
    return (node.nodeName === 'IMG' &&
        (BrowserDetector_1.isFirefox() || !document.documentElement.contains(node)));
}
function getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {
    var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;
    var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight;
    // Work around @2x coordinate discrepancies in browsers
    if (BrowserDetector_1.isSafari() && isImage) {
        dragPreviewHeight /= window.devicePixelRatio;
        dragPreviewWidth /= window.devicePixelRatio;
    }
    return { dragPreviewWidth: dragPreviewWidth, dragPreviewHeight: dragPreviewHeight };
}
function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {
    // The browsers will use the image intrinsic size under different conditions.
    // Firefox only cares if it's an image, but WebKit also wants it to be detached.
    var isImage = isImageNode(dragPreview);
    var dragPreviewNode = isImage ? sourceNode : dragPreview;
    var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);
    var offsetFromDragPreview = {
        x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,
        y: clientOffset.y - dragPreviewNodeOffsetFromClient.y,
    };
    var sourceWidth = sourceNode.offsetWidth, sourceHeight = sourceNode.offsetHeight;
    var anchorX = anchorPoint.anchorX, anchorY = anchorPoint.anchorY;
    var _a = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight), dragPreviewWidth = _a.dragPreviewWidth, dragPreviewHeight = _a.dragPreviewHeight;
    var calculateYOffset = function () {
        var interpolantY = new MonotonicInterpolant_1.default([0, 0.5, 1], [
            // Dock to the top
            offsetFromDragPreview.y,
            // Align at the center
            (offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,
            // Dock to the bottom
            offsetFromDragPreview.y + dragPreviewHeight - sourceHeight,
        ]);
        var y = interpolantY.interpolate(anchorY);
        // Work around Safari 8 positioning bug
        if (BrowserDetector_1.isSafari() && isImage) {
            // We'll have to wait for @3x to see if this is entirely correct
            y += (window.devicePixelRatio - 1) * dragPreviewHeight;
        }
        return y;
    };
    var calculateXOffset = function () {
        // Interpolate coordinates depending on anchor point
        // If you know a simpler way to do this, let me know
        var interpolantX = new MonotonicInterpolant_1.default([0, 0.5, 1], [
            // Dock to the left
            offsetFromDragPreview.x,
            // Align at the center
            (offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,
            // Dock to the right
            offsetFromDragPreview.x + dragPreviewWidth - sourceWidth,
        ]);
        return interpolantX.interpolate(anchorX);
    };
    // Force offsets if specified in the options.
    var offsetX = offsetPoint.offsetX, offsetY = offsetPoint.offsetY;
    var isManualOffsetX = offsetX === 0 || offsetX;
    var isManualOffsetY = offsetY === 0 || offsetY;
    return {
        x: isManualOffsetX ? offsetX : calculateXOffset(),
        y: isManualOffsetY ? offsetY : calculateYOffset(),
    };
}
exports.getDragPreviewOffset = getDragPreviewOffset;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/getEmptyImage.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/getEmptyImage.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var emptyImage;
function getEmptyImage() {
    if (!emptyImage) {
        emptyImage = new Image();
        emptyImage.src =
            'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';
    }
    return emptyImage;
}
exports.default = getEmptyImage;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/index.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var HTML5Backend_1 = __webpack_require__(/*! ./HTML5Backend */ "./node_modules/react-dnd-html5-backend/lib/cjs/HTML5Backend.js");
var getEmptyImage_1 = __webpack_require__(/*! ./getEmptyImage */ "./node_modules/react-dnd-html5-backend/lib/cjs/getEmptyImage.js");
exports.getEmptyImage = getEmptyImage_1.default;
var NativeTypes = __webpack_require__(/*! ./NativeTypes */ "./node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js");
exports.NativeTypes = NativeTypes;
function createHTML5Backend(manager) {
    return new HTML5Backend_1.default(manager);
}
exports.default = createHTML5Backend;


/***/ }),

/***/ "./node_modules/react-dnd-html5-backend/lib/cjs/utils/discount_lodash.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/react-dnd-html5-backend/lib/cjs/utils/discount_lodash.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function memoize(fn) {
    var result = null;
    var memoized = function () {
        if (result == null) {
            result = fn();
        }
        return result;
    };
    return memoized;
}
exports.memoize = memoize;
/**
 * drop-in replacement for _.without
 */
function without(items, item) {
    return items.filter(function (i) { return i !== item; });
}
exports.without = without;
function union(itemsA, itemsB) {
    var set = new Set();
    var insertItem = function (item) { return set.add(item); };
    itemsA.forEach(insertItem);
    itemsB.forEach(insertItem);
    var result = [];
    set.forEach(function (key) { return result.push(key); });
    return result;
}
exports.union = union;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DragDropContext.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DragDropContext.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = __webpack_require__(/*! react */ "react");
var dnd_core_1 = __webpack_require__(/*! dnd-core */ "./node_modules/dnd-core/lib/cjs/index.js");
var checkDecoratorArguments_1 = __webpack_require__(/*! ./utils/checkDecoratorArguments */ "./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js");
var isRefable_1 = __webpack_require__(/*! ./utils/isRefable */ "./node_modules/react-dnd/lib/cjs/utils/isRefable.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var hoistStatics = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
/**
 * Create the React Context
 */
exports.context = React.createContext({
    dragDropManager: undefined,
});
exports.Consumer = exports.context.Consumer, exports.Provider = exports.context.Provider;
/**
 * Creates the context object we're providing
 * @param backend
 * @param context
 */
function createChildContext(backend, context, debugMode) {
    return {
        dragDropManager: dnd_core_1.createDragDropManager(backend, context, debugMode),
    };
}
exports.createChildContext = createChildContext;
/**
 * A React component that provides the React-DnD context
 */
exports.DragDropContextProvider = function (_a) {
    var children = _a.children, props = __rest(_a, ["children"]);
    var contextValue = 'manager' in props
        ? { dragDropManager: props.manager }
        : createChildContext(props.backend, props.context, props.debugMode);
    return React.createElement(exports.Provider, { value: contextValue }, children);
};
/**
 * Wrap the root component of your application with DragDropContext decorator to set up React DnD.
 * This lets you specify the backend, and sets up the shared DnD state behind the scenes.
 * @param backendFactory The DnD backend factory
 * @param backendContext The backend context
 */
function DragDropContext(backendFactory, backendContext, debugMode) {
    checkDecoratorArguments_1.default('DragDropContext', 'backend', backendFactory);
    var childContext = createChildContext(backendFactory, backendContext, debugMode);
    return function decorateContext(DecoratedComponent) {
        var Decorated = DecoratedComponent;
        var displayName = Decorated.displayName || Decorated.name || 'Component';
        var DragDropContextContainer = /** @class */ (function (_super) {
            __extends(DragDropContextContainer, _super);
            function DragDropContextContainer() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.ref = React.createRef();
                _this.getManager = function () { return childContext.dragDropManager; };
                return _this;
            }
            DragDropContextContainer.prototype.getDecoratedComponentInstance = function () {
                invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');
                return this.ref.current;
            };
            DragDropContextContainer.prototype.render = function () {
                return (React.createElement(exports.Provider, { value: childContext },
                    React.createElement(Decorated, __assign({}, this.props, { ref: isRefable_1.isRefable(Decorated) ? this.ref : null }))));
            };
            DragDropContextContainer.DecoratedComponent = DecoratedComponent;
            DragDropContextContainer.displayName = "DragDropContext(" + displayName + ")";
            return DragDropContextContainer;
        }(React.Component));
        return hoistStatics(DragDropContextContainer, DecoratedComponent);
    };
}
exports.DragDropContext = DragDropContext;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DragLayer.js":
/*!*****************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DragLayer.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = __webpack_require__(/*! react */ "react");
var checkDecoratorArguments_1 = __webpack_require__(/*! ./utils/checkDecoratorArguments */ "./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js");
var DragDropContext_1 = __webpack_require__(/*! ./DragDropContext */ "./node_modules/react-dnd/lib/cjs/DragDropContext.js");
var isRefable_1 = __webpack_require__(/*! ./utils/isRefable */ "./node_modules/react-dnd/lib/cjs/utils/isRefable.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var hoistStatics = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
function DragLayer(collect, options) {
    if (options === void 0) { options = {}; }
    checkDecoratorArguments_1.default('DragLayer', 'collect[, options]', collect, options);
    invariant(typeof collect === 'function', 'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ', 'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', collect);
    invariant(discount_lodash_1.isPlainObject(options), 'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. ' +
        'Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer', options);
    return function decorateLayer(DecoratedComponent) {
        var Decorated = DecoratedComponent;
        var _a = options.arePropsEqual, arePropsEqual = _a === void 0 ? shallowEqual : _a;
        var displayName = Decorated.displayName || Decorated.name || 'Component';
        var DragLayerContainer = /** @class */ (function (_super) {
            __extends(DragLayerContainer, _super);
            function DragLayerContainer() {
                var _this = _super !== null && _super.apply(this, arguments) || this;
                _this.isCurrentlyMounted = false;
                _this.ref = React.createRef();
                _this.handleChange = function () {
                    if (!_this.isCurrentlyMounted) {
                        return;
                    }
                    var nextState = _this.getCurrentState();
                    if (!shallowEqual(nextState, _this.state)) {
                        _this.setState(nextState);
                    }
                };
                return _this;
            }
            DragLayerContainer.prototype.getDecoratedComponentInstance = function () {
                invariant(this.ref.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');
                return this.ref.current;
            };
            DragLayerContainer.prototype.shouldComponentUpdate = function (nextProps, nextState) {
                return (!arePropsEqual(nextProps, this.props) ||
                    !shallowEqual(nextState, this.state));
            };
            DragLayerContainer.prototype.componentDidMount = function () {
                this.isCurrentlyMounted = true;
                this.handleChange();
            };
            DragLayerContainer.prototype.componentWillUnmount = function () {
                this.isCurrentlyMounted = false;
                if (this.unsubscribeFromOffsetChange) {
                    this.unsubscribeFromOffsetChange();
                    this.unsubscribeFromOffsetChange = undefined;
                }
                if (this.unsubscribeFromStateChange) {
                    this.unsubscribeFromStateChange();
                    this.unsubscribeFromStateChange = undefined;
                }
            };
            DragLayerContainer.prototype.render = function () {
                var _this = this;
                return (React.createElement(DragDropContext_1.Consumer, null, function (_a) {
                    var dragDropManager = _a.dragDropManager;
                    if (dragDropManager === undefined) {
                        return null;
                    }
                    _this.receiveDragDropManager(dragDropManager);
                    // Let componentDidMount fire to initialize the collected state
                    if (!_this.isCurrentlyMounted) {
                        return null;
                    }
                    return (React.createElement(Decorated, __assign({}, _this.props, _this.state, { ref: isRefable_1.isRefable(Decorated) ? _this.ref : null })));
                }));
            };
            DragLayerContainer.prototype.receiveDragDropManager = function (dragDropManager) {
                if (this.manager !== undefined) {
                    return;
                }
                this.manager = dragDropManager;
                invariant(typeof dragDropManager === 'object', 'Could not find the drag and drop manager in the context of %s. ' +
                    'Make sure to wrap the top-level component of your app with DragDropContext. ' +
                    'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);
                var monitor = this.manager.getMonitor();
                this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);
                this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);
            };
            DragLayerContainer.prototype.getCurrentState = function () {
                if (!this.manager) {
                    return {};
                }
                var monitor = this.manager.getMonitor();
                return collect(monitor, this.props);
            };
            DragLayerContainer.displayName = "DragLayer(" + displayName + ")";
            DragLayerContainer.DecoratedComponent = DecoratedComponent;
            return DragLayerContainer;
        }(React.Component));
        return hoistStatics(DragLayerContainer, DecoratedComponent);
    };
}
exports.default = DragLayer;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DragPreviewImage.js":
/*!************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DragPreviewImage.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var React = __webpack_require__(/*! react */ "react");
/*
 * A utility for rendering a drag preview image
 */
var DragPreviewImage = React.memo(function (_a) {
    var connect = _a.connect, src = _a.src;
    if (typeof Image !== 'undefined') {
        var img_1 = new Image();
        img_1.src = src;
        img_1.onload = function () { return connect(img_1); };
    }
    return null;
});
DragPreviewImage.displayName = 'DragPreviewImage';
exports.default = DragPreviewImage;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DragSource.js":
/*!******************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DragSource.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var checkDecoratorArguments_1 = __webpack_require__(/*! ./utils/checkDecoratorArguments */ "./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js");
var decorateHandler_1 = __webpack_require__(/*! ./decorateHandler */ "./node_modules/react-dnd/lib/cjs/decorateHandler.js");
var registerSource_1 = __webpack_require__(/*! ./registerSource */ "./node_modules/react-dnd/lib/cjs/registerSource.js");
var createSourceFactory_1 = __webpack_require__(/*! ./createSourceFactory */ "./node_modules/react-dnd/lib/cjs/createSourceFactory.js");
var DragSourceMonitorImpl_1 = __webpack_require__(/*! ./DragSourceMonitorImpl */ "./node_modules/react-dnd/lib/cjs/DragSourceMonitorImpl.js");
var SourceConnector_1 = __webpack_require__(/*! ./SourceConnector */ "./node_modules/react-dnd/lib/cjs/SourceConnector.js");
var isValidType_1 = __webpack_require__(/*! ./utils/isValidType */ "./node_modules/react-dnd/lib/cjs/utils/isValidType.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
/**
 * Decorates a component as a dragsource
 * @param type The dragsource type
 * @param spec The drag source specification
 * @param collect The props collector function
 * @param options DnD options
 */
function DragSource(type, spec, collect, options) {
    if (options === void 0) { options = {}; }
    checkDecoratorArguments_1.default('DragSource', 'type, spec, collect[, options]', type, spec, collect, options);
    var getType = type;
    if (typeof type !== 'function') {
        invariant(isValidType_1.default(type), 'Expected "type" provided as the first argument to DragSource to be ' +
            'a string, or a function that returns a string given the current props. ' +
            'Instead, received %s. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', type);
        getType = function () { return type; };
    }
    invariant(discount_lodash_1.isPlainObject(spec), 'Expected "spec" provided as the second argument to DragSource to be ' +
        'a plain object. Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', spec);
    var createSource = createSourceFactory_1.default(spec);
    invariant(typeof collect === 'function', 'Expected "collect" provided as the third argument to DragSource to be ' +
        'a function that returns a plain object of props to inject. ' +
        'Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);
    invariant(discount_lodash_1.isPlainObject(options), 'Expected "options" provided as the fourth argument to DragSource to be ' +
        'a plain object when specified. ' +
        'Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', collect);
    return function decorateSource(DecoratedComponent) {
        return decorateHandler_1.default({
            containerDisplayName: 'DragSource',
            createHandler: createSource,
            registerHandler: registerSource_1.default,
            createConnector: function (backend) { return new SourceConnector_1.default(backend); },
            createMonitor: function (manager) {
                return new DragSourceMonitorImpl_1.default(manager);
            },
            DecoratedComponent: DecoratedComponent,
            getType: getType,
            collect: collect,
            options: options,
        });
    };
}
exports.default = DragSource;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DragSourceMonitorImpl.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DragSourceMonitorImpl.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var isCallingCanDrag = false;
var isCallingIsDragging = false;
var DragSourceMonitorImpl = /** @class */ (function () {
    function DragSourceMonitorImpl(manager) {
        this.sourceId = null;
        this.internalMonitor = manager.getMonitor();
    }
    DragSourceMonitorImpl.prototype.receiveHandlerId = function (sourceId) {
        this.sourceId = sourceId;
    };
    DragSourceMonitorImpl.prototype.getHandlerId = function () {
        return this.sourceId;
    };
    DragSourceMonitorImpl.prototype.canDrag = function () {
        invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');
        try {
            isCallingCanDrag = true;
            return this.internalMonitor.canDragSource(this.sourceId);
        }
        finally {
            isCallingCanDrag = false;
        }
    };
    DragSourceMonitorImpl.prototype.isDragging = function () {
        if (!this.sourceId) {
            return false;
        }
        invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');
        try {
            isCallingIsDragging = true;
            return this.internalMonitor.isDraggingSource(this.sourceId);
        }
        finally {
            isCallingIsDragging = false;
        }
    };
    DragSourceMonitorImpl.prototype.subscribeToStateChange = function (listener, options) {
        return this.internalMonitor.subscribeToStateChange(listener, options);
    };
    DragSourceMonitorImpl.prototype.isDraggingSource = function (sourceId) {
        return this.internalMonitor.isDraggingSource(sourceId);
    };
    DragSourceMonitorImpl.prototype.isOverTarget = function (targetId, options) {
        return this.internalMonitor.isOverTarget(targetId, options);
    };
    DragSourceMonitorImpl.prototype.getTargetIds = function () {
        return this.internalMonitor.getTargetIds();
    };
    DragSourceMonitorImpl.prototype.isSourcePublic = function () {
        return this.internalMonitor.isSourcePublic();
    };
    DragSourceMonitorImpl.prototype.getSourceId = function () {
        return this.internalMonitor.getSourceId();
    };
    DragSourceMonitorImpl.prototype.subscribeToOffsetChange = function (listener) {
        return this.internalMonitor.subscribeToOffsetChange(listener);
    };
    DragSourceMonitorImpl.prototype.canDragSource = function (sourceId) {
        return this.internalMonitor.canDragSource(sourceId);
    };
    DragSourceMonitorImpl.prototype.canDropOnTarget = function (targetId) {
        return this.internalMonitor.canDropOnTarget(targetId);
    };
    DragSourceMonitorImpl.prototype.getItemType = function () {
        return this.internalMonitor.getItemType();
    };
    DragSourceMonitorImpl.prototype.getItem = function () {
        return this.internalMonitor.getItem();
    };
    DragSourceMonitorImpl.prototype.getDropResult = function () {
        return this.internalMonitor.getDropResult();
    };
    DragSourceMonitorImpl.prototype.didDrop = function () {
        return this.internalMonitor.didDrop();
    };
    DragSourceMonitorImpl.prototype.getInitialClientOffset = function () {
        return this.internalMonitor.getInitialClientOffset();
    };
    DragSourceMonitorImpl.prototype.getInitialSourceClientOffset = function () {
        return this.internalMonitor.getInitialSourceClientOffset();
    };
    DragSourceMonitorImpl.prototype.getSourceClientOffset = function () {
        return this.internalMonitor.getSourceClientOffset();
    };
    DragSourceMonitorImpl.prototype.getClientOffset = function () {
        return this.internalMonitor.getClientOffset();
    };
    DragSourceMonitorImpl.prototype.getDifferenceFromInitialOffset = function () {
        return this.internalMonitor.getDifferenceFromInitialOffset();
    };
    return DragSourceMonitorImpl;
}());
exports.default = DragSourceMonitorImpl;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DropTarget.js":
/*!******************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DropTarget.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var checkDecoratorArguments_1 = __webpack_require__(/*! ./utils/checkDecoratorArguments */ "./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js");
var decorateHandler_1 = __webpack_require__(/*! ./decorateHandler */ "./node_modules/react-dnd/lib/cjs/decorateHandler.js");
var registerTarget_1 = __webpack_require__(/*! ./registerTarget */ "./node_modules/react-dnd/lib/cjs/registerTarget.js");
var createTargetFactory_1 = __webpack_require__(/*! ./createTargetFactory */ "./node_modules/react-dnd/lib/cjs/createTargetFactory.js");
var isValidType_1 = __webpack_require__(/*! ./utils/isValidType */ "./node_modules/react-dnd/lib/cjs/utils/isValidType.js");
var DropTargetMonitorImpl_1 = __webpack_require__(/*! ./DropTargetMonitorImpl */ "./node_modules/react-dnd/lib/cjs/DropTargetMonitorImpl.js");
var TargetConnector_1 = __webpack_require__(/*! ./TargetConnector */ "./node_modules/react-dnd/lib/cjs/TargetConnector.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function DropTarget(type, spec, collect, options) {
    if (options === void 0) { options = {}; }
    checkDecoratorArguments_1.default('DropTarget', 'type, spec, collect[, options]', type, spec, collect, options);
    var getType = type;
    if (typeof type !== 'function') {
        invariant(isValidType_1.default(type, true), 'Expected "type" provided as the first argument to DropTarget to be ' +
            'a string, an array of strings, or a function that returns either given ' +
            'the current props. Instead, received %s. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', type);
        getType = function () { return type; };
    }
    invariant(discount_lodash_1.isPlainObject(spec), 'Expected "spec" provided as the second argument to DropTarget to be ' +
        'a plain object. Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', spec);
    var createTarget = createTargetFactory_1.default(spec);
    invariant(typeof collect === 'function', 'Expected "collect" provided as the third argument to DropTarget to be ' +
        'a function that returns a plain object of props to inject. ' +
        'Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);
    invariant(discount_lodash_1.isPlainObject(options), 'Expected "options" provided as the fourth argument to DropTarget to be ' +
        'a plain object when specified. ' +
        'Instead, received %s. ' +
        'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', collect);
    return function decorateTarget(DecoratedComponent) {
        return decorateHandler_1.default({
            containerDisplayName: 'DropTarget',
            createHandler: createTarget,
            registerHandler: registerTarget_1.default,
            createMonitor: function (manager) {
                return new DropTargetMonitorImpl_1.default(manager);
            },
            createConnector: function (backend) { return new TargetConnector_1.default(backend); },
            DecoratedComponent: DecoratedComponent,
            getType: getType,
            collect: collect,
            options: options,
        });
    };
}
exports.default = DropTarget;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/DropTargetMonitorImpl.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/DropTargetMonitorImpl.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var isCallingCanDrop = false;
var DropTargetMonitorImpl = /** @class */ (function () {
    function DropTargetMonitorImpl(manager) {
        this.targetId = null;
        this.internalMonitor = manager.getMonitor();
    }
    DropTargetMonitorImpl.prototype.receiveHandlerId = function (targetId) {
        this.targetId = targetId;
    };
    DropTargetMonitorImpl.prototype.getHandlerId = function () {
        return this.targetId;
    };
    DropTargetMonitorImpl.prototype.subscribeToStateChange = function (listener, options) {
        return this.internalMonitor.subscribeToStateChange(listener, options);
    };
    DropTargetMonitorImpl.prototype.canDrop = function () {
        // Cut out early if the target id has not been set. This should prevent errors
        // where the user has an older version of dnd-core like in
        // https://github.com/react-dnd/react-dnd/issues/1310
        if (!this.targetId) {
            return false;
        }
        invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');
        try {
            isCallingCanDrop = true;
            return this.internalMonitor.canDropOnTarget(this.targetId);
        }
        finally {
            isCallingCanDrop = false;
        }
    };
    DropTargetMonitorImpl.prototype.isOver = function (options) {
        if (!this.targetId) {
            return false;
        }
        return this.internalMonitor.isOverTarget(this.targetId, options);
    };
    DropTargetMonitorImpl.prototype.getItemType = function () {
        return this.internalMonitor.getItemType();
    };
    DropTargetMonitorImpl.prototype.getItem = function () {
        return this.internalMonitor.getItem();
    };
    DropTargetMonitorImpl.prototype.getDropResult = function () {
        return this.internalMonitor.getDropResult();
    };
    DropTargetMonitorImpl.prototype.didDrop = function () {
        return this.internalMonitor.didDrop();
    };
    DropTargetMonitorImpl.prototype.getInitialClientOffset = function () {
        return this.internalMonitor.getInitialClientOffset();
    };
    DropTargetMonitorImpl.prototype.getInitialSourceClientOffset = function () {
        return this.internalMonitor.getInitialSourceClientOffset();
    };
    DropTargetMonitorImpl.prototype.getSourceClientOffset = function () {
        return this.internalMonitor.getSourceClientOffset();
    };
    DropTargetMonitorImpl.prototype.getClientOffset = function () {
        return this.internalMonitor.getClientOffset();
    };
    DropTargetMonitorImpl.prototype.getDifferenceFromInitialOffset = function () {
        return this.internalMonitor.getDifferenceFromInitialOffset();
    };
    return DropTargetMonitorImpl;
}());
exports.default = DropTargetMonitorImpl;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/SourceConnector.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/SourceConnector.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var wrapConnectorHooks_1 = __webpack_require__(/*! ./wrapConnectorHooks */ "./node_modules/react-dnd/lib/cjs/wrapConnectorHooks.js");
var isRef_1 = __webpack_require__(/*! ./utils/isRef */ "./node_modules/react-dnd/lib/cjs/utils/isRef.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
var SourceConnector = /** @class */ (function () {
    function SourceConnector(backend) {
        var _this = this;
        this.backend = backend;
        this.hooks = wrapConnectorHooks_1.default({
            dragSource: function (node, options) {
                _this.dragSourceOptions = options || null;
                if (isRef_1.isRef(node)) {
                    _this.dragSourceRef = node;
                }
                else {
                    _this.dragSourceNode = node;
                }
                _this.reconnectDragSource();
            },
            dragPreview: function (node, options) {
                _this.dragPreviewOptions = options || null;
                if (isRef_1.isRef(node)) {
                    _this.dragPreviewRef = node;
                }
                else {
                    _this.dragPreviewNode = node;
                }
                _this.reconnectDragPreview();
            },
        });
        this.handlerId = null;
        // The drop target may either be attached via ref or connect function
        this.dragSourceRef = null;
        this.dragSourceOptionsInternal = null;
        // The drag preview may either be attached via ref or connect function
        this.dragPreviewRef = null;
        this.dragPreviewOptionsInternal = null;
        this.lastConnectedHandlerId = null;
        this.lastConnectedDragSource = null;
        this.lastConnectedDragSourceOptions = null;
        this.lastConnectedDragPreview = null;
        this.lastConnectedDragPreviewOptions = null;
    }
    SourceConnector.prototype.receiveHandlerId = function (newHandlerId) {
        if (this.handlerId === newHandlerId) {
            return;
        }
        this.handlerId = newHandlerId;
        this.reconnect();
    };
    Object.defineProperty(SourceConnector.prototype, "connectTarget", {
        get: function () {
            return this.dragSource;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SourceConnector.prototype, "dragSourceOptions", {
        get: function () {
            return this.dragSourceOptionsInternal;
        },
        set: function (options) {
            this.dragSourceOptionsInternal = options;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SourceConnector.prototype, "dragPreviewOptions", {
        get: function () {
            return this.dragPreviewOptionsInternal;
        },
        set: function (options) {
            this.dragPreviewOptionsInternal = options;
        },
        enumerable: true,
        configurable: true
    });
    SourceConnector.prototype.reconnect = function () {
        this.reconnectDragSource();
        this.reconnectDragPreview();
    };
    SourceConnector.prototype.reconnectDragSource = function () {
        // if nothing has changed then don't resubscribe
        var didChange = this.didHandlerIdChange() ||
            this.didConnectedDragSourceChange() ||
            this.didDragSourceOptionsChange();
        if (didChange) {
            this.disconnectDragSource();
        }
        var dragSource = this.dragSource;
        if (!this.handlerId) {
            return;
        }
        if (!dragSource) {
            this.lastConnectedDragSource = dragSource;
            return;
        }
        if (didChange) {
            this.lastConnectedHandlerId = this.handlerId;
            this.lastConnectedDragSource = dragSource;
            this.lastConnectedDragSourceOptions = this.dragSourceOptions;
            this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);
        }
    };
    SourceConnector.prototype.reconnectDragPreview = function () {
        // if nothing has changed then don't resubscribe
        var didChange = this.didHandlerIdChange() ||
            this.didConnectedDragPreviewChange() ||
            this.didDragPreviewOptionsChange();
        if (didChange) {
            this.disconnectDragPreview();
        }
        var dragPreview = this.dragPreview;
        if (!this.handlerId || !dragPreview) {
            return;
        }
        if (didChange) {
            this.lastConnectedHandlerId = this.handlerId;
            this.lastConnectedDragPreview = dragPreview;
            this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;
            this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);
        }
    };
    SourceConnector.prototype.didHandlerIdChange = function () {
        return this.lastConnectedHandlerId !== this.handlerId;
    };
    SourceConnector.prototype.didConnectedDragSourceChange = function () {
        return this.lastConnectedDragSource !== this.dragSource;
    };
    SourceConnector.prototype.didConnectedDragPreviewChange = function () {
        return this.lastConnectedDragPreview !== this.dragPreview;
    };
    SourceConnector.prototype.didDragSourceOptionsChange = function () {
        return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);
    };
    SourceConnector.prototype.didDragPreviewOptionsChange = function () {
        return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);
    };
    SourceConnector.prototype.disconnectDragSource = function () {
        if (this.dragSourceUnsubscribe) {
            this.dragSourceUnsubscribe();
            this.dragSourceUnsubscribe = undefined;
            this.dragPreviewNode = null;
            this.dragPreviewRef = null;
        }
    };
    SourceConnector.prototype.disconnectDragPreview = function () {
        if (this.dragPreviewUnsubscribe) {
            this.dragPreviewUnsubscribe();
            this.dragPreviewUnsubscribe = undefined;
            this.dragPreviewNode = null;
            this.dragPreviewRef = null;
        }
    };
    Object.defineProperty(SourceConnector.prototype, "dragSource", {
        get: function () {
            return (this.dragSourceNode || (this.dragSourceRef && this.dragSourceRef.current));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SourceConnector.prototype, "dragPreview", {
        get: function () {
            return (this.dragPreviewNode ||
                (this.dragPreviewRef && this.dragPreviewRef.current));
        },
        enumerable: true,
        configurable: true
    });
    return SourceConnector;
}());
exports.default = SourceConnector;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/TargetConnector.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/TargetConnector.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var wrapConnectorHooks_1 = __webpack_require__(/*! ./wrapConnectorHooks */ "./node_modules/react-dnd/lib/cjs/wrapConnectorHooks.js");
var isRef_1 = __webpack_require__(/*! ./utils/isRef */ "./node_modules/react-dnd/lib/cjs/utils/isRef.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
var TargetConnector = /** @class */ (function () {
    function TargetConnector(backend) {
        var _this = this;
        this.backend = backend;
        this.hooks = wrapConnectorHooks_1.default({
            dropTarget: function (node, options) {
                _this.dropTargetOptions = options;
                if (isRef_1.isRef(node)) {
                    _this.dropTargetRef = node;
                }
                else {
                    _this.dropTargetNode = node;
                }
                _this.reconnect();
            },
        });
        this.handlerId = null;
        // The drop target may either be attached via ref or connect function
        this.dropTargetRef = null;
        this.dropTargetOptionsInternal = null;
        this.lastConnectedHandlerId = null;
        this.lastConnectedDropTarget = null;
        this.lastConnectedDropTargetOptions = null;
    }
    Object.defineProperty(TargetConnector.prototype, "connectTarget", {
        get: function () {
            return this.dropTarget;
        },
        enumerable: true,
        configurable: true
    });
    TargetConnector.prototype.reconnect = function () {
        // if nothing has changed then don't resubscribe
        var didChange = this.didHandlerIdChange() ||
            this.didDropTargetChange() ||
            this.didOptionsChange();
        if (didChange) {
            this.disconnectDropTarget();
        }
        var dropTarget = this.dropTarget;
        if (!this.handlerId) {
            return;
        }
        if (!dropTarget) {
            this.lastConnectedDropTarget = dropTarget;
            return;
        }
        if (didChange) {
            this.lastConnectedHandlerId = this.handlerId;
            this.lastConnectedDropTarget = dropTarget;
            this.lastConnectedDropTargetOptions = this.dropTargetOptions;
            this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);
        }
    };
    TargetConnector.prototype.receiveHandlerId = function (newHandlerId) {
        if (newHandlerId === this.handlerId) {
            return;
        }
        this.handlerId = newHandlerId;
        this.reconnect();
    };
    Object.defineProperty(TargetConnector.prototype, "dropTargetOptions", {
        get: function () {
            return this.dropTargetOptionsInternal;
        },
        set: function (options) {
            this.dropTargetOptionsInternal = options;
        },
        enumerable: true,
        configurable: true
    });
    TargetConnector.prototype.didHandlerIdChange = function () {
        return this.lastConnectedHandlerId !== this.handlerId;
    };
    TargetConnector.prototype.didDropTargetChange = function () {
        return this.lastConnectedDropTarget !== this.dropTarget;
    };
    TargetConnector.prototype.didOptionsChange = function () {
        return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);
    };
    TargetConnector.prototype.disconnectDropTarget = function () {
        if (this.unsubscribeDropTarget) {
            this.unsubscribeDropTarget();
            this.unsubscribeDropTarget = undefined;
        }
    };
    Object.defineProperty(TargetConnector.prototype, "dropTarget", {
        get: function () {
            return (this.dropTargetNode || (this.dropTargetRef && this.dropTargetRef.current));
        },
        enumerable: true,
        configurable: true
    });
    return TargetConnector;
}());
exports.default = TargetConnector;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/createSourceFactory.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/createSourceFactory.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var getDecoratedComponent_1 = __webpack_require__(/*! ./utils/getDecoratedComponent */ "./node_modules/react-dnd/lib/cjs/utils/getDecoratedComponent.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];
var REQUIRED_SPEC_METHODS = ['beginDrag'];
var SourceImpl = /** @class */ (function () {
    function SourceImpl(spec, monitor, ref) {
        var _this = this;
        this.spec = spec;
        this.monitor = monitor;
        this.ref = ref;
        this.props = null;
        this.beginDrag = function () {
            if (!_this.props) {
                return;
            }
            var item = _this.spec.beginDrag(_this.props, _this.monitor, _this.ref.current);
            if (true) {
                invariant(discount_lodash_1.isPlainObject(item), 'beginDrag() must return a plain object that represents the dragged item. ' +
                    'Instead received %s. ' +
                    'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', item);
            }
            return item;
        };
    }
    SourceImpl.prototype.receiveProps = function (props) {
        this.props = props;
    };
    SourceImpl.prototype.canDrag = function () {
        if (!this.props) {
            return false;
        }
        if (!this.spec.canDrag) {
            return true;
        }
        return this.spec.canDrag(this.props, this.monitor);
    };
    SourceImpl.prototype.isDragging = function (globalMonitor, sourceId) {
        if (!this.props) {
            return false;
        }
        if (!this.spec.isDragging) {
            return sourceId === globalMonitor.getSourceId();
        }
        return this.spec.isDragging(this.props, this.monitor);
    };
    SourceImpl.prototype.endDrag = function () {
        if (!this.props) {
            return;
        }
        if (!this.spec.endDrag) {
            return;
        }
        this.spec.endDrag(this.props, this.monitor, getDecoratedComponent_1.getDecoratedComponent(this.ref));
    };
    return SourceImpl;
}());
function createSourceFactory(spec) {
    Object.keys(spec).forEach(function (key) {
        invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' +
            'some of the following keys: %s. ' +
            'Instead received a specification with an unexpected "%s" key. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', ALLOWED_SPEC_METHODS.join(', '), key);
        invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' +
            'Instead received a specification with %s: %s. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);
    });
    REQUIRED_SPEC_METHODS.forEach(function (key) {
        invariant(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' +
            'Instead received a specification with %s: %s. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source', key, key, spec[key]);
    });
    return function createSource(monitor, ref) {
        return new SourceImpl(spec, monitor, ref);
    };
}
exports.default = createSourceFactory;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/createTargetFactory.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/createTargetFactory.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var getDecoratedComponent_1 = __webpack_require__(/*! ./utils/getDecoratedComponent */ "./node_modules/react-dnd/lib/cjs/utils/getDecoratedComponent.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];
var TargetImpl = /** @class */ (function () {
    function TargetImpl(spec, monitor, ref) {
        this.spec = spec;
        this.monitor = monitor;
        this.ref = ref;
        this.props = null;
    }
    TargetImpl.prototype.receiveProps = function (props) {
        this.props = props;
    };
    TargetImpl.prototype.receiveMonitor = function (monitor) {
        this.monitor = monitor;
    };
    TargetImpl.prototype.canDrop = function () {
        if (!this.spec.canDrop) {
            return true;
        }
        return this.spec.canDrop(this.props, this.monitor);
    };
    TargetImpl.prototype.hover = function () {
        if (!this.spec.hover) {
            return;
        }
        this.spec.hover(this.props, this.monitor, getDecoratedComponent_1.getDecoratedComponent(this.ref));
    };
    TargetImpl.prototype.drop = function () {
        if (!this.spec.drop) {
            return undefined;
        }
        var dropResult = this.spec.drop(this.props, this.monitor, this.ref.current);
        if (true) {
            invariant(typeof dropResult === 'undefined' || discount_lodash_1.isPlainObject(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' +
                'Instead received %s. ' +
                'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', dropResult);
        }
        return dropResult;
    };
    return TargetImpl;
}());
function createTargetFactory(spec) {
    Object.keys(spec).forEach(function (key) {
        invariant(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' +
            'some of the following keys: %s. ' +
            'Instead received a specification with an unexpected "%s" key. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', ALLOWED_SPEC_METHODS.join(', '), key);
        invariant(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' +
            'Instead received a specification with %s: %s. ' +
            'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target', key, key, spec[key]);
    });
    return function createTarget(monitor, ref) {
        return new TargetImpl(spec, monitor, ref);
    };
}
exports.default = createTargetFactory;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/decorateHandler.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/decorateHandler.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
Object.defineProperty(exports, "__esModule", { value: true });
var React = __webpack_require__(/*! react */ "react");
var DragDropContext_1 = __webpack_require__(/*! ./DragDropContext */ "./node_modules/react-dnd/lib/cjs/DragDropContext.js");
var disposables_1 = __webpack_require__(/*! ./utils/disposables */ "./node_modules/react-dnd/lib/cjs/utils/disposables/index.js");
var isRefable_1 = __webpack_require__(/*! ./utils/isRefable */ "./node_modules/react-dnd/lib/cjs/utils/isRefable.js");
var discount_lodash_1 = __webpack_require__(/*! ./utils/discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
var hoistStatics = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
function decorateHandler(_a) {
    var DecoratedComponent = _a.DecoratedComponent, createHandler = _a.createHandler, createMonitor = _a.createMonitor, createConnector = _a.createConnector, registerHandler = _a.registerHandler, containerDisplayName = _a.containerDisplayName, getType = _a.getType, collect = _a.collect, options = _a.options;
    var _b = options.arePropsEqual, arePropsEqual = _b === void 0 ? shallowEqual : _b;
    var Decorated = DecoratedComponent;
    var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';
    var DragDropContainer = /** @class */ (function (_super) {
        __extends(DragDropContainer, _super);
        function DragDropContainer(props) {
            var _this = _super.call(this, props) || this;
            _this.decoratedRef = React.createRef();
            _this.handleChange = function () {
                var nextState = _this.getCurrentState();
                if (!shallowEqual(nextState, _this.state)) {
                    _this.setState(nextState);
                }
            };
            _this.disposable = new disposables_1.SerialDisposable();
            _this.receiveProps(props);
            _this.dispose();
            return _this;
        }
        DragDropContainer.prototype.getHandlerId = function () {
            return this.handlerId;
        };
        DragDropContainer.prototype.getDecoratedComponentInstance = function () {
            invariant(this.decoratedRef.current, 'In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()');
            return this.decoratedRef.current;
        };
        DragDropContainer.prototype.shouldComponentUpdate = function (nextProps, nextState) {
            return (!arePropsEqual(nextProps, this.props) ||
                !shallowEqual(nextState, this.state));
        };
        DragDropContainer.prototype.componentDidMount = function () {
            this.disposable = new disposables_1.SerialDisposable();
            this.currentType = undefined;
            this.receiveProps(this.props);
            this.handleChange();
        };
        DragDropContainer.prototype.componentDidUpdate = function (prevProps) {
            if (!arePropsEqual(this.props, prevProps)) {
                this.receiveProps(this.props);
                this.handleChange();
            }
        };
        DragDropContainer.prototype.componentWillUnmount = function () {
            this.dispose();
        };
        DragDropContainer.prototype.receiveProps = function (props) {
            if (!this.handler) {
                return;
            }
            this.handler.receiveProps(props);
            this.receiveType(getType(props));
        };
        DragDropContainer.prototype.receiveType = function (type) {
            if (!this.handlerMonitor || !this.manager || !this.handlerConnector) {
                return;
            }
            if (type === this.currentType) {
                return;
            }
            this.currentType = type;
            var _a = registerHandler(type, this.handler, this.manager), handlerId = _a[0], unregister = _a[1];
            this.handlerId = handlerId;
            this.handlerMonitor.receiveHandlerId(handlerId);
            this.handlerConnector.receiveHandlerId(handlerId);
            var globalMonitor = this.manager.getMonitor();
            var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, { handlerIds: [handlerId] });
            this.disposable.setDisposable(new disposables_1.CompositeDisposable(new disposables_1.Disposable(unsubscribe), new disposables_1.Disposable(unregister)));
        };
        DragDropContainer.prototype.dispose = function () {
            this.disposable.dispose();
            if (this.handlerConnector) {
                this.handlerConnector.receiveHandlerId(null);
            }
        };
        DragDropContainer.prototype.getCurrentState = function () {
            if (!this.handlerConnector) {
                return {};
            }
            var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor, this.props);
            if (true) {
                invariant(discount_lodash_1.isPlainObject(nextState), 'Expected `collect` specified as the second argument to ' +
                    '%s for %s to return a plain object of props to inject. ' +
                    'Instead, received %s.', containerDisplayName, displayName, nextState);
            }
            return nextState;
        };
        DragDropContainer.prototype.render = function () {
            var _this = this;
            return (React.createElement(DragDropContext_1.Consumer, null, function (_a) {
                var dragDropManager = _a.dragDropManager;
                _this.receiveDragDropManager(dragDropManager);
                if (typeof requestAnimationFrame !== 'undefined') {
                    requestAnimationFrame(function () { return _this.handlerConnector.reconnect(); });
                }
                return (React.createElement(Decorated, __assign({}, _this.props, _this.getCurrentState(), { 
                    // NOTE: if Decorated is a Function Component, decoratedRef will not be populated unless it's a refforwarding component.
                    ref: isRefable_1.isRefable(Decorated) ? _this.decoratedRef : null })));
            }));
        };
        DragDropContainer.prototype.receiveDragDropManager = function (dragDropManager) {
            if (this.manager !== undefined) {
                return;
            }
            invariant(dragDropManager !== undefined, 'Could not find the drag and drop manager in the context of %s. ' +
                'Make sure to wrap the top-level component of your app with DragDropContext. ' +
                'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);
            if (dragDropManager === undefined) {
                return;
            }
            this.manager = dragDropManager;
            this.handlerMonitor = createMonitor(dragDropManager);
            this.handlerConnector = createConnector(dragDropManager.getBackend());
            this.handler = createHandler(this.handlerMonitor, this.decoratedRef);
        };
        DragDropContainer.DecoratedComponent = DecoratedComponent;
        DragDropContainer.displayName = containerDisplayName + "(" + displayName + ")";
        return DragDropContainer;
    }(React.Component));
    return hoistStatics(DragDropContainer, DecoratedComponent);
}
exports.default = decorateHandler;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/index.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
__export(__webpack_require__(/*! ./useDrag */ "./node_modules/react-dnd/lib/cjs/hooks/useDrag.js"));
__export(__webpack_require__(/*! ./useDrop */ "./node_modules/react-dnd/lib/cjs/hooks/useDrop.js"));
__export(__webpack_require__(/*! ./useDragLayer */ "./node_modules/react-dnd/lib/cjs/hooks/useDragLayer.js"));


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/internal/drag.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/internal/drag.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var registerSource_1 = __webpack_require__(/*! ../../registerSource */ "./node_modules/react-dnd/lib/cjs/registerSource.js");
var useDragDropManager_1 = __webpack_require__(/*! ./useDragDropManager */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useDragDropManager.js");
var DragSourceMonitorImpl_1 = __webpack_require__(/*! ../../DragSourceMonitorImpl */ "./node_modules/react-dnd/lib/cjs/DragSourceMonitorImpl.js");
var SourceConnector_1 = __webpack_require__(/*! ../../SourceConnector */ "./node_modules/react-dnd/lib/cjs/SourceConnector.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function useDragSourceMonitor() {
    var manager = useDragDropManager_1.useDragDropManager();
    var monitor = react_1.useMemo(function () { return new DragSourceMonitorImpl_1.default(manager); }, [manager]);
    var connector = react_1.useMemo(function () { return new SourceConnector_1.default(manager.getBackend()); }, [
        manager,
    ]);
    return [monitor, connector];
}
exports.useDragSourceMonitor = useDragSourceMonitor;
function useDragHandler(spec, monitor, connector) {
    var manager = useDragDropManager_1.useDragDropManager();
    // Can't use createSourceFactory, as semantics are different
    var handler = react_1.useMemo(function () {
        return {
            beginDrag: function () {
                var _a = spec.current, begin = _a.begin, item = _a.item;
                if (begin) {
                    var beginResult = begin(monitor);
                    invariant(beginResult == null || typeof beginResult === 'object', 'dragSpec.begin() must either return an object, undefined, or null');
                    return beginResult || item || {};
                }
                return item || {};
            },
            canDrag: function () {
                if (typeof spec.current.canDrag === 'boolean') {
                    return spec.current.canDrag;
                }
                else if (typeof spec.current.canDrag === 'function') {
                    return spec.current.canDrag(monitor);
                }
                else {
                    return true;
                }
            },
            isDragging: function (globalMonitor, target) {
                var isDragging = spec.current.isDragging;
                return isDragging
                    ? isDragging(monitor)
                    : target === globalMonitor.getSourceId();
            },
            endDrag: function () {
                var end = spec.current.end;
                if (end) {
                    end(monitor.getItem(), monitor);
                }
                connector.reconnect();
            },
        };
    }, []);
    react_1.useEffect(function registerHandler() {
        var _a = registerSource_1.default(spec.current.item.type, handler, manager), handlerId = _a[0], unregister = _a[1];
        monitor.receiveHandlerId(handlerId);
        connector.receiveHandlerId(handlerId);
        return unregister;
    }, []);
}
exports.useDragHandler = useDragHandler;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/internal/drop.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/internal/drop.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var registerTarget_1 = __webpack_require__(/*! ../../registerTarget */ "./node_modules/react-dnd/lib/cjs/registerTarget.js");
var useDragDropManager_1 = __webpack_require__(/*! ./useDragDropManager */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useDragDropManager.js");
var TargetConnector_1 = __webpack_require__(/*! ../../TargetConnector */ "./node_modules/react-dnd/lib/cjs/TargetConnector.js");
var DropTargetMonitorImpl_1 = __webpack_require__(/*! ../../DropTargetMonitorImpl */ "./node_modules/react-dnd/lib/cjs/DropTargetMonitorImpl.js");
function useDropTargetMonitor() {
    var manager = useDragDropManager_1.useDragDropManager();
    var monitor = react_1.useMemo(function () { return new DropTargetMonitorImpl_1.default(manager); }, [manager]);
    var connector = react_1.useMemo(function () { return new TargetConnector_1.default(manager.getBackend()); }, [
        manager,
    ]);
    return [monitor, connector];
}
exports.useDropTargetMonitor = useDropTargetMonitor;
function useDropHandler(spec, monitor, connector) {
    var manager = useDragDropManager_1.useDragDropManager();
    // Can't use createSourceFactory, as semantics are different
    var handler = react_1.useMemo(function () {
        return {
            canDrop: function () {
                var canDrop = spec.current.canDrop;
                return canDrop ? canDrop(monitor.getItem(), monitor) : true;
            },
            hover: function () {
                var hover = spec.current.hover;
                if (hover) {
                    hover(monitor.getItem(), monitor);
                }
            },
            drop: function () {
                var drop = spec.current.drop;
                if (drop) {
                    return drop(monitor.getItem(), monitor);
                }
            },
        };
    }, [monitor]);
    react_1.useEffect(function registerHandler() {
        var _a = registerTarget_1.default(spec.current.accept, handler, manager), handlerId = _a[0], unregister = _a[1];
        monitor.receiveHandlerId(handlerId);
        connector.receiveHandlerId(handlerId);
        return unregister;
    }, [monitor, connector]);
}
exports.useDropHandler = useDropHandler;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/internal/useCollector.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/internal/useCollector.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var shallowEqual = __webpack_require__(/*! shallowequal */ "./node_modules/shallowequal/index.js");
var react_1 = __webpack_require__(/*! react */ "react");
/**
 *
 * @param monitor The monitor to colelct state from
 * @param collect The collecting function
 * @param onUpdate A method to invoke when updates occur
 */
function useCollector(monitor, collect, onUpdate) {
    var _a = react_1.useState(function () { return collect(monitor); }), collected = _a[0], setCollected = _a[1];
    var updateCollected = react_1.useCallback(function () {
        var nextValue = collect(monitor);
        if (!shallowEqual(collected, nextValue)) {
            setCollected(nextValue);
            if (onUpdate) {
                onUpdate();
            }
        }
    }, [collected, monitor, onUpdate]);
    return [collected, updateCollected];
}
exports.useCollector = useCollector;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/internal/useDragDropManager.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/internal/useDragDropManager.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var DragDropContext_1 = __webpack_require__(/*! ../../DragDropContext */ "./node_modules/react-dnd/lib/cjs/DragDropContext.js");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
/**
 * A hook to retrieve the DragDropManager from Context
 */
function useDragDropManager() {
    var dragDropManager = react_1.useContext(DragDropContext_1.context).dragDropManager;
    invariant(dragDropManager != null, 'Expected drag drop context');
    return dragDropManager;
}
exports.useDragDropManager = useDragDropManager;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/internal/useMonitorOutput.js":
/*!***************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/internal/useMonitorOutput.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var useCollector_1 = __webpack_require__(/*! ./useCollector */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useCollector.js");
function useMonitorOutput(monitor, collect, onCollect) {
    var _a = useCollector_1.useCollector(monitor, collect, onCollect), collected = _a[0], updateCollected = _a[1];
    react_1.useEffect(function subscribeToMonitorStateChange() {
        var handlerId = monitor.getHandlerId();
        if (handlerId == null) {
            return undefined;
        }
        return monitor.subscribeToStateChange(updateCollected, {
            handlerIds: [handlerId],
        });
    }, [monitor, updateCollected]);
    return collected;
}
exports.useMonitorOutput = useMonitorOutput;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/useDrag.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/useDrag.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var useMonitorOutput_1 = __webpack_require__(/*! ./internal/useMonitorOutput */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useMonitorOutput.js");
var drag_1 = __webpack_require__(/*! ./internal/drag */ "./node_modules/react-dnd/lib/cjs/hooks/internal/drag.js");
var react_1 = __webpack_require__(/*! react */ "react");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
/**
 * useDragSource hook
 * @param sourceSpec The drag source specification *
 */
function useDrag(spec) {
    var specRef = react_1.useRef(spec);
    specRef.current = spec;
    // TODO: wire options into createSourceConnector
    invariant(spec.item != null, 'item must be defined');
    invariant(spec.item.type != null, 'item type must be defined');
    var _a = drag_1.useDragSourceMonitor(), monitor = _a[0], connector = _a[1];
    drag_1.useDragHandler(specRef, monitor, connector);
    var result = useMonitorOutput_1.useMonitorOutput(monitor, specRef.current.collect || (function () { return ({}); }), function () { return connector.reconnect(); });
    var connectDragSource = react_1.useMemo(function () { return connector.hooks.dragSource(); }, [
        connector,
    ]);
    var connectDragPreview = react_1.useMemo(function () { return connector.hooks.dragPreview(); }, [
        connector,
    ]);
    react_1.useEffect(function () {
        connector.dragSourceOptions = specRef.current.options || null;
        connector.reconnect();
    }, [connector]);
    react_1.useEffect(function () {
        connector.dragPreviewOptions = specRef.current.previewOptions || null;
        connector.reconnect();
    }, [connector]);
    return [result, connectDragSource, connectDragPreview];
}
exports.useDrag = useDrag;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/useDragLayer.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/useDragLayer.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var useDragDropManager_1 = __webpack_require__(/*! ./internal/useDragDropManager */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useDragDropManager.js");
var useCollector_1 = __webpack_require__(/*! ./internal/useCollector */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useCollector.js");
/**
 * useDragLayer Hook
 * @param collector The property collector
 */
function useDragLayer(collect) {
    var dragDropManager = useDragDropManager_1.useDragDropManager();
    var monitor = dragDropManager.getMonitor();
    var _a = useCollector_1.useCollector(monitor, collect), collected = _a[0], updateCollected = _a[1];
    react_1.useEffect(function () { return monitor.subscribeToOffsetChange(updateCollected); });
    react_1.useEffect(function () { return monitor.subscribeToStateChange(updateCollected); });
    return collected;
}
exports.useDragLayer = useDragLayer;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/hooks/useDrop.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/hooks/useDrop.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var useMonitorOutput_1 = __webpack_require__(/*! ./internal/useMonitorOutput */ "./node_modules/react-dnd/lib/cjs/hooks/internal/useMonitorOutput.js");
var drop_1 = __webpack_require__(/*! ./internal/drop */ "./node_modules/react-dnd/lib/cjs/hooks/internal/drop.js");
var react_1 = __webpack_require__(/*! react */ "react");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
/**
 * useDropTarget Hook
 * @param spec The drop target specification
 */
function useDrop(spec) {
    var specRef = react_1.useRef(spec);
    specRef.current = spec;
    invariant(spec.accept != null, 'accept must be defined');
    var _a = drop_1.useDropTargetMonitor(), monitor = _a[0], connector = _a[1];
    drop_1.useDropHandler(specRef, monitor, connector);
    var result = useMonitorOutput_1.useMonitorOutput(monitor, specRef.current.collect || (function () { return ({}); }), function () { return connector.reconnect(); });
    var connectDropTarget = react_1.useMemo(function () { return connector.hooks.dropTarget(); }, [
        connector,
    ]);
    react_1.useEffect(function () {
        connector.dropTargetOptions = spec.options || null;
        connector.reconnect();
    }, [spec.options]);
    return [result, connectDropTarget];
}
exports.useDrop = useDrop;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/index.js":
/*!*************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var DragDropContext_1 = __webpack_require__(/*! ./DragDropContext */ "./node_modules/react-dnd/lib/cjs/DragDropContext.js");
exports.DragDropContext = DragDropContext_1.DragDropContext;
exports.DragDropContextProvider = DragDropContext_1.DragDropContextProvider;
exports.DragDropContextConsumer = DragDropContext_1.Consumer;
var DragLayer_1 = __webpack_require__(/*! ./DragLayer */ "./node_modules/react-dnd/lib/cjs/DragLayer.js");
exports.DragLayer = DragLayer_1.default;
var DragSource_1 = __webpack_require__(/*! ./DragSource */ "./node_modules/react-dnd/lib/cjs/DragSource.js");
exports.DragSource = DragSource_1.default;
var DropTarget_1 = __webpack_require__(/*! ./DropTarget */ "./node_modules/react-dnd/lib/cjs/DropTarget.js");
exports.DropTarget = DropTarget_1.default;
var DragPreviewImage_1 = __webpack_require__(/*! ./DragPreviewImage */ "./node_modules/react-dnd/lib/cjs/DragPreviewImage.js");
exports.DragPreviewImage = DragPreviewImage_1.default;
var hooks_1 = __webpack_require__(/*! ./hooks */ "./node_modules/react-dnd/lib/cjs/hooks/index.js");
exports.useDrag = hooks_1.useDrag;
exports.useDragLayer = hooks_1.useDragLayer;
exports.useDrop = hooks_1.useDrop;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/registerSource.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/registerSource.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function registerSource(type, source, manager) {
    var registry = manager.getRegistry();
    var sourceId = registry.addSource(type, source);
    return [sourceId, function () { return registry.removeSource(sourceId); }];
}
exports.default = registerSource;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/registerTarget.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/registerTarget.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function registerTarget(type, target, manager) {
    var registry = manager.getRegistry();
    var targetId = registry.addTarget(type, target);
    return [targetId, function () { return registry.removeTarget(targetId); }];
}
exports.default = registerTarget;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/checkDecoratorArguments.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function checkDecoratorArguments(functionName, signature) {
    var args = [];
    for (var _i = 2; _i < arguments.length; _i++) {
        args[_i - 2] = arguments[_i];
    }
    if (true) {
        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {
            var arg = args_1[_a];
            if (arg && arg.prototype && arg.prototype.render) {
                // eslint-disable-next-line no-console
                console.error('You seem to be applying the arguments in the wrong order. ' +
                    ("It should be " + functionName + "(" + signature + ")(Component), not the other way around. ") +
                    'Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#you-seem-to-be-applying-the-arguments-in-the-wrong-order');
                return;
            }
        }
    }
}
exports.default = checkDecoratorArguments;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/cloneWithRef.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/cloneWithRef.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var invariant = __webpack_require__(/*! invariant */ "./node_modules/invariant/browser.js");
function setRef(ref, node) {
    if (typeof ref === 'function') {
        ref(node);
    }
    else {
        ref.current = node;
    }
}
function cloneWithRef(element, newRef) {
    var previousRef = element.ref;
    invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' +
        'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' +
        'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');
    if (!previousRef) {
        // When there is no ref on the element, use the new ref directly
        return react_1.cloneElement(element, {
            ref: newRef,
        });
    }
    return react_1.cloneElement(element, {
        ref: function (node) {
            setRef(newRef, node);
            if (previousRef) {
                setRef(previousRef, node);
            }
        },
    });
}
exports.default = cloneWithRef;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isFunction(input) {
    return typeof input === 'function';
}
exports.isFunction = isFunction;
function noop() {
    // noop
}
exports.noop = noop;
function isObjectLike(input) {
    return typeof input === 'object' && input !== null;
}
function isPlainObject(input) {
    if (!isObjectLike(input)) {
        return false;
    }
    if (Object.getPrototypeOf(input) === null) {
        return true;
    }
    var proto = input;
    while (Object.getPrototypeOf(proto) !== null) {
        proto = Object.getPrototypeOf(proto);
    }
    return Object.getPrototypeOf(input) === proto;
}
exports.isPlainObject = isPlainObject;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/disposables/CompositeDisposable.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/disposables/CompositeDisposable.js ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Represents a group of disposable resources that are disposed together.
 * @constructor
 */
var CompositeDisposable = /** @class */ (function () {
    function CompositeDisposable() {
        var disposables = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            disposables[_i] = arguments[_i];
        }
        this.isDisposed = false;
        this.disposables = disposables;
    }
    /**
     * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.
     * @param {Any} item Disposable to add.
     */
    CompositeDisposable.prototype.add = function (item) {
        if (this.isDisposed) {
            item.dispose();
        }
        else {
            this.disposables.push(item);
        }
    };
    /**
     * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.
     * @param {Any} item Disposable to remove.
     * @returns {Boolean} true if found; false otherwise.
     */
    CompositeDisposable.prototype.remove = function (item) {
        var shouldDispose = false;
        if (!this.isDisposed) {
            var idx = this.disposables.indexOf(item);
            if (idx !== -1) {
                shouldDispose = true;
                this.disposables.splice(idx, 1);
                item.dispose();
            }
        }
        return shouldDispose;
    };
    /**
     *  Disposes all disposables in the group and removes them from the group but
     *  does not dispose the CompositeDisposable.
     */
    CompositeDisposable.prototype.clear = function () {
        if (!this.isDisposed) {
            var len = this.disposables.length;
            var currentDisposables = new Array(len);
            for (var i = 0; i < len; i++) {
                currentDisposables[i] = this.disposables[i];
            }
            this.disposables = [];
            for (var i = 0; i < len; i++) {
                currentDisposables[i].dispose();
            }
        }
    };
    /**
     *  Disposes all disposables in the group and removes them from the group.
     */
    CompositeDisposable.prototype.dispose = function () {
        if (!this.isDisposed) {
            this.isDisposed = true;
            var len = this.disposables.length;
            var currentDisposables = new Array(len);
            for (var i = 0; i < len; i++) {
                currentDisposables[i] = this.disposables[i];
            }
            this.disposables = [];
            for (var i = 0; i < len; i++) {
                currentDisposables[i].dispose();
            }
        }
    };
    return CompositeDisposable;
}());
exports.CompositeDisposable = CompositeDisposable;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/disposables/Disposable.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/disposables/Disposable.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var discount_lodash_1 = __webpack_require__(/*! ../discount_lodash */ "./node_modules/react-dnd/lib/cjs/utils/discount_lodash.js");
/**
 * Provides a set of static methods for creating Disposables.
 * @param {Function} action Action to run during the first call to dispose.
 * The action is guaranteed to be run at most once.
 */
var Disposable = /** @class */ (function () {
    function Disposable(action) {
        this.isDisposed = false;
        this.action = discount_lodash_1.isFunction(action) ? action : discount_lodash_1.noop;
    }
    /**
     * Validates whether the given object is a disposable
     * @param {Object} Object to test whether it has a dispose method
     * @returns {Boolean} true if a disposable object, else false.
     */
    Disposable.isDisposable = function (d) {
        return d && discount_lodash_1.isFunction(d.dispose);
    };
    Disposable._fixup = function (result) {
        return Disposable.isDisposable(result) ? result : Disposable.empty;
    };
    /**
     * Creates a disposable object that invokes the specified action when disposed.
     * @param {Function} dispose Action to run during the first call to dispose.
     * The action is guaranteed to be run at most once.
     * @return {Disposable} The disposable object that runs the given action upon disposal.
     */
    Disposable.create = function (action) {
        return new Disposable(action);
    };
    /** Performs the task of cleaning up resources. */
    Disposable.prototype.dispose = function () {
        if (!this.isDisposed) {
            this.action();
            this.isDisposed = true;
        }
    };
    /**
     * Gets the disposable that does nothing when disposed.
     */
    Disposable.empty = { dispose: discount_lodash_1.noop };
    return Disposable;
}());
exports.Disposable = Disposable;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/disposables/SerialDisposable.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/disposables/SerialDisposable.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
/**
 * Represents a disposable resource whose underlying disposable resource can
 * be replaced by another disposable resource, causing automatic disposal of
 * the previous underlying disposable resource.
 */
var SerialDisposable = /** @class */ (function () {
    function SerialDisposable() {
        this.isDisposed = false;
    }
    /**
     * Gets the underlying disposable.
     * @returns {Any} the underlying disposable.
     */
    SerialDisposable.prototype.getDisposable = function () {
        return this.current;
    };
    SerialDisposable.prototype.setDisposable = function (value) {
        var shouldDispose = this.isDisposed;
        if (!shouldDispose) {
            var old = this.current;
            this.current = value;
            if (old) {
                old.dispose();
            }
        }
        if (shouldDispose && value) {
            value.dispose();
        }
    };
    /** Performs the task of cleaning up resources. */
    SerialDisposable.prototype.dispose = function () {
        if (!this.isDisposed) {
            this.isDisposed = true;
            var old = this.current;
            this.current = undefined;
            if (old) {
                old.dispose();
            }
        }
    };
    return SerialDisposable;
}());
exports.SerialDisposable = SerialDisposable;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/disposables/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/disposables/index.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

function __export(m) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}
Object.defineProperty(exports, "__esModule", { value: true });
__export(__webpack_require__(/*! ./Disposable */ "./node_modules/react-dnd/lib/cjs/utils/disposables/Disposable.js"));
__export(__webpack_require__(/*! ./SerialDisposable */ "./node_modules/react-dnd/lib/cjs/utils/disposables/SerialDisposable.js"));
__export(__webpack_require__(/*! ./CompositeDisposable */ "./node_modules/react-dnd/lib/cjs/utils/disposables/CompositeDisposable.js"));


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/getDecoratedComponent.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/getDecoratedComponent.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function getDecoratedComponent(instanceRef) {
    var currentRef = instanceRef.current;
    if (currentRef == null) {
        return null;
    }
    else if (currentRef.decoratedRef) {
        // go through the private field in decorateHandler to avoid the invariant hit
        return currentRef.decoratedRef.current;
    }
    else {
        return currentRef;
    }
}
exports.getDecoratedComponent = getDecoratedComponent;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/isRef.js":
/*!*******************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/isRef.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isRef(obj) {
    return (obj !== null && typeof obj === 'object' && obj.hasOwnProperty('current'));
}
exports.isRef = isRef;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/isRefable.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/isRefable.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isClassComponent(Component) {
    return (Component &&
        Component.prototype &&
        typeof Component.prototype.render === 'function');
}
function isRefForwardingComponent(C) {
    return (C && C.$$typeof && C.$$typeof.toString() === 'Symbol(react.forward_ref)');
}
exports.isRefForwardingComponent = isRefForwardingComponent;
function isRefable(C) {
    return isClassComponent(C) || isRefForwardingComponent(C);
}
exports.isRefable = isRefable;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/isValidType.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/isValidType.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
function isValidType(type, allowArray) {
    return (typeof type === 'string' ||
        typeof type === 'symbol' ||
        (!!allowArray &&
            Array.isArray(type) &&
            type.every(function (t) { return isValidType(t, false); })));
}
exports.default = isValidType;


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/utils/polyfills/endsWith.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/utils/polyfills/endsWith.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

if (!String.prototype.endsWith) {
    String.prototype.endsWith = function (search, thisLen) {
        if (thisLen === undefined || thisLen > this.length) {
            thisLen = this.length;
        }
        return this.substring(thisLen - search.length, thisLen) === search;
    };
}


/***/ }),

/***/ "./node_modules/react-dnd/lib/cjs/wrapConnectorHooks.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dnd/lib/cjs/wrapConnectorHooks.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
var react_1 = __webpack_require__(/*! react */ "react");
var cloneWithRef_1 = __webpack_require__(/*! ./utils/cloneWithRef */ "./node_modules/react-dnd/lib/cjs/utils/cloneWithRef.js");
__webpack_require__(/*! ./utils/polyfills/endsWith */ "./node_modules/react-dnd/lib/cjs/utils/polyfills/endsWith.js");
function throwIfCompositeComponentElement(element) {
    // Custom components can no longer be wrapped directly in React DnD 2.0
    // so that we don't need to depend on findDOMNode() from react-dom.
    if (typeof element.type === 'string') {
        return;
    }
    var displayName = element.type.displayName || element.type.name || 'the component';
    throw new Error('Only native element nodes can now be passed to React DnD connectors.' +
        ("You can either wrap " + displayName + " into a <div>, or turn it into a ") +
        'drag source or a drop target itself.');
}
function wrapHookToRecognizeElement(hook) {
    return function (elementOrNode, options) {
        if (elementOrNode === void 0) { elementOrNode = null; }
        if (options === void 0) { options = null; }
        // When passed a node, call the hook straight away.
        if (!react_1.isValidElement(elementOrNode)) {
            var node = elementOrNode;
            hook(node, options);
            // return the node so it can be chained (e.g. when within callback refs
            // <div ref={node => connectDragSource(connectDropTarget(node))}/>
            return node;
        }
        // If passed a ReactElement, clone it and attach this function as a ref.
        // This helps us achieve a neat API where user doesn't even know that refs
        // are being used under the hood.
        var element = elementOrNode;
        throwIfCompositeComponentElement(element);
        // When no options are passed, use the hook directly
        var ref = options ? function (node) { return hook(node, options); } : hook;
        return cloneWithRef_1.default(element, ref);
    };
}
function wrapConnectorHooks(hooks) {
    var wrappedHooks = {};
    Object.keys(hooks).forEach(function (key) {
        var hook = hooks[key];
        // ref objects should be passed straight through without wrapping
        if (key.endsWith('Ref')) {
            wrappedHooks[key] = hooks[key];
        }
        else {
            var wrappedHook_1 = wrapHookToRecognizeElement(hook);
            wrappedHooks[key] = function () { return wrappedHook_1; };
        }
    });
    return wrappedHooks;
}
exports.default = wrapConnectorHooks;


/***/ }),

/***/ "./node_modules/react-is/cjs/react-is.development.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-is/cjs/react-is.development.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/** @license React v16.8.6
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */





if (true) {
  (function() {
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

// The Symbol used to tag the ReactElement-like types. If there is no native Symbol
// nor polyfill, then a plain number is used for performance.
var hasSymbol = typeof Symbol === 'function' && Symbol.for;

var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;
var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;
var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;
var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;
var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;
var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;
var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace;
var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;
var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;
var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;
var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;
var REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;
var REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;

function isValidElementType(type) {
  return typeof type === 'string' || typeof type === 'function' ||
  // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.
  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE);
}

/**
 * Forked from fbjs/warning:
 * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js
 *
 * Only change is we use console.warn instead of console.error,
 * and do nothing when 'console' is not supported.
 * This really simplifies the code.
 * ---
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var lowPriorityWarning = function () {};

{
  var printWarning = function (format) {
    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    var argIndex = 0;
    var message = 'Warning: ' + format.replace(/%s/g, function () {
      return args[argIndex++];
    });
    if (typeof console !== 'undefined') {
      console.warn(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };

  lowPriorityWarning = function (condition, format) {
    if (format === undefined) {
      throw new Error('`lowPriorityWarning(condition, format, ...args)` requires a warning ' + 'message argument');
    }
    if (!condition) {
      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
        args[_key2 - 2] = arguments[_key2];
      }

      printWarning.apply(undefined, [format].concat(args));
    }
  };
}

var lowPriorityWarning$1 = lowPriorityWarning;

function typeOf(object) {
  if (typeof object === 'object' && object !== null) {
    var $$typeof = object.$$typeof;
    switch ($$typeof) {
      case REACT_ELEMENT_TYPE:
        var type = object.type;

        switch (type) {
          case REACT_ASYNC_MODE_TYPE:
          case REACT_CONCURRENT_MODE_TYPE:
          case REACT_FRAGMENT_TYPE:
          case REACT_PROFILER_TYPE:
          case REACT_STRICT_MODE_TYPE:
          case REACT_SUSPENSE_TYPE:
            return type;
          default:
            var $$typeofType = type && type.$$typeof;

            switch ($$typeofType) {
              case REACT_CONTEXT_TYPE:
              case REACT_FORWARD_REF_TYPE:
              case REACT_PROVIDER_TYPE:
                return $$typeofType;
              default:
                return $$typeof;
            }
        }
      case REACT_LAZY_TYPE:
      case REACT_MEMO_TYPE:
      case REACT_PORTAL_TYPE:
        return $$typeof;
    }
  }

  return undefined;
}

// AsyncMode is deprecated along with isAsyncMode
var AsyncMode = REACT_ASYNC_MODE_TYPE;
var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
var ContextConsumer = REACT_CONTEXT_TYPE;
var ContextProvider = REACT_PROVIDER_TYPE;
var Element = REACT_ELEMENT_TYPE;
var ForwardRef = REACT_FORWARD_REF_TYPE;
var Fragment = REACT_FRAGMENT_TYPE;
var Lazy = REACT_LAZY_TYPE;
var Memo = REACT_MEMO_TYPE;
var Portal = REACT_PORTAL_TYPE;
var Profiler = REACT_PROFILER_TYPE;
var StrictMode = REACT_STRICT_MODE_TYPE;
var Suspense = REACT_SUSPENSE_TYPE;

var hasWarnedAboutDeprecatedIsAsyncMode = false;

// AsyncMode should be deprecated
function isAsyncMode(object) {
  {
    if (!hasWarnedAboutDeprecatedIsAsyncMode) {
      hasWarnedAboutDeprecatedIsAsyncMode = true;
      lowPriorityWarning$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');
    }
  }
  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
}
function isConcurrentMode(object) {
  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
}
function isContextConsumer(object) {
  return typeOf(object) === REACT_CONTEXT_TYPE;
}
function isContextProvider(object) {
  return typeOf(object) === REACT_PROVIDER_TYPE;
}
function isElement(object) {
  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
}
function isForwardRef(object) {
  return typeOf(object) === REACT_FORWARD_REF_TYPE;
}
function isFragment(object) {
  return typeOf(object) === REACT_FRAGMENT_TYPE;
}
function isLazy(object) {
  return typeOf(object) === REACT_LAZY_TYPE;
}
function isMemo(object) {
  return typeOf(object) === REACT_MEMO_TYPE;
}
function isPortal(object) {
  return typeOf(object) === REACT_PORTAL_TYPE;
}
function isProfiler(object) {
  return typeOf(object) === REACT_PROFILER_TYPE;
}
function isStrictMode(object) {
  return typeOf(object) === REACT_STRICT_MODE_TYPE;
}
function isSuspense(object) {
  return typeOf(object) === REACT_SUSPENSE_TYPE;
}

exports.typeOf = typeOf;
exports.AsyncMode = AsyncMode;
exports.ConcurrentMode = ConcurrentMode;
exports.ContextConsumer = ContextConsumer;
exports.ContextProvider = ContextProvider;
exports.Element = Element;
exports.ForwardRef = ForwardRef;
exports.Fragment = Fragment;
exports.Lazy = Lazy;
exports.Memo = Memo;
exports.Portal = Portal;
exports.Profiler = Profiler;
exports.StrictMode = StrictMode;
exports.Suspense = Suspense;
exports.isValidElementType = isValidElementType;
exports.isAsyncMode = isAsyncMode;
exports.isConcurrentMode = isConcurrentMode;
exports.isContextConsumer = isContextConsumer;
exports.isContextProvider = isContextProvider;
exports.isElement = isElement;
exports.isForwardRef = isForwardRef;
exports.isFragment = isFragment;
exports.isLazy = isLazy;
exports.isMemo = isMemo;
exports.isPortal = isPortal;
exports.isProfiler = isProfiler;
exports.isStrictMode = isStrictMode;
exports.isSuspense = isSuspense;
  })();
}


/***/ }),

/***/ "./node_modules/react-is/index.js":
/*!****************************************!*\
  !*** ./node_modules/react-is/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


if (false) {} else {
  module.exports = __webpack_require__(/*! ./cjs/react-is.development.js */ "./node_modules/react-is/cjs/react-is.development.js");
}


/***/ }),

/***/ "./node_modules/redux/es/redux.js":
/*!****************************************!*\
  !*** ./node_modules/redux/es/redux.js ***!
  \****************************************/
/*! exports provided: __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__DO_NOT_USE__ActionTypes", function() { return ActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "applyMiddleware", function() { return applyMiddleware; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "bindActionCreators", function() { return bindActionCreators; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "combineReducers", function() { return combineReducers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "compose", function() { return compose; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createStore", function() { return createStore; });
/* harmony import */ var symbol_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! symbol-observable */ "./node_modules/symbol-observable/es/index.js");


/**
 * These are private action types reserved by Redux.
 * For any unknown actions, you must return the current state.
 * If the current state is undefined, you must return the initial state.
 * Do not reference these action types directly in your code.
 */
var randomString = function randomString() {
  return Math.random().toString(36).substring(7).split('').join('.');
};

var ActionTypes = {
  INIT: "@@redux/INIT" + randomString(),
  REPLACE: "@@redux/REPLACE" + randomString(),
  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {
    return "@@redux/PROBE_UNKNOWN_ACTION" + randomString();
  }
};

/**
 * @param {any} obj The object to inspect.
 * @returns {boolean} True if the argument appears to be a plain object.
 */
function isPlainObject(obj) {
  if (typeof obj !== 'object' || obj === null) return false;
  var proto = obj;

  while (Object.getPrototypeOf(proto) !== null) {
    proto = Object.getPrototypeOf(proto);
  }

  return Object.getPrototypeOf(obj) === proto;
}

/**
 * Creates a Redux store that holds the state tree.
 * The only way to change the data in the store is to call `dispatch()` on it.
 *
 * There should only be a single store in your app. To specify how different
 * parts of the state tree respond to actions, you may combine several reducers
 * into a single reducer function by using `combineReducers`.
 *
 * @param {Function} reducer A function that returns the next state tree, given
 * the current state tree and the action to handle.
 *
 * @param {any} [preloadedState] The initial state. You may optionally specify it
 * to hydrate the state from the server in universal apps, or to restore a
 * previously serialized user session.
 * If you use `combineReducers` to produce the root reducer function, this must be
 * an object with the same shape as `combineReducers` keys.
 *
 * @param {Function} [enhancer] The store enhancer. You may optionally specify it
 * to enhance the store with third-party capabilities such as middleware,
 * time travel, persistence, etc. The only store enhancer that ships with Redux
 * is `applyMiddleware()`.
 *
 * @returns {Store} A Redux store that lets you read the state, dispatch actions
 * and subscribe to changes.
 */

function createStore(reducer, preloadedState, enhancer) {
  var _ref2;

  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {
    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');
  }

  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {
    enhancer = preloadedState;
    preloadedState = undefined;
  }

  if (typeof enhancer !== 'undefined') {
    if (typeof enhancer !== 'function') {
      throw new Error('Expected the enhancer to be a function.');
    }

    return enhancer(createStore)(reducer, preloadedState);
  }

  if (typeof reducer !== 'function') {
    throw new Error('Expected the reducer to be a function.');
  }

  var currentReducer = reducer;
  var currentState = preloadedState;
  var currentListeners = [];
  var nextListeners = currentListeners;
  var isDispatching = false;
  /**
   * This makes a shallow copy of currentListeners so we can use
   * nextListeners as a temporary list while dispatching.
   *
   * This prevents any bugs around consumers calling
   * subscribe/unsubscribe in the middle of a dispatch.
   */

  function ensureCanMutateNextListeners() {
    if (nextListeners === currentListeners) {
      nextListeners = currentListeners.slice();
    }
  }
  /**
   * Reads the state tree managed by the store.
   *
   * @returns {any} The current state tree of your application.
   */


  function getState() {
    if (isDispatching) {
      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');
    }

    return currentState;
  }
  /**
   * Adds a change listener. It will be called any time an action is dispatched,
   * and some part of the state tree may potentially have changed. You may then
   * call `getState()` to read the current state tree inside the callback.
   *
   * You may call `dispatch()` from a change listener, with the following
   * caveats:
   *
   * 1. The subscriptions are snapshotted just before every `dispatch()` call.
   * If you subscribe or unsubscribe while the listeners are being invoked, this
   * will not have any effect on the `dispatch()` that is currently in progress.
   * However, the next `dispatch()` call, whether nested or not, will use a more
   * recent snapshot of the subscription list.
   *
   * 2. The listener should not expect to see all state changes, as the state
   * might have been updated multiple times during a nested `dispatch()` before
   * the listener is called. It is, however, guaranteed that all subscribers
   * registered before the `dispatch()` started will be called with the latest
   * state by the time it exits.
   *
   * @param {Function} listener A callback to be invoked on every dispatch.
   * @returns {Function} A function to remove this change listener.
   */


  function subscribe(listener) {
    if (typeof listener !== 'function') {
      throw new Error('Expected the listener to be a function.');
    }

    if (isDispatching) {
      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');
    }

    var isSubscribed = true;
    ensureCanMutateNextListeners();
    nextListeners.push(listener);
    return function unsubscribe() {
      if (!isSubscribed) {
        return;
      }

      if (isDispatching) {
        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');
      }

      isSubscribed = false;
      ensureCanMutateNextListeners();
      var index = nextListeners.indexOf(listener);
      nextListeners.splice(index, 1);
    };
  }
  /**
   * Dispatches an action. It is the only way to trigger a state change.
   *
   * The `reducer` function, used to create the store, will be called with the
   * current state tree and the given `action`. Its return value will
   * be considered the **next** state of the tree, and the change listeners
   * will be notified.
   *
   * The base implementation only supports plain object actions. If you want to
   * dispatch a Promise, an Observable, a thunk, or something else, you need to
   * wrap your store creating function into the corresponding middleware. For
   * example, see the documentation for the `redux-thunk` package. Even the
   * middleware will eventually dispatch plain object actions using this method.
   *
   * @param {Object} action A plain object representing “what changed”. It is
   * a good idea to keep actions serializable so you can record and replay user
   * sessions, or use the time travelling `redux-devtools`. An action must have
   * a `type` property which may not be `undefined`. It is a good idea to use
   * string constants for action types.
   *
   * @returns {Object} For convenience, the same action object you dispatched.
   *
   * Note that, if you use a custom middleware, it may wrap `dispatch()` to
   * return something else (for example, a Promise you can await).
   */


  function dispatch(action) {
    if (!isPlainObject(action)) {
      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');
    }

    if (typeof action.type === 'undefined') {
      throw new Error('Actions may not have an undefined "type" property. ' + 'Have you misspelled a constant?');
    }

    if (isDispatching) {
      throw new Error('Reducers may not dispatch actions.');
    }

    try {
      isDispatching = true;
      currentState = currentReducer(currentState, action);
    } finally {
      isDispatching = false;
    }

    var listeners = currentListeners = nextListeners;

    for (var i = 0; i < listeners.length; i++) {
      var listener = listeners[i];
      listener();
    }

    return action;
  }
  /**
   * Replaces the reducer currently used by the store to calculate the state.
   *
   * You might need this if your app implements code splitting and you want to
   * load some of the reducers dynamically. You might also need this if you
   * implement a hot reloading mechanism for Redux.
   *
   * @param {Function} nextReducer The reducer for the store to use instead.
   * @returns {void}
   */


  function replaceReducer(nextReducer) {
    if (typeof nextReducer !== 'function') {
      throw new Error('Expected the nextReducer to be a function.');
    }

    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.
    // Any reducers that existed in both the new and old rootReducer
    // will receive the previous state. This effectively populates
    // the new state tree with any relevant data from the old one.

    dispatch({
      type: ActionTypes.REPLACE
    });
  }
  /**
   * Interoperability point for observable/reactive libraries.
   * @returns {observable} A minimal observable of state changes.
   * For more information, see the observable proposal:
   * https://github.com/tc39/proposal-observable
   */


  function observable() {
    var _ref;

    var outerSubscribe = subscribe;
    return _ref = {
      /**
       * The minimal observable subscription method.
       * @param {Object} observer Any object that can be used as an observer.
       * The observer object should have a `next` method.
       * @returns {subscription} An object with an `unsubscribe` method that can
       * be used to unsubscribe the observable from the store, and prevent further
       * emission of values from the observable.
       */
      subscribe: function subscribe(observer) {
        if (typeof observer !== 'object' || observer === null) {
          throw new TypeError('Expected the observer to be an object.');
        }

        function observeState() {
          if (observer.next) {
            observer.next(getState());
          }
        }

        observeState();
        var unsubscribe = outerSubscribe(observeState);
        return {
          unsubscribe: unsubscribe
        };
      }
    }, _ref[symbol_observable__WEBPACK_IMPORTED_MODULE_0__["default"]] = function () {
      return this;
    }, _ref;
  } // When a store is created, an "INIT" action is dispatched so that every
  // reducer returns their initial state. This effectively populates
  // the initial state tree.


  dispatch({
    type: ActionTypes.INIT
  });
  return _ref2 = {
    dispatch: dispatch,
    subscribe: subscribe,
    getState: getState,
    replaceReducer: replaceReducer
  }, _ref2[symbol_observable__WEBPACK_IMPORTED_MODULE_0__["default"]] = observable, _ref2;
}

/**
 * Prints a warning in the console if it exists.
 *
 * @param {String} message The warning message.
 * @returns {void}
 */
function warning(message) {
  /* eslint-disable no-console */
  if (typeof console !== 'undefined' && typeof console.error === 'function') {
    console.error(message);
  }
  /* eslint-enable no-console */


  try {
    // This error was thrown as a convenience so that if you enable
    // "break on all exceptions" in your console,
    // it would pause the execution at this line.
    throw new Error(message);
  } catch (e) {} // eslint-disable-line no-empty

}

function getUndefinedStateErrorMessage(key, action) {
  var actionType = action && action.type;
  var actionDescription = actionType && "action \"" + String(actionType) + "\"" || 'an action';
  return "Given " + actionDescription + ", reducer \"" + key + "\" returned undefined. " + "To ignore an action, you must explicitly return the previous state. " + "If you want this reducer to hold no value, you can return null instead of undefined.";
}

function getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {
  var reducerKeys = Object.keys(reducers);
  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';

  if (reducerKeys.length === 0) {
    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';
  }

  if (!isPlainObject(inputState)) {
    return "The " + argumentName + " has unexpected type of \"" + {}.toString.call(inputState).match(/\s([a-z|A-Z]+)/)[1] + "\". Expected argument to be an object with the following " + ("keys: \"" + reducerKeys.join('", "') + "\"");
  }

  var unexpectedKeys = Object.keys(inputState).filter(function (key) {
    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];
  });
  unexpectedKeys.forEach(function (key) {
    unexpectedKeyCache[key] = true;
  });
  if (action && action.type === ActionTypes.REPLACE) return;

  if (unexpectedKeys.length > 0) {
    return "Unexpected " + (unexpectedKeys.length > 1 ? 'keys' : 'key') + " " + ("\"" + unexpectedKeys.join('", "') + "\" found in " + argumentName + ". ") + "Expected to find one of the known reducer keys instead: " + ("\"" + reducerKeys.join('", "') + "\". Unexpected keys will be ignored.");
  }
}

function assertReducerShape(reducers) {
  Object.keys(reducers).forEach(function (key) {
    var reducer = reducers[key];
    var initialState = reducer(undefined, {
      type: ActionTypes.INIT
    });

    if (typeof initialState === 'undefined') {
      throw new Error("Reducer \"" + key + "\" returned undefined during initialization. " + "If the state passed to the reducer is undefined, you must " + "explicitly return the initial state. The initial state may " + "not be undefined. If you don't want to set a value for this reducer, " + "you can use null instead of undefined.");
    }

    if (typeof reducer(undefined, {
      type: ActionTypes.PROBE_UNKNOWN_ACTION()
    }) === 'undefined') {
      throw new Error("Reducer \"" + key + "\" returned undefined when probed with a random type. " + ("Don't try to handle " + ActionTypes.INIT + " or other actions in \"redux/*\" ") + "namespace. They are considered private. Instead, you must return the " + "current state for any unknown actions, unless it is undefined, " + "in which case you must return the initial state, regardless of the " + "action type. The initial state may not be undefined, but can be null.");
    }
  });
}
/**
 * Turns an object whose values are different reducer functions, into a single
 * reducer function. It will call every child reducer, and gather their results
 * into a single state object, whose keys correspond to the keys of the passed
 * reducer functions.
 *
 * @param {Object} reducers An object whose values correspond to different
 * reducer functions that need to be combined into one. One handy way to obtain
 * it is to use ES6 `import * as reducers` syntax. The reducers may never return
 * undefined for any action. Instead, they should return their initial state
 * if the state passed to them was undefined, and the current state for any
 * unrecognized action.
 *
 * @returns {Function} A reducer function that invokes every reducer inside the
 * passed object, and builds a state object with the same shape.
 */


function combineReducers(reducers) {
  var reducerKeys = Object.keys(reducers);
  var finalReducers = {};

  for (var i = 0; i < reducerKeys.length; i++) {
    var key = reducerKeys[i];

    if (true) {
      if (typeof reducers[key] === 'undefined') {
        warning("No reducer provided for key \"" + key + "\"");
      }
    }

    if (typeof reducers[key] === 'function') {
      finalReducers[key] = reducers[key];
    }
  }

  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same
  // keys multiple times.

  var unexpectedKeyCache;

  if (true) {
    unexpectedKeyCache = {};
  }

  var shapeAssertionError;

  try {
    assertReducerShape(finalReducers);
  } catch (e) {
    shapeAssertionError = e;
  }

  return function combination(state, action) {
    if (state === void 0) {
      state = {};
    }

    if (shapeAssertionError) {
      throw shapeAssertionError;
    }

    if (true) {
      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);

      if (warningMessage) {
        warning(warningMessage);
      }
    }

    var hasChanged = false;
    var nextState = {};

    for (var _i = 0; _i < finalReducerKeys.length; _i++) {
      var _key = finalReducerKeys[_i];
      var reducer = finalReducers[_key];
      var previousStateForKey = state[_key];
      var nextStateForKey = reducer(previousStateForKey, action);

      if (typeof nextStateForKey === 'undefined') {
        var errorMessage = getUndefinedStateErrorMessage(_key, action);
        throw new Error(errorMessage);
      }

      nextState[_key] = nextStateForKey;
      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;
    }

    return hasChanged ? nextState : state;
  };
}

function bindActionCreator(actionCreator, dispatch) {
  return function () {
    return dispatch(actionCreator.apply(this, arguments));
  };
}
/**
 * Turns an object whose values are action creators, into an object with the
 * same keys, but with every function wrapped into a `dispatch` call so they
 * may be invoked directly. This is just a convenience method, as you can call
 * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.
 *
 * For convenience, you can also pass an action creator as the first argument,
 * and get a dispatch wrapped function in return.
 *
 * @param {Function|Object} actionCreators An object whose values are action
 * creator functions. One handy way to obtain it is to use ES6 `import * as`
 * syntax. You may also pass a single function.
 *
 * @param {Function} dispatch The `dispatch` function available on your Redux
 * store.
 *
 * @returns {Function|Object} The object mimicking the original object, but with
 * every action creator wrapped into the `dispatch` call. If you passed a
 * function as `actionCreators`, the return value will also be a single
 * function.
 */


function bindActionCreators(actionCreators, dispatch) {
  if (typeof actionCreators === 'function') {
    return bindActionCreator(actionCreators, dispatch);
  }

  if (typeof actionCreators !== 'object' || actionCreators === null) {
    throw new Error("bindActionCreators expected an object or a function, instead received " + (actionCreators === null ? 'null' : typeof actionCreators) + ". " + "Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?");
  }

  var boundActionCreators = {};

  for (var key in actionCreators) {
    var actionCreator = actionCreators[key];

    if (typeof actionCreator === 'function') {
      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);
    }
  }

  return boundActionCreators;
}

function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    keys.push.apply(keys, Object.getOwnPropertySymbols(object));
  }

  if (enumerableOnly) keys = keys.filter(function (sym) {
    return Object.getOwnPropertyDescriptor(object, sym).enumerable;
  });
  return keys;
}

function _objectSpread2(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(source, true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(source).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}

/**
 * Composes single-argument functions from right to left. The rightmost
 * function can take multiple arguments as it provides the signature for
 * the resulting composite function.
 *
 * @param {...Function} funcs The functions to compose.
 * @returns {Function} A function obtained by composing the argument functions
 * from right to left. For example, compose(f, g, h) is identical to doing
 * (...args) => f(g(h(...args))).
 */
function compose() {
  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {
    funcs[_key] = arguments[_key];
  }

  if (funcs.length === 0) {
    return function (arg) {
      return arg;
    };
  }

  if (funcs.length === 1) {
    return funcs[0];
  }

  return funcs.reduce(function (a, b) {
    return function () {
      return a(b.apply(void 0, arguments));
    };
  });
}

/**
 * Creates a store enhancer that applies middleware to the dispatch method
 * of the Redux store. This is handy for a variety of tasks, such as expressing
 * asynchronous actions in a concise manner, or logging every action payload.
 *
 * See `redux-thunk` package as an example of the Redux middleware.
 *
 * Because middleware is potentially asynchronous, this should be the first
 * store enhancer in the composition chain.
 *
 * Note that each middleware will be given the `dispatch` and `getState` functions
 * as named arguments.
 *
 * @param {...Function} middlewares The middleware chain to be applied.
 * @returns {Function} A store enhancer applying the middleware.
 */

function applyMiddleware() {
  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {
    middlewares[_key] = arguments[_key];
  }

  return function (createStore) {
    return function () {
      var store = createStore.apply(void 0, arguments);

      var _dispatch = function dispatch() {
        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');
      };

      var middlewareAPI = {
        getState: store.getState,
        dispatch: function dispatch() {
          return _dispatch.apply(void 0, arguments);
        }
      };
      var chain = middlewares.map(function (middleware) {
        return middleware(middlewareAPI);
      });
      _dispatch = compose.apply(void 0, chain)(store.dispatch);
      return _objectSpread2({}, store, {
        dispatch: _dispatch
      });
    };
  };
}

/*
 * This is a dummy function to check if the function name has been altered by minification.
 * If the function has been minified and NODE_ENV !== 'production', warn the user.
 */

function isCrushed() {}

if ( true && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {
  warning('You are currently using minified code outside of NODE_ENV === "production". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');
}




/***/ }),

/***/ "./node_modules/selectn/index.js":
/*!***************************************!*\
  !*** ./node_modules/selectn/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var curry2 = __webpack_require__(/*! curry2 */ "./node_modules/curry2/index.js")
var debug = __webpack_require__(/*! debug */ "./node_modules/debug/src/browser.js")('selectn')
var dotted = __webpack_require__(/*! brackets2dots */ "./node_modules/brackets2dots/index.js")
var splits = __webpack_require__(/*! dotsplit.js */ "./node_modules/dotsplit.js/index.js")
var string = Object.prototype.toString

module.exports = curry2(selectn)

/**
 * Curried property accessor function that resolves deeply-nested object properties via dot/bracket-notation
 * string path while mitigating `TypeErrors` via friendly and composable API.
 *
 * @param {String|Array} path
 * Dot/bracket-notation string path or array.
 *
 * @param {Object} object
 * Object to access.
 *
 * @return {Function|*|undefined}
 * (1) returns `selectn/1` when partially applied.
 * (2) returns value at path if path exists.
 * (3) returns undefined if path does not exist.
 */
function selectn (path, object) {
  debug('arguments:', {
    path: path,
    object: object
  })

  var idx = -1
  var seg = string.call(path) === '[object Array]' ? path : splits(dotted(path))
  var end = seg.length
  var ref = end ? object : void 0

  while (++idx < end) {
    if (Object(ref) !== ref) return void 0
    ref = ref[seg[idx]]
  }

  debug('ref:', ref)
  return typeof ref === 'function' ? ref() : ref
}


/***/ }),

/***/ "./node_modules/shallowequal/index.js":
/*!********************************************!*\
  !*** ./node_modules/shallowequal/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

//

module.exports = function shallowEqual(objA, objB, compare, compareContext) {
  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;

  if (ret !== void 0) {
    return !!ret;
  }

  if (objA === objB) {
    return true;
  }

  if (typeof objA !== "object" || !objA || typeof objB !== "object" || !objB) {
    return false;
  }

  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);

  // Test for A's keys different from B.
  for (var idx = 0; idx < keysA.length; idx++) {
    var key = keysA[idx];

    if (!bHasOwnProperty(key)) {
      return false;
    }

    var valueA = objA[key];
    var valueB = objB[key];

    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;

    if (ret === false || (ret === void 0 && valueA !== valueB)) {
      return false;
    }
  }

  return true;
};


/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),

/***/ "./node_modules/symbol-observable/es/index.js":
/*!****************************************************!*\
  !*** ./node_modules/symbol-observable/es/index.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var _ponyfill_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ponyfill.js */ "./node_modules/symbol-observable/es/ponyfill.js");
/* global window */


var root;

if (typeof self !== 'undefined') {
  root = self;
} else if (typeof window !== 'undefined') {
  root = window;
} else if (typeof global !== 'undefined') {
  root = global;
} else if (true) {
  root = module;
} else {}

var result = Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__["default"])(root);
/* harmony default export */ __webpack_exports__["default"] = (result);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../../webpack/buildin/harmony-module.js */ "./node_modules/webpack/buildin/harmony-module.js")(module)))

/***/ }),

/***/ "./node_modules/symbol-observable/es/ponyfill.js":
/*!*******************************************************!*\
  !*** ./node_modules/symbol-observable/es/ponyfill.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return symbolObservablePonyfill; });
function symbolObservablePonyfill(root) {
	var result;
	var Symbol = root.Symbol;

	if (typeof Symbol === 'function') {
		if (Symbol.observable) {
			result = Symbol.observable;
		} else {
			result = Symbol('observable');
			Symbol.observable = result;
		}
	} else {
		result = '@@observable';
	}

	return result;
};


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/webpack/buildin/harmony-module.js":
/*!*******************************************!*\
  !*** (webpack)/buildin/harmony-module.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(originalModule) {
	if (!originalModule.webpackPolyfill) {
		var module = Object.create(originalModule);
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		Object.defineProperty(module, "exports", {
			enumerable: true
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/edit-pod-name.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/edit-pod-name.js ***!
  \************************************************************/
/*! exports provided: EditPodName */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditPodName", function() { return EditPodName; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* harmony import */ var _sluggable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sluggable */ "./ui/js/pods-dfv/src/admin/edit-pod/sluggable.js");
 // Pods dependencies


 // WordPress dependencies
// noinspection JSUnresolvedVariable

var __ = wp.i18n.__;
var _wp$data = wp.data,
    withSelect = _wp$data.withSelect,
    withDispatch = _wp$data.withDispatch;
var compose = wp.compose.compose;
var EditPodName = compose([withSelect(function (select) {
  return {
    podName: select(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]).getPodName()
  };
}), withDispatch(function (dispatch) {
  return {
    setPodName: dispatch(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]).setPodName
  };
})])(function (props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, __('Edit Pod: ', 'pods'), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_sluggable__WEBPACK_IMPORTED_MODULE_2__["PodsDFVSluggable"], {
    value: props.podName,
    updateValue: props.setPodName
  }));
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/edit-pod.js":
/*!*******************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/edit-pod.js ***!
  \*******************************************************/
/*! exports provided: PodsDFVEditPod */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVEditPod", function() { return PodsDFVEditPod; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _with_drag_drop_context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./with-drag-drop-context */ "./ui/js/pods-dfv/src/admin/edit-pod/with-drag-drop-context.js");
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* harmony import */ var _handle_submit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./handle-submit */ "./ui/js/pods-dfv/src/admin/edit-pod/handle-submit.js");
/* harmony import */ var _save_status_message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./save-status-message */ "./ui/js/pods-dfv/src/admin/edit-pod/save-status-message.js");
/* harmony import */ var _edit_pod_name__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./edit-pod-name */ "./ui/js/pods-dfv/src/admin/edit-pod/edit-pod-name.js");
/* harmony import */ var _components_tabs_pods_nav_tab__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../components/tabs/pods-nav-tab */ "./ui/js/pods-dfv/src/components/tabs/pods-nav-tab.js");
/* harmony import */ var _main_tabs_active_tab_content__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./main-tabs/active-tab-content */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/active-tab-content.js");
/* harmony import */ var _postbox__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./postbox */ "./ui/js/pods-dfv/src/admin/edit-pod/postbox.js");
 // Pods dependencies








 // WordPress dependencies

var _wp$data = wp.data,
    withSelect = _wp$data.withSelect,
    withDispatch = _wp$data.withDispatch;
var compose = wp.compose.compose;
var StoreSubscribe = compose([withSelect(function (select) {
  var storeSelect = select(_store_constants__WEBPACK_IMPORTED_MODULE_2__["STORE_KEY_EDIT_POD"]);
  return {
    tabs: storeSelect.getTabs(),
    activeTab: storeSelect.getActiveTab()
  };
}), withDispatch(function (dispatch) {
  var storeDispatch = dispatch(_store_constants__WEBPACK_IMPORTED_MODULE_2__["STORE_KEY_EDIT_POD"]);
  return {
    setActiveTab: storeDispatch.setActiveTab
  };
})]);
var EditPod = StoreSubscribe(function (props) {
  //--! Todo: debugging only
  window.select = wp.data.select('pods/edit-pod');
  window.dispatch = wp.data.dispatch('pods/edit-pod'); //--! Todo: debugging only

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("form", {
    onSubmit: function onSubmit(e) {
      return Object(_handle_submit__WEBPACK_IMPORTED_MODULE_3__["handleSubmit"])(e, props);
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_edit_pod_name__WEBPACK_IMPORTED_MODULE_5__["EditPodName"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_save_status_message__WEBPACK_IMPORTED_MODULE_4__["SaveStatusMessage"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_tabs_pods_nav_tab__WEBPACK_IMPORTED_MODULE_6__["PodsNavTab"], {
    tabs: props.tabs,
    activeTab: props.activeTab,
    setActiveTab: props.setActiveTab
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "poststuff"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "post-body",
    className: "columns-2"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_main_tabs_active_tab_content__WEBPACK_IMPORTED_MODULE_7__["ActiveTabContent"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_postbox__WEBPACK_IMPORTED_MODULE_8__["Postbox"], null))));
});
var PodsDFVEditPod = Object(_with_drag_drop_context__WEBPACK_IMPORTED_MODULE_1__["default"])(EditPod);

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/handle-submit.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/handle-submit.js ***!
  \************************************************************/
/*! exports provided: handleSubmit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "handleSubmit", function() { return handleSubmit; });
var AJAX_ACTION = 'pods_admin_proto';
var handleSubmit = function handleSubmit(e, props) {
  e.preventDefault();
  var requestData = {
    'id': props.podMeta.id,
    'name': props.podMeta.name,
    'old_name': props.podMeta.name,
    '_wpnonce': props.nonce,
    'fields': props.fields
  };
  /*
  props.setSaveStatus( saveStatuses.SAVING );
  fetch( `${ajaxurl}?pods_ajax=1&action=${AJAX_ACTION}`, {
  	method: 'POST',
  	headers: {
  		'Accept': 'application/json',
  		'Content-Type': 'application/json'
  	},
  	body: JSON.stringify( requestData )
  } )
  .then(
  	( result ) => {
  		console.log( result );
  		props.setSaveStatus( saveStatuses.SAVE_SUCCESS );
  	},
  	( error ) => {
  		console.log( error );
  		props.setSaveStatus( saveStatuses.SAVE_ERROR );
  	}
  );
   */
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/active-tab-content.js":
/*!***************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/active-tab-content.js ***!
  \***************************************************************************/
/*! exports provided: ActiveTabContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActiveTabContent", function() { return ActiveTabContent; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* harmony import */ var _dynamic_tab_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dynamic-tab-content */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/dynamic-tab-content.js");
/* harmony import */ var _field_groups__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./field-groups */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.js");
 // WordPress dependencies

var _wp$data = wp.data,
    withSelect = _wp$data.withSelect,
    withDispatch = _wp$data.withDispatch;
var compose = wp.compose.compose; // Pods dependencies




var StoreSubscribe = compose([withSelect(function (select) {
  var storeSelect = select(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]);
  return {
    activeTab: storeSelect.getActiveTab(),
    tabOptions: storeSelect.getTabOptions(storeSelect.getActiveTab()),
    groups: storeSelect.getGroups(),
    getOptionValue: storeSelect.getOptionValue,
    getGroupFields: storeSelect.getGroupFields,
    groupList: storeSelect.getGroupList()
  };
}), withDispatch(function (dispatch) {
  var storeDispatch = dispatch(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]);
  return {
    setOptionValue: storeDispatch.setOptionValue,
    setGroupList: storeDispatch.setGroupList,
    moveGroup: storeDispatch.moveGroup
  };
})]);
/**
 * ActiveTabContent
 *
 * Display the content for the active tab, manage-fields is treated special
 */

var ActiveTabContent = StoreSubscribe(function (props) {
  var Component;

  if ('manage-fields' === props.activeTab) {
    Component = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_field_groups__WEBPACK_IMPORTED_MODULE_3__["FieldGroups"], {
      groups: props.groups,
      getGroupFields: props.getGroupFields,
      groupList: props.groupList,
      setGroupList: props.setGroupList,
      moveGroup: props.moveGroup
    });
  } else {
    Component = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_dynamic_tab_content__WEBPACK_IMPORTED_MODULE_2__["DynamicTabContent"], {
      tabOptions: props.tabOptions,
      getOptionValue: props.getOptionValue,
      setOptionValue: props.setOptionValue
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "post-body-content",
    className: "pods-nav-tab-group pods-manage-field"
  }, Component);
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/dynamic-tab-content.js":
/*!****************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/dynamic-tab-content.js ***!
  \****************************************************************************/
/*! exports provided: DynamicTabContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DynamicTabContent", function() { return DynamicTabContent; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "lodash");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _components_field_option__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../components/field-option */ "./ui/js/pods-dfv/src/components/field-option.js");


 // WordPress Dependencies
// noinspection JSUnresolvedVariable

var _wp$i18n = wp.i18n,
    sprintf = _wp$i18n.sprintf,
    __ = _wp$i18n.__; // Pod dependencies



var MISSING = __('[MISSING DEFAULT]', 'pods');
/**
 * option data format
 * {
 *     optionName: {
 *         // default may get removed... merge it into value on the server side,
 *         // it's a one-time thing
 *         default: '',
 *         depends-on: { optionName: dependentValue },
 *         help: 'help',
 *         label: 'XXX %s',
 *         label_param: 'optionName',
 *         param_default: 'Item',
 *         type: 'text, boolean, number, pick, file'
 *         value: ''
 *     }
 * }
 */

/**
 * DynamicTabContent
 */


var DynamicTabContent = function DynamicTabContent(props) {
  var tabOptions = props.tabOptions,
      getOptionValue = props.getOptionValue,
      setOptionValue = props.setOptionValue;

  var getLabelValue = function getLabelValue(labelFormat, paramOption, paramDefault) {
    if (!paramOption) {
      return labelFormat;
    }

    var param = getOptionValue(paramOption) || paramDefault || MISSING;
    return sprintf(labelFormat, param);
  };

  return tabOptions.map(function (option) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(DependentFieldOption, {
      key: option.name,
      fieldType: option.type,
      name: option.name,
      label: getLabelValue(option.label, option.label_param, option.param_default),
      value: option.value || '',
      dependents: option['depends-on'],
      helpText: option.help,
      getOptionValue: getOptionValue,
      setOptionValue: setOptionValue
    });
  });
};
DynamicTabContent.propTypes = {
  tabOptions: prop_types__WEBPACK_IMPORTED_MODULE_1__["array"].isRequired,
  getOptionValue: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  setOptionValue: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};
/**
 * DependentFieldOption
 *
 * Conditionally display a FieldOption (depends-on support)
 */

var DependentFieldOption = function DependentFieldOption(props) {
  var fieldType = props.fieldType,
      name = props.name,
      label = props.label,
      value = props.value,
      dependents = props.dependents;
  var getOptionValue = props.getOptionValue,
      setOptionValue = props.setOptionValue;

  var handleInputChange = function handleInputChange(e) {
    var target = e.target;
    var value = 'checkbox' === target.type ? target.checked : target.value;
    setOptionValue(name, value);
  };

  if (!meetsDependencies(dependents, getOptionValue)) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_field_option__WEBPACK_IMPORTED_MODULE_3__["PodsFieldOption"], {
    fieldType: fieldType,
    name: name,
    value: value,
    label: label,
    onChange: handleInputChange,
    helpText: props.helpText
  });
};

DependentFieldOption.propTypes = {
  fieldType: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  value: prop_types__WEBPACK_IMPORTED_MODULE_1__["any"].isRequired,
  label: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  dependents: prop_types__WEBPACK_IMPORTED_MODULE_1__["object"],
  helpText: prop_types__WEBPACK_IMPORTED_MODULE_1__["any"],
  getOptionValue: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  setOptionValue: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};
/**
 *
 * @param {object|object[]} dependencies Dictionary in the form optionName: requiredVal
 * @param {function} getOptionValue Selector to lookup option values by name
 *
 * @return {boolean} Whether or not the specified dependencies are met
 */

var meetsDependencies = function meetsDependencies(dependencies, getOptionValue) {
  var retVal = true;

  if (dependencies && Object(lodash__WEBPACK_IMPORTED_MODULE_2__["isObject"])(dependencies)) {
    Object(lodash__WEBPACK_IMPORTED_MODULE_2__["each"])(dependencies, function (dependentValue, dependentOptionName) {
      // Loose comparison required, values may be 1/0 expecting true/false
      // noinspection EqualityComparisonWithCoercionJS
      if (getOptionValue(dependentOptionName) != dependentValue) {
        retVal = false;
        return false; // Early-exits the loop only, not the function
      }
    });
  }

  return retVal;
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-group-settings.js":
/*!*****************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-group-settings.js ***!
  \*****************************************************************************/
/*! exports provided: FieldGroupSettings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldGroupSettings", function() { return FieldGroupSettings; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);


var Modal = wp.components.Modal;
var __ = wp.i18n.__;
var FieldGroupSettings = function FieldGroupSettings(_ref) {
  var groupName = _ref.groupName,
      show = _ref.show;

  var closeModal = function closeModal(e) {
    e.stopPropagation();
    show(false);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Modal, {
    className: "pods-field-group_settings pods-field-group_settings--visible",
    title: "".concat(groupName, " ") + __('Settings', 'pods'),
    onRequestClose: function onRequestClose(e) {
      return closeModal(e);
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_settings-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_settings-options"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_settings-sidebar",
    role: "tablist",
    "aria-label": "Pods Field Group Settings"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_settings-sidebar-item pods-field-group_settings-sidebar-item--active",
    "aria-selected": "true",
    id: "main",
    "aria-controls": "main-tab"
  }, __('General', 'pods')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_settings-sidebar-item",
    "aria-selected": "false",
    id: "advanced",
    "aria-controls": "advanced-tab"
  }, __('Advanced', 'pods')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_settings-sidebar-item",
    "aria-selected": "false",
    id: "other",
    "aria-controls": "other-tab"
  }, __('Other Group Settings Tab', 'pods'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_settings-main",
    role: "tabpanel",
    "aria-labelledby": "main",
    id: "main-tab"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    "class": "pods-input-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    "class": "pods-label_text"
  }, "$id"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    "class": "pods-input",
    type: "text"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    "class": "pods-input-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    "class": "pods-label_text"
  }, "$title"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    "class": "pods-input",
    type: "text"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    "class": "pods-input-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    "class": "pods-label_text"
  }, "$callback"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    "class": "pods-input",
    type: "text"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    "class": "pods-input-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    "class": "pods-label_text"
  }, "$screen"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    "class": "pods-input",
    type: "text"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    "class": "pods-input-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    "class": "pods-label_text"
  }, "$context"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    "class": "pods-input",
    type: "text"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    "class": "pods-input-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    "class": "pods-label_text"
  }, "$priority"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    "class": "pods-input",
    type: "text"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    "class": "pods-input-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    "class": "pods-label_text"
  }, "$callback_args"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    "class": "pods-input",
    type: "text"
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_settings-advanced",
    role: "tabpanel",
    "aria-labelledby": "advanced",
    id: "advanced-tab",
    hidden: "hidden"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Advanced tabpanel")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_settings-other",
    role: "tabpanel",
    "aria-labelledby": "other",
    id: "other-tab",
    hidden: "hidden"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Other tabpanel")))));
};
FieldGroupSettings.propTypes = {
  groupName: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  show: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-group.js":
/*!********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-group.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash */ "lodash");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dnd-html5-backend */ "./node_modules/react-dnd-html5-backend/lib/cjs/index.js");
/* harmony import */ var react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _group_drag_source__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./group-drag-source */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-source.js");
/* harmony import */ var _group_drop_target__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./group-drop-target */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drop-target.js");
/* harmony import */ var _field_group_settings__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./field-group-settings */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-group-settings.js");
/* harmony import */ var _field_list__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./field-list */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-list.js");
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }









var useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState;
var Dashicon = wp.components.Dashicon;
var __ = wp.i18n.__; // eslint-disable-next-line react/display-name

var FieldGroup = Object(react__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(function (props, ref) {
  var connectDragSource = props.connectDragSource,
      connectDropTarget = props.connectDropTarget,
      connectDragPreview = props.connectDragPreview,
      isDragging = props.isDragging;
  var groupName = props.groupName,
      getGroupFields = props.getGroupFields;

  var _useState = useState(false),
      _useState2 = _slicedToArray(_useState, 2),
      expanded = _useState2[0],
      setExpanded = _useState2[1];

  var _useState3 = useState(false),
      _useState4 = _slicedToArray(_useState3, 2),
      showSettings = _useState4[0],
      setShowSettings = _useState4[1];

  var wrapperRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(ref);
  var dragHandleRef = Object(react__WEBPACK_IMPORTED_MODULE_0__["useRef"])(ref);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useEffect"])(function () {
    if (connectDragPreview) {
      // Use empty image as a drag preview so browsers don't draw it,
      // we use our custom drag layer instead.
      connectDragPreview(Object(react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_3__["getEmptyImage"])(), {
        // IE fallback: specify that we'd rather screenshot the node
        // when it already knows it's being dragged so we can hide it with CSS.
        captureDraggingState: true
      });
    }
  });
  connectDropTarget(wrapperRef);
  connectDragSource(dragHandleRef);
  Object(react__WEBPACK_IMPORTED_MODULE_0__["useImperativeHandle"])(ref, function () {
    return {
      getWrapperNode: function getWrapperNode() {
        return wrapperRef.current;
      },
      getHandleNode: function getHandleNode() {
        return dragHandleRef.current;
      }
    };
  });

  var onEditGroupClick = function onEditGroupClick(e) {
    e.stopPropagation();
    setShowSettings(true);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group-wrapper",
    ref: wrapperRef,
    style: {
      opacity: isDragging ? 0 : 1
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_title",
    onClick: function onClick() {
      return setExpanded(!expanded);
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    ref: dragHandleRef,
    className: "pods-field-group_handle",
    style: {
      cursor: isDragging ? 'ns-resize' : null
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "menu"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_name"
  }, groupName), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_edit",
    onClick: function onClick(e) {
      return onEditGroupClick(e);
    }
  }, __('Edit Group', 'pods')), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_manage"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_toggle"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: expanded ? 'arrow-up' : 'arrow-down'
  }))), showSettings && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_field_group_settings__WEBPACK_IMPORTED_MODULE_6__["FieldGroupSettings"], {
    groupName: groupName,
    show: setShowSettings
  })), expanded && !isDragging && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_field_list__WEBPACK_IMPORTED_MODULE_7__["FieldList"], {
    fields: getGroupFields(groupName)
  }));
});
FieldGroup.propTypes = {
  groupName: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  index: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"].isRequired,
  getGroupFields: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  handleBeginDrag: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  handleDragCancel: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  moveGroup: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  // This comes from the drop target
  connectDropTarget: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  // These come from the drag source
  connectDragSource: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  connectDragPreview: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  isDragging: prop_types__WEBPACK_IMPORTED_MODULE_1__["bool"].isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Object(lodash__WEBPACK_IMPORTED_MODULE_2__["flow"])(_group_drop_target__WEBPACK_IMPORTED_MODULE_5__["default"], _group_drag_source__WEBPACK_IMPORTED_MODULE_4__["default"])(FieldGroup));

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.js":
/*!*********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.js ***!
  \*********************************************************************/
/*! exports provided: FieldGroups */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldGroups", function() { return FieldGroups; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _group_drag_layer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./group-drag-layer */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-layer.js");
/* harmony import */ var _field_group__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./field-group */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-group.js");
/* harmony import */ var _field_groups_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./field-groups.scss */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss");
/* harmony import */ var _field_groups_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_field_groups_scss__WEBPACK_IMPORTED_MODULE_4__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }






var FieldGroups = function FieldGroups(_ref) {
  var groups = _ref.groups,
      getGroupFields = _ref.getGroupFields,
      groupList = _ref.groupList,
      setGroupList = _ref.setGroupList,
      moveGroup = _ref.moveGroup;

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__["useState"])(groupList),
      _useState2 = _slicedToArray(_useState, 2),
      originalList = _useState2[0],
      setOriginalList = _useState2[1];

  var handleBeginDrag = function handleBeginDrag() {
    // Take a snapshot of the list state when dragging begins
    setOriginalList(groupList);
  };

  var handleDragCancel = function handleDragCancel() {
    // Items are re-ordered on the fly, be sure to reset on cancel
    setGroupList(originalList);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "field-groups"
  }, groups.map(function (group, index) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_field_group__WEBPACK_IMPORTED_MODULE_3__["default"], {
      key: group.name,
      groupName: group.name,
      index: index,
      getGroupFields: getGroupFields,
      moveGroup: moveGroup,
      handleBeginDrag: handleBeginDrag,
      handleDragCancel: handleDragCancel
    });
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_group_drag_layer__WEBPACK_IMPORTED_MODULE_2__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-button-group_container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#"
  }, "Add Group"), " ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#"
  }, "Add Field")));
};
FieldGroups.propTypes = {
  groups: prop_types__WEBPACK_IMPORTED_MODULE_1__["array"].isRequired,
  getGroupFields: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  moveGroup: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  groupList: prop_types__WEBPACK_IMPORTED_MODULE_1__["array"].isRequired,
  setGroupList: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss":
/*!***********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./field-groups.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-groups.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-list.js":
/*!*******************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/field-list.js ***!
  \*******************************************************************/
/*! exports provided: FieldList, FieldListItem, FieldHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldList", function() { return FieldList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldListItem", function() { return FieldListItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldHeader", function() { return FieldHeader; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _manage_fields_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./manage-fields.scss */ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss");
/* harmony import */ var _manage_fields_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_manage_fields_scss__WEBPACK_IMPORTED_MODULE_2__);


 // WordPress dependencies
// noinspection JSUnresolvedVariable

var __ = wp.i18n.__;
var Dashicon = wp.components.Dashicon;
var FieldList = function FieldList(props) {
  if (0 === props.fields.length) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "pods-manage-fields no-fields"
    }, __('There are no fields in this group', 'pods'));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-manage-fields"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FieldHeader, null), props.fields.map(function (field) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FieldListItem, {
      key: field.id,
      id: field.id,
      fieldLabel: field.label,
      fieldName: field.name,
      required: field.required,
      type: field.type
    });
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FieldHeader, null));
};
FieldList.propTypes = {
  fields: prop_types__WEBPACK_IMPORTED_MODULE_1__["array"].isRequired
};
/**
 *
 */

var FieldListItem = function FieldListItem(props) {
  var id = props.id,
      fieldName = props.fieldName,
      fieldLabel = props.fieldLabel,
      required = props.required,
      type = props.type;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field_wrapper"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field pods-field_handle"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "menu"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field pods-field_label"
  }, fieldLabel, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: required && 'pods-field_required'
  }, "*"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field_id"
  }, " [id = ", id, "]")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field pods-field_name"
  }, fieldName), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field pods-field_type"
  }, type, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field_id"
  }, " [type = [STILL NEED THIS]]")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field pods-field_actions"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "edit"
  }), " ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "admin-page"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "trash"
  })));
};
FieldListItem.propTypes = {
  id: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"].isRequired,
  fieldName: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  fieldLabel: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  required: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  type: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired
};
/**
 *
 */

var FieldHeader = function FieldHeader() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field_wrapper-labels"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field_wrapper-label-items"
  }, "Label"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field_wrapper-label-items"
  }, "Name"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field_wrapper-label-items"
  }, "Field Type"));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-layer.js":
/*!*************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-layer.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dnd */ "./node_modules/react-dnd/lib/cjs/index.js");
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dnd__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");




var Dashicon = wp.components.Dashicon;

var getLayerStyles = function getLayerStyles(_ref) {
  var item = _ref.item;
  return {
    position: 'fixed',
    opacity: .6,
    pointerEvents: 'none',
    zIndex: 100,
    left: item.left,
    top: 0,
    width: '100%',
    height: '100%'
  };
}; // Lock the dragging axis


var getItemStyles = function getItemStyles(_ref2) {
  var item = _ref2.item,
      initialOffset = _ref2.initialOffset,
      currentOffset = _ref2.currentOffset;

  if (!initialOffset || !currentOffset) {
    return {
      display: 'none'
    };
  } else {
    return {
      width: item.width,
      transform: "translate(".concat(initialOffset.x, "px, ").concat(currentOffset.y, "px"),
      filter: 'drop-shadow(5px 5px 5px #BBB)'
    };
  }
};

var CustomDragLayer = function CustomDragLayer(props) {
  var item = props.item,
      itemType = props.itemType,
      isDragging = props.isDragging;

  if (!isDragging || _store_constants__WEBPACK_IMPORTED_MODULE_3__["uiConstants"].dragItemTypes.GROUP !== itemType) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: getLayerStyles(props)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    style: getItemStyles(props)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group-wrapper",
    style: {
      cursor: 'ns-resize'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_title"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_handle"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "menu"
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_name"
  }, item.groupName), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_manage"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-group_toggle"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: 'arrow-down'
  })))))));
};

CustomDragLayer.propTypes = {
  item: prop_types__WEBPACK_IMPORTED_MODULE_1__["shape"]({
    groupName: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
    index: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"].isRequired
  }),
  itemType: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"],
  isDragging: prop_types__WEBPACK_IMPORTED_MODULE_1__["bool"].isRequired,
  currentOffset: prop_types__WEBPACK_IMPORTED_MODULE_1__["shape"]({
    x: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"],
    y: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"]
  }),
  initialOffset: prop_types__WEBPACK_IMPORTED_MODULE_1__["shape"]({
    x: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"],
    y: prop_types__WEBPACK_IMPORTED_MODULE_1__["number"]
  })
};
/* harmony default export */ __webpack_exports__["default"] = (Object(react_dnd__WEBPACK_IMPORTED_MODULE_2__["DragLayer"])(function (monitor) {
  return {
    item: monitor.getItem(),
    itemType: monitor.getItemType(),
    initialOffset: monitor.getInitialSourceClientOffset(),
    currentOffset: monitor.getSourceClientOffset(),
    isDragging: monitor.isDragging()
  };
})(CustomDragLayer));

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-source.js":
/*!**************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drag-source.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dnd */ "./node_modules/react-dnd/lib/cjs/index.js");
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_dnd__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");


var dragItemTypes = _store_constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].dragItemTypes;
var dragSpec = {
  beginDrag: function beginDrag(props, monitor, component) {
    var wrapperNode = component.decoratedRef.current.getWrapperNode();
    var handleNode = component.decoratedRef.current.getHandleNode();
    var wrapperRect = wrapperNode.getBoundingClientRect();
    var handleRect = handleNode.getBoundingClientRect();
    props.handleBeginDrag();
    return {
      groupName: props.groupName,
      index: props.index,
      width: wrapperRect.width,
      left: wrapperRect.left - handleRect.left
    };
  },
  endDrag: function endDrag(props, monitor) {
    // Items are re-ordered on the fly, be sure to reset on cancel
    if (!monitor.didDrop()) {
      props.handleDragCancel();
    }
  }
};

var collect = function collect(connect, monitor) {
  return {
    connectDragSource: connect.dragSource(),
    connectDragPreview: connect.dragPreview(),
    isDragging: monitor.isDragging()
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_dnd__WEBPACK_IMPORTED_MODULE_0__["DragSource"])(dragItemTypes.GROUP, dragSpec, collect));

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drop-target.js":
/*!**************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/group-drop-target.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dnd */ "./node_modules/react-dnd/lib/cjs/index.js");
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_dnd__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");


var dragItemTypes = _store_constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].dragItemTypes;
var dropSpec = {
  hover: function hover(props, monitor, component) {
    if (!component) {
      return null;
    } // node = HTML Div element from imperative API


    var node = component.getWrapperNode();

    if (!node) {
      return null;
    }

    var dragIndex = monitor.getItem().index;
    var hoverIndex = props.index; // Don't replace items with themselves

    if (dragIndex === hoverIndex) {
      return;
    }

    var hoverBoundingRect = node.getBoundingClientRect();
    var hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;
    var clientOffset = monitor.getClientOffset();
    var hoverClientY = clientOffset.y - hoverBoundingRect.top; // Only perform the move when the mouse has crossed half of the item's height
    // Dragging downwards, only move when the cursor is below 50%

    if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {
      return;
    } // Dragging upwards, only move when the cursor is above 50%


    if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {
      return;
    } // Time to actually perform the action


    props.moveGroup(dragIndex, hoverIndex); // Note: we're mutating the monitor item here! Generally it's
    // better to avoid mutations but it's good here for the sake of
    // performance to avoid expensive index searches.

    monitor.getItem().index = hoverIndex;
  }
};

var collect = function collect(connect) {
  return {
    connectDropTarget: connect.dropTarget()
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_dnd__WEBPACK_IMPORTED_MODULE_0__["DropTarget"])(dragItemTypes.GROUP, dropSpec, collect));

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss":
/*!************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./manage-fields.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./ui/js/pods-dfv/src/admin/edit-pod/main-tabs/manage-fields.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/postbox.js":
/*!******************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/postbox.js ***!
  \******************************************************/
/*! exports provided: Postbox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Postbox", function() { return Postbox; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* eslint-disable react/prop-types */


var __ = wp.i18n.__;
var withSelect = wp.data.withSelect;
var Postbox = withSelect(function (select) {
  return {
    isSaving: select(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]).isSaving()
  };
})(function (props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "postbox-container-1",
    className: "postbox-container pods_floatmenu"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "side-info-field",
    className: "inner-sidebar"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "side-sortables"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "submitdiv",
    className: "postbox pods-no-toggle"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h3", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, __('Manage', 'pods'), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("small", null, "(", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "/wp-admin/admin.php?page=pods&action=manage"
  }, __('« Back to Manage', 'pods')), ")"))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "inside"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "submitbox",
    id: "submitpost"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "major-publishing-actions"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "delete-action"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: "#not-implemented",
    className: "submitdelete deletion pods-confirm"
  }, __('Delete Pod', 'pods'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "publishing-action"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Spinner, {
    isSaving: props.isSaving
  }), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: "button-primary",
    type: "submit"
  }, __('Save Pod', 'pods'))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "clear"
  }))))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-submittable-fields"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    id: "side-sortables",
    className: "meta-box-sortables"
  })))));
});

var Spinner = function Spinner(props) {
  if (props.isSaving) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      src: "/wp-admin/images/wpspin_light.gif",
      alt: ""
    });
  }

  return null;
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/save-status-message.js":
/*!******************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/save-status-message.js ***!
  \******************************************************************/
/*! exports provided: SaveStatusMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SaveStatusMessage", function() { return SaveStatusMessage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _store_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./store/constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* eslint-disable react/prop-types */


/* WordPress dependencies */
// noinspection JSUnresolvedVariable

var __ = wp.i18n.__;
var withSelect = wp.data.withSelect;
var SaveStatusMessage = withSelect(function (select) {
  return {
    saveStatus: select(_store_constants__WEBPACK_IMPORTED_MODULE_1__["STORE_KEY_EDIT_POD"]).getSaveStatus()
  };
})(function (props) {
  switch (props.saveStatus) {
    case _store_constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].saveStatuses.SAVING:
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "message",
        className: "notice notice-warning"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, __('Saving Pod...', 'pods'))));

    case _store_constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].saveStatuses.SAVE_SUCCESS:
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "message",
        className: "updated fade"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("strong", null, __('Success!', 'pods')), "\xA0"
      /* &nbsp; */
      , __('Pod saved successfully.', 'pods')));

    case _store_constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].saveStatuses.SAVE_ERROR:
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        id: "message",
        className: "notice error"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, __('Save Error', 'pods'))));

    default:
      return null;
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/sluggable.js":
/*!********************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/sluggable.js ***!
  \********************************************************/
/*! exports provided: PodsDFVSluggable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVSluggable", function() { return PodsDFVSluggable; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }



var useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState;
/* WordPress dependencies */
// noinspection JSUnresolvedVariable

var __ = wp.i18n.__;
var PodsDFVSluggable = function PodsDFVSluggable(props) {
  var _useState = useState(false),
      _useState2 = _slicedToArray(_useState, 2),
      editing = _useState2[0],
      setEditing = _useState2[1];

  var _useState3 = useState(props.value),
      _useState4 = _slicedToArray(_useState3, 2),
      localValue = _useState4[0],
      setLocalValue = _useState4[1];

  var handleValueChange = function handleValueChange(newValue) {
    setLocalValue(newValue);
  };

  var handleEditClick = function handleEditClick() {
    setEditing(true);
  };

  var handleOkClick = function handleOkClick() {
    setEditing(false);
    props.updateValue(localValue);
  };

  var handleCancelClick = function handleCancelClick(e) {
    e.preventDefault();
    setEditing(false);
    setLocalValue(props.value);
  };

  if (!editing) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(NotEditing, {
      value: props.value,
      handleEditClick: handleEditClick
    });
  } else {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Editing, {
      value: localValue,
      handleValueChange: handleValueChange,
      handleOkClick: handleOkClick,
      handleCancelClick: handleCancelClick
    });
  }
};
PodsDFVSluggable.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  updateValue: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};

var NotEditing = function NotEditing(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("em", {
    onClick: props.handleEditClick,
    style: {
      cursor: 'pointer'
    }
  }, props.value), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "button",
    className: "edit-slug-button button",
    value: __('Edit', 'pods'),
    onClick: props.handleEditClick
  }));
};

NotEditing.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  handleEditClick: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};

var Editing = function Editing(props) {
  var handleFocus = function handleFocus(e) {
    return e.target.select();
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "text",
    autoFocus: true,
    id: "pods-form-ui-name",
    name: "name",
    className: "pods-form-ui-field pods-form-ui-field-type-text pods-form-ui-field-name-name",
    value: props.value,
    onChange: function onChange(e) {
      return props.handleValueChange(e.target.value);
    },
    onFocus: handleFocus,
    maxLength: "46",
    size: "25"
  }), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "button",
    className: "save-button button",
    value: __('OK', 'pods'),
    onClick: props.handleOkClick
  }), "\xA0"
  /* &nbsp; */
  , react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    className: "cancel",
    onClick: props.handleCancelClick
  }, __('Cancel', 'pods')));
};

Editing.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  handleValueChange: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  handleOkClick: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  handleCancelClick: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/actions.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/actions.js ***!
  \************************************************************/
/*! exports provided: setActiveTab, setSaveStatus, setOptionValue, setOptionItemValue, setGroupList, moveGroup, setPodName, setPodMetaValue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setActiveTab", function() { return setActiveTab; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setSaveStatus", function() { return setSaveStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setOptionValue", function() { return setOptionValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setOptionItemValue", function() { return setOptionItemValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setGroupList", function() { return setGroupList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "moveGroup", function() { return moveGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPodName", function() { return setPodName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setPodMetaValue", function() { return setPodMetaValue; });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");

/**
 * UI
 */

var setActiveTab = function setActiveTab(activeTab) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["uiConstants"].actions.SET_ACTIVE_TAB,
    activeTab: activeTab
  };
};
var setSaveStatus = function setSaveStatus(saveStatus) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["uiConstants"].actions.SET_SAVE_STATUS,
    saveStatus: saveStatus
  };
};
/**
 * Options
 */

var setOptionValue = function setOptionValue(name, value) {
  return setOptionItemValue(name, 'value', value);
};
var setOptionItemValue = function setOptionItemValue(optionName, itemName, itemValue) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["optionConstants"].actions.SET_OPTION_ITEM_VALUE,
    optionName: optionName,
    itemName: itemName,
    itemValue: itemValue
  };
};
/**
 * Groups
 */

var setGroupList = function setGroupList(groupList) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["groupConstants"].actions.SET_GROUP_LIST,
    groupList: groupList
  };
};
var moveGroup = function moveGroup(oldIndex, newIndex) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["groupConstants"].actions.MOVE_GROUP,
    oldIndex: oldIndex,
    newIndex: newIndex
  };
};
/**
 * Pod meta
 */

var setPodName = function setPodName(name) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["podMetaConstants"].actions.SET_POD_NAME,
    name: name
  };
};
var setPodMetaValue = function setPodMetaValue(key, value) {
  return {
    type: _constants__WEBPACK_IMPORTED_MODULE_0__["podMetaConstants"].actions.SET_POD_META_VALUE,
    key: key,
    value: value
  };
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js":
/*!**************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js ***!
  \**************************************************************/
/*! exports provided: STORE_KEY_EDIT_POD, uiConstants, optionConstants, groupConstants, podMetaConstants, initialUIState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STORE_KEY_EDIT_POD", function() { return STORE_KEY_EDIT_POD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uiConstants", function() { return uiConstants; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "optionConstants", function() { return optionConstants; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groupConstants", function() { return groupConstants; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "podMetaConstants", function() { return podMetaConstants; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initialUIState", function() { return initialUIState; });
var STORE_KEY_EDIT_POD = 'pods/edit-pod';
var uiConstants = {
  actions: {
    SET_ACTIVE_TAB: 'SET_ACTIVE_TAB',
    SET_SAVE_STATUS: 'SET_SAVE_STATUS'
  },
  tabNames: {
    MANAGE_FIELDS: 'manage-fields',
    LABELS: 'labels',
    ADMIN_UI: 'admin-ui',
    ADVANCED_OPTIONS: 'advanced',
    AUTO_TEMPLATE_OPTIONS: 'pods-pfat',
    REST_API: 'rest-api'
  },
  saveStatuses: {
    NONE: '',
    SAVING: 'SAVING',
    SAVE_SUCCESS: 'SAVE_SUCCESS',
    SAVE_ERROR: 'SAVE_ERROR'
  },
  dragItemTypes: {
    GROUP: 'GROUP',
    FIELD: 'FIELD'
  }
};
var optionConstants = {
  actions: {
    SET_OPTION_ITEM_VALUE: 'SET_OPTION_ITEM_VALUE'
  }
};
var groupConstants = {
  actions: {
    SET_GROUP_LIST: 'SET_GROUP_LIST',
    MOVE_GROUP: 'MOVE_GROUP'
  }
};
var podMetaConstants = {
  actions: {
    SET_POD_NAME: 'SET_POD_NAME',
    SET_POD_META_VALUE: 'SET_POD_META_VALUE'
  }
};
var initialUIState = {
  activeTab: uiConstants.tabNames.MANAGE_FIELDS,
  saveStatus: uiConstants.saveStatuses.NONE
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/reducer.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/reducer.js ***!
  \************************************************************/
/*! exports provided: setObjectValue, ui, groups, options, podMeta, fields, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setObjectValue", function() { return setObjectValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ui", function() { return ui; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "groups", function() { return groups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "options", function() { return options; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "podMeta", function() { return podMeta; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fields", function() { return fields; });
/* harmony import */ var _state_paths__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state-paths */ "./ui/js/pods-dfv/src/admin/edit-pod/store/state-paths.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var combineReducers = wp.data.combineReducers; // Helper function

var setObjectValue = function setObjectValue(object, key, value) {
  return _objectSpread({}, object, _defineProperty({}, key, value));
}; // UI

var ui = function ui() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _constants__WEBPACK_IMPORTED_MODULE_1__["initialUIState"];
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var actions = _constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].actions,
      saveStatuses = _constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].saveStatuses;

  switch (action.type) {
    case actions.SET_ACTIVE_TAB:
      {
        // Use the default if the tab name doesn't exist
        var newTab = _constants__WEBPACK_IMPORTED_MODULE_1__["initialUIState"].activeTab;
        var tabIndex = _state_paths__WEBPACK_IMPORTED_MODULE_0__["TAB_LIST"].tailGetFrom(state).indexOf(action.activeTab);

        if (-1 !== tabIndex) {
          newTab = action.activeTab;
        }

        return _objectSpread({}, state, {
          activeTab: newTab
        });
      }

    case actions.SET_SAVE_STATUS:
      {
        var newStatus = action.saveStatus;

        if (!Object.values(saveStatuses).includes(newStatus)) {
          newStatus = _constants__WEBPACK_IMPORTED_MODULE_1__["initialUIState"].saveStatus;
        }

        return _objectSpread({}, state, {
          saveStatus: newStatus
        });
      }

    default:
      return state;
  }
};
var groups = function groups() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var actions = _constants__WEBPACK_IMPORTED_MODULE_1__["groupConstants"].actions;

  if (actions.MOVE_GROUP === action.type) {
    var oldIndex = action.oldIndex,
        newIndex = action.newIndex;
    var groupList = _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUP_LIST"].tailGetFrom(state); // Index bounds checking

    if (null === oldIndex || null === newIndex || oldIndex === newIndex) {
      return state;
    }

    if (oldIndex >= groupList.length || 0 > oldIndex) {
      return state;
    }

    if (newIndex >= groupList.length || 0 > newIndex) {
      return state;
    }

    var newGroupList = _toConsumableArray(groupList);

    newGroupList.splice(newIndex, 0, newGroupList.splice(oldIndex, 1)[0]);
    return _objectSpread({}, state, _defineProperty({}, _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUP_LIST"].tailPath, newGroupList));
  } else if (actions.SET_GROUP_LIST === action.type) {
    return _objectSpread({}, state, _defineProperty({}, _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUP_LIST"].tailPath, action.groupList));
  } else {
    return state;
  }
};
var options = function options() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var actions = _constants__WEBPACK_IMPORTED_MODULE_1__["optionConstants"].actions;

  if (actions.SET_OPTION_ITEM_VALUE === action.type) {
    var optionName = action.optionName,
        itemName = action.itemName,
        itemValue = action.itemValue;
    return _objectSpread({}, state, _defineProperty({}, optionName, setObjectValue(state[optionName], itemName, itemValue)));
  } else {
    return state;
  }
}; // Pod meta

var podMeta = function podMeta() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  var actions = _constants__WEBPACK_IMPORTED_MODULE_1__["podMetaConstants"].actions;

  switch (action.type) {
    case actions.SET_POD_NAME:
      return _objectSpread({}, state, {
        name: action.name
      });

    case actions.SET_POD_META_VALUE:
      return _objectSpread({}, state, _defineProperty({}, action.key, action.value));

    default:
      return state;
  }
}; // Fields

var fields = function fields() {
  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
  return state;
};
/* harmony default export */ __webpack_exports__["default"] = (combineReducers({
  ui: ui,
  podMeta: podMeta,
  options: options,
  groups: groups,
  fields: fields
}));

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/selectors.js":
/*!**************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/selectors.js ***!
  \**************************************************************/
/*! exports provided: getState, getPodName, getPodMetaValue, getActiveTab, getTab, getTabList, getTabs, getTabOptionsList, getTabOptions, getSaveStatus, isSaving, getOption, getOptionItemValue, getOptionValue, getGroupList, getGroup, getGroups, getFieldList, getGroupFields, getFields, getField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getState", function() { return getState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPodName", function() { return getPodName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPodMetaValue", function() { return getPodMetaValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getActiveTab", function() { return getActiveTab; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTab", function() { return getTab; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTabList", function() { return getTabList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTabs", function() { return getTabs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTabOptionsList", function() { return getTabOptionsList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTabOptions", function() { return getTabOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getSaveStatus", function() { return getSaveStatus; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isSaving", function() { return isSaving; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOption", function() { return getOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOptionItemValue", function() { return getOptionItemValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOptionValue", function() { return getOptionValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupList", function() { return getGroupList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroup", function() { return getGroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroups", function() { return getGroups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFieldList", function() { return getFieldList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getGroupFields", function() { return getGroupFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getFields", function() { return getFields; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getField", function() { return getField; });
/* harmony import */ var _state_paths__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./state-paths */ "./ui/js/pods-dfv/src/admin/edit-pod/store/state-paths.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");

 // Everything

var getState = function getState(state) {
  return state;
}; //-- Pod meta

var getPodName = function getPodName(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["POD_NAME"].getFrom(state);
};
var getPodMetaValue = function getPodMetaValue(state, key) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["POD_META"].getFrom(state)[key];
}; //-- Tabs

var getActiveTab = function getActiveTab(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["ACTIVE_TAB"].getFrom(state);
};
var getTab = function getTab(state, tabName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["TABS_BY_NAME"].getFrom(state)[tabName];
};
var getTabList = function getTabList(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["TAB_LIST"].getFrom(state);
};
var getTabs = function getTabs(state) {
  return getTabList(state).map(function (tabName) {
    return getTab(state, tabName);
  });
};
var getTabOptionsList = function getTabOptionsList(state, tabName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["TAB_OPTIONS_LIST"].getFrom(state)[tabName];
};
var getTabOptions = function getTabOptions(state, tabName) {
  return getTabOptionsList(state, tabName).map(function (optionName) {
    return getOption(state, optionName);
  });
}; //-- Save status

var getSaveStatus = function getSaveStatus(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["SAVE_STATUS"].getFrom(state);
};
var isSaving = function isSaving(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["SAVE_STATUS"].getFrom(state) === _constants__WEBPACK_IMPORTED_MODULE_1__["uiConstants"].saveStatuses.SAVING;
}; //-- Options

var getOption = function getOption(state, optionName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["OPTIONS"].getFrom(state)[optionName];
};
var getOptionItemValue = function getOptionItemValue(state, optionName, itemName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["OPTIONS"].getFrom(state)[optionName][itemName];
};
var getOptionValue = function getOptionValue(state, optionName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["OPTIONS"].getFrom(state)[optionName].value;
}; //-- Groups

var getGroupList = function getGroupList(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUP_LIST"].getFrom(state);
};
var getGroup = function getGroup(state, groupName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUPS_BY_NAME"].getFrom(state)[groupName];
};
var getGroups = function getGroups(state) {
  return getGroupList(state).map(function (groupName) {
    return getGroup(state, groupName);
  });
};
var getFieldList = function getFieldList(state, groupName) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["GROUP_FIELD_LIST"].getFrom(state)[groupName];
};
var getGroupFields = function getGroupFields(state, groupName) {
  return getFieldList(state, groupName).map(function (fieldName) {
    return getField(state, fieldName);
  });
}; //-- Fields

var getFields = function getFields(state) {
  return _state_paths__WEBPACK_IMPORTED_MODULE_0__["FIELDS"].getFrom(state);
};
var getField = function getField(state, fieldName) {
  return getFields(state)[fieldName];
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/state-paths.js":
/*!****************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/state-paths.js ***!
  \****************************************************************/
/*! exports provided: createStatePath, POD_META, POD_NAME, POD_ID, FIELDS, GROUPS, GROUPS_BY_NAME, GROUP_LIST, GROUP_FIELD_LIST, UI, ACTIVE_TAB, SAVE_STATUS, TABS, TAB_LIST, TABS_BY_NAME, TAB_OPTIONS_LIST, OPTIONS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createStatePath", function() { return createStatePath; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "POD_META", function() { return POD_META; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "POD_NAME", function() { return POD_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "POD_ID", function() { return POD_ID; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FIELDS", function() { return FIELDS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GROUPS", function() { return GROUPS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GROUPS_BY_NAME", function() { return GROUPS_BY_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GROUP_LIST", function() { return GROUP_LIST; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GROUP_FIELD_LIST", function() { return GROUP_FIELD_LIST; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UI", function() { return UI; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ACTIVE_TAB", function() { return ACTIVE_TAB; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SAVE_STATUS", function() { return SAVE_STATUS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TABS", function() { return TABS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TAB_LIST", function() { return TAB_LIST; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TABS_BY_NAME", function() { return TABS_BY_NAME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TAB_OPTIONS_LIST", function() { return TAB_OPTIONS_LIST; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OPTIONS", function() { return OPTIONS; });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "lodash");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }



var tailPath = function tailPath(dotPath) {
  return Object(lodash__WEBPACK_IMPORTED_MODULE_0__["tail"])(dotPath.split('.')).join('.');
};

var _createTree = function createTree(value, dotPath) {
  return dotPath.split('.').reduceRight(function (acc, currentValue) {
    return _defineProperty({}, currentValue, acc);
  }, value);
};

var _getFrom = function getFrom(state, dotPath) {
  return dotPath.split('.').reduce(function (value, el) {
    return value[el];
  }, state);
};

var createStatePath = function createStatePath(path) {
  return {
    // path 'ui.tabs.tabList', tailPath: 'tabs.tabList'
    path: path,
    tailPath: tailPath(path),
    getFrom: function getFrom(state) {
      var dotPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : path;
      return _getFrom(state, dotPath);
    },
    tailGetFrom: function tailGetFrom(state) {
      return _getFrom(state, tailPath(path));
    },
    createTree: function createTree(value) {
      var dotPath = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : path;
      return _createTree(value, dotPath);
    },
    tailCreateTree: function tailCreateTree(value) {
      return _createTree(value, tailPath(path));
    }
  };
};
var POD_META = createStatePath('podMeta');
var POD_NAME = createStatePath("".concat(POD_META.path, ".name"));
var POD_ID = createStatePath("".concat(POD_META.path, ".id"));
var FIELDS = createStatePath('fields');
var GROUPS = createStatePath('groups');
var GROUPS_BY_NAME = createStatePath("".concat(GROUPS.path, ".byName")); // Ordered list of group names as an array: [ 'group1', 'group2', ... ]

var GROUP_LIST = createStatePath("".concat(GROUPS.path, ".groupList")); // One to many relationship:
// { 'group1': [ 'field1', 'field2', ...], 'group2': [...] }

var GROUP_FIELD_LIST = createStatePath("".concat(GROUPS.path, ".groupFieldList"));
var UI = createStatePath('ui');
var ACTIVE_TAB = createStatePath("".concat(UI.path, ".activeTab"));
var SAVE_STATUS = createStatePath("".concat(UI.path, ".saveStatus"));
var TABS = createStatePath("".concat(UI.path, ".tabs")); // Ordered list of tab names as an array: [ 'tab1', 'tab2', ... ]

var TAB_LIST = createStatePath("".concat(TABS.path, ".tabList")); // Tab objects keyed by tab name:
// { tab1: {tab object}, tab2: {tab object}, ...}

var TABS_BY_NAME = createStatePath("".concat(TABS.path, ".byName")); // One to many relationship tab => options:
// { 'tab1': [ 'option1', 'option2', ...], 'tab2': [...] }

var TAB_OPTIONS_LIST = createStatePath("".concat(TABS.path, ".tabOptionsList")); // Pod option list keyed by option name:
// { can_export: {object}, show_ui: {object}, etc }

var OPTIONS = createStatePath('options');

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/store/store.js":
/*!**********************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/store/store.js ***!
  \**********************************************************/
/*! exports provided: initStore */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "initStore", function() { return initStore; });
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "lodash");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _state_paths__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./state-paths */ "./ui/js/pods-dfv/src/admin/edit-pod/store/state-paths.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ "./ui/js/pods-dfv/src/admin/edit-pod/store/constants.js");
/* harmony import */ var _reducer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reducer */ "./ui/js/pods-dfv/src/admin/edit-pod/store/reducer.js");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./selectors */ "./ui/js/pods-dfv/src/admin/edit-pod/store/selectors.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./actions */ "./ui/js/pods-dfv/src/admin/edit-pod/store/actions.js");






var registerStore = wp.data.registerStore;
var initStore = function initStore(props) {
  var initialState = Object(lodash__WEBPACK_IMPORTED_MODULE_0__["merge"])(_state_paths__WEBPACK_IMPORTED_MODULE_1__["UI"].createTree(_constants__WEBPACK_IMPORTED_MODULE_2__["initialUIState"]), props);
  return registerStore(_constants__WEBPACK_IMPORTED_MODULE_2__["STORE_KEY_EDIT_POD"], {
    reducer: _reducer__WEBPACK_IMPORTED_MODULE_3__["default"],
    selectors: _selectors__WEBPACK_IMPORTED_MODULE_4__,
    actions: _actions__WEBPACK_IMPORTED_MODULE_5__,
    initialState: initialState
  });
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/admin/edit-pod/with-drag-drop-context.js":
/*!*********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/admin/edit-pod/with-drag-drop-context.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dnd */ "./node_modules/react-dnd/lib/cjs/index.js");
/* harmony import */ var react_dnd__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_dnd__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dnd-html5-backend */ "./node_modules/react-dnd-html5-backend/lib/cjs/index.js");
/* harmony import */ var react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1__);


/* harmony default export */ __webpack_exports__["default"] = (Object(react_dnd__WEBPACK_IMPORTED_MODULE_0__["DragDropContext"])(react_dnd_html5_backend__WEBPACK_IMPORTED_MODULE_1___default.a));

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/base-input.js":
/*!*****************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/base-input.js ***!
  \*****************************************************/
/*! exports provided: PodsDFVBaseInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVBaseInput", function() { return PodsDFVBaseInput; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* eslint-disable react/prop-types */

var PodsDFVBaseInput = function PodsDFVBaseInput(props) {
  // Default implementation if onChange is omitted from props
  function handleChange(event) {
    props.setValue(event.target.value);
  } // noinspection JSUnresolvedVariable


  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: props.type,
    name: props.htmlAttr.name,
    id: props.htmlAttr.id,
    className: props.className,
    "data-name-clean": props.htmlAttr.name_clean,
    placeholder: props.fieldConfig.text_placeholder,
    maxLength: props.fieldConfig.text_max_length,
    value: props.value,
    readOnly: !!props.fieldConfig.readonly,
    onChange: props.onChange || handleChange,
    onBlur: props.onBlur,
    min: props.min,
    max: props.max
  });
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/field-container.js":
/*!**********************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/field-container.js ***!
  \**********************************************************/
/*! exports provided: PodsDFVFieldContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVFieldContainer", function() { return PodsDFVFieldContainer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _validation_messages__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validation-messages */ "./ui/js/pods-dfv/src/components/validation-messages.js");
/* harmony import */ var _validation_validation_rules__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../validation/validation-rules */ "./ui/js/pods-dfv/src/validation/validation-rules.js");
/* harmony import */ var _validation_validation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../validation/validation */ "./ui/js/pods-dfv/src/validation/validation.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

/* eslint-disable react/prop-types */





var useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState;
var PodsDFVFieldContainer = function PodsDFVFieldContainer(props) {
  var Field = props.fieldComponent;

  var _useState = useState(props.fieldItemData[0] || ''),
      _useState2 = _slicedToArray(_useState, 2),
      value = _useState2[0],
      setValue = _useState2[1];

  var validation = Object(_validation_validation__WEBPACK_IMPORTED_MODULE_4__["podsValidation"])();
  var validationMessages = validation.useValidation(value);
  validation.addRules([{
    rule: _validation_validation_rules__WEBPACK_IMPORTED_MODULE_3__["validationRules"].required(value, props.fieldConfig.label),
    condition: '1' === props.fieldConfig.required
  }]);
  var fieldClasses = classnames__WEBPACK_IMPORTED_MODULE_1___default()(props.htmlAttr["class"], {
    'pods-validate-error': validationMessages.length
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-dfv-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Field, _extends({
    value: value,
    setValue: setValue,
    validation: validation,
    className: fieldClasses
  }, props)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_validation_messages__WEBPACK_IMPORTED_MODULE_2__["PodsDFVValidationMessages"], {
    messages: validationMessages
  }));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/field-option.js":
/*!*******************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/field-option.js ***!
  \*******************************************************/
/*! exports provided: PodsFieldOption */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsFieldOption", function() { return PodsFieldOption; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _help_tooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./help-tooltip */ "./ui/js/pods-dfv/src/components/help-tooltip.js");



var PodsFieldOption = function PodsFieldOption(props) {
  var fieldType = props.fieldType,
      name = props.name,
      value = props.value,
      label = props.label,
      onChange = props.onChange,
      helpText = props.helpText;

  var toBool = function toBool(stringOrNumber) {
    // Force any strings to numeric first
    return !!+stringOrNumber;
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "pods-field-option"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("label", {
    className: "pods-form-ui-label pods-form-ui-label-".concat(name),
    htmlFor: name
  }, label, helpText && 'help' !== helpText && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_help_tooltip__WEBPACK_IMPORTED_MODULE_2__["HelpTooltip"], {
    helpText: helpText
  })), 'boolean' === fieldType ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "checkbox",
    id: name,
    name: name,
    checked: toBool(value),
    onChange: onChange
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("input", {
    type: "text",
    id: name,
    name: name,
    value: value,
    onChange: onChange
  }));
};
PodsFieldOption.propTypes = {
  fieldType: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  value: prop_types__WEBPACK_IMPORTED_MODULE_1__["any"].isRequired,
  label: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  onChange: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired,
  helpText: prop_types__WEBPACK_IMPORTED_MODULE_1__["any"]
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/help-tooltip.js":
/*!*******************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/help-tooltip.js ***!
  \*******************************************************/
/*! exports provided: HelpTooltip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HelpTooltip", function() { return HelpTooltip; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);


var _wp$components = wp.components,
    Tooltip = _wp$components.Tooltip,
    Dashicon = _wp$components.Dashicon;
var HelpTooltip = function HelpTooltip(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Tooltip, {
    text: props.helpText
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Dashicon, {
    icon: "editor-help"
  })));
};
HelpTooltip.propTypes = {
  helpText: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/tabs/pods-nav-tab.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/tabs/pods-nav-tab.js ***!
  \************************************************************/
/*! exports provided: PodsNavTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsNavTab", function() { return PodsNavTab; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! classnames */ "./node_modules/classnames/index.js");
/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);



var PodsNavTab = function PodsNavTab(_ref) {
  var tabs = _ref.tabs,
      activeTab = _ref.activeTab,
      setActiveTab = _ref.setActiveTab;

  var getClassName = function getClassName(tabName) {
    return classnames__WEBPACK_IMPORTED_MODULE_2___default()('nav-tab pods-nav-tab-link', {
      'nav-tab-active': tabName === activeTab
    });
  };

  var handleClick = function handleClick(e, tabName) {
    e.preventDefault();
    setActiveTab(tabName);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", {
    className: "nav-tab-wrapper pods-nav-tabs"
  }, tabs.map(function (thisTab) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      key: thisTab.name,
      href: "#pods-".concat(thisTab.name),
      className: getClassName(thisTab.name),
      onClick: function onClick(e) {
        return handleClick(e, thisTab.name);
      }
    }, thisTab.titleText);
  }));
};
PodsNavTab.propTypes = {
  tabs: prop_types__WEBPACK_IMPORTED_MODULE_1__["arrayOf"](prop_types__WEBPACK_IMPORTED_MODULE_1__["shape"]({
    name: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"],
    titleText: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"]
  })).isRequired,
  activeTab: prop_types__WEBPACK_IMPORTED_MODULE_1__["string"].isRequired,
  setActiveTab: prop_types__WEBPACK_IMPORTED_MODULE_1__["func"].isRequired
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/components/validation-messages.js":
/*!**************************************************************!*\
  !*** ./ui/js/pods-dfv/src/components/validation-messages.js ***!
  \**************************************************************/
/*! exports provided: PodsDFVValidationMessage, PodsDFVValidationMessages */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVValidationMessage", function() { return PodsDFVValidationMessage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVValidationMessages", function() { return PodsDFVValidationMessages; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* eslint-disable react/prop-types */

var PodsDFVValidationMessage = function PodsDFVValidationMessage(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "notice notice-error"
  }, props.message);
};
var PodsDFVValidationMessages = function PodsDFVValidationMessages(props) {
  return props.messages.map(function (thisMessage) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PodsDFVValidationMessage, {
      key: thisMessage,
      message: thisMessage
    });
  });
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/dfv-modal.js":
/*!**********************************************!*\
  !*** ./ui/js/pods-dfv/src/core/dfv-modal.js ***!
  \**********************************************/
/*! exports provided: PodsDFVModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVModal", function() { return PodsDFVModal; });
/*global jQuery, _, Backbone, PodsMn, wp, PodsI18n */

/**
 * A frame for displaying a modal popup with iframe content
 *
 * @augments wp.media.view.Frame
 */
var PodsDFVModal = wp.media.view.Modal.extend({
  /**
   * @param {Object} options
   * @returns {wp.media.view.Modal} Returns itself to allow chaining
   */
  close: function close(options) {
    var retVal = wp.media.view.Modal.prototype.close.apply(this, options); // Alert the listening control when we've been cancelled

    if (options && options.escape) {
      window.parent.jQuery(window.parent).trigger('dfv:modal:cancel');
    }

    return retVal;
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/gb-modal-listener.js":
/*!******************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/gb-modal-listener.js ***!
  \******************************************************/
/*! exports provided: PodsGbModalListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsGbModalListener", function() { return PodsGbModalListener; });
/**
 * Note: No checking is done here to make sure we're in a modal and that
 * Gutenberg is actually loaded.  Consuming code must make sure the implicit
 * Gutenberg dependencies exist (primarily wp.data) before calling through
 * to init().
 */
// The guard in front is to ensure wp.data exists before accessing select
var editorData = wp.data && wp.data.select('core/editor');
var unSubscribe;
/**
 * init() is the only exposed interface
 */

var PodsGbModalListener = {
  init: function init() {
    if (editorData.isCurrentPostPublished()) {
      // Post is published, this is an edit
      unSubscribe = wp.data.subscribe(saveListener);
    } else {
      // Unpublished post, this is an "add new" modal
      unSubscribe = wp.data.subscribe(publishListener);
    }
  }
}; //-------------------------------------------
// Helper functions, not externally exposed
//-------------------------------------------

/**
 *
 * @return string
 */

function getFeaturedImageURL() {
  var featuredImageId = editorData.getCurrentPostAttribute('featured_media');
  var url = ''; // Early exit if nothing was set

  if (!featuredImageId) {
    return url;
  }

  var media = wp.data.select('core').getMedia(featuredImageId);

  if (media) {
    var mediaSize = wp.hooks.applyFilters('editor.PostFeaturedImage.imageSize', 'post-thumbnail', '');

    if (media.media_details && media.media_details.sizes && media.media_details.sizes[mediaSize]) {
      url = media.media_details.sizes[mediaSize].source_url;
    } else {
      url = media.source_url;
    }
  }

  return url;
}
/**
 * Handles "add new" modals
 */


function publishListener() {
  if (editorData.isCurrentPostPublished()) {
    unSubscribe();
    triggerUpdateEvent({
      'icon': getFeaturedImageURL(),
      'link': editorData.getPermalink(),
      'edit_link': "post.php?post=".concat(editorData.getCurrentPostId(), "&action=edit&pods_modal=1"),
      'selected': true // Automatically select add new records

    });
  }
}
/**
 * Handles "edit existing" modals
 */


function saveListener() {
  if (saveListener.wasSaving) {
    // The wasSaving flag already ignores autosave so we only need to
    // check isSavingPost()
    if (!editorData.isSavingPost()) {
      // Currently on save failure we'll remain subscribed and try
      // listening for the next save attempt
      saveListener.wasSaving = false;

      if (editorData.didPostSaveRequestSucceed()) {
        unSubscribe();
        triggerUpdateEvent({
          'icon': getFeaturedImageURL()
        });
      }
    }
  } else {
    saveListener.wasSaving = isUserSaving();
  }
}
/**
 * Whether or not an active save is in progress due to user action (ignore autosaves)
 *
 * @return boolean
 */


function isUserSaving() {
  return !!(editorData.isSavingPost() && !editorData.isAutosavingPost());
}
/**
 * The event listener in the parent window will take care of closing the modal
 */


function triggerUpdateEvent(optionalData) {
  var defaultData = {
    'id': editorData.getCurrentPostId(),
    'name': editorData.getCurrentPostAttribute('title')
  };
  var postData = Object.assign(defaultData, optionalData);
  window.parent.jQuery(window.parent).trigger('dfv:modal:update', postData);
}

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/iframe-frame.js":
/*!*************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/iframe-frame.js ***!
  \*************************************************/
/*! exports provided: IframeFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IframeFrame", function() { return IframeFrame; });
/* harmony import */ var _dfv_modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dfv-modal */ "./ui/js/pods-dfv/src/core/dfv-modal.js");
/*global jQuery, _, Backbone, PodsMn, wp, PodsI18n */

/**
 * A frame for displaying a modal popup with iframe content
 *
 * @augments wp.media.view.Frame
 */

var IframeFrame = wp.media.view.Frame.extend({
  className: 'pods-modal-frame',
  template: _.template('<div class="media-frame-title" /><div class="media-frame-iframe" />'),
  regions: ['title', 'iframe'],
  initialize: function initialize() {
    wp.media.view.Frame.prototype.initialize.apply(this, arguments); // Ensure core UI is enabled.

    this.$el.addClass('wp-core-ui');
    this.initState();
    this.initModal();
    this.on('iframe:create:default', this.iframeContent, this);
    this.iframe.mode('default');
    this.on('title:create:default', this.createTitle, this);
    this.title.mode('default');
    this.on('title:render', function (view) {
      view.$el.append('<span class="dashicons dashicons-arrow-down"></span>');
    });
  },
  initState: function initState() {
    var title = this.options.title || PodsI18n.__('Add New Record');

    var src = this.options.src || '/';
    this.states.add([new wp.media.controller.State({
      id: 'default',
      title: title,
      src: src
    })]);
    this.options.state = 'default';
  },
  initModal: function initModal() {
    this.modal = new _dfv_modal__WEBPACK_IMPORTED_MODULE_0__["PodsDFVModal"]({
      controller: this
    });
    this.modal.content(this);
  },
  render: function render() {
    // Activate the default state if no active state exists.
    if (!this.state() && this.options.state) {
      this.setState(this.options.state);
    }
    /**
     * call 'render' directly on the parent class
     */


    return wp.media.view.Frame.prototype.render.apply(this, arguments);
  },

  /**
   * @param {Object} content
   * @this wp.media.controller.Region
   */
  iframeContent: function iframeContent(content) {
    content.view = new wp.media.view.Iframe({
      controller: this
    });
  },
  createTitle: function createTitle(title) {
    title.view = new wp.media.View({
      controller: this,
      tagName: 'h1'
    });
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/pods-field-model.js":
/*!*****************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/pods-field-model.js ***!
  \*****************************************************/
/*! exports provided: PodsDFVFieldModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVFieldModel", function() { return PodsDFVFieldModel; });
/*global jQuery, _, Backbone, PodsMn */
var PodsDFVFieldModel = Backbone.Model.extend({
  defaults: {
    htmlAttr: {},
    fieldConfig: {}
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/pods-field-views.js":
/*!*****************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/pods-field-views.js ***!
  \*****************************************************/
/*! exports provided: PodsFieldListView, PodsFieldView, PodsDFVFieldLayout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsFieldListView", function() { return PodsFieldListView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsFieldView", function() { return PodsFieldView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVFieldLayout", function() { return PodsDFVFieldLayout; });
/*global jQuery, _, Backbone, PodsMn */

/**
 *
 */
var PodsFieldListView = PodsMn.CollectionView.extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  initialize: function initialize(options) {
    this.fieldModel = options.fieldModel;
    this.childViewOptions = {
      fieldModel: options.fieldModel
    };
  }
});
/**
 * @extends Backbone.View
 */

var PodsFieldView = PodsMn.View.extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  serializeData: function serializeData() {
    var fieldModel = this.options.fieldModel;
    var data = this.model ? this.model.toJSON() : {};
    data.htmlAttr = fieldModel.get('htmlAttr');
    data.fieldConfig = fieldModel.get('fieldConfig');
    return data;
  }
});
/**
 * Top-level "main field container"
 */

var PodsDFVFieldLayout = PodsMn.View.extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  initialize: function initialize(options) {
    this.fieldItemData = options.fieldItemData;
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/renderers/mn-renderer.js":
/*!**********************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/renderers/mn-renderer.js ***!
  \**********************************************************/
/*! exports provided: mnRenderer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mnRenderer", function() { return mnRenderer; });
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _pods_field_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pods-field-model */ "./ui/js/pods-dfv/src/core/pods-field-model.js");


function mnRenderer(FieldClass, element, data) {
  // Assemble the model and create the field
  var fieldModel = new _pods_field_model__WEBPACK_IMPORTED_MODULE_1__["PodsDFVFieldModel"]({
    htmlAttr: data.htmlAttr,
    fieldConfig: data.fieldConfig
  });
  var newField = new FieldClass({
    el: element,
    model: fieldModel,
    fieldItemData: data.fieldItemData
  }); // Render the field, trigger an event for the outside world, and stash a reference

  newField.render();
  jquery__WEBPACK_IMPORTED_MODULE_0___default()(element).trigger('render');
  return newField;
}

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/renderers/react-direct-renderer.js":
/*!********************************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/renderers/react-direct-renderer.js ***!
  \********************************************************************/
/*! exports provided: reactDirectRenderer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reactDirectRenderer", function() { return reactDirectRenderer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _admin_edit_pod_store_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../admin/edit-pod/store/store */ "./ui/js/pods-dfv/src/admin/edit-pod/store/store.js");



function reactDirectRenderer(FieldClass, element, props) {
  var Field = react__WEBPACK_IMPORTED_MODULE_0___default.a.createFactory(FieldClass); // Todo:
  //
  //  1: Need a generic way to initialize the stores.  This can't be inside
  // the component or it will revert to initial values on every render.
  // Kludged here for now to continue prototyping.
  //
  // 2: initialState (in initStore) will not arrive until WP 5.2.
  //

  Object(_admin_edit_pod_store_store__WEBPACK_IMPORTED_MODULE_2__["initStore"])(props);
  react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(Field(props), element);
}

/***/ }),

/***/ "./ui/js/pods-dfv/src/core/renderers/react-renderer.js":
/*!*************************************************************!*\
  !*** ./ui/js/pods-dfv/src/core/renderers/react-renderer.js ***!
  \*************************************************************/
/*! exports provided: reactRenderer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reactRenderer", function() { return reactRenderer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _components_field_container__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/field-container */ "./ui/js/pods-dfv/src/components/field-container.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }




function reactRenderer(FieldClass, element, props) {
  var Field = react__WEBPACK_IMPORTED_MODULE_0___default.a.createFactory(FieldClass);
  react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_field_container__WEBPACK_IMPORTED_MODULE_2__["PodsDFVFieldContainer"], _extends({
    fieldComponent: Field
  }, props)), element);
}

/***/ }),

/***/ "./ui/js/pods-dfv/src/field-manifest.js":
/*!**********************************************!*\
  !*** ./ui/js/pods-dfv/src/field-manifest.js ***!
  \**********************************************/
/*! exports provided: File, Pick, PodsDFVText, PodsDFVPassword, PodsDFVNumber, PodsDFVEmail, PodsDFVParagraph, PodsDFVEditPod */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _fields_file_file__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fields/file/file */ "./ui/js/pods-dfv/src/fields/file/file.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "File", function() { return _fields_file_file__WEBPACK_IMPORTED_MODULE_0__["File"]; });

/* harmony import */ var _fields_pick_pick__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fields/pick/pick */ "./ui/js/pods-dfv/src/fields/pick/pick.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Pick", function() { return _fields_pick_pick__WEBPACK_IMPORTED_MODULE_1__["Pick"]; });

/* harmony import */ var _fields_text_text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fields/text/text */ "./ui/js/pods-dfv/src/fields/text/text.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVText", function() { return _fields_text_text__WEBPACK_IMPORTED_MODULE_2__["PodsDFVText"]; });

/* harmony import */ var _fields_password_password__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fields/password/password */ "./ui/js/pods-dfv/src/fields/password/password.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVPassword", function() { return _fields_password_password__WEBPACK_IMPORTED_MODULE_3__["PodsDFVPassword"]; });

/* harmony import */ var _fields_number_number__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fields/number/number */ "./ui/js/pods-dfv/src/fields/number/number.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVNumber", function() { return _fields_number_number__WEBPACK_IMPORTED_MODULE_4__["PodsDFVNumber"]; });

/* harmony import */ var _fields_email_email__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fields/email/email */ "./ui/js/pods-dfv/src/fields/email/email.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVEmail", function() { return _fields_email_email__WEBPACK_IMPORTED_MODULE_5__["PodsDFVEmail"]; });

/* harmony import */ var _fields_paragraph_paragraph__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./fields/paragraph/paragraph */ "./ui/js/pods-dfv/src/fields/paragraph/paragraph.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVParagraph", function() { return _fields_paragraph_paragraph__WEBPACK_IMPORTED_MODULE_6__["PodsDFVParagraph"]; });

/* harmony import */ var _admin_edit_pod_edit_pod__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./admin/edit-pod/edit-pod */ "./ui/js/pods-dfv/src/admin/edit-pod/edit-pod.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVEditPod", function() { return _admin_edit_pod_edit_pod__WEBPACK_IMPORTED_MODULE_7__["PodsDFVEditPod"]; });










/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/email/email.js":
/*!**************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/email/email.js ***!
  \**************************************************/
/*! exports provided: PodsDFVEmail */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVEmail", function() { return PodsDFVEmail; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_base_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/base-input */ "./ui/js/pods-dfv/src/components/base-input.js");
/* harmony import */ var _validation_validation_rules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../validation/validation-rules */ "./ui/js/pods-dfv/src/validation/validation-rules.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* eslint-disable react/prop-types */



var PodsDFVEmail = function PodsDFVEmail(props) {
  props.validation.addRules([{
    rule: _validation_validation_rules__WEBPACK_IMPORTED_MODULE_2__["validationRules"].emailFormat(props.value),
    condition: true
  }]); // noinspection JSUnresolvedVariable

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_base_input__WEBPACK_IMPORTED_MODULE_1__["PodsDFVBaseInput"], _extends({
    type: '1' === props.fieldConfig.email_html5 ? 'email' : 'text'
  }, props));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file/file-upload-model.js":
/*!*************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file/file-upload-model.js ***!
  \*************************************************************/
/*! exports provided: FileUploadModel, FileUploadCollection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadModel", function() { return FileUploadModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadCollection", function() { return FileUploadCollection; });
/*global jQuery, _, Backbone, PodsMn */

/**
 *
 */
var FileUploadModel = Backbone.Model.extend({
  defaults: {
    'id': 0,
    'icon': '',
    'name': '',
    'edit_link': '',
    'link': '',
    'download': ''
  }
});
/**
 *
 */

var FileUploadCollection = Backbone.Collection.extend({
  model: FileUploadModel
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file/file.js":
/*!************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file/file.js ***!
  \************************************************/
/*! exports provided: File */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "File", function() { return File; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/* harmony import */ var _file_upload_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./file-upload-model */ "./ui/js/pods-dfv/src/fields/file/file-upload-model.js");
/* harmony import */ var _views_file_upload_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./views/file-upload-list */ "./ui/js/pods-dfv/src/fields/file/views/file-upload-list.js");
/* harmony import */ var _views_file_upload_form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./views/file-upload-form */ "./ui/js/pods-dfv/src/fields/file/views/file-upload-form.js");
/* harmony import */ var _uploaders_plupload__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./uploaders/plupload */ "./ui/js/pods-dfv/src/fields/file/uploaders/plupload.js");
/* harmony import */ var _uploaders_media_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./uploaders/media-modal */ "./ui/js/pods-dfv/src/fields/file/uploaders/media-modal.js");
/*global jQuery, _, Backbone, PodsMn */
var template = "<div class=\"pods-ui-file-list pods-field-template-<%- fieldConfig.file_field_template %>\"></div>\r\n<div class=\"pods-ui-region\"></div>\r\n<div class=\"pods-ui-form\"></div>\r\n";






var Uploaders = [_uploaders_plupload__WEBPACK_IMPORTED_MODULE_4__["Plupload"], _uploaders_media_modal__WEBPACK_IMPORTED_MODULE_5__["MediaModal"]];
var UNLIMITED_FILES = 0;
/**
 * @extends Backbone.View
 */

var File = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsDFVFieldLayout"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  template: _.template(template),
  regions: {
    list: '.pods-ui-file-list',
    uiRegion: '.pods-ui-region',
    // "Utility" container for uploaders to use
    form: '.pods-ui-form'
  },
  childViewEvents: {
    'childview:remove:file:click': 'onChildviewRemoveFileClick',
    'childview:add:file:click': 'onChildviewAddFileClick'
  },
  uploader: {},

  /**
   *
   */
  onBeforeRender: function onBeforeRender() {
    if (this.collection === undefined) {
      this.collection = new _file_upload_model__WEBPACK_IMPORTED_MODULE_1__["FileUploadCollection"](this.fieldItemData);
    }
  },
  onRender: function onRender() {
    var listView = new _views_file_upload_list__WEBPACK_IMPORTED_MODULE_2__["FileUploadList"]({
      collection: this.collection,
      fieldModel: this.model
    });
    var formView = new _views_file_upload_form__WEBPACK_IMPORTED_MODULE_3__["FileUploadForm"]({
      fieldModel: this.model
    });
    this.showChildView('list', listView);
    this.showChildView('form', formView); // Setup the uploader and listen for a response event

    this.uploader = this.createUploader();
    this.listenTo(this.uploader, 'added:files', this.onAddedFiles);
  },

  /**
   * Fired by a remove:file:click trigger in any child view
   *
   * @param childView View that was the source of the event
   */
  onChildviewRemoveFileClick: function onChildviewRemoveFileClick(childView) {
    this.collection.remove(childView.model);
  },

  /**
   * Fired by a add:file:click trigger in any child view
   *
   * plupload fields should never generate this event, it places a shim over our button and handles the
   * event internally.  But this event does still come through with plupload fields in some browser
   * environments for reasons we've been unable to determine.
   */
  onChildviewAddFileClick: function onChildviewAddFileClick() {
    // Invoke the uploader
    if ('function' === typeof this.uploader.invoke) {
      this.uploader.invoke();
    }
  },

  /**
   * Concrete uploader implementations simply need to: this.trigger( 'added:files', newFiles )
   *
   * @param {Object[]} data An array of model objects to be added
   */
  onAddedFiles: function onAddedFiles(data) {
    var fieldConfig = this.model.get('fieldConfig');
    var fileLimit = +fieldConfig['file_limit']; // Unary plus to force to number

    var newCollection, filteredModels; // Get a copy of the existing collection with the new files added

    newCollection = this.collection.clone();
    newCollection.add(data); // Enforce the file limit option if one is set

    if (UNLIMITED_FILES === fileLimit) {
      filteredModels = newCollection.models;
    } else {
      // Number of uploads is limited: keep the last N models, FIFO/queue style
      filteredModels = newCollection.filter(function (model) {
        return newCollection.indexOf(model) >= newCollection.length - fileLimit;
      });
    }

    this.collection.reset(filteredModels);
  },
  createUploader: function createUploader() {
    var fieldConfig = this.model.get('fieldConfig');
    var targetUploader = fieldConfig['file_uploader'];
    var Uploader;
    jQuery.each(Uploaders, function (index, thisUploader) {
      if (targetUploader === thisUploader.prototype.fileUploader) {
        Uploader = thisUploader;
        return false;
      }
    });

    if (Uploader !== undefined) {
      this.uploader = new Uploader({
        // We provide regular DOM element for the button
        browseButton: this.getRegion('form').getEl('.pods-dfv-list-add').get(),
        uiRegion: this.getRegion('uiRegion'),
        fieldConfig: fieldConfig
      });
      return this.uploader;
    } else {
      // @todo sprintf type with PodsI18n.__()
      throw "Could not locate file uploader '".concat(targetUploader, "'");
    }
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file/uploaders/media-modal.js":
/*!*****************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file/uploaders/media-modal.js ***!
  \*****************************************************************/
/*! exports provided: MediaModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MediaModal", function() { return MediaModal; });
/* harmony import */ var _pods_file_uploader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pods-file-uploader */ "./ui/js/pods-dfv/src/fields/file/uploaders/pods-file-uploader.js");
/* eslint-disable camelcase */

/*global jQuery, _, Backbone, PodsMn, wp, PodsI18n */

var MediaModal = _pods_file_uploader__WEBPACK_IMPORTED_MODULE_0__["PodsFileUploader"].extend({
  mediaObject: {},
  fileUploader: 'attachment',
  invoke: function invoke() {
    if (wp.Uploader.defaults.filters.mime_types === undefined) {
      wp.Uploader.defaults.filters.mime_types = [{
        title: PodsI18n.__('Allowed Files'),
        extensions: '*'
      }];
    }

    var defaultExt = wp.Uploader.defaults.filters.mime_types[0].extensions;
    wp.Uploader.defaults.filters.mime_types[0].extensions = this.fieldConfig['limit_extensions']; // set our settings
    // noinspection EqualityComparisonWithCoercionJS ("1" is every bit as valid to us as 1)

    this.mediaObject = wp.media({
      title: this.fieldConfig['file_modal_title'],
      multiple: 1 != this.fieldConfig['file_limit'],
      library: {
        type: this.fieldConfig['limit_types']
      },
      // Customize the submit button.
      button: {
        // Set the text of the button.
        text: this.fieldConfig['file_modal_add_button']
      }
    }); // One-shot callback ( event, callback, context )

    this.mediaObject.once('select', this.onMediaSelect, this); // open the frame

    this.mediaObject.open();
    this.mediaObject.content.mode(this.fieldConfig['file_attachment_tab']); // Reset the allowed file extensions

    wp.Uploader.defaults.filters.mime_types[0].extensions = defaultExt;
  },
  onMediaSelect: function onMediaSelect() {
    var selection = this.mediaObject.state().get('selection');
    var newFiles = [];

    if (!selection) {
      return;
    } // loop through the selected files


    selection.each(function (attachment) {
      var sizes = attachment.attributes.sizes;
      var attachmentThumbnail; // by default use the generic icon

      attachmentThumbnail = attachment.attributes.icon; // only thumbnails have sizes which is what we're on the hunt for

      if (sizes !== undefined) {
        // Get thumbnail if it exists
        if (sizes.thumbnail !== undefined && sizes.thumbnail.url !== undefined) {
          attachmentThumbnail = sizes.thumbnail.url;
        } else if (sizes.full !== undefined && sizes.full.url !== undefined) {
          // If thumbnail doesn't exist, get full because this is a small image
          attachmentThumbnail = sizes.full.url;
        }
      }

      newFiles.push({
        id: attachment.attributes.id,
        icon: attachmentThumbnail,
        name: attachment.attributes.title,
        edit_link: attachment.attributes.editLink,
        link: attachment.attributes.link,
        download: attachment.attributes.url
      });
    }); // Fire an event with an array of models to be added

    this.trigger('added:files', newFiles);
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file/uploaders/plupload.js":
/*!**************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file/uploaders/plupload.js ***!
  \**************************************************************/
/*! exports provided: Plupload */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Plupload", function() { return Plupload; });
/* harmony import */ var _pods_file_uploader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pods-file-uploader */ "./ui/js/pods-dfv/src/fields/file/uploaders/pods-file-uploader.js");
/* harmony import */ var _views_file_upload_queue__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/file-upload-queue */ "./ui/js/pods-dfv/src/fields/file/views/file-upload-queue.js");
function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/* eslint-disable camelcase */

/*global jQuery, _, Backbone, PodsMn, wp, plupload, PodsI18n */


var Plupload = _pods_file_uploader__WEBPACK_IMPORTED_MODULE_0__["PodsFileUploader"].extend({
  plupload: {},
  fileUploader: 'plupload',
  initialize: function initialize() {
    // Set the browse button argument for plupload... it's required
    this.fieldConfig['plupload_init']['browse_button'] = this.browseButton;
    this.plupload = new plupload.Uploader(this.fieldConfig['plupload_init']);
    this.plupload.init(); // Setup all callbacks: ( event_name, callback, context )

    this.plupload.bind('FilesAdded', this.onFilesAdded, this);
    this.plupload.bind('UploadProgress', this.onUploadProgress, this);
    this.plupload.bind('FileUploaded', this.onFileUploaded, this);
  },

  /**
   * Fired after files have been selected from the dialog
   *
   * @param up
   * @param files
   */
  onFilesAdded: function onFilesAdded(up, files) {
    var model, collection, view; // Assemble the collection data for the file queue

    collection = new Backbone.Collection();
    jQuery.each(files, function (index, file) {
      model = new _views_file_upload_queue__WEBPACK_IMPORTED_MODULE_1__["FileUploadQueueModel"]({
        id: file.id,
        filename: file.name
      });
      collection.add(model);
    }); // Create a new view based on the collection

    view = new _views_file_upload_queue__WEBPACK_IMPORTED_MODULE_1__["FileUploadQueue"]({
      collection: collection
    });
    view.render(); // Generate the HTML, not attached to the DOM yet
    // Reset the region in case any error messages are hanging around from a previous upload
    // and show the new file upload queue

    this.uiRegion.reset();
    this.uiRegion.show(view); // Stash references

    this.queueCollection = collection;
    up.refresh();
    up.start();
  },

  /**
   *
   * @param up
   * @param file
   */
  onUploadProgress: function onUploadProgress(up, file) {
    var model = this.queueCollection.get(file.id);
    model.set({
      progress: file.percent
    });
  },

  /**
   *
   * @param up
   * @param file
   * @param resp
   */
  onFileUploaded: function onFileUploaded(up, file, resp) {
    var model = this.queueCollection.get(file.id);
    var response = resp.response;
    var newFile = [];
    var json; // Error condition 1

    if ('Error: ' === resp.response.substr(0, 7)) {
      response = response.substr(7);

      if (window.console) {
        console.log(response);
      }

      model.set({
        progress: 0,
        errorMsg: response
      }); // Error condition 2
    } else if ('<e>' === resp.response.substr(0, 3)) {
      response = jQuery(response).text(); // Strip tags, text only

      if (window.console) {
        console.log(response);
      }

      model.set({
        progress: 0,
        errorMsg: response
      });
    } else {
      json = response.match(/{.*}$/);

      if (null !== json && 0 < json.length) {
        json = jQuery.parseJSON(json[0]);
      } else {
        json = {};
      }

      if ('object' !== _typeof(json) || jQuery.isEmptyObject(json)) {
        if (window.console) {
          console.log(response);
        }

        if (window.console) {
          console.log(json);
        }

        model.set({
          progress: 0,
          errorMsg: PodsI18n.__('Error uploading file: ') + file.name
        });
        return;
      }

      newFile = {
        id: json.ID,
        icon: json.thumbnail,
        name: json.post_title,
        edit_link: json.edit_link,
        link: json.link,
        download: json.download
      }; // Remove the file from the upload queue model and trigger an event for the hosting container

      model.trigger('destroy', model);
      this.trigger('added:files', newFile);
    }
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file/uploaders/pods-file-uploader.js":
/*!************************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file/uploaders/pods-file-uploader.js ***!
  \************************************************************************/
/*! exports provided: PodsFileUploader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsFileUploader", function() { return PodsFileUploader; });
/*global jQuery, _, Backbone, PodsMn */

/**
 *
 * @param {Object} options
 *
 * @param {Object} options.browseButton   Existing and attached DOM node
 * @param {Object} options.uiRegion       Marionette.Region object
 * @param {Object} options.fieldConfig
 *
 * @param {string} options.fieldConfig.file_modal_title
 * @param {string} options.fieldConfig.file_modal_add_button
 * @param {string} options.fieldConfig.file_limit
 * @param {string} options.fieldConfig.limit_extensions
 * @param {string} options.fieldConfig.limit_types
 * @param {string} options.fieldConfig.file_attachment_tab
 *
 * @param {Object} options.fieldConfig.plupload_init
 * @param {Object} options.fieldConfig.plupload_init.browse_button
 *
 * @class
 */
var PodsFileUploader = PodsMn.Object.extend({
  constructor: function constructor(options) {
    // Magically set the object properties we need, they'll just "be there" for the concrete instance
    this.browseButton = options.browseButton;
    this.uiRegion = options.uiRegion;
    this.fieldConfig = options.fieldConfig;
    PodsMn.Object.call(this, options);
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file/views/file-upload-form.js":
/*!******************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file/views/file-upload-form.js ***!
  \******************************************************************/
/*! exports provided: FileUploadForm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadForm", function() { return FileUploadForm; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<a class=\"button pods-dfv-list-add\" href=\"#\" tabindex=\"2\"><%= fieldConfig.file_add_button %></a>";

var FileUploadForm = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'div',
  template: _.template(template),
  ui: {
    addButton: '.pods-dfv-list-add'
  },
  triggers: {
    'click @ui.addButton': 'childview:add:file:click'
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file/views/file-upload-list.js":
/*!******************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file/views/file-upload-list.js ***!
  \******************************************************************/
/*! exports provided: FileUploadItem, FileUploadList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadItem", function() { return FileUploadItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadList", function() { return FileUploadList; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<input\r\n\tname=\"<%- htmlAttr.name %>[<%- id %>][id]\"\r\n\tdata-name-clean=\"<%- htmlAttr.name_clean %>-id\"\r\n\tid=\"<%- htmlAttr.id %>-<%- id %>-id\"\r\n\tclass=\"<%- htmlAttr.class %>\"\r\n\ttype=\"hidden\"\r\n\tvalue=\"<%- id %>\" />\r\n<ul class=\"pods-dfv-list-meta media-item\">\r\n\t<% if ( 1 != fieldConfig.file_limit ) { %>\r\n\t\t<li class=\"pods-dfv-list-col pods-dfv-list-handle\"><span><%- PodsI18n.__( 'Reorder' ) %></span></li>\r\n\t<% } %>\r\n\t<li class=\"pods-dfv-list-col pods-dfv-list-icon\"><img class=\"pinkynail\" src=\"<%- icon %>\" alt=\"<%- PodsI18n.__( 'Icon' ) %>\"></li>\r\n\t<li class=\"pods-dfv-list-col pods-dfv-list-name\">\r\n\t\t<% if ( 0 != fieldConfig.file_edit_title ) { %>\r\n\t\t\t<input\r\n\t\t\t\tname=\"<%- htmlAttr.name %>[<%- id %>][title]\"\r\n\t\t\t\tdata-name-clean=\"<%- htmlAttr.name_clean %>-title\"\r\n\t\t\t\tid=\"pods-form-ui-<%- htmlAttr.name_clean %>-<%- id %>-title\"\r\n\t\t\t\tclass=\"pods-form-ui-field-type-text pods-form-ui-field-name-<%- htmlAttr.name_clean %>-title\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tvalue=\"<%- name %>\"\r\n\t\t\t\ttabindex=\"2\"\r\n\t\t\t\tmaxlength=\"255\" />\r\n\t\t<% } else { %>\r\n\t\t\t<%- name %>\r\n\t\t<% } %>\r\n\t</li>\r\n\t<li class=\"pods-dfv-list-col pods-dfv-list-actions\">\r\n\t\t<ul>\r\n\t\t\t<li class=\"pods-dfv-list-col pods-dfv-list-remove\">\r\n\t\t\t\t<a href=\"#remove\" title=\"<%- PodsI18n.__( 'Deselect' ) %>\"><%- PodsI18n.__( 'Deselect' ) %></a>\r\n\t\t\t</li>\r\n\t\t\t<% if ( 1 == fieldConfig.file_linked && '' != download ) { %>\r\n\t\t\t\t<li class=\"pods-dfv-list-col pods-dfv-list-download\">\r\n\t\t\t\t\t<a href=\"<%- download %>\" target=\"_blank\" title=\"<%- PodsI18n.__( 'Download' ) %>\"><%- PodsI18n.__( 'Download' ) %></a>\r\n\t\t\t\t</li>\r\n\t\t\t<% } %>\r\n\t\t\t<% if ( 1 == fieldConfig.file_show_edit_link && '' != edit_link ) { %>\r\n\t\t\t\t<li class=\"pods-dfv-list-col pods-dfv-list-edit\">\r\n\t\t\t\t\t<a href=\"<%- edit_link %>\" target=\"_blank\" title=\"<%- PodsI18n.__( 'Edit' ) %>\"><%- PodsI18n.__( 'Edit' ) %></a>\r\n\t\t\t\t</li>\r\n\t\t\t<% } %>\r\n\t\t</ul>\r\n\t</li>\r\n</ul>\r\n";

/**
 * Individual list items, representing a single file
 */

var FileUploadItem = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'li',
  template: _.template(template),
  className: 'pods-dfv-list-item',
  ui: {
    dragHandle: '.pods-dfv-list-handle',
    editLink: '.pods-dfv-list-edit-link',
    viewLink: '.pods-dfv-list-link',
    downloadLink: '.pods-dfv-list-download',
    removeButton: '.pods-dfv-list-remove',
    itemName: '.pods-dfv-list-name'
  },
  triggers: {
    'click @ui.removeButton': 'remove:file:click'
  }
});
/**
 * The file list container
 */

var FileUploadList = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldListView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'ul',
  className: 'pods-dfv-list',
  childView: FileUploadItem,
  childViewTriggers: {
    'remove:file:click': 'childview:remove:file:click'
  },
  onAttach: function onAttach() {
    var fieldConfig = this.options.fieldModel.get('fieldConfig');
    var sort_axis = 'y'; // @todo
    // http://stackoverflow.com/questions/1735372/jquery-sortable-list-scroll-bar-jumps-up-when-sorting/4187833#4187833

    if (1 != fieldConfig['file_limit']) {
      if ('tiles' == fieldConfig['file_field_template']) {
        sort_axis = '';
      } // init sortable


      this.$el.sortable({
        containment: 'parent',
        axis: sort_axis,
        scrollSensitivity: 40,
        tolerance: 'pointer',
        opacity: 0.6
      });
    }
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/file/views/file-upload-queue.js":
/*!*******************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/file/views/file-upload-queue.js ***!
  \*******************************************************************/
/*! exports provided: FileUploadQueueModel, FileUploadQueueItem, FileUploadQueue */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadQueueModel", function() { return FileUploadQueueModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadQueueItem", function() { return FileUploadQueueItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FileUploadQueue", function() { return FileUploadQueue; });
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<ul class=\"pods-dfv-list-meta media-item\">\r\n\t<% if ( '' === errorMsg ) { %>\r\n\t\t<li class=\"pods-dfv-list-col pods-progress\"><div class=\"progress-bar\" style=\"width: <%- progress %>%;\"></div></li>\r\n\t<% } %>\r\n\t<li class=\"pods-dfv-list-col pods-dfv-list-name\"><%- filename %></li>\r\n</ul>\r\n<% if ( '' !== errorMsg ) { %>\r\n\t<div class=\"error\"><%- errorMsg %></div>\r\n<% } %>\r\n";
var FileUploadQueueModel = Backbone.Model.extend({
  defaults: {
    id: 0,
    filename: '',
    progress: 0,
    errorMsg: ''
  }
});
/**
 *
 */

var FileUploadQueueItem = PodsMn.View.extend({
  model: FileUploadQueueModel,
  tagName: 'li',
  template: _.template(template),
  attributes: function attributes() {
    return {
      "class": 'pods-dfv-list-item',
      id: this.model.get('id')
    };
  },
  modelEvents: {
    'change': 'onModelChanged'
  },
  onModelChanged: function onModelChanged() {
    this.render();
  }
});
/**
 *
 */

var FileUploadQueue = PodsMn.CollectionView.extend({
  tagName: 'ul',
  className: 'pods-dfv-list pods-dfv-list-queue',
  childView: FileUploadQueueItem
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/number/number.js":
/*!****************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/number/number.js ***!
  \****************************************************/
/*! exports provided: PodsDFVNumber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVNumber", function() { return PodsDFVNumber; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_base_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/base-input */ "./ui/js/pods-dfv/src/components/base-input.js");
/* harmony import */ var _validation_validation_rules__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../validation/validation-rules */ "./ui/js/pods-dfv/src/validation/validation-rules.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* eslint-disable react/prop-types */



var PodsDFVNumber = function PodsDFVNumber(props) {
  // noinspection JSUnresolvedVariable
  props.validation.addRules([{
    rule: _validation_validation_rules__WEBPACK_IMPORTED_MODULE_2__["validationRules"].max(props.value, props.fieldConfig.number_max),
    condition: true
  }, {
    rule: _validation_validation_rules__WEBPACK_IMPORTED_MODULE_2__["validationRules"].min(props.value, props.fieldConfig.number_min),
    condition: true
  }]); // noinspection JSUnresolvedVariable

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_base_input__WEBPACK_IMPORTED_MODULE_1__["PodsDFVBaseInput"], _extends({
    type: '1' === props.fieldConfig.number_html5 ? 'number' : 'text',
    min: props.fieldConfig.number_min,
    max: props.fieldConfig.number_max
  }, props));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/paragraph/paragraph.js":
/*!**********************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/paragraph/paragraph.js ***!
  \**********************************************************/
/*! exports provided: PodsDFVParagraph */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVParagraph", function() { return PodsDFVParagraph; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* eslint-disable react/prop-types */

var PodsDFVParagraph = function PodsDFVParagraph(props) {
  // Default implementation if onChange is omitted from props
  function handleChange(event) {
    props.setValue(event.target.value);
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("textarea", {
    value: props.value,
    name: props.htmlAttr.name,
    id: props.htmlAttr.id,
    className: props.className,
    "data-name-clean": props.htmlAttr.name_clean,
    "data-label": props.fieldConfig.label,
    onChange: props.onChange || handleChange,
    onBlur: props.onBlur
  }, props.value);
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/password/password.js":
/*!********************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/password/password.js ***!
  \********************************************************/
/*! exports provided: PodsDFVPassword */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVPassword", function() { return PodsDFVPassword; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_base_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/base-input */ "./ui/js/pods-dfv/src/components/base-input.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var PodsDFVPassword = function PodsDFVPassword(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_base_input__WEBPACK_IMPORTED_MODULE_1__["PodsDFVBaseInput"], _extends({
    type: "password"
  }, props));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/pick-field-model.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/pick-field-model.js ***!
  \************************************************************/
/*! exports provided: PickFieldModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PickFieldModel", function() { return PickFieldModel; });
/*global jQuery, _, Backbone, PodsMn */
var PickFieldModel = Backbone.Model.extend({
  defaults: {
    'view_name': 'select',
    'iframe_src': '',
    'pick_format_type': 'single',
    'pick_show_icon': false,
    'pick_show_view_link': false,
    'pick_show_edit_link': false
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/pick.js":
/*!************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/pick.js ***!
  \************************************************/
/*! exports provided: Pick */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pick", function() { return Pick; });
/* harmony import */ var _core_pods_field_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/pods-field-model */ "./ui/js/pods-dfv/src/core/pods-field-model.js");
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/* harmony import */ var _core_iframe_frame__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/iframe-frame */ "./ui/js/pods-dfv/src/core/iframe-frame.js");
/* harmony import */ var _relationship_model__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./relationship-model */ "./ui/js/pods-dfv/src/fields/pick/relationship-model.js");
/* harmony import */ var _pick_field_model__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pick-field-model */ "./ui/js/pods-dfv/src/fields/pick/pick-field-model.js");
/* harmony import */ var _views_radio_view__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./views/radio-view */ "./ui/js/pods-dfv/src/fields/pick/views/radio-view.js");
/* harmony import */ var _views_checkbox_view__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./views/checkbox-view */ "./ui/js/pods-dfv/src/fields/pick/views/checkbox-view.js");
/* harmony import */ var _views_select_view__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./views/select-view */ "./ui/js/pods-dfv/src/fields/pick/views/select-view.js");
/* harmony import */ var _views_list_view__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./views/list-view */ "./ui/js/pods-dfv/src/fields/pick/views/list-view.js");
/* harmony import */ var _views_add_new__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./views/add-new */ "./ui/js/pods-dfv/src/fields/pick/views/add-new.js");
/* eslint-disable camelcase */

/*global jQuery, _, Backbone, PodsMn, wp, PodsI18n */
var template = "<%if ( fieldConfig.view_name === 'list' ) { %>\r\n\t<div class=\"pods-ui-list-autocomplete\"></div>\r\n<% } %>\r\n\r\n<div class=\"pods-pick-values\"></div>\r\n\r\n<% if ( fieldConfig.iframe_src != '' ) { %>\r\n\t<div class=\"pods-ui-add-new\"></div>\r\n<% } %>";










var views = {
  'checkbox': _views_checkbox_view__WEBPACK_IMPORTED_MODULE_6__["CheckboxView"],
  'select': _views_select_view__WEBPACK_IMPORTED_MODULE_7__["SelectView"],
  'select2': _views_select_view__WEBPACK_IMPORTED_MODULE_7__["SelectView"],
  // SelectView handles select2 as well
  'radio': _views_radio_view__WEBPACK_IMPORTED_MODULE_5__["RadioView"],
  'list': _views_list_view__WEBPACK_IMPORTED_MODULE_8__["ListView"]
};
var modalIFrame;
/**
 * @extends Backbone.View
 */

var Pick = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_1__["PodsDFVFieldLayout"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  template: _.template(template),
  regions: {
    autocomplete: '.pods-ui-list-autocomplete',
    list: '.pods-pick-values',
    addNew: '.pods-ui-add-new'
  },
  childViewEvents: {
    'childview:remove:item:click': 'onChildviewRemoveItemClick',
    'childview:edit:item:click': 'onChildviewEditItemClick',
    'childview:selection:limit:over': 'onChildviewSelectionLimitOver',
    'childview:selection:limit:under': 'onChildviewSelectionLimitUnder',
    'childview:change:selected': 'onChildviewChangeSelected',
    'childview:add:new': 'onChildviewAddNew'
  },

  /**
   *
   */
  onBeforeRender: function onBeforeRender() {
    if (this.collection === undefined) {
      this.collection = new _relationship_model__WEBPACK_IMPORTED_MODULE_3__["RelationshipCollection"](this.fieldItemData);
    }
  },

  /**
   *
   */
  onRender: function onRender() {
    this.fieldConfig = new _pick_field_model__WEBPACK_IMPORTED_MODULE_4__["PickFieldModel"](this.model.get('fieldConfig')); // Add New?
    // noinspection EqualityComparisonWithCoercionJS (why would we reject "1"?)

    if ('' !== this.fieldConfig.get('iframe_src') && 1 == this.fieldConfig.get('pick_allow_add_new')) {
      this.showAddNew();
    } // Autocomplete?


    if ('list' === this.fieldConfig.get('view_name')) {
      this.buildAutocomplete();
    } // Build the list last, events fired by the list (like selection limit) may impact state in other views we manage


    this.showList();
  },

  /**
   * This is for the List View's autocomplete for select from existing
   */
  buildAutocomplete: function buildAutocomplete() {
    var fieldConfig, model, collection, view;
    var pickLimit = +this.fieldConfig.get('pick_limit'); // Unary plus forces cast to number

    fieldConfig = {
      view_name: 'select2',
      pick_format_type: 'multi',
      selectFromExisting: true,
      ajax_data: this.fieldConfig.get('ajax_data'),
      select2_overrides: this.fieldConfig.get('select2_overrides'),
      label: this.fieldConfig.get('label'),
      pick_limit: pickLimit
    }; // The autocomplete portion of List View doesn't track selected items; disable if we're at the selection limit

    if (this.collection.filterBySelected().length >= pickLimit && 0 !== pickLimit) {
      fieldConfig.limitDisable = true;
      this.onChildviewSelectionLimitOver();
    } else {
      this.onChildviewSelectionLimitUnder();
    }

    model = new _core_pods_field_model__WEBPACK_IMPORTED_MODULE_0__["PodsDFVFieldModel"]({
      fieldConfig: fieldConfig
    });
    collection = this.collection.filterByUnselected();
    view = new _views_select_view__WEBPACK_IMPORTED_MODULE_7__["SelectView"]({
      collection: collection,
      fieldModel: model
    }); // Provide a custom list filter for the autocomplete portion's AJAX data lists

    view.filterAjaxList = this.filterAjaxList.bind(this); // Rebuild from scratch

    this.showChildView('autocomplete', view);
  },

  /**
   *
   */
  showList: function showList() {
    var viewName, View, list; // Setup the view to be used

    viewName = this.fieldConfig.get('view_name');

    if (views[viewName] === undefined) {
      throw new Error("Invalid view name \"".concat(viewName, "\""));
    }

    View = views[viewName];
    list = new View({
      collection: this.collection,
      fieldModel: this.model
    });
    this.showChildView('list', list);
  },

  /**
   *
   */
  showAddNew: function showAddNew() {
    var addNew = new _views_add_new__WEBPACK_IMPORTED_MODULE_9__["AddNew"]({
      fieldModel: this.model
    });
    this.showChildView('addNew', addNew);
  },

  /**
   * List Views need to filter items already selected from their select from existing list.  The AJAX function
   * itself does not filter.
   *
   * @param data
   */
  filterAjaxList: function filterAjaxList(data) {
    var selectedItems = this.collection.filterBySelected();
    var returnList = []; // Loop through the items returned via ajax

    _.each(data.results, function (element) {
      element.text = element.name; // Select2 needs the "text" key but our model uses "name"
      // Only keep choices that haven't been selected yet, we don't want selected items in the autocomplete portion

      if (!selectedItems.get(element.id)) {
        returnList.push(element);
      }
    }); // The collection may be partial in ajax mode, make sure we add any items we didn't yet have


    this.collection.add(returnList);
    this.getChildView('autocomplete').setCollection(this.collection.filterByUnselected());
    return {
      'results': returnList
    };
  },

  /**
   *
   * @param childView
   */
  onChildviewSelectionLimitOver: function onChildviewSelectionLimitOver(childView) {
    var addNew = this.getChildView('addNew');

    if (addNew) {
      addNew.disable();
    }
  },

  /**
   *
   * @param childView
   */
  onChildviewSelectionLimitUnder: function onChildviewSelectionLimitUnder(childView) {
    var addNew = this.getChildView('addNew');

    if (addNew) {
      addNew.enable();
    }
  },

  /**
   * "Remove" in list view just toggles an item's selected attribute
   *
   * @param childView
   */
  onChildviewRemoveItemClick: function onChildviewRemoveItemClick(childView) {
    childView.model.toggleSelected();
    this.getChildView('list').render(); // Keep autocomplete in sync, removed items should now be available choices

    if ('list' === this.fieldConfig.get('view_name')) {
      this.buildAutocomplete();
    }
  },

  /**
   * @param childView
   */
  onChildviewAddNew: function onChildviewAddNew(childView) {
    var fieldConfig = this.model.get('fieldConfig');
    modalIFrame = new _core_iframe_frame__WEBPACK_IMPORTED_MODULE_2__["IframeFrame"]({
      title: fieldConfig.iframe_title_add,
      src: fieldConfig.iframe_src
    });
    this.setModalListeners();
    modalIFrame.modal.open();
  },

  /**
   * @param childView
   */
  onChildviewEditItemClick: function onChildviewEditItemClick(childView) {
    var fieldConfig = this.model.get('fieldConfig');
    modalIFrame = new _core_iframe_frame__WEBPACK_IMPORTED_MODULE_2__["IframeFrame"]({
      title: fieldConfig.iframe_title_edit,
      src: childView.ui.editButton.attr('href')
    });
    this.setModalListeners();
    modalIFrame.modal.open();
  },

  /**
   *
   * @param childView
   */
  onChildviewChangeSelected: function onChildviewChangeSelected(childView) {
    // Refresh the autocomplete and List View lists on autocomplete selection
    if (childView.fieldConfig.selectFromExisting) {
      _.defer(this.buildAutocomplete.bind(this));

      this.getChildView('list').render();
    }
  },
  setModalListeners: function setModalListeners() {
    jQuery(window).on('dfv:modal:update', this.modalSuccess.bind(this));
    jQuery(window).on('dfv:modal:cancel', this.modalCancel.bind(this));
  },
  clearModalListeners: function clearModalListeners() {
    jQuery(window).off('dfv:modal:update');
    jQuery(window).off('dfv:modal:cancel');
  },

  /**
   * @param event
   * @param data
   */
  modalSuccess: function modalSuccess(event, data) {
    var itemModel = this.collection.get(data.id);

    if (itemModel) {
      // Edit: update an existing model and force a re-render
      itemModel.set(data);
      this.getChildView('list').render();
    } else {
      // Add new: create a new model in the collection
      this.collection.add(data);
    }

    this.clearModalListeners();
    modalIFrame.modal.close({});
  },

  /**
   *
   */
  modalCancel: function modalCancel() {
    this.clearModalListeners();
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/relationship-model.js":
/*!**************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/relationship-model.js ***!
  \**************************************************************/
/*! exports provided: RelationshipModel, RelationshipCollection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RelationshipModel", function() { return RelationshipModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RelationshipCollection", function() { return RelationshipCollection; });
/*global jQuery, _, Backbone, PodsMn */

/**
 *
 */
var RelationshipModel = Backbone.Model.extend({
  defaults: {
    'id': 0,
    'name': '',
    'icon': '',
    'link': '',
    'edit_link': '',
    'selected': false
  },
  toggleSelected: function toggleSelected() {
    this.set('selected', !this.get('selected'));
  }
});
/**
 *
 */

var RelationshipCollection = Backbone.Collection.extend({
  model: RelationshipModel,

  /**
   *
   * @param { ?string[] } ids
   */
  setSelected: function setSelected(ids) {
    this.map(function (thisModel) {
      var selected = _.contains(ids, thisModel.get('id') + '');

      thisModel.set('selected', selected);
    });
  },

  /**
   * Return a new collection containing just the selected items in this one
   *
   * @returns {*}
   */
  filterBySelected: function filterBySelected() {
    // Get an array with only the selected items
    var filtered = this.filter(function (itemModel) {
      return itemModel.get('selected');
    }); // this.filter is going to return an array, so create a collection out of it

    return new RelationshipCollection(filtered);
  },

  /**
   * Return a new collection containing just the unselected items in this one
   *
   * @returns {*}
   */
  filterByUnselected: function filterByUnselected() {
    // Get an array with only the unselected items
    var filtered = this.filter(function (itemModel) {
      return !itemModel.get('selected');
    }); // this.filter is going to return an array, so create a collection out of it

    return new RelationshipCollection(filtered);
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/views/add-new.js":
/*!*********************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/views/add-new.js ***!
  \*********************************************************/
/*! exports provided: AddNew */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddNew", function() { return AddNew; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<a href=\"/wp-admin?pods_modal=1\"\r\n\t\tclass=\"button pods-related-add-new pods-modal\"\r\n\t\tdata-pod-id=\"<%- fieldConfig.pod_id %>\"\r\n\t\tdata-field-id=\"<%- fieldConfig.id %>\"\r\n\t\tdata-item-id=\"<%- fieldConfig.item_id %>\">\r\n\t<%- PodsI18n.__( 'Add New' ) %>\r\n</a>\r\n";

var DISABLED_CLASS = 'button-disabled';
var AddNew = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'div',
  className: 'podsform-dfv-list-relationship-container',
  ui: {
    addButton: 'a.pods-related-add-new'
  },
  template: _.template(template),
  triggers: {
    'click @ui.addButton': 'add:new:click'
  },

  /**
   *
   */
  disable: function disable() {
    var addButton = this.getUI('addButton');
    addButton.addClass(DISABLED_CLASS); // Note: this just styles the link (button), click event enforces
  },

  /**
   *
   */
  enable: function enable() {
    var addButton = this.getUI('addButton');
    addButton.removeClass(DISABLED_CLASS); // Note: this just styles the link (button), click event enforces
  },

  /**
   *
   */
  onAddNewClick: function onAddNewClick() {
    var addButton = this.getUI('addButton'); // Only pass the event up the view chain if we're enabled

    if (!addButton.hasClass(DISABLED_CLASS)) {
      this.trigger('childview:add:new', this);
    }
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/views/checkbox-view.js":
/*!***************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/views/checkbox-view.js ***!
  \***************************************************************/
/*! exports provided: CheckboxItem, CheckboxView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckboxItem", function() { return CheckboxItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CheckboxView", function() { return CheckboxView; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<div class=\"pods-field pods-boolean\">\r\n\t<input\r\n\t\tname=\"<%- htmlAttr.name %>[<%= ordinal %>]\"\r\n\t\t<%= selected ? 'checked=\"checked\"' : '' %>\r\n\t\tdata-name-clean=\"<%- htmlAttr.name_clean %>\"\r\n\t\tdata-label=\"<%- fieldConfig.label %>\"\r\n\t\tid=\"<%- htmlAttr.id %><%= ordinal %>\"\r\n\t\tclass=\"pods-form-ui-field-type-pick\"\r\n\t\ttype=\"checkbox\" tabindex=\"2\" value=\"<%- id %>\">\r\n\t<label class=\"pods-form-ui-label\" for=\"<%- htmlAttr.id %><%= ordinal %>\">\r\n\t\t<%= name %>\r\n\t</label>\r\n</div>\r\n";

/**
 *
 */

var CheckboxItem = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'li',
  template: _.template(template),
  className: 'pods-pick',
  ui: {
    checkbox: 'input.pods-form-ui-field-type-pick'
  },
  triggers: {
    'click @ui.checkbox': 'toggle:selected'
  },
  modelEvents: {
    'change': 'modelChanged'
  },
  templateContext: function templateContext() {
    return {
      ordinal: this.model.collection.indexOf(this.model)
    };
  },
  modelChanged: function modelChanged() {
    this.render();
  }
});
/**
 *
 */

var CheckboxView = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldListView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'ul',
  className: 'pods-checkbox-view',
  childView: CheckboxItem,
  childViewEvents: {
    'toggle:selected': 'onChildviewToggleSelected'
  },

  /**
   *
   */
  onAttach: function onAttach() {
    // Check initial selection limit status and enforce it if needed
    if (!this.validateSelectionLimit()) {
      this.selectionLimitOver();
    }
  },

  /**
   *
   * @param childView
   */
  onChildviewToggleSelected: function onChildviewToggleSelected(childView) {
    childView.model.toggleSelected(); // Dynamically enforce selection limit

    if (this.validateSelectionLimit()) {
      this.selectionLimitUnder();
    } else {
      this.selectionLimitOver();
    }
  },

  /**
   * @returns {boolean} true if unlimited selections are allowed or we're below the selection limit
   */
  validateSelectionLimit: function validateSelectionLimit() {
    var fieldConfig = this.fieldModel.get('fieldConfig');
    var limit, numSelected;
    limit = +fieldConfig.pick_limit; // Unary plus will implicitly cast to number

    numSelected = this.collection.filterBySelected().length;
    return 0 === limit || numSelected < limit;
  },

  /**
   *
   */
  selectionLimitOver: function selectionLimitOver() {
    this.$el.find('input:checkbox:not(:checked)').prop('disabled', true);
    this.trigger('selection:limit:over', this);
  },

  /**
   *
   */
  selectionLimitUnder: function selectionLimitUnder() {
    this.$el.find('input:checkbox').prop('disabled', false);
    this.trigger('selection:limit:under', this);
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/views/list-view.js":
/*!***********************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/views/list-view.js ***!
  \***********************************************************/
/*! exports provided: ListItem, ListView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListItem", function() { return ListItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListView", function() { return ListView; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<input\r\n\t\t<% if ( 'single' === fieldConfig.pick_format_type ) { %>\r\n\t\t\tname=\"<%- htmlAttr.name %>\"\r\n\t\t\tid=\"<%- htmlAttr.id %>\"\r\n\t\t<% } else { %>\r\n\t\t\tname=\"<%- htmlAttr.name %>[<%= ordinal %>]\"\r\n\t\t\tid=\"<%- htmlAttr.id %><%= ordinal %>\"\r\n\t\t<% } %>\r\n\t\tdata-name-clean=\"<%- htmlAttr.name_clean %>\"\r\n\t\ttype=\"hidden\"\r\n\t\tvalue=\"<%- id %>\">\r\n<ul class=\"pods-dfv-list-meta relationship-item\">\r\n\t<% if ( 1 != fieldConfig.pick_limit ) { %>\r\n\t\t<li class=\"pods-dfv-list-col pods-dfv-list-handle\"><span><%- PodsI18n.__( 'Reorder' ) %></span></li>\r\n\t<% } %>\r\n\t<% if ( 1 == fieldConfig.pick_show_icon ) { %>\r\n\t\t<li class=\"pods-dfv-list-col pods-dfv-list-icon\">\r\n\t\t\t<% if ( '' == icon ) { %>\r\n\t\t\t\t<% if ( /^dashicons/.test( fieldConfig.default_icon ) ) { %>\r\n\t\t\t\t\t<span class=\"pinkynail dashicons <%- fieldConfig.default_icon %>\"></span>\r\n\t\t\t\t<% } else { %>\r\n\t\t\t\t\t<img class=\"pinkynail\" src=\"<%- fieldConfig.default_icon %>\" alt=\"Icon\">\r\n\t\t\t\t<% } %>\r\n\t\t\t<% } else { %>\r\n\t\t\t\t<% if ( /^dashicons/.test( icon ) ) { %>\r\n\t\t\t\t\t<span class=\"pinkynail dashicons <%- icon %>\"></span>\r\n\t\t\t\t<% } else { %>\r\n\t\t\t\t\t<img class=\"pinkynail\" src=\"<%- icon %>\" alt=\"Icon\">\r\n\t\t\t\t<% } %>\r\n\t\t\t<% } %>\r\n\t\t</li>\r\n\t<% } %>\r\n\t<li class=\"pods-dfv-list-col pods-dfv-list-name\">\r\n\t\t<%= name %>\r\n\t</li>\r\n\t<li class=\"pods-dfv-list-col pods-dfv-list-remove\"><a href=\"#remove\" title=\"<%- PodsI18n.__( 'Deselect' ) %>\"><%- PodsI18n.__( 'Deselect' ) %></a></li>\r\n\t<% if ( 1 == fieldConfig.pick_show_view_link && '' != link ) { %>\r\n\t\t<li class=\"pods-dfv-list-col pods-dfv-list-link\"><a href=\"<%- link %>\" title=\"<%- PodsI18n.__( 'View' ) %>\"  target=\"_blank\"><%- PodsI18n.__( 'View' ) %></a></li>\r\n\t<% } %>\r\n\t<% if ( 1 == fieldConfig.pick_show_edit_link && '' != edit_link ) { %>\r\n\t\t<li class=\"pods-dfv-list-col pods-dfv-list-edit\"><a href=\"<%- edit_link %>\" title=\"<%- PodsI18n.__( 'Edit' ) %>\" target=\"_blank\"><%- PodsI18n.__( 'Edit' ) %></a></li>\r\n\t<% } %>\r\n</ul>\r\n";

/**
 *
 */

var ListItem = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'li',
  className: 'pods-dfv-list-item pods-relationship',
  template: _.template(template),
  ui: {
    removeButton: '.pods-dfv-list-remove a',
    editButton: '.pods-dfv-list-edit a'
  },
  triggers: {
    'click @ui.removeButton': 'remove:item:click',
    'click @ui.editButton': 'edit:item:click'
  },
  templateContext: function templateContext() {
    return {
      ordinal: this.model.collection.indexOf(this.model)
    };
  }
});
/**
 *  Represents the markup of the container as a whole
 */

var ListView = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldListView"].extend({
  // Cache the template function for the overall container
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'ul',
  className: 'pods-dfv-list pods-relationship',
  childView: ListItem,
  // Pass these up the containment chain
  childViewTriggers: {
    'remove:item:click': 'childview:remove:item:click',
    'edit:item:click': 'childview:edit:item:click'
  },
  filter: function filter(child, index, collection) {
    return child.attributes.selected;
  },
  onAttach: function onAttach() {
    var fieldConfig = this.options.fieldModel.get('fieldConfig'); // @todo
    // http://stackoverflow.com/questions/1735372/jquery-sortable-list-scroll-bar-jumps-up-when-sorting/4187833#4187833

    if (1 !== fieldConfig['pick_limit']) {
      // init sortable
      this.$el.sortable({
        containment: 'parent',
        axis: 'y',
        scrollSensitivity: 40,
        tolerance: 'pointer',
        opacity: 0.6
      });
    }
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/views/radio-view.js":
/*!************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/views/radio-view.js ***!
  \************************************************************/
/*! exports provided: RadioItem, RadioView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RadioItem", function() { return RadioItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RadioView", function() { return RadioView; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/*global jQuery, _, Backbone, PodsMn, wp */
var template = "<div class=\"pods-field pods-boolean\">\r\n\t<input\r\n\t\t\tname=\"<%- htmlAttr.name %>\"\r\n\t\t\tdata-name-clean=\"<%- htmlAttr.name_clean %>\"\r\n\t\t\tdata-label=\"<%- fieldConfig.label %>\"\r\n\t\t\tid=\"<%- htmlAttr.id %><%= ordinal %>\"\r\n\t\t\tclass=\"pods-form-ui-field-type-pick pods-form-ui-field-name-<%- htmlAttr.name_clean %>\"\r\n\t\t\ttype=\"radio\"\r\n\t\t\t<% if ( selected ) { %>\r\n\t\t\t\tchecked=\"CHECKED\"\r\n\t\t\t<% } %>\r\n\t\t\tvalue=\"<%- id %>\"\r\n\t\t\ttabindex=\"2\">\r\n\t<label\r\n\t\tclass=\"pods-form-ui-label pods-form-ui-label-<%- htmlAttr.id %><%= ordinal %>\"\r\n\t\tfor=\"<%- htmlAttr.id %><%= ordinal %>\">\r\n\t\t<%= name %>\r\n\t</label>\r\n</div>\r\n";

/**
 *
 */

var RadioItem = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'li',
  template: _.template(template),
  templateContext: function templateContext() {
    return {
      ordinal: this.model.collection.indexOf(this.model) + 1 // One based indexing unlike checkboxes

    };
  },
  modelChanged: function modelChanged() {
    this.render();
  }
});
/**
 *
 */

var RadioView = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldListView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'ul',
  className: 'pods-radio',
  childView: RadioItem
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/pick/views/select-view.js":
/*!*************************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/pick/views/select-view.js ***!
  \*************************************************************/
/*! exports provided: SelectItem, Optgroup, SelectView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectItem", function() { return SelectItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Optgroup", function() { return Optgroup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectView", function() { return SelectView; });
/* harmony import */ var _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/pods-field-views */ "./ui/js/pods-dfv/src/core/pods-field-views.js");
/* harmony import */ var _relationship_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../relationship-model */ "./ui/js/pods-dfv/src/fields/pick/relationship-model.js");
/*global jQuery, _, Backbone, PodsMn, select2, sprintf, wp, ajaxurl, PodsI18n */
// Note: this is a template-less view


var SELECT2_UL_TARGET = 'ul.select2-selection__rendered';
var SELECT2_SELECTED_TARGET = '.select2-selection__choice';
/**
 * option
 *
 * @extends Backbone.View
 */

var SelectItem = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'option',
  template: false,
  initialize: function initialize(options) {
    this.$el.val(this.model.get('id'));
    this.$el.html(this.model.get('name'));

    if (this.model.get('selected')) {
      this.$el.prop('selected', 'selected');
    }
  }
});
/**
 * optgroup
 *
 * @extends Backbone.View
 */

var Optgroup = _core_pods_field_views__WEBPACK_IMPORTED_MODULE_0__["PodsFieldListView"].extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'optgroup',
  childView: SelectItem,
  attributes: function attributes() {
    return {
      label: this.model.get('label')
    };
  }
});
/**
 * select
 *
 * @extends Backbone.View
 */

var SelectView = PodsMn.CollectionView.extend({
  childViewEventPrefix: false,
  // Disable implicit event listeners in favor of explicit childViewTriggers and childViewEvents
  tagName: 'select',
  triggers: {
    'change': {
      event: 'change:selected',
      stopPropagation: false
    }
  },
  multiLastValidSelection: [],

  /**
   *
   * @param newCollection
   */
  setCollection: function setCollection(newCollection) {
    this.collection = newCollection;
  },

  /**
   *
   * @param options
   */
  initialize: function initialize(options) {
    this.fieldModel = options.fieldModel;
    this.fieldConfig = this.fieldModel.get('fieldConfig');
  },

  /**
   * Set the proper child view (optgroups or no)
   *
   * @param item
   * @returns {*}
   */
  childView: function childView(item) {
    if (this.fieldConfig.optgroup) {
      return Optgroup;
    } else {
      return SelectItem;
    }
  },

  /**
   * todo: We're bypassing the PodsFieldListView functionality, need to explicitly include it for now
   *
   * @param model
   * @param index
   * @returns {{fieldModel: *}}
   */
  childViewOptions: function childViewOptions(model, index) {
    var returnOptions = {
      fieldModel: this.fieldModel
    };

    if (this.fieldConfig.optgroup) {
      returnOptions.collection = new _relationship_model__WEBPACK_IMPORTED_MODULE_1__["RelationshipCollection"](model.get('collection'));
    }

    return returnOptions;
  },

  /**
   * todo: We're bypassing the PodsFieldListView functionality, need to explicitly include it for now
   *
   * @returns {{}}
   */
  serializeData: function serializeData() {
    var fieldModel = this.options.fieldModel;
    var data = this.model ? this.model.toJSON() : {};
    data.htmlAttr = fieldModel.get('attributes');
    data.fieldConfig = fieldModel.get('fieldConfig');
    return data;
  },

  /**
   *
   */
  attributes: function attributes() {
    /**
     * @param {string} htmlAttr.name
     * @param {string} htmlAttr.class
     * @param {string} htmlAttr.name_clean
     * @param {string} htmlAttr.id
     *
     * @param {string} fieldConfig.pick_format_type 'single' or 'multi'
     */
    var fieldModel = this.options.fieldModel;
    var htmlAttr = fieldModel.get('htmlAttr');
    var fieldConfig = fieldModel.get('fieldConfig');
    var name = htmlAttr.name;

    if ('multi' === fieldConfig.pick_format_type) {
      name = name + '[]';
    }

    return {
      'name': name,
      'class': htmlAttr["class"],
      'data-name-clean': htmlAttr.name_clean,
      'id': htmlAttr.id,
      'tabindex': '2',
      'multiple': 'multi' === fieldConfig.pick_format_type
    };
  },

  /**
   * Setup to be done once attached to the DOM.  Select2 has some setup needs.
   *
   * @var {RelationshipCollection} this.collection
   */
  onAttach: function onAttach() {
    var view_name = this.fieldConfig.view_name;
    var format_type = this.fieldConfig.pick_format_type; // Initialize select2 fields

    if ('select2' === view_name) {
      this.setupSelect2();
    } // Check initial selection limit status for regular multiselect and enforce it if needed


    if ('select' === view_name && 'multi' === format_type) {
      // Store initial selection in case we need to revert back from an invalid state
      this.multiLastValidSelection = this.$el.val();
    } // If we're at the limit: disable all unselected items so no selections can be added


    if (!this.validateSelectionLimit()) {
      this.selectionLimitOver();
    }
  },

  /**
   * @var {RelationshipCollection} this.collection
   */
  onChangeSelected: function onChangeSelected() {
    var limit = +this.fieldConfig.pick_limit; // Unary plus will implicitly cast to number

    var view_name = this.fieldConfig.view_name;
    var format_type = this.fieldConfig.pick_format_type; // Regular multiselect may need to reject the selection change

    if ('select' === view_name && 'multi' === format_type) {
      // Has the selection gone OVER the limit?  Can occur with consecutive item selection.
      if (null !== this.$el.val() && 0 !== limit && limit < this.$el.val().length) {
        // Revert to the last valid selection and punt on what they attempted
        this.$el.val(this.multiLastValidSelection);
        window.alert("".concat(PodsI18n.__('You can only select'), " ").concat(sprintf(PodsI18n._n('%s item', '%s items', limit), limit)));
        this.trigger('childview:change:selected', this);
        return;
      }
    } // Update the collection and last valid selection based on the new selections


    this.collection.setSelected(this.$el.val());
    this.multiLastValidSelection = this.$el.val(); // Dynamically enforce selection limits

    if (this.validateSelectionLimit()) {
      this.selectionLimitUnder();
    } else {
      this.selectionLimitOver();
    }

    this.trigger('childview:change:selected', this);
  },
  onBeforeDetach: function onBeforeDetach() {
    this.$el.selectWoo('destroy');
  },

  /**
   *
   * @returns {boolean} true if unlimited selections are allowed or we're below the selection limit
   */
  validateSelectionLimit: function validateSelectionLimit() {
    var limit, numSelected;
    var format_type = this.fieldConfig.pick_format_type;
    var format_single = this.fieldConfig.pick_format_single; // Selection limit should be clear if the placeholder is selected in a single-select dropdown

    if ("" === this.$el.val() && "single" === format_type && "dropdown" === format_single) {
      return true;
    }

    limit = +this.fieldConfig.pick_limit; // Unary plus will implicitly cast to number

    numSelected = this.collection.filterBySelected().length;
    return 0 === limit || numSelected < limit;
  },

  /**
   *
   */
  selectionLimitOver: function selectionLimitOver() {
    var viewName = this.fieldConfig.view_name;
    var formatType = this.fieldConfig.pick_format_type;

    if ('select' === viewName && 'multi' === formatType) {
      // At the limit: disable all unselected items so no further selections can be added
      this.$el.find('option:not(:selected)').prop('disabled', true);
    }

    this.trigger('childview:selection:limit:over', this);
  },

  /**
   *
   */
  selectionLimitUnder: function selectionLimitUnder() {
    var viewName = this.fieldConfig.view_name;
    var formatType = this.fieldConfig.pick_format_type;

    if ('select' === viewName && 'multi' === formatType) {
      // Not at limit, make sure all items are enabled
      this.$el.find('option').prop('disabled', false);
    }

    this.trigger('childview:selection:limit:under', this);
  },

  /**
   * No filtering, by default.  Consuming views can override this function to provide custom filtering
   * (e.g. List View needs to filter items already selected for its select from existing list)
   *
   * @param data
   */
  filterAjaxList: function filterAjaxList(data) {
    var selectedItems = this.collection.filterBySelected();
    var returnList = [];

    _.each(data.results, function (element) {
      element.text = element.name; // Select2 needs the "text" key but our model uses "name"
      // Only keep choices that haven't been selected yet, we don't want selected items in the autocomplete portion

      if (!selectedItems.get(element.id)) {
        returnList.push(element);
      }
    });

    return {
      'results': returnList
    };
  },

  /**
   * Initialize Select2, setup drag-drop reordering
   */
  setupSelect2: function setupSelect2() {
    var self = this;
    var $select2 = this.$el;
    var fieldConfig = this.options.fieldModel.get('fieldConfig');
    var ajaxData = fieldConfig.ajax_data;
    var select2Overrides = fieldConfig.select2_overrides;
    var limit = fieldConfig.pick_limit;
    var isSingle = 'single' === fieldConfig.pick_format_type;
    var selectedCount = this.collection.filterBySelected().length;
    var $ulContainer, select2Options, placeholder; // 'placeholder' for single select requires an empty option.  None of the examples set selected but
    // it did not work for me in testing with just an empty option like the examples.
    //
    // https://select2.org/placeholders#single-select-placeholders
    // https://github.com/select2/select2/issues/3553

    if (0 === selectedCount && isSingle) {
      $select2.prepend('<option selected="selected">');
    } // ToDo:
    // limitDisable is only used to control the List View's select2 component, it won't be set
    // for regular autocomplete.  This function should be generic and not have to poke around with
    // special properties like this for exception cases.


    if (fieldConfig.limitDisable) {
      placeholder = "".concat(PodsI18n.__('You can only select'), " ").concat(sprintf(PodsI18n._n('%s item', '%s items', limit), limit));
    } else {
      placeholder = "".concat(PodsI18n.__('Search'), " ").concat(fieldConfig.label, "...");
    }

    select2Options = {
      maximumSelectionLength: isSingle ? undefined : limit,
      // Should not be set for single select, messes up placeholder
      placeholder: placeholder,
      allowClear: isSingle,
      disabled: fieldConfig.limitDisable,
      tags: fieldConfig.pick_taggable,
      escapeMarkup: function escapeMarkup(text) {
        return text;
      }
    };

    if (ajaxData.ajax) {
      jQuery.extend(select2Options, {
        minimumInputLength: ajaxData.minimum_input_length,
        ajax: {
          url: ajaxurl + '?pods_ajax=1',
          type: 'POST',
          dataType: 'json',
          delay: ajaxData.delay,
          data: function data(params) {
            return {
              _wpnonce: ajaxData._wpnonce,
              action: 'pods_relationship',
              method: 'select2',
              pod: ajaxData.pod,
              field: ajaxData.field,
              uri: ajaxData.uri,
              id: ajaxData.id,
              query: params.term // ToDo: term{lang}

            };
          },
          processResults: function processResults(data, params) {
            return self.filterAjaxList(data, params);
          }
        }
      });
    } // Initialize select2


    $select2.selectWoo(jQuery.extend(true, select2Options, select2Overrides)); // Get a reference to the ul container of the visual UI portion.  Can't do this until select2 is initialized

    $ulContainer = $select2.parent().find(SELECT2_UL_TARGET); // Make the list drag-drop sortable

    $ulContainer.sortable({
      containment: 'parent'
    }); // With select2 4.0, sortable is just reordering the UI elements.  Keep the underlying select/option list
    // synced with the changes.  See: https://github.com/select2/select2/issues/3004

    $ulContainer.on('sortstop', function () {
      var $selected = $ulContainer.find(SELECT2_SELECTED_TARGET).get().reverse();
      jQuery($selected).each(function () {
        var id = jQuery(this).data('data').id;
        var option = $select2.find('option[value="' + id + '"]')[0];
        $select2.prepend(option);
      });
    });
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/fields/text/text.js":
/*!************************************************!*\
  !*** ./ui/js/pods-dfv/src/fields/text/text.js ***!
  \************************************************/
/*! exports provided: PodsDFVText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PodsDFVText", function() { return PodsDFVText; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_base_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/base-input */ "./ui/js/pods-dfv/src/components/base-input.js");
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }



var PodsDFVText = function PodsDFVText(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_base_input__WEBPACK_IMPORTED_MODULE_1__["PodsDFVBaseInput"], _extends({
    type: "text"
  }, props));
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/model-manifest.js":
/*!**********************************************!*\
  !*** ./ui/js/pods-dfv/src/model-manifest.js ***!
  \**********************************************/
/*! exports provided: PodsDFVFieldModel, RelationshipModel, RelationshipCollection, FileUploadModel, FileUploadCollection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _core_pods_field_model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/pods-field-model */ "./ui/js/pods-dfv/src/core/pods-field-model.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PodsDFVFieldModel", function() { return _core_pods_field_model__WEBPACK_IMPORTED_MODULE_0__["PodsDFVFieldModel"]; });

/* harmony import */ var _fields_pick_relationship_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fields/pick/relationship-model */ "./ui/js/pods-dfv/src/fields/pick/relationship-model.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RelationshipModel", function() { return _fields_pick_relationship_model__WEBPACK_IMPORTED_MODULE_1__["RelationshipModel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RelationshipCollection", function() { return _fields_pick_relationship_model__WEBPACK_IMPORTED_MODULE_1__["RelationshipCollection"]; });

/* harmony import */ var _fields_file_file_upload_model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fields/file/file-upload-model */ "./ui/js/pods-dfv/src/fields/file/file-upload-model.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FileUploadModel", function() { return _fields_file_file_upload_model__WEBPACK_IMPORTED_MODULE_2__["FileUploadModel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FileUploadCollection", function() { return _fields_file_file_upload_model__WEBPACK_IMPORTED_MODULE_2__["FileUploadCollection"]; });





/***/ }),

/***/ "./ui/js/pods-dfv/src/pods-dfv.js":
/*!****************************************!*\
  !*** ./ui/js/pods-dfv/src/pods-dfv.js ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _core_renderers_mn_renderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/renderers/mn-renderer */ "./ui/js/pods-dfv/src/core/renderers/mn-renderer.js");
/* harmony import */ var _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/renderers/react-renderer */ "./ui/js/pods-dfv/src/core/renderers/react-renderer.js");
/* harmony import */ var _core_renderers_react_direct_renderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/renderers/react-direct-renderer */ "./ui/js/pods-dfv/src/core/renderers/react-direct-renderer.js");
/* harmony import */ var _core_gb_modal_listener__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/gb-modal-listener */ "./ui/js/pods-dfv/src/core/gb-modal-listener.js");
/* harmony import */ var _field_manifest__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./field-manifest */ "./ui/js/pods-dfv/src/field-manifest.js");
/* harmony import */ var _model_manifest__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./model-manifest */ "./ui/js/pods-dfv/src/model-manifest.js");







var SCRIPT_TARGET = 'script.pods-dfv-field-data'; // What scripts to look for

var fieldClasses = {
  'file': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["File"],
    renderer: _core_renderers_mn_renderer__WEBPACK_IMPORTED_MODULE_1__["mnRenderer"]
  },
  'avatar': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["File"],
    renderer: _core_renderers_mn_renderer__WEBPACK_IMPORTED_MODULE_1__["mnRenderer"]
  },
  'pick': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["Pick"],
    renderer: _core_renderers_mn_renderer__WEBPACK_IMPORTED_MODULE_1__["mnRenderer"]
  },
  'text': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVText"],
    renderer: _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__["reactRenderer"]
  },
  'password': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVPassword"],
    renderer: _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__["reactRenderer"]
  },
  'number': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVNumber"],
    renderer: _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__["reactRenderer"]
  },
  'email': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVEmail"],
    renderer: _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__["reactRenderer"]
  },
  'paragraph': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVParagraph"],
    renderer: _core_renderers_react_renderer__WEBPACK_IMPORTED_MODULE_2__["reactRenderer"]
  },
  'edit-pod': {
    FieldClass: _field_manifest__WEBPACK_IMPORTED_MODULE_5__["PodsDFVEditPod"],
    renderer: _core_renderers_react_direct_renderer__WEBPACK_IMPORTED_MODULE_3__["reactDirectRenderer"]
  }
};
var PodsDFV = {
  fields: fieldClasses,
  models: _model_manifest__WEBPACK_IMPORTED_MODULE_6__,
  fieldInstances: {},

  /**
   *
   */
  init: function init() {
    // Find all in-line data scripts
    jquery__WEBPACK_IMPORTED_MODULE_0___default()(SCRIPT_TARGET).each(function () {
      var parent = jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parent().get(0);
      var data = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.parseJSON(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).html()); // Kludge to disable the "Add New" button if we're inside a media modal.  This should
      // eventually be ironed out so we can use Add New from this context (see #4864)

      if (jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).parents('.media-modal-content').length) {
        // eslint-disable-next-line
        data.fieldConfig.pick_allow_add_new = 0;
      } // Ignore anything that doesn't have the field type set


      if (data.fieldType !== undefined) {
        var field = fieldClasses[data.fieldType];

        if (field !== undefined) {
          //self.fieldInstances[ data.htmlAttr.id ] = field.renderer( field.fieldClass, data );
          field.renderer(field.FieldClass, parent, data);
        }
      }

      jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).remove();
    });
  },
  isModalWindow: function isModalWindow() {
    return -1 !== location.search.indexOf('pods_modal=');
  },
  isGutenbergEditorLoaded: function isGutenbergEditorLoaded() {
    return wp.data !== undefined && wp.data.select('core/editor') !== undefined;
  }
};
/* harmony default export */ __webpack_exports__["default"] = (PodsDFV);
/**
 * Kick everything off on DOMContentLoaded
 */

document.addEventListener('DOMContentLoaded', function () {
  PodsDFV.init(); // Load the Gutenberg modal listener if we're inside a Pods modal with Gutenberg active

  if (PodsDFV.isModalWindow() && PodsDFV.isGutenbergEditorLoaded()) {
    _core_gb_modal_listener__WEBPACK_IMPORTED_MODULE_4__["PodsGbModalListener"].init();
  }
});

/***/ }),

/***/ "./ui/js/pods-dfv/src/validation/validation-rules.js":
/*!***********************************************************!*\
  !*** ./ui/js/pods-dfv/src/validation/validation-rules.js ***!
  \***********************************************************/
/*! exports provided: validationRules */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "validationRules", function() { return validationRules; });
var _wp$i18n = wp.i18n,
    __ = _wp$i18n.__,
    sprintf = _wp$i18n.sprintf;
var validationRules = {
  required: function required(value, fieldLabel) {
    return {
      facts: {
        value: value
      },
      conditions: {
        value: {
          equal: ''
        }
      },
      event: {
        message: sprintf(__('%s is required.', 'pods'), fieldLabel)
      }
    };
  },
  max: function max(value, _max) {
    return {
      facts: {
        numericValue: value * 1,
        max: _max * 1
      },
      conditions: {
        numericValue: {
          greater: '$max'
        }
      },
      event: {
        message: sprintf(__('Exceeds the maximum value of %s', 'pods'), _max)
      }
    };
  },
  min: function min(value, _min) {
    return {
      facts: {
        numericValue: value * 1,
        min: _min * 1
      },
      conditions: {
        numericValue: {
          less: '$min'
        }
      },
      event: {
        message: sprintf(__('Below the minimum value of %s', 'pods'), _min)
      }
    };
  },
  emailFormat: function emailFormat(value) {
    var emailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return {
      facts: {
        value: value,
        emailRegex: emailRegex
      },
      conditions: {
        not: {
          or: [{
            value: {
              equal: ''
            }
          }, {
            emailRegex: {
              matches: value
            }
          }]
        }
      },
      event: {
        message: __('Invalid email address format')
      }
    };
  }
};

/***/ }),

/***/ "./ui/js/pods-dfv/src/validation/validation.js":
/*!*****************************************************!*\
  !*** ./ui/js/pods-dfv/src/validation/validation.js ***!
  \*****************************************************/
/*! exports provided: podsValidation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "podsValidation", function() { return podsValidation; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var json_rules_engine_simplified__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! json-rules-engine-simplified */ "./node_modules/json-rules-engine-simplified/lib/index.js");
/* harmony import */ var json_rules_engine_simplified__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(json_rules_engine_simplified__WEBPACK_IMPORTED_MODULE_1__);
function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }


var useState = react__WEBPACK_IMPORTED_MODULE_0___default.a.useState;
var useEffect = react__WEBPACK_IMPORTED_MODULE_0___default.a.useEffect;

/**
 *
 * @return
 * {
 *     {function} addRules
 *     {function} useValidation,
 * 	}
 */

var podsValidation = function podsValidation() {
  var _useState = useState([]),
      _useState2 = _slicedToArray(_useState, 2),
      validationMessages = _useState2[0],
      setValidationMessages = _useState2[1];

  var rules = [];
  var facts = {};
  /**
   *
   * @param conditionalRules
   */

  var addRules = function addRules(conditionalRules) {
    conditionalRules.forEach(function (conditionalRule) {
      if (conditionalRule.condition) {
        rules.push(conditionalRule.rule);

        if (conditionalRule.rule.facts) {
          facts = Object.assign(facts, conditionalRule.rule.facts);
        }
      }
    });
  };
  /**
   *
   * @return {Promise<any>}
   */


  var checkValidation = function checkValidation() {
    var rulesEngine = new json_rules_engine_simplified__WEBPACK_IMPORTED_MODULE_1___default.a(rules);
    var messages = [];
    return new Promise(function (resolve) {
      // noinspection JSUnresolvedFunction
      rulesEngine.run(facts).then(function (events) {
        events.forEach(function (event) {
          messages.push(event.message);
        });
      })["finally"](function () {
        resolve(messages);
      });
    });
  };
  /**
   *
   * @param {string} value The field's value
   *
   * @return {string} Array of messages for all validation failures
   */


  var useValidation = function useValidation(value) {
    useEffect(function () {
      checkValidation().then(function (messages) {
        return setValidationMessages(messages);
      });
    }, [value]);
    return validationMessages;
  };

  return {
    addRules: addRules,
    useValidation: useValidation
  };
};

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = jQuery;

/***/ }),

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = lodash;

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "React" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = React;

/***/ }),

/***/ "react-dom":
/*!***************************!*\
  !*** external "ReactDOM" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ReactDOM;

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FzYXAvYnJvd3Nlci1hc2FwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc2FwL2Jyb3dzZXItcmF3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9icmFja2V0czJkb3RzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jbGFzc25hbWVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvZmllbGQtZ3JvdXBzLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL21haW4tdGFicy9tYW5hZ2UtZmllbGRzLnNjc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3VycnkyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2RlYnVnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL0RyYWdEcm9wTWFuYWdlckltcGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvRHJhZ0Ryb3BNb25pdG9ySW1wbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9IYW5kbGVyUmVnaXN0cnlJbXBsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL2FjdGlvbnMvZHJhZ0Ryb3AvYmVnaW5EcmFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL2FjdGlvbnMvZHJhZ0Ryb3AvZHJvcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9hY3Rpb25zL2RyYWdEcm9wL2VuZERyYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvYWN0aW9ucy9kcmFnRHJvcC9ob3Zlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9hY3Rpb25zL2RyYWdEcm9wL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL2FjdGlvbnMvZHJhZ0Ryb3AvbG9jYWwvc2V0Q2xpZW50T2Zmc2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL2FjdGlvbnMvZHJhZ0Ryb3AvcHVibGlzaERyYWdTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvYWN0aW9ucy9kcmFnRHJvcC90eXBlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9hY3Rpb25zL3JlZ2lzdHJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL2NvbnRyYWN0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9mYWN0b3JpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvaW50ZXJmYWNlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9yZWR1Y2Vycy9kaXJ0eUhhbmRsZXJJZHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvcmVkdWNlcnMvZHJhZ09mZnNldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy9yZWR1Y2Vycy9kcmFnT3BlcmF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL3JlZHVjZXJzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL3JlZHVjZXJzL3JlZkNvdW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL3JlZHVjZXJzL3N0YXRlSWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvdXRpbHMvY29vcmRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL3V0aWxzL2RpcnRpbmVzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZG5kLWNvcmUvbGliL2Nqcy91dGlscy9kaXNjb3VudF9sb2Rhc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvdXRpbHMvZXF1YWxpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RuZC1jb3JlL2xpYi9janMvdXRpbHMvZ2V0TmV4dFVuaXF1ZUlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kbmQtY29yZS9saWIvY2pzL3V0aWxzL21hdGNoZXNUeXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb3RzcGxpdC5qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmFzdC1iaW5kL2JpbmQtbG9vcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvZGlzdC9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy5janMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ludmFyaWFudC9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uLXJ1bGVzLWVuZ2luZS1zaW1wbGlmaWVkL2xpYi9FbmdpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzb24tcnVsZXMtZW5naW5lLXNpbXBsaWZpZWQvbGliL2FwcGxpY2FibGVBY3Rpb25zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uLXJ1bGVzLWVuZ2luZS1zaW1wbGlmaWVkL2xpYi9jaGVja0ZpZWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uLXJ1bGVzLWVuZ2luZS1zaW1wbGlmaWVkL2xpYi9jb25kaXRpb25zTWVldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbi1ydWxlcy1lbmdpbmUtc2ltcGxpZmllZC9saWIvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uLXJ1bGVzLWVuZ2luZS1zaW1wbGlmaWVkL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbi1ydWxlcy1lbmdpbmUtc2ltcGxpZmllZC9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzb24tcnVsZXMtZW5naW5lLXNpbXBsaWZpZWQvbGliL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vYmplY3QtYXNzaWduL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcmVkaWNhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ByZWRpY2F0ZS9saWIvY2hhaW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ByZWRpY2F0ZS9saWIvb3RoZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ByZWRpY2F0ZS9saWIvcHJlZGljYXRlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJlZGljYXRlL2xpYi91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kLWh0bWw1LWJhY2tlbmQvbGliL2Nqcy9Ccm93c2VyRGV0ZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvRW50ZXJMZWF2ZUNvdW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvSFRNTDVCYWNrZW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQtaHRtbDUtYmFja2VuZC9saWIvY2pzL01vbm90b25pY0ludGVycG9sYW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQtaHRtbDUtYmFja2VuZC9saWIvY2pzL05hdGl2ZURyYWdTb3VyY2VzL05hdGl2ZURyYWdTb3VyY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvTmF0aXZlRHJhZ1NvdXJjZXMvZ2V0RGF0YUZyb21EYXRhVHJhbnNmZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvTmF0aXZlRHJhZ1NvdXJjZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvTmF0aXZlRHJhZ1NvdXJjZXMvbmF0aXZlVHlwZXNDb25maWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvTmF0aXZlVHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvT2Zmc2V0VXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC1odG1sNS1iYWNrZW5kL2xpYi9janMvZ2V0RW1wdHlJbWFnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kLWh0bWw1LWJhY2tlbmQvbGliL2Nqcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kLWh0bWw1LWJhY2tlbmQvbGliL2Nqcy91dGlscy9kaXNjb3VudF9sb2Rhc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL0RyYWdEcm9wQ29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvRHJhZ0xheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9EcmFnUHJldmlld0ltYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9EcmFnU291cmNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9EcmFnU291cmNlTW9uaXRvckltcGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL0Ryb3BUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL0Ryb3BUYXJnZXRNb25pdG9ySW1wbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvU291cmNlQ29ubmVjdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9UYXJnZXRDb25uZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2NyZWF0ZVNvdXJjZUZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2NyZWF0ZVRhcmdldEZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2RlY29yYXRlSGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvaG9va3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2hvb2tzL2ludGVybmFsL2RyYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2hvb2tzL2ludGVybmFsL2Ryb3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2hvb2tzL2ludGVybmFsL3VzZUNvbGxlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvaG9va3MvaW50ZXJuYWwvdXNlRHJhZ0Ryb3BNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9ob29rcy9pbnRlcm5hbC91c2VNb25pdG9yT3V0cHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9ob29rcy91c2VEcmFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9ob29rcy91c2VEcmFnTGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2hvb2tzL3VzZURyb3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy9yZWdpc3RlclNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvcmVnaXN0ZXJUYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL3V0aWxzL2NoZWNrRGVjb3JhdG9yQXJndW1lbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kbmQvbGliL2Nqcy91dGlscy9jbG9uZVdpdGhSZWYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL3V0aWxzL2Rpc2NvdW50X2xvZGFzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvZGlzcG9zYWJsZXMvQ29tcG9zaXRlRGlzcG9zYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvZGlzcG9zYWJsZXMvRGlzcG9zYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvZGlzcG9zYWJsZXMvU2VyaWFsRGlzcG9zYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvZGlzcG9zYWJsZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL3V0aWxzL2dldERlY29yYXRlZENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvaXNSZWYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL3V0aWxzL2lzUmVmYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvdXRpbHMvaXNWYWxpZFR5cGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRuZC9saWIvY2pzL3V0aWxzL3BvbHlmaWxscy9lbmRzV2l0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZG5kL2xpYi9janMvd3JhcENvbm5lY3Rvckhvb2tzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWR1eC9lcy9yZWR1eC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2VsZWN0bi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2hhbGxvd2VxdWFsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvcG9ueWZpbGwuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vaGFybW9ueS1tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL2VkaXQtcG9kLW5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL2VkaXQtcG9kLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9oYW5kbGUtc3VibWl0LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvYWN0aXZlLXRhYi1jb250ZW50LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvZHluYW1pYy10YWItY29udGVudC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2QvbWFpbi10YWJzL2ZpZWxkLWdyb3VwLXNldHRpbmdzLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvZmllbGQtZ3JvdXAuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL21haW4tdGFicy9maWVsZC1ncm91cHMuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL21haW4tdGFicy9maWVsZC1ncm91cHMuc2Nzcz80ZWNmIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvZmllbGQtbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2QvbWFpbi10YWJzL2dyb3VwLWRyYWctbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL21haW4tdGFicy9ncm91cC1kcmFnLXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2QvbWFpbi10YWJzL2dyb3VwLWRyb3AtdGFyZ2V0LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9tYWluLXRhYnMvbWFuYWdlLWZpZWxkcy5zY3NzPzA5M2EiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL3Bvc3Rib3guanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL3NhdmUtc3RhdHVzLW1lc3NhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL3NsdWdnYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvc3RvcmUvYWN0aW9ucy5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvc3RvcmUvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9yZWR1Y2VyLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9zZWxlY3RvcnMuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL3N0b3JlL3N0YXRlLXBhdGhzLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9zdG9yZS5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvd2l0aC1kcmFnLWRyb3AtY29udGV4dC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvY29tcG9uZW50cy9iYXNlLWlucHV0LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9jb21wb25lbnRzL2ZpZWxkLWNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvY29tcG9uZW50cy9maWVsZC1vcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2NvbXBvbmVudHMvaGVscC10b29sdGlwLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9jb21wb25lbnRzL3RhYnMvcG9kcy1uYXYtdGFiLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9jb21wb25lbnRzL3ZhbGlkYXRpb24tbWVzc2FnZXMuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2NvcmUvZGZ2LW1vZGFsLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9jb3JlL2diLW1vZGFsLWxpc3RlbmVyLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9jb3JlL2lmcmFtZS1mcmFtZS5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvY29yZS9wb2RzLWZpZWxkLW1vZGVsLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9jb3JlL3BvZHMtZmllbGQtdmlld3MuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2NvcmUvcmVuZGVyZXJzL21uLXJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9jb3JlL3JlbmRlcmVycy9yZWFjdC1kaXJlY3QtcmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2NvcmUvcmVuZGVyZXJzL3JlYWN0LXJlbmRlcmVyLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZC1tYW5pZmVzdC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL2VtYWlsL2VtYWlsLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS9maWxlLXVwbG9hZC1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUvZmlsZS5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUvdXBsb2FkZXJzL21lZGlhLW1vZGFsLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS91cGxvYWRlcnMvcGx1cGxvYWQuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlL3VwbG9hZGVycy9wb2RzLWZpbGUtdXBsb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlL3ZpZXdzL2ZpbGUtdXBsb2FkLWZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlL3ZpZXdzL2ZpbGUtdXBsb2FkLWxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlL3ZpZXdzL2ZpbGUtdXBsb2FkLXF1ZXVlLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvbnVtYmVyL251bWJlci5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL3BhcmFncmFwaC9wYXJhZ3JhcGguanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9wYXNzd29yZC9wYXNzd29yZC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svcGljay1maWVsZC1tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svcGljay5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svcmVsYXRpb25zaGlwLW1vZGVsLmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9hZGQtbmV3LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9jaGVja2JveC12aWV3LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9saXN0LXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9waWNrL3ZpZXdzL3JhZGlvLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL2ZpZWxkcy9waWNrL3ZpZXdzL3NlbGVjdC12aWV3LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9maWVsZHMvdGV4dC90ZXh0LmpzIiwid2VicGFjazovLy8uL3VpL2pzL3BvZHMtZGZ2L3NyYy9tb2RlbC1tYW5pZmVzdC5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvcG9kcy1kZnYuanMiLCJ3ZWJwYWNrOi8vLy4vdWkvanMvcG9kcy1kZnYvc3JjL3ZhbGlkYXRpb24vdmFsaWRhdGlvbi1ydWxlcy5qcyIsIndlYnBhY2s6Ly8vLi91aS9qcy9wb2RzLWRmdi9zcmMvdmFsaWRhdGlvbi92YWxpZGF0aW9uLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcImpRdWVyeVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImxvZGFzaFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RET01cIiJdLCJuYW1lcyI6WyJfXyIsIndwIiwiaTE4biIsImRhdGEiLCJ3aXRoU2VsZWN0Iiwid2l0aERpc3BhdGNoIiwiY29tcG9zZSIsIkVkaXRQb2ROYW1lIiwic2VsZWN0IiwicG9kTmFtZSIsIlNUT1JFX0tFWV9FRElUX1BPRCIsImdldFBvZE5hbWUiLCJkaXNwYXRjaCIsInNldFBvZE5hbWUiLCJwcm9wcyIsIlN0b3JlU3Vic2NyaWJlIiwic3RvcmVTZWxlY3QiLCJ0YWJzIiwiZ2V0VGFicyIsImFjdGl2ZVRhYiIsImdldEFjdGl2ZVRhYiIsInN0b3JlRGlzcGF0Y2giLCJzZXRBY3RpdmVUYWIiLCJFZGl0UG9kIiwid2luZG93IiwiZSIsImhhbmRsZVN1Ym1pdCIsIlBvZHNERlZFZGl0UG9kIiwid2l0aERyYWdEcm9wQ29udGV4dCIsIkFKQVhfQUNUSU9OIiwicHJldmVudERlZmF1bHQiLCJyZXF1ZXN0RGF0YSIsInBvZE1ldGEiLCJpZCIsIm5hbWUiLCJub25jZSIsImZpZWxkcyIsInRhYk9wdGlvbnMiLCJnZXRUYWJPcHRpb25zIiwiZ3JvdXBzIiwiZ2V0R3JvdXBzIiwiZ2V0T3B0aW9uVmFsdWUiLCJnZXRHcm91cEZpZWxkcyIsImdyb3VwTGlzdCIsImdldEdyb3VwTGlzdCIsInNldE9wdGlvblZhbHVlIiwic2V0R3JvdXBMaXN0IiwibW92ZUdyb3VwIiwiQWN0aXZlVGFiQ29udGVudCIsIkNvbXBvbmVudCIsInNwcmludGYiLCJNSVNTSU5HIiwiRHluYW1pY1RhYkNvbnRlbnQiLCJnZXRMYWJlbFZhbHVlIiwibGFiZWxGb3JtYXQiLCJwYXJhbU9wdGlvbiIsInBhcmFtRGVmYXVsdCIsInBhcmFtIiwibWFwIiwib3B0aW9uIiwidHlwZSIsImxhYmVsIiwibGFiZWxfcGFyYW0iLCJwYXJhbV9kZWZhdWx0IiwidmFsdWUiLCJoZWxwIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiaXNSZXF1aXJlZCIsIkRlcGVuZGVudEZpZWxkT3B0aW9uIiwiZmllbGRUeXBlIiwiZGVwZW5kZW50cyIsImhhbmRsZUlucHV0Q2hhbmdlIiwidGFyZ2V0IiwiY2hlY2tlZCIsIm1lZXRzRGVwZW5kZW5jaWVzIiwiaGVscFRleHQiLCJkZXBlbmRlbmNpZXMiLCJyZXRWYWwiLCJpc09iamVjdCIsImVhY2giLCJkZXBlbmRlbnRWYWx1ZSIsImRlcGVuZGVudE9wdGlvbk5hbWUiLCJNb2RhbCIsImNvbXBvbmVudHMiLCJGaWVsZEdyb3VwU2V0dGluZ3MiLCJncm91cE5hbWUiLCJzaG93IiwiY2xvc2VNb2RhbCIsInN0b3BQcm9wYWdhdGlvbiIsInVzZVN0YXRlIiwiUmVhY3QiLCJEYXNoaWNvbiIsIkZpZWxkR3JvdXAiLCJmb3J3YXJkUmVmIiwicmVmIiwiY29ubmVjdERyYWdTb3VyY2UiLCJjb25uZWN0RHJvcFRhcmdldCIsImNvbm5lY3REcmFnUHJldmlldyIsImlzRHJhZ2dpbmciLCJleHBhbmRlZCIsInNldEV4cGFuZGVkIiwic2hvd1NldHRpbmdzIiwic2V0U2hvd1NldHRpbmdzIiwid3JhcHBlclJlZiIsInVzZVJlZiIsImRyYWdIYW5kbGVSZWYiLCJ1c2VFZmZlY3QiLCJnZXRFbXB0eUltYWdlIiwiY2FwdHVyZURyYWdnaW5nU3RhdGUiLCJ1c2VJbXBlcmF0aXZlSGFuZGxlIiwiZ2V0V3JhcHBlck5vZGUiLCJjdXJyZW50IiwiZ2V0SGFuZGxlTm9kZSIsIm9uRWRpdEdyb3VwQ2xpY2siLCJvcGFjaXR5IiwiY3Vyc29yIiwiaW5kZXgiLCJoYW5kbGVCZWdpbkRyYWciLCJoYW5kbGVEcmFnQ2FuY2VsIiwiZmxvdyIsImRyb3BUYXJnZXQiLCJkcmFnU291cmNlIiwiRmllbGRHcm91cHMiLCJvcmlnaW5hbExpc3QiLCJzZXRPcmlnaW5hbExpc3QiLCJncm91cCIsIkZpZWxkTGlzdCIsImxlbmd0aCIsImZpZWxkIiwicmVxdWlyZWQiLCJGaWVsZExpc3RJdGVtIiwiZmllbGROYW1lIiwiZmllbGRMYWJlbCIsIkZpZWxkSGVhZGVyIiwiZ2V0TGF5ZXJTdHlsZXMiLCJpdGVtIiwicG9zaXRpb24iLCJwb2ludGVyRXZlbnRzIiwiekluZGV4IiwibGVmdCIsInRvcCIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0SXRlbVN0eWxlcyIsImluaXRpYWxPZmZzZXQiLCJjdXJyZW50T2Zmc2V0IiwiZGlzcGxheSIsInRyYW5zZm9ybSIsIngiLCJ5IiwiZmlsdGVyIiwiQ3VzdG9tRHJhZ0xheWVyIiwiaXRlbVR5cGUiLCJ1aUNvbnN0YW50cyIsImRyYWdJdGVtVHlwZXMiLCJHUk9VUCIsIm51bWJlciIsIkRyYWdMYXllciIsIm1vbml0b3IiLCJnZXRJdGVtIiwiZ2V0SXRlbVR5cGUiLCJnZXRJbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0IiwiZ2V0U291cmNlQ2xpZW50T2Zmc2V0IiwiZHJhZ1NwZWMiLCJiZWdpbkRyYWciLCJjb21wb25lbnQiLCJ3cmFwcGVyTm9kZSIsImRlY29yYXRlZFJlZiIsImhhbmRsZU5vZGUiLCJ3cmFwcGVyUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImhhbmRsZVJlY3QiLCJlbmREcmFnIiwiZGlkRHJvcCIsImNvbGxlY3QiLCJjb25uZWN0IiwiZHJhZ1ByZXZpZXciLCJEcmFnU291cmNlIiwiZHJvcFNwZWMiLCJob3ZlciIsIm5vZGUiLCJkcmFnSW5kZXgiLCJob3ZlckluZGV4IiwiaG92ZXJCb3VuZGluZ1JlY3QiLCJob3Zlck1pZGRsZVkiLCJib3R0b20iLCJjbGllbnRPZmZzZXQiLCJnZXRDbGllbnRPZmZzZXQiLCJob3ZlckNsaWVudFkiLCJEcm9wVGFyZ2V0IiwiUG9zdGJveCIsImlzU2F2aW5nIiwiU3Bpbm5lciIsIlNhdmVTdGF0dXNNZXNzYWdlIiwic2F2ZVN0YXR1cyIsImdldFNhdmVTdGF0dXMiLCJzYXZlU3RhdHVzZXMiLCJTQVZJTkciLCJTQVZFX1NVQ0NFU1MiLCJTQVZFX0VSUk9SIiwiUG9kc0RGVlNsdWdnYWJsZSIsImVkaXRpbmciLCJzZXRFZGl0aW5nIiwibG9jYWxWYWx1ZSIsInNldExvY2FsVmFsdWUiLCJoYW5kbGVWYWx1ZUNoYW5nZSIsIm5ld1ZhbHVlIiwiaGFuZGxlRWRpdENsaWNrIiwiaGFuZGxlT2tDbGljayIsInVwZGF0ZVZhbHVlIiwiaGFuZGxlQ2FuY2VsQ2xpY2siLCJOb3RFZGl0aW5nIiwiRWRpdGluZyIsImhhbmRsZUZvY3VzIiwiYWN0aW9ucyIsIlNFVF9BQ1RJVkVfVEFCIiwic2V0U2F2ZVN0YXR1cyIsIlNFVF9TQVZFX1NUQVRVUyIsInNldE9wdGlvbkl0ZW1WYWx1ZSIsIm9wdGlvbk5hbWUiLCJpdGVtTmFtZSIsIml0ZW1WYWx1ZSIsIm9wdGlvbkNvbnN0YW50cyIsIlNFVF9PUFRJT05fSVRFTV9WQUxVRSIsImdyb3VwQ29uc3RhbnRzIiwiU0VUX0dST1VQX0xJU1QiLCJvbGRJbmRleCIsIm5ld0luZGV4IiwiTU9WRV9HUk9VUCIsInBvZE1ldGFDb25zdGFudHMiLCJTRVRfUE9EX05BTUUiLCJzZXRQb2RNZXRhVmFsdWUiLCJrZXkiLCJTRVRfUE9EX01FVEFfVkFMVUUiLCJ0YWJOYW1lcyIsIk1BTkFHRV9GSUVMRFMiLCJMQUJFTFMiLCJBRE1JTl9VSSIsIkFEVkFOQ0VEX09QVElPTlMiLCJBVVRPX1RFTVBMQVRFX09QVElPTlMiLCJSRVNUX0FQSSIsIk5PTkUiLCJGSUVMRCIsImluaXRpYWxVSVN0YXRlIiwiY29tYmluZVJlZHVjZXJzIiwic2V0T2JqZWN0VmFsdWUiLCJvYmplY3QiLCJ1aSIsInN0YXRlIiwiYWN0aW9uIiwibmV3VGFiIiwidGFiSW5kZXgiLCJwYXRocyIsInRhaWxHZXRGcm9tIiwiaW5kZXhPZiIsIm5ld1N0YXR1cyIsIk9iamVjdCIsInZhbHVlcyIsImluY2x1ZGVzIiwibmV3R3JvdXBMaXN0Iiwic3BsaWNlIiwidGFpbFBhdGgiLCJvcHRpb25zIiwiZ2V0U3RhdGUiLCJnZXRGcm9tIiwiZ2V0UG9kTWV0YVZhbHVlIiwiZ2V0VGFiIiwidGFiTmFtZSIsImdldFRhYkxpc3QiLCJnZXRUYWJPcHRpb25zTGlzdCIsImdldE9wdGlvbiIsImdldE9wdGlvbkl0ZW1WYWx1ZSIsImdldEdyb3VwIiwiZ2V0RmllbGRMaXN0IiwiZ2V0RmllbGQiLCJnZXRGaWVsZHMiLCJkb3RQYXRoIiwidGFpbCIsInNwbGl0Iiwiam9pbiIsImNyZWF0ZVRyZWUiLCJyZWR1Y2VSaWdodCIsImFjYyIsImN1cnJlbnRWYWx1ZSIsInJlZHVjZSIsImVsIiwiY3JlYXRlU3RhdGVQYXRoIiwicGF0aCIsInRhaWxDcmVhdGVUcmVlIiwiUE9EX01FVEEiLCJQT0RfTkFNRSIsIlBPRF9JRCIsIkZJRUxEUyIsIkdST1VQUyIsIkdST1VQU19CWV9OQU1FIiwiR1JPVVBfTElTVCIsIkdST1VQX0ZJRUxEX0xJU1QiLCJVSSIsIkFDVElWRV9UQUIiLCJTQVZFX1NUQVRVUyIsIlRBQlMiLCJUQUJfTElTVCIsIlRBQlNfQllfTkFNRSIsIlRBQl9PUFRJT05TX0xJU1QiLCJPUFRJT05TIiwicmVnaXN0ZXJTdG9yZSIsImluaXRTdG9yZSIsImluaXRpYWxTdGF0ZSIsIm1lcmdlIiwicmVkdWNlciIsInNlbGVjdG9ycyIsIkRyYWdEcm9wQ29udGV4dCIsIkhUTUw1QmFja2VuZCIsIlBvZHNERlZCYXNlSW5wdXQiLCJoYW5kbGVDaGFuZ2UiLCJldmVudCIsInNldFZhbHVlIiwiaHRtbEF0dHIiLCJjbGFzc05hbWUiLCJuYW1lX2NsZWFuIiwiZmllbGRDb25maWciLCJ0ZXh0X3BsYWNlaG9sZGVyIiwidGV4dF9tYXhfbGVuZ3RoIiwicmVhZG9ubHkiLCJvbkNoYW5nZSIsIm9uQmx1ciIsIm1pbiIsIm1heCIsIlBvZHNERlZGaWVsZENvbnRhaW5lciIsIkZpZWxkIiwiZmllbGRDb21wb25lbnQiLCJmaWVsZEl0ZW1EYXRhIiwidmFsaWRhdGlvbiIsInBvZHNWYWxpZGF0aW9uIiwidmFsaWRhdGlvbk1lc3NhZ2VzIiwidXNlVmFsaWRhdGlvbiIsImFkZFJ1bGVzIiwicnVsZSIsInZhbGlkYXRpb25SdWxlcyIsImNvbmRpdGlvbiIsImZpZWxkQ2xhc3NlcyIsImNsYXNzTmFtZXMiLCJQb2RzRmllbGRPcHRpb24iLCJ0b0Jvb2wiLCJzdHJpbmdPck51bWJlciIsImFueSIsIlRvb2x0aXAiLCJIZWxwVG9vbHRpcCIsIlBvZHNOYXZUYWIiLCJnZXRDbGFzc05hbWUiLCJoYW5kbGVDbGljayIsInRoaXNUYWIiLCJ0aXRsZVRleHQiLCJzdHJpbmciLCJQb2RzREZWVmFsaWRhdGlvbk1lc3NhZ2UiLCJtZXNzYWdlIiwiUG9kc0RGVlZhbGlkYXRpb25NZXNzYWdlcyIsIm1lc3NhZ2VzIiwidGhpc01lc3NhZ2UiLCJQb2RzREZWTW9kYWwiLCJtZWRpYSIsInZpZXciLCJleHRlbmQiLCJjbG9zZSIsInByb3RvdHlwZSIsImFwcGx5IiwiZXNjYXBlIiwicGFyZW50IiwialF1ZXJ5IiwidHJpZ2dlciIsImVkaXRvckRhdGEiLCJ1blN1YnNjcmliZSIsIlBvZHNHYk1vZGFsTGlzdGVuZXIiLCJpbml0IiwiaXNDdXJyZW50UG9zdFB1Ymxpc2hlZCIsInN1YnNjcmliZSIsInNhdmVMaXN0ZW5lciIsInB1Ymxpc2hMaXN0ZW5lciIsImdldEZlYXR1cmVkSW1hZ2VVUkwiLCJmZWF0dXJlZEltYWdlSWQiLCJnZXRDdXJyZW50UG9zdEF0dHJpYnV0ZSIsInVybCIsImdldE1lZGlhIiwibWVkaWFTaXplIiwiaG9va3MiLCJhcHBseUZpbHRlcnMiLCJtZWRpYV9kZXRhaWxzIiwic2l6ZXMiLCJzb3VyY2VfdXJsIiwidHJpZ2dlclVwZGF0ZUV2ZW50IiwiZ2V0UGVybWFsaW5rIiwiZ2V0Q3VycmVudFBvc3RJZCIsIndhc1NhdmluZyIsImlzU2F2aW5nUG9zdCIsImRpZFBvc3RTYXZlUmVxdWVzdFN1Y2NlZWQiLCJpc1VzZXJTYXZpbmciLCJpc0F1dG9zYXZpbmdQb3N0Iiwib3B0aW9uYWxEYXRhIiwiZGVmYXVsdERhdGEiLCJwb3N0RGF0YSIsImFzc2lnbiIsIklmcmFtZUZyYW1lIiwiRnJhbWUiLCJ0ZW1wbGF0ZSIsIl8iLCJyZWdpb25zIiwiaW5pdGlhbGl6ZSIsImFyZ3VtZW50cyIsIiRlbCIsImFkZENsYXNzIiwiaW5pdFN0YXRlIiwiaW5pdE1vZGFsIiwib24iLCJpZnJhbWVDb250ZW50IiwiaWZyYW1lIiwibW9kZSIsImNyZWF0ZVRpdGxlIiwidGl0bGUiLCJhcHBlbmQiLCJQb2RzSTE4biIsInNyYyIsInN0YXRlcyIsImFkZCIsImNvbnRyb2xsZXIiLCJTdGF0ZSIsIm1vZGFsIiwiY29udGVudCIsInJlbmRlciIsInNldFN0YXRlIiwiSWZyYW1lIiwiVmlldyIsInRhZ05hbWUiLCJQb2RzREZWRmllbGRNb2RlbCIsIkJhY2tib25lIiwiTW9kZWwiLCJkZWZhdWx0cyIsIlBvZHNGaWVsZExpc3RWaWV3IiwiUG9kc01uIiwiQ29sbGVjdGlvblZpZXciLCJjaGlsZFZpZXdFdmVudFByZWZpeCIsImZpZWxkTW9kZWwiLCJjaGlsZFZpZXdPcHRpb25zIiwiUG9kc0ZpZWxkVmlldyIsInNlcmlhbGl6ZURhdGEiLCJtb2RlbCIsInRvSlNPTiIsImdldCIsIlBvZHNERlZGaWVsZExheW91dCIsIm1uUmVuZGVyZXIiLCJGaWVsZENsYXNzIiwiZWxlbWVudCIsIm5ld0ZpZWxkIiwicmVhY3REaXJlY3RSZW5kZXJlciIsImNyZWF0ZUZhY3RvcnkiLCJSZWFjdERPTSIsInJlYWN0UmVuZGVyZXIiLCJQb2RzREZWRW1haWwiLCJlbWFpbEZvcm1hdCIsImVtYWlsX2h0bWw1IiwiRmlsZVVwbG9hZE1vZGVsIiwiRmlsZVVwbG9hZENvbGxlY3Rpb24iLCJDb2xsZWN0aW9uIiwiVXBsb2FkZXJzIiwiUGx1cGxvYWQiLCJNZWRpYU1vZGFsIiwiVU5MSU1JVEVEX0ZJTEVTIiwiRmlsZSIsImxpc3QiLCJ1aVJlZ2lvbiIsImZvcm0iLCJjaGlsZFZpZXdFdmVudHMiLCJ1cGxvYWRlciIsIm9uQmVmb3JlUmVuZGVyIiwiY29sbGVjdGlvbiIsInVuZGVmaW5lZCIsIm9uUmVuZGVyIiwibGlzdFZpZXciLCJGaWxlVXBsb2FkTGlzdCIsImZvcm1WaWV3IiwiRmlsZVVwbG9hZEZvcm0iLCJzaG93Q2hpbGRWaWV3IiwiY3JlYXRlVXBsb2FkZXIiLCJsaXN0ZW5UbyIsIm9uQWRkZWRGaWxlcyIsIm9uQ2hpbGR2aWV3UmVtb3ZlRmlsZUNsaWNrIiwiY2hpbGRWaWV3IiwicmVtb3ZlIiwib25DaGlsZHZpZXdBZGRGaWxlQ2xpY2siLCJpbnZva2UiLCJmaWxlTGltaXQiLCJuZXdDb2xsZWN0aW9uIiwiZmlsdGVyZWRNb2RlbHMiLCJjbG9uZSIsIm1vZGVscyIsInJlc2V0IiwidGFyZ2V0VXBsb2FkZXIiLCJVcGxvYWRlciIsInRoaXNVcGxvYWRlciIsImZpbGVVcGxvYWRlciIsImJyb3dzZUJ1dHRvbiIsImdldFJlZ2lvbiIsImdldEVsIiwiUG9kc0ZpbGVVcGxvYWRlciIsIm1lZGlhT2JqZWN0IiwiZmlsdGVycyIsIm1pbWVfdHlwZXMiLCJleHRlbnNpb25zIiwiZGVmYXVsdEV4dCIsIm11bHRpcGxlIiwibGlicmFyeSIsImJ1dHRvbiIsInRleHQiLCJvbmNlIiwib25NZWRpYVNlbGVjdCIsIm9wZW4iLCJzZWxlY3Rpb24iLCJuZXdGaWxlcyIsImF0dGFjaG1lbnQiLCJhdHRyaWJ1dGVzIiwiYXR0YWNobWVudFRodW1ibmFpbCIsImljb24iLCJ0aHVtYm5haWwiLCJmdWxsIiwicHVzaCIsImVkaXRfbGluayIsImVkaXRMaW5rIiwibGluayIsImRvd25sb2FkIiwicGx1cGxvYWQiLCJiaW5kIiwib25GaWxlc0FkZGVkIiwib25VcGxvYWRQcm9ncmVzcyIsIm9uRmlsZVVwbG9hZGVkIiwidXAiLCJmaWxlcyIsImZpbGUiLCJGaWxlVXBsb2FkUXVldWVNb2RlbCIsImZpbGVuYW1lIiwiRmlsZVVwbG9hZFF1ZXVlIiwicXVldWVDb2xsZWN0aW9uIiwicmVmcmVzaCIsInN0YXJ0Iiwic2V0IiwicHJvZ3Jlc3MiLCJwZXJjZW50IiwicmVzcCIsInJlc3BvbnNlIiwibmV3RmlsZSIsImpzb24iLCJzdWJzdHIiLCJjb25zb2xlIiwibG9nIiwiZXJyb3JNc2ciLCJtYXRjaCIsInBhcnNlSlNPTiIsImlzRW1wdHlPYmplY3QiLCJJRCIsInBvc3RfdGl0bGUiLCJjb25zdHJ1Y3RvciIsImNhbGwiLCJhZGRCdXR0b24iLCJ0cmlnZ2VycyIsIkZpbGVVcGxvYWRJdGVtIiwiZHJhZ0hhbmRsZSIsInZpZXdMaW5rIiwiZG93bmxvYWRMaW5rIiwicmVtb3ZlQnV0dG9uIiwiY2hpbGRWaWV3VHJpZ2dlcnMiLCJvbkF0dGFjaCIsInNvcnRfYXhpcyIsInNvcnRhYmxlIiwiY29udGFpbm1lbnQiLCJheGlzIiwic2Nyb2xsU2Vuc2l0aXZpdHkiLCJ0b2xlcmFuY2UiLCJGaWxlVXBsb2FkUXVldWVJdGVtIiwibW9kZWxFdmVudHMiLCJvbk1vZGVsQ2hhbmdlZCIsIlBvZHNERlZOdW1iZXIiLCJudW1iZXJfbWF4IiwibnVtYmVyX21pbiIsIm51bWJlcl9odG1sNSIsIlBvZHNERlZQYXJhZ3JhcGgiLCJQb2RzREZWUGFzc3dvcmQiLCJQaWNrRmllbGRNb2RlbCIsInZpZXdzIiwiQ2hlY2tib3hWaWV3IiwiU2VsZWN0VmlldyIsIlJhZGlvVmlldyIsIkxpc3RWaWV3IiwibW9kYWxJRnJhbWUiLCJQaWNrIiwiYXV0b2NvbXBsZXRlIiwiYWRkTmV3IiwiUmVsYXRpb25zaGlwQ29sbGVjdGlvbiIsInNob3dBZGROZXciLCJidWlsZEF1dG9jb21wbGV0ZSIsInNob3dMaXN0IiwicGlja0xpbWl0Iiwidmlld19uYW1lIiwicGlja19mb3JtYXRfdHlwZSIsInNlbGVjdEZyb21FeGlzdGluZyIsImFqYXhfZGF0YSIsInNlbGVjdDJfb3ZlcnJpZGVzIiwicGlja19saW1pdCIsImZpbHRlckJ5U2VsZWN0ZWQiLCJsaW1pdERpc2FibGUiLCJvbkNoaWxkdmlld1NlbGVjdGlvbkxpbWl0T3ZlciIsIm9uQ2hpbGR2aWV3U2VsZWN0aW9uTGltaXRVbmRlciIsImZpbHRlckJ5VW5zZWxlY3RlZCIsImZpbHRlckFqYXhMaXN0Iiwidmlld05hbWUiLCJFcnJvciIsIkFkZE5ldyIsInNlbGVjdGVkSXRlbXMiLCJyZXR1cm5MaXN0IiwicmVzdWx0cyIsImdldENoaWxkVmlldyIsInNldENvbGxlY3Rpb24iLCJkaXNhYmxlIiwiZW5hYmxlIiwib25DaGlsZHZpZXdSZW1vdmVJdGVtQ2xpY2siLCJ0b2dnbGVTZWxlY3RlZCIsIm9uQ2hpbGR2aWV3QWRkTmV3IiwiaWZyYW1lX3RpdGxlX2FkZCIsImlmcmFtZV9zcmMiLCJzZXRNb2RhbExpc3RlbmVycyIsIm9uQ2hpbGR2aWV3RWRpdEl0ZW1DbGljayIsImlmcmFtZV90aXRsZV9lZGl0IiwiZWRpdEJ1dHRvbiIsImF0dHIiLCJvbkNoaWxkdmlld0NoYW5nZVNlbGVjdGVkIiwiZGVmZXIiLCJtb2RhbFN1Y2Nlc3MiLCJtb2RhbENhbmNlbCIsImNsZWFyTW9kYWxMaXN0ZW5lcnMiLCJvZmYiLCJpdGVtTW9kZWwiLCJSZWxhdGlvbnNoaXBNb2RlbCIsInNldFNlbGVjdGVkIiwiaWRzIiwidGhpc01vZGVsIiwic2VsZWN0ZWQiLCJjb250YWlucyIsImZpbHRlcmVkIiwiRElTQUJMRURfQ0xBU1MiLCJnZXRVSSIsInJlbW92ZUNsYXNzIiwib25BZGROZXdDbGljayIsImhhc0NsYXNzIiwiQ2hlY2tib3hJdGVtIiwiY2hlY2tib3giLCJ0ZW1wbGF0ZUNvbnRleHQiLCJvcmRpbmFsIiwibW9kZWxDaGFuZ2VkIiwidmFsaWRhdGVTZWxlY3Rpb25MaW1pdCIsInNlbGVjdGlvbkxpbWl0T3ZlciIsIm9uQ2hpbGR2aWV3VG9nZ2xlU2VsZWN0ZWQiLCJzZWxlY3Rpb25MaW1pdFVuZGVyIiwibGltaXQiLCJudW1TZWxlY3RlZCIsImZpbmQiLCJwcm9wIiwiTGlzdEl0ZW0iLCJjaGlsZCIsIlJhZGlvSXRlbSIsIlNFTEVDVDJfVUxfVEFSR0VUIiwiU0VMRUNUMl9TRUxFQ1RFRF9UQVJHRVQiLCJTZWxlY3RJdGVtIiwidmFsIiwiaHRtbCIsIk9wdGdyb3VwIiwibXVsdGlMYXN0VmFsaWRTZWxlY3Rpb24iLCJvcHRncm91cCIsInJldHVybk9wdGlvbnMiLCJmb3JtYXRfdHlwZSIsInNldHVwU2VsZWN0MiIsIm9uQ2hhbmdlU2VsZWN0ZWQiLCJhbGVydCIsIl9uIiwib25CZWZvcmVEZXRhY2giLCJzZWxlY3RXb28iLCJmb3JtYXRfc2luZ2xlIiwicGlja19mb3JtYXRfc2luZ2xlIiwiZm9ybWF0VHlwZSIsInNlbGYiLCIkc2VsZWN0MiIsImFqYXhEYXRhIiwic2VsZWN0Mk92ZXJyaWRlcyIsImlzU2luZ2xlIiwic2VsZWN0ZWRDb3VudCIsIiR1bENvbnRhaW5lciIsInNlbGVjdDJPcHRpb25zIiwicGxhY2Vob2xkZXIiLCJwcmVwZW5kIiwibWF4aW11bVNlbGVjdGlvbkxlbmd0aCIsImFsbG93Q2xlYXIiLCJkaXNhYmxlZCIsInRhZ3MiLCJwaWNrX3RhZ2dhYmxlIiwiZXNjYXBlTWFya3VwIiwiYWpheCIsIm1pbmltdW1JbnB1dExlbmd0aCIsIm1pbmltdW1faW5wdXRfbGVuZ3RoIiwiYWpheHVybCIsImRhdGFUeXBlIiwiZGVsYXkiLCJwYXJhbXMiLCJfd3Bub25jZSIsIm1ldGhvZCIsInBvZCIsInVyaSIsInF1ZXJ5IiwidGVybSIsInByb2Nlc3NSZXN1bHRzIiwiJHNlbGVjdGVkIiwicmV2ZXJzZSIsIlBvZHNERlZUZXh0IiwiU0NSSVBUX1RBUkdFVCIsInJlbmRlcmVyIiwiUG9kc0RGViIsImZpZWxkSW5zdGFuY2VzIiwicGFyZW50cyIsInBpY2tfYWxsb3dfYWRkX25ldyIsImlzTW9kYWxXaW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsImlzR3V0ZW5iZXJnRWRpdG9yTG9hZGVkIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiZmFjdHMiLCJjb25kaXRpb25zIiwiZXF1YWwiLCJudW1lcmljVmFsdWUiLCJncmVhdGVyIiwibGVzcyIsImVtYWlsUmVnZXgiLCJub3QiLCJvciIsIm1hdGNoZXMiLCJzZXRWYWxpZGF0aW9uTWVzc2FnZXMiLCJydWxlcyIsImNvbmRpdGlvbmFsUnVsZXMiLCJmb3JFYWNoIiwiY29uZGl0aW9uYWxSdWxlIiwiY2hlY2tWYWxpZGF0aW9uIiwicnVsZXNFbmdpbmUiLCJFbmdpbmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJ1biIsInRoZW4iLCJldmVudHMiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUEwQyxnQ0FBZ0M7QUFDMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRUFBd0Qsa0JBQWtCO0FBQzFFO0FBQ0EseURBQWlELGNBQWM7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUF5QyxpQ0FBaUM7QUFDMUUsd0hBQWdILG1CQUFtQixFQUFFO0FBQ3JJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7OztBQUdBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNsRmE7O0FBRWI7QUFDQSxjQUFjLG1CQUFPLENBQUMsaURBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksTUFBTTtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ2pFQSw4Q0FBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0Usa0JBQWtCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsb0JBQW9CO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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LEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNsQ2E7O0FBRWIsY0FBYyxtQkFBTyxDQUFDLHNEQUFTO0FBQy9COztBQUVBOztBQUVBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxJQUFJOzs7Ozs7Ozs7Ozs7O0FDNUxRO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7Ozs7Ozs7Ozs7O0FDeEREO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FB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O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsSUFBcUM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxVQUFVLEtBQXFDO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHNCQUFzQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsSUFBcUM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsMkJBQTJCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTSxLQUFxQyw0RkFBNEYsU0FBTTtBQUM3STtBQUNBOztBQUVBLG1CQUFtQixnQ0FBZ0M7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCLGdDQUFnQztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7QUM5a0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJLElBQXFDO0FBQ3pDLGdCQUFnQixtQkFBTyxDQUFDLGtEQUFVOztBQUVsQztBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQU8sQ0FBQyx1RkFBMkI7QUFDdEQsQ0FBQyxNQUFNLEVBSU47Ozs7Ozs7Ozs7Ozs7QUNsQkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhOztBQUViOztBQUVBOzs7Ozs7Ozs7Ozs7O0FDWGE7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCx3QkFBd0IsbUJBQU8sQ0FBQyx3R0FBeUI7QUFDekQ7QUFDQTtBQUNBLENBQUM7QUFDRCwwREFBMEQsK0JBQStCLEVBQUU7Ozs7Ozs7Ozs7Ozs7QUNOOUU7QUFDYiw4Q0FBOEMsY0FBYztBQUM1RCx3QkFBd0IsbUJBQU8sQ0FBQyx3R0FBeUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7Ozs7Ozs7Ozs7O0FDNUJhO0FBQ2I7QUFDQTtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsY0FBYztBQUM1RCwwQkFBMEIsbUJBQU8sQ0FBQyxnR0FBcUI7QUFDdkQsd0JBQXdCLG1CQUFPLENBQUMsNEZBQW1CO0FBQ25ELG9CQUFvQixtQkFBTyxDQUFDLG9GQUFlO0FBQzNDLDBCQUEwQixtQkFBTyxDQUFDLHNHQUFxQjtBQUN2RCxrQkFBa0IsbUJBQU8sQ0FBQyxvRkFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLDBDQUEwQyxFQUFFO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsZ0NBQWdDLDJDQUEyQztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0Q7Ozs7Ozs7Ozs7Ozs7QUM1S2E7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QU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RDs7QUFFQSw2QkFBNkIsbUJBQW1COztBQUVoRDs7QUFFQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDOVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FB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LEM7Ozs7Ozs7Ozs7O0FDYlAsd0I7Ozs7Ozs7Ozs7O0FDQUEsd0I7Ozs7Ozs7Ozs7O0FDQUEsdUI7Ozs7Ozs7Ozs7O0FDQUEsMEIiLCJmaWxlIjoicG9kcy1kZnYubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi91aS9qcy9wb2RzLWRmdi9zcmMvcG9kcy1kZnYuanNcIik7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLy8gcmF3QXNhcCBwcm92aWRlcyBldmVyeXRoaW5nIHdlIG5lZWQgZXhjZXB0IGV4Y2VwdGlvbiBtYW5hZ2VtZW50LlxudmFyIHJhd0FzYXAgPSByZXF1aXJlKFwiLi9yYXdcIik7XG4vLyBSYXdUYXNrcyBhcmUgcmVjeWNsZWQgdG8gcmVkdWNlIEdDIGNodXJuLlxudmFyIGZyZWVUYXNrcyA9IFtdO1xuLy8gV2UgcXVldWUgZXJyb3JzIHRvIGVuc3VyZSB0aGV5IGFyZSB0aHJvd24gaW4gcmlnaHQgb3JkZXIgKEZJRk8pLlxuLy8gQXJyYXktYXMtcXVldWUgaXMgZ29vZCBlbm91Z2ggaGVyZSwgc2luY2Ugd2UgYXJlIGp1c3QgZGVhbGluZyB3aXRoIGV4Y2VwdGlvbnMuXG52YXIgcGVuZGluZ0Vycm9ycyA9IFtdO1xudmFyIHJlcXVlc3RFcnJvclRocm93ID0gcmF3QXNhcC5tYWtlUmVxdWVzdENhbGxGcm9tVGltZXIodGhyb3dGaXJzdEVycm9yKTtcblxuZnVuY3Rpb24gdGhyb3dGaXJzdEVycm9yKCkge1xuICAgIGlmIChwZW5kaW5nRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBwZW5kaW5nRXJyb3JzLnNoaWZ0KCk7XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGxzIGEgdGFzayBhcyBzb29uIGFzIHBvc3NpYmxlIGFmdGVyIHJldHVybmluZywgaW4gaXRzIG93biBldmVudCwgd2l0aCBwcmlvcml0eVxuICogb3ZlciBvdGhlciBldmVudHMgbGlrZSBhbmltYXRpb24sIHJlZmxvdywgYW5kIHJlcGFpbnQuIEFuIGVycm9yIHRocm93biBmcm9tIGFuXG4gKiBldmVudCB3aWxsIG5vdCBpbnRlcnJ1cHQsIG5vciBldmVuIHN1YnN0YW50aWFsbHkgc2xvdyBkb3duIHRoZSBwcm9jZXNzaW5nIG9mXG4gKiBvdGhlciBldmVudHMsIGJ1dCB3aWxsIGJlIHJhdGhlciBwb3N0cG9uZWQgdG8gYSBsb3dlciBwcmlvcml0eSBldmVudC5cbiAqIEBwYXJhbSB7e2NhbGx9fSB0YXNrIEEgY2FsbGFibGUgb2JqZWN0LCB0eXBpY2FsbHkgYSBmdW5jdGlvbiB0aGF0IHRha2VzIG5vXG4gKiBhcmd1bWVudHMuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gYXNhcDtcbmZ1bmN0aW9uIGFzYXAodGFzaykge1xuICAgIHZhciByYXdUYXNrO1xuICAgIGlmIChmcmVlVGFza3MubGVuZ3RoKSB7XG4gICAgICAgIHJhd1Rhc2sgPSBmcmVlVGFza3MucG9wKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmF3VGFzayA9IG5ldyBSYXdUYXNrKCk7XG4gICAgfVxuICAgIHJhd1Rhc2sudGFzayA9IHRhc2s7XG4gICAgcmF3QXNhcChyYXdUYXNrKTtcbn1cblxuLy8gV2Ugd3JhcCB0YXNrcyB3aXRoIHJlY3ljbGFibGUgdGFzayBvYmplY3RzLiAgQSB0YXNrIG9iamVjdCBpbXBsZW1lbnRzXG4vLyBgY2FsbGAsIGp1c3QgbGlrZSBhIGZ1bmN0aW9uLlxuZnVuY3Rpb24gUmF3VGFzaygpIHtcbiAgICB0aGlzLnRhc2sgPSBudWxsO1xufVxuXG4vLyBUaGUgc29sZSBwdXJwb3NlIG9mIHdyYXBwaW5nIHRoZSB0YXNrIGlzIHRvIGNhdGNoIHRoZSBleGNlcHRpb24gYW5kIHJlY3ljbGVcbi8vIHRoZSB0YXNrIG9iamVjdCBhZnRlciBpdHMgc2luZ2xlIHVzZS5cblJhd1Rhc2sucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdGhpcy50YXNrLmNhbGwoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoYXNhcC5vbmVycm9yKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGhvb2sgZXhpc3RzIHB1cmVseSBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAgICAgICAgICAgIC8vIEl0cyBuYW1lIHdpbGwgYmUgcGVyaW9kaWNhbGx5IHJhbmRvbWl6ZWQgdG8gYnJlYWsgYW55IGNvZGUgdGhhdFxuICAgICAgICAgICAgLy8gZGVwZW5kcyBvbiBpdHMgZXhpc3RlbmNlLlxuICAgICAgICAgICAgYXNhcC5vbmVycm9yKGVycm9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEluIGEgd2ViIGJyb3dzZXIsIGV4Y2VwdGlvbnMgYXJlIG5vdCBmYXRhbC4gSG93ZXZlciwgdG8gYXZvaWRcbiAgICAgICAgICAgIC8vIHNsb3dpbmcgZG93biB0aGUgcXVldWUgb2YgcGVuZGluZyB0YXNrcywgd2UgcmV0aHJvdyB0aGUgZXJyb3IgaW4gYVxuICAgICAgICAgICAgLy8gbG93ZXIgcHJpb3JpdHkgdHVybi5cbiAgICAgICAgICAgIHBlbmRpbmdFcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgICByZXF1ZXN0RXJyb3JUaHJvdygpO1xuICAgICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgZnJlZVRhc2tzW2ZyZWVUYXNrcy5sZW5ndGhdID0gdGhpcztcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIFVzZSB0aGUgZmFzdGVzdCBtZWFucyBwb3NzaWJsZSB0byBleGVjdXRlIGEgdGFzayBpbiBpdHMgb3duIHR1cm4sIHdpdGhcbi8vIHByaW9yaXR5IG92ZXIgb3RoZXIgZXZlbnRzIGluY2x1ZGluZyBJTywgYW5pbWF0aW9uLCByZWZsb3csIGFuZCByZWRyYXdcbi8vIGV2ZW50cyBpbiBicm93c2Vycy5cbi8vXG4vLyBBbiBleGNlcHRpb24gdGhyb3duIGJ5IGEgdGFzayB3aWxsIHBlcm1hbmVudGx5IGludGVycnVwdCB0aGUgcHJvY2Vzc2luZyBvZlxuLy8gc3Vic2VxdWVudCB0YXNrcy4gVGhlIGhpZ2hlciBsZXZlbCBgYXNhcGAgZnVuY3Rpb24gZW5zdXJlcyB0aGF0IGlmIGFuXG4vLyBleGNlcHRpb24gaXMgdGhyb3duIGJ5IGEgdGFzaywgdGhhdCB0aGUgdGFzayBxdWV1ZSB3aWxsIGNvbnRpbnVlIGZsdXNoaW5nIGFzXG4vLyBzb29uIGFzIHBvc3NpYmxlLCBidXQgaWYgeW91IHVzZSBgcmF3QXNhcGAgZGlyZWN0bHksIHlvdSBhcmUgcmVzcG9uc2libGUgdG9cbi8vIGVpdGhlciBlbnN1cmUgdGhhdCBubyBleGNlcHRpb25zIGFyZSB0aHJvd24gZnJvbSB5b3VyIHRhc2ssIG9yIHRvIG1hbnVhbGx5XG4vLyBjYWxsIGByYXdBc2FwLnJlcXVlc3RGbHVzaGAgaWYgYW4gZXhjZXB0aW9uIGlzIHRocm93bi5cbm1vZHVsZS5leHBvcnRzID0gcmF3QXNhcDtcbmZ1bmN0aW9uIHJhd0FzYXAodGFzaykge1xuICAgIGlmICghcXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHJlcXVlc3RGbHVzaCgpO1xuICAgICAgICBmbHVzaGluZyA9IHRydWU7XG4gICAgfVxuICAgIC8vIEVxdWl2YWxlbnQgdG8gcHVzaCwgYnV0IGF2b2lkcyBhIGZ1bmN0aW9uIGNhbGwuXG4gICAgcXVldWVbcXVldWUubGVuZ3RoXSA9IHRhc2s7XG59XG5cbnZhciBxdWV1ZSA9IFtdO1xuLy8gT25jZSBhIGZsdXNoIGhhcyBiZWVuIHJlcXVlc3RlZCwgbm8gZnVydGhlciBjYWxscyB0byBgcmVxdWVzdEZsdXNoYCBhcmVcbi8vIG5lY2Vzc2FyeSB1bnRpbCB0aGUgbmV4dCBgZmx1c2hgIGNvbXBsZXRlcy5cbnZhciBmbHVzaGluZyA9IGZhbHNlO1xuLy8gYHJlcXVlc3RGbHVzaGAgaXMgYW4gaW1wbGVtZW50YXRpb24tc3BlY2lmaWMgbWV0aG9kIHRoYXQgYXR0ZW1wdHMgdG8ga2lja1xuLy8gb2ZmIGEgYGZsdXNoYCBldmVudCBhcyBxdWlja2x5IGFzIHBvc3NpYmxlLiBgZmx1c2hgIHdpbGwgYXR0ZW1wdCB0byBleGhhdXN0XG4vLyB0aGUgZXZlbnQgcXVldWUgYmVmb3JlIHlpZWxkaW5nIHRvIHRoZSBicm93c2VyJ3Mgb3duIGV2ZW50IGxvb3AuXG52YXIgcmVxdWVzdEZsdXNoO1xuLy8gVGhlIHBvc2l0aW9uIG9mIHRoZSBuZXh0IHRhc2sgdG8gZXhlY3V0ZSBpbiB0aGUgdGFzayBxdWV1ZS4gVGhpcyBpc1xuLy8gcHJlc2VydmVkIGJldHdlZW4gY2FsbHMgdG8gYGZsdXNoYCBzbyB0aGF0IGl0IGNhbiBiZSByZXN1bWVkIGlmXG4vLyBhIHRhc2sgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbnZhciBpbmRleCA9IDA7XG4vLyBJZiBhIHRhc2sgc2NoZWR1bGVzIGFkZGl0aW9uYWwgdGFza3MgcmVjdXJzaXZlbHksIHRoZSB0YXNrIHF1ZXVlIGNhbiBncm93XG4vLyB1bmJvdW5kZWQuIFRvIHByZXZlbnQgbWVtb3J5IGV4aGF1c3Rpb24sIHRoZSB0YXNrIHF1ZXVlIHdpbGwgcGVyaW9kaWNhbGx5XG4vLyB0cnVuY2F0ZSBhbHJlYWR5LWNvbXBsZXRlZCB0YXNrcy5cbnZhciBjYXBhY2l0eSA9IDEwMjQ7XG5cbi8vIFRoZSBmbHVzaCBmdW5jdGlvbiBwcm9jZXNzZXMgYWxsIHRhc2tzIHRoYXQgaGF2ZSBiZWVuIHNjaGVkdWxlZCB3aXRoXG4vLyBgcmF3QXNhcGAgdW5sZXNzIGFuZCB1bnRpbCBvbmUgb2YgdGhvc2UgdGFza3MgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbi8vIElmIGEgdGFzayB0aHJvd3MgYW4gZXhjZXB0aW9uLCBgZmx1c2hgIGVuc3VyZXMgdGhhdCBpdHMgc3RhdGUgd2lsbCByZW1haW5cbi8vIGNvbnNpc3RlbnQgYW5kIHdpbGwgcmVzdW1lIHdoZXJlIGl0IGxlZnQgb2ZmIHdoZW4gY2FsbGVkIGFnYWluLlxuLy8gSG93ZXZlciwgYGZsdXNoYCBkb2VzIG5vdCBtYWtlIGFueSBhcnJhbmdlbWVudHMgdG8gYmUgY2FsbGVkIGFnYWluIGlmIGFuXG4vLyBleGNlcHRpb24gaXMgdGhyb3duLlxuZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgd2hpbGUgKGluZGV4IDwgcXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBpbmRleDtcbiAgICAgICAgLy8gQWR2YW5jZSB0aGUgaW5kZXggYmVmb3JlIGNhbGxpbmcgdGhlIHRhc2suIFRoaXMgZW5zdXJlcyB0aGF0IHdlIHdpbGxcbiAgICAgICAgLy8gYmVnaW4gZmx1c2hpbmcgb24gdGhlIG5leHQgdGFzayB0aGUgdGFzayB0aHJvd3MgYW4gZXJyb3IuXG4gICAgICAgIGluZGV4ID0gaW5kZXggKyAxO1xuICAgICAgICBxdWV1ZVtjdXJyZW50SW5kZXhdLmNhbGwoKTtcbiAgICAgICAgLy8gUHJldmVudCBsZWFraW5nIG1lbW9yeSBmb3IgbG9uZyBjaGFpbnMgb2YgcmVjdXJzaXZlIGNhbGxzIHRvIGBhc2FwYC5cbiAgICAgICAgLy8gSWYgd2UgY2FsbCBgYXNhcGAgd2l0aGluIHRhc2tzIHNjaGVkdWxlZCBieSBgYXNhcGAsIHRoZSBxdWV1ZSB3aWxsXG4gICAgICAgIC8vIGdyb3csIGJ1dCB0byBhdm9pZCBhbiBPKG4pIHdhbGsgZm9yIGV2ZXJ5IHRhc2sgd2UgZXhlY3V0ZSwgd2UgZG9uJ3RcbiAgICAgICAgLy8gc2hpZnQgdGFza3Mgb2ZmIHRoZSBxdWV1ZSBhZnRlciB0aGV5IGhhdmUgYmVlbiBleGVjdXRlZC5cbiAgICAgICAgLy8gSW5zdGVhZCwgd2UgcGVyaW9kaWNhbGx5IHNoaWZ0IDEwMjQgdGFza3Mgb2ZmIHRoZSBxdWV1ZS5cbiAgICAgICAgaWYgKGluZGV4ID4gY2FwYWNpdHkpIHtcbiAgICAgICAgICAgIC8vIE1hbnVhbGx5IHNoaWZ0IGFsbCB2YWx1ZXMgc3RhcnRpbmcgYXQgdGhlIGluZGV4IGJhY2sgdG8gdGhlXG4gICAgICAgICAgICAvLyBiZWdpbm5pbmcgb2YgdGhlIHF1ZXVlLlxuICAgICAgICAgICAgZm9yICh2YXIgc2NhbiA9IDAsIG5ld0xlbmd0aCA9IHF1ZXVlLmxlbmd0aCAtIGluZGV4OyBzY2FuIDwgbmV3TGVuZ3RoOyBzY2FuKyspIHtcbiAgICAgICAgICAgICAgICBxdWV1ZVtzY2FuXSA9IHF1ZXVlW3NjYW4gKyBpbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBxdWV1ZS5sZW5ndGggLT0gaW5kZXg7XG4gICAgICAgICAgICBpbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICBpbmRleCA9IDA7XG4gICAgZmx1c2hpbmcgPSBmYWxzZTtcbn1cblxuLy8gYHJlcXVlc3RGbHVzaGAgaXMgaW1wbGVtZW50ZWQgdXNpbmcgYSBzdHJhdGVneSBiYXNlZCBvbiBkYXRhIGNvbGxlY3RlZCBmcm9tXG4vLyBldmVyeSBhdmFpbGFibGUgU2F1Y2VMYWJzIFNlbGVuaXVtIHdlYiBkcml2ZXIgd29ya2VyIGF0IHRpbWUgb2Ygd3JpdGluZy5cbi8vIGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kLzFtRy01VVlHdXA1cXhHZEVNV2toUDZCV0N6MDUzTlViMkUxUW9VVFUxNnVBL2VkaXQjZ2lkPTc4MzcyNDU5M1xuXG4vLyBTYWZhcmkgNiBhbmQgNi4xIGZvciBkZXNrdG9wLCBpUGFkLCBhbmQgaVBob25lIGFyZSB0aGUgb25seSBicm93c2VycyB0aGF0XG4vLyBoYXZlIFdlYktpdE11dGF0aW9uT2JzZXJ2ZXIgYnV0IG5vdCB1bi1wcmVmaXhlZCBNdXRhdGlvbk9ic2VydmVyLlxuLy8gTXVzdCB1c2UgYGdsb2JhbGAgb3IgYHNlbGZgIGluc3RlYWQgb2YgYHdpbmRvd2AgdG8gd29yayBpbiBib3RoIGZyYW1lcyBhbmQgd2ViXG4vLyB3b3JrZXJzLiBgZ2xvYmFsYCBpcyBhIHByb3Zpc2lvbiBvZiBCcm93c2VyaWZ5LCBNciwgTXJzLCBvciBNb3AuXG5cbi8qIGdsb2JhbHMgc2VsZiAqL1xudmFyIHNjb3BlID0gdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHNlbGY7XG52YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBzY29wZS5NdXRhdGlvbk9ic2VydmVyIHx8IHNjb3BlLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG5cbi8vIE11dGF0aW9uT2JzZXJ2ZXJzIGFyZSBkZXNpcmFibGUgYmVjYXVzZSB0aGV5IGhhdmUgaGlnaCBwcmlvcml0eSBhbmQgd29ya1xuLy8gcmVsaWFibHkgZXZlcnl3aGVyZSB0aGV5IGFyZSBpbXBsZW1lbnRlZC5cbi8vIFRoZXkgYXJlIGltcGxlbWVudGVkIGluIGFsbCBtb2Rlcm4gYnJvd3NlcnMuXG4vL1xuLy8gLSBBbmRyb2lkIDQtNC4zXG4vLyAtIENocm9tZSAyNi0zNFxuLy8gLSBGaXJlZm94IDE0LTI5XG4vLyAtIEludGVybmV0IEV4cGxvcmVyIDExXG4vLyAtIGlQYWQgU2FmYXJpIDYtNy4xXG4vLyAtIGlQaG9uZSBTYWZhcmkgNy03LjFcbi8vIC0gU2FmYXJpIDYtN1xuaWYgKHR5cGVvZiBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmVxdWVzdEZsdXNoID0gbWFrZVJlcXVlc3RDYWxsRnJvbU11dGF0aW9uT2JzZXJ2ZXIoZmx1c2gpO1xuXG4vLyBNZXNzYWdlQ2hhbm5lbHMgYXJlIGRlc2lyYWJsZSBiZWNhdXNlIHRoZXkgZ2l2ZSBkaXJlY3QgYWNjZXNzIHRvIHRoZSBIVE1MXG4vLyB0YXNrIHF1ZXVlLCBhcmUgaW1wbGVtZW50ZWQgaW4gSW50ZXJuZXQgRXhwbG9yZXIgMTAsIFNhZmFyaSA1LjAtMSwgYW5kIE9wZXJhXG4vLyAxMS0xMiwgYW5kIGluIHdlYiB3b3JrZXJzIGluIG1hbnkgZW5naW5lcy5cbi8vIEFsdGhvdWdoIG1lc3NhZ2UgY2hhbm5lbHMgeWllbGQgdG8gYW55IHF1ZXVlZCByZW5kZXJpbmcgYW5kIElPIHRhc2tzLCB0aGV5XG4vLyB3b3VsZCBiZSBiZXR0ZXIgdGhhbiBpbXBvc2luZyB0aGUgNG1zIGRlbGF5IG9mIHRpbWVycy5cbi8vIEhvd2V2ZXIsIHRoZXkgZG8gbm90IHdvcmsgcmVsaWFibHkgaW4gSW50ZXJuZXQgRXhwbG9yZXIgb3IgU2FmYXJpLlxuXG4vLyBJbnRlcm5ldCBFeHBsb3JlciAxMCBpcyB0aGUgb25seSBicm93c2VyIHRoYXQgaGFzIHNldEltbWVkaWF0ZSBidXQgZG9lc1xuLy8gbm90IGhhdmUgTXV0YXRpb25PYnNlcnZlcnMuXG4vLyBBbHRob3VnaCBzZXRJbW1lZGlhdGUgeWllbGRzIHRvIHRoZSBicm93c2VyJ3MgcmVuZGVyZXIsIGl0IHdvdWxkIGJlXG4vLyBwcmVmZXJyYWJsZSB0byBmYWxsaW5nIGJhY2sgdG8gc2V0VGltZW91dCBzaW5jZSBpdCBkb2VzIG5vdCBoYXZlXG4vLyB0aGUgbWluaW11bSA0bXMgcGVuYWx0eS5cbi8vIFVuZm9ydHVuYXRlbHkgdGhlcmUgYXBwZWFycyB0byBiZSBhIGJ1ZyBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMCBNb2JpbGUgKGFuZFxuLy8gRGVza3RvcCB0byBhIGxlc3NlciBleHRlbnQpIHRoYXQgcmVuZGVycyBib3RoIHNldEltbWVkaWF0ZSBhbmRcbi8vIE1lc3NhZ2VDaGFubmVsIHVzZWxlc3MgZm9yIHRoZSBwdXJwb3NlcyBvZiBBU0FQLlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2lzc3Vlcy8zOTZcblxuLy8gVGltZXJzIGFyZSBpbXBsZW1lbnRlZCB1bml2ZXJzYWxseS5cbi8vIFdlIGZhbGwgYmFjayB0byB0aW1lcnMgaW4gd29ya2VycyBpbiBtb3N0IGVuZ2luZXMsIGFuZCBpbiBmb3JlZ3JvdW5kXG4vLyBjb250ZXh0cyBpbiB0aGUgZm9sbG93aW5nIGJyb3dzZXJzLlxuLy8gSG93ZXZlciwgbm90ZSB0aGF0IGV2ZW4gdGhpcyBzaW1wbGUgY2FzZSByZXF1aXJlcyBudWFuY2VzIHRvIG9wZXJhdGUgaW4gYVxuLy8gYnJvYWQgc3BlY3RydW0gb2YgYnJvd3NlcnMuXG4vL1xuLy8gLSBGaXJlZm94IDMtMTNcbi8vIC0gSW50ZXJuZXQgRXhwbG9yZXIgNi05XG4vLyAtIGlQYWQgU2FmYXJpIDQuM1xuLy8gLSBMeW54IDIuOC43XG59IGVsc2Uge1xuICAgIHJlcXVlc3RGbHVzaCA9IG1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcihmbHVzaCk7XG59XG5cbi8vIGByZXF1ZXN0Rmx1c2hgIHJlcXVlc3RzIHRoYXQgdGhlIGhpZ2ggcHJpb3JpdHkgZXZlbnQgcXVldWUgYmUgZmx1c2hlZCBhc1xuLy8gc29vbiBhcyBwb3NzaWJsZS5cbi8vIFRoaXMgaXMgdXNlZnVsIHRvIHByZXZlbnQgYW4gZXJyb3IgdGhyb3duIGluIGEgdGFzayBmcm9tIHN0YWxsaW5nIHRoZSBldmVudFxuLy8gcXVldWUgaWYgdGhlIGV4Y2VwdGlvbiBoYW5kbGVkIGJ5IE5vZGUuanPigJlzXG4vLyBgcHJvY2Vzcy5vbihcInVuY2F1Z2h0RXhjZXB0aW9uXCIpYCBvciBieSBhIGRvbWFpbi5cbnJhd0FzYXAucmVxdWVzdEZsdXNoID0gcmVxdWVzdEZsdXNoO1xuXG4vLyBUbyByZXF1ZXN0IGEgaGlnaCBwcmlvcml0eSBldmVudCwgd2UgaW5kdWNlIGEgbXV0YXRpb24gb2JzZXJ2ZXIgYnkgdG9nZ2xpbmdcbi8vIHRoZSB0ZXh0IG9mIGEgdGV4dCBub2RlIGJldHdlZW4gXCIxXCIgYW5kIFwiLTFcIi5cbmZ1bmN0aW9uIG1ha2VSZXF1ZXN0Q2FsbEZyb21NdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHRvZ2dsZSA9IDE7XG4gICAgdmFyIG9ic2VydmVyID0gbmV3IEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGNhbGxiYWNrKTtcbiAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xuICAgIG9ic2VydmVyLm9ic2VydmUobm9kZSwge2NoYXJhY3RlckRhdGE6IHRydWV9KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVxdWVzdENhbGwoKSB7XG4gICAgICAgIHRvZ2dsZSA9IC10b2dnbGU7XG4gICAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZTtcbiAgICB9O1xufVxuXG4vLyBUaGUgbWVzc2FnZSBjaGFubmVsIHRlY2huaXF1ZSB3YXMgZGlzY292ZXJlZCBieSBNYWx0ZSBVYmwgYW5kIHdhcyB0aGVcbi8vIG9yaWdpbmFsIGZvdW5kYXRpb24gZm9yIHRoaXMgbGlicmFyeS5cbi8vIGh0dHA6Ly93d3cubm9uYmxvY2tpbmcuaW8vMjAxMS8wNi93aW5kb3duZXh0dGljay5odG1sXG5cbi8vIFNhZmFyaSA2LjAuNSAoYXQgbGVhc3QpIGludGVybWl0dGVudGx5IGZhaWxzIHRvIGNyZWF0ZSBtZXNzYWdlIHBvcnRzIG9uIGFcbi8vIHBhZ2UncyBmaXJzdCBsb2FkLiBUaGFua2Z1bGx5LCB0aGlzIHZlcnNpb24gb2YgU2FmYXJpIHN1cHBvcnRzXG4vLyBNdXRhdGlvbk9ic2VydmVycywgc28gd2UgZG9uJ3QgbmVlZCB0byBmYWxsIGJhY2sgaW4gdGhhdCBjYXNlLlxuXG4vLyBmdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tTWVzc2FnZUNoYW5uZWwoY2FsbGJhY2spIHtcbi8vICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuLy8gICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gY2FsbGJhY2s7XG4vLyAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuLy8gICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuLy8gICAgIH07XG4vLyB9XG5cbi8vIEZvciByZWFzb25zIGV4cGxhaW5lZCBhYm92ZSwgd2UgYXJlIGFsc28gdW5hYmxlIHRvIHVzZSBgc2V0SW1tZWRpYXRlYFxuLy8gdW5kZXIgYW55IGNpcmN1bXN0YW5jZXMuXG4vLyBFdmVuIGlmIHdlIHdlcmUsIHRoZXJlIGlzIGFub3RoZXIgYnVnIGluIEludGVybmV0IEV4cGxvcmVyIDEwLlxuLy8gSXQgaXMgbm90IHN1ZmZpY2llbnQgdG8gYXNzaWduIGBzZXRJbW1lZGlhdGVgIHRvIGByZXF1ZXN0Rmx1c2hgIGJlY2F1c2Vcbi8vIGBzZXRJbW1lZGlhdGVgIG11c3QgYmUgY2FsbGVkICpieSBuYW1lKiBhbmQgdGhlcmVmb3JlIG11c3QgYmUgd3JhcHBlZCBpbiBhXG4vLyBjbG9zdXJlLlxuLy8gTmV2ZXIgZm9yZ2V0LlxuXG4vLyBmdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tU2V0SW1tZWRpYXRlKGNhbGxiYWNrKSB7XG4vLyAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RDYWxsKCkge1xuLy8gICAgICAgICBzZXRJbW1lZGlhdGUoY2FsbGJhY2spO1xuLy8gICAgIH07XG4vLyB9XG5cbi8vIFNhZmFyaSA2LjAgaGFzIGEgcHJvYmxlbSB3aGVyZSB0aW1lcnMgd2lsbCBnZXQgbG9zdCB3aGlsZSB0aGUgdXNlciBpc1xuLy8gc2Nyb2xsaW5nLiBUaGlzIHByb2JsZW0gZG9lcyBub3QgaW1wYWN0IEFTQVAgYmVjYXVzZSBTYWZhcmkgNi4wIHN1cHBvcnRzXG4vLyBtdXRhdGlvbiBvYnNlcnZlcnMsIHNvIHRoYXQgaW1wbGVtZW50YXRpb24gaXMgdXNlZCBpbnN0ZWFkLlxuLy8gSG93ZXZlciwgaWYgd2UgZXZlciBlbGVjdCB0byB1c2UgdGltZXJzIGluIFNhZmFyaSwgdGhlIHByZXZhbGVudCB3b3JrLWFyb3VuZFxuLy8gaXMgdG8gYWRkIGEgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyIHRoYXQgY2FsbHMgZm9yIGEgZmx1c2guXG5cbi8vIGBzZXRUaW1lb3V0YCBkb2VzIG5vdCBjYWxsIHRoZSBwYXNzZWQgY2FsbGJhY2sgaWYgdGhlIGRlbGF5IGlzIGxlc3MgdGhhblxuLy8gYXBwcm94aW1hdGVseSA3IGluIHdlYiB3b3JrZXJzIGluIEZpcmVmb3ggOCB0aHJvdWdoIDE4LCBhbmQgc29tZXRpbWVzIG5vdFxuLy8gZXZlbiB0aGVuLlxuXG5mdW5jdGlvbiBtYWtlUmVxdWVzdENhbGxGcm9tVGltZXIoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcmVxdWVzdENhbGwoKSB7XG4gICAgICAgIC8vIFdlIGRpc3BhdGNoIGEgdGltZW91dCB3aXRoIGEgc3BlY2lmaWVkIGRlbGF5IG9mIDAgZm9yIGVuZ2luZXMgdGhhdFxuICAgICAgICAvLyBjYW4gcmVsaWFibHkgYWNjb21tb2RhdGUgdGhhdCByZXF1ZXN0LiBUaGlzIHdpbGwgdXN1YWxseSBiZSBzbmFwcGVkXG4gICAgICAgIC8vIHRvIGEgNCBtaWxpc2Vjb25kIGRlbGF5LCBidXQgb25jZSB3ZSdyZSBmbHVzaGluZywgdGhlcmUncyBubyBkZWxheVxuICAgICAgICAvLyBiZXR3ZWVuIGV2ZW50cy5cbiAgICAgICAgdmFyIHRpbWVvdXRIYW5kbGUgPSBzZXRUaW1lb3V0KGhhbmRsZVRpbWVyLCAwKTtcbiAgICAgICAgLy8gSG93ZXZlciwgc2luY2UgdGhpcyB0aW1lciBnZXRzIGZyZXF1ZW50bHkgZHJvcHBlZCBpbiBGaXJlZm94XG4gICAgICAgIC8vIHdvcmtlcnMsIHdlIGVubGlzdCBhbiBpbnRlcnZhbCBoYW5kbGUgdGhhdCB3aWxsIHRyeSB0byBmaXJlXG4gICAgICAgIC8vIGFuIGV2ZW50IDIwIHRpbWVzIHBlciBzZWNvbmQgdW50aWwgaXQgc3VjY2VlZHMuXG4gICAgICAgIHZhciBpbnRlcnZhbEhhbmRsZSA9IHNldEludGVydmFsKGhhbmRsZVRpbWVyLCA1MCk7XG5cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlVGltZXIoKSB7XG4gICAgICAgICAgICAvLyBXaGljaGV2ZXIgdGltZXIgc3VjY2VlZHMgd2lsbCBjYW5jZWwgYm90aCB0aW1lcnMgYW5kXG4gICAgICAgICAgICAvLyBleGVjdXRlIHRoZSBjYWxsYmFjay5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SGFuZGxlKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxIYW5kbGUpO1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8vIFRoaXMgaXMgZm9yIGBhc2FwLmpzYCBvbmx5LlxuLy8gSXRzIG5hbWUgd2lsbCBiZSBwZXJpb2RpY2FsbHkgcmFuZG9taXplZCB0byBicmVhayBhbnkgY29kZSB0aGF0IGRlcGVuZHMgb25cbi8vIGl0cyBleGlzdGVuY2UuXG5yYXdBc2FwLm1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lciA9IG1ha2VSZXF1ZXN0Q2FsbEZyb21UaW1lcjtcblxuLy8gQVNBUCB3YXMgb3JpZ2luYWxseSBhIG5leHRUaWNrIHNoaW0gaW5jbHVkZWQgaW4gUS4gVGhpcyB3YXMgZmFjdG9yZWQgb3V0XG4vLyBpbnRvIHRoaXMgQVNBUCBwYWNrYWdlLiBJdCB3YXMgbGF0ZXIgYWRhcHRlZCB0byBSU1ZQIHdoaWNoIG1hZGUgZnVydGhlclxuLy8gYW1lbmRtZW50cy4gVGhlc2UgZGVjaXNpb25zLCBwYXJ0aWN1bGFybHkgdG8gbWFyZ2luYWxpemUgTWVzc2FnZUNoYW5uZWwgYW5kXG4vLyB0byBjYXB0dXJlIHRoZSBNdXRhdGlvbk9ic2VydmVyIGltcGxlbWVudGF0aW9uIGluIGEgY2xvc3VyZSwgd2VyZSBpbnRlZ3JhdGVkXG4vLyBiYWNrIGludG8gQVNBUCBwcm9wZXIuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvY2RkZjcyMzI1NDZhOWNmODU4NTI0Yjc1Y2RlNmY5ZWRmNzI2MjBhNy9saWIvcnN2cC9hc2FwLmpzXG4iLCIndXNlIHN0cmljdCc7XG5cbi8qIVxuICogZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJyYWNrZXRzMmRvdHM7XG5cbi8qIVxuICogcmVnZXhwIHBhdHRlcm5zLlxuICovXG5cbnZhciBSRVBMQUNFX0JSQUNLRVRTID0gL1xcWyhbXlxcW1xcXV0rKVxcXS9nO1xudmFyIExGVF9SVF9UUklNX0RPVFMgPSAvXlsuXSp8Wy5dKiQvZztcblxuLyoqXG4gKiBDb252ZXJ0IHN0cmluZyB3aXRoIGJyYWNrZXQgbm90YXRpb24gdG8gZG90IHByb3BlcnR5IG5vdGF0aW9uLlxuICpcbiAqICMjIyBFeGFtcGxlczpcbiAqXG4gKiAgICAgIGJyYWNrZXRzMmRvdHMoJ2dyb3VwWzBdLnNlY3Rpb24uYS5zZWF0WzNdJylcbiAqICAgICAgLy89PiAnZ3JvdXAuMC5zZWN0aW9uLmEuc2VhdC4zJ1xuICpcbiAqICAgICAgYnJhY2tldHMyZG90cygnWzBdLnNlY3Rpb24uYS5zZWF0WzNdJylcbiAqICAgICAgLy89PiAnMC5zZWN0aW9uLmEuc2VhdC4zJ1xuICpcbiAqICAgICAgYnJhY2tldHMyZG90cygncGVvcGxlWypdLmFnZScpXG4gKiAgICAgIC8vPT4gJ3Blb3BsZS4qLmFnZSdcbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN0cmluZ1xuICogb3JpZ2luYWwgc3RyaW5nXG4gKlxuICogQHJldHVybiB7U3RyaW5nfVxuICogZG90L2JyYWNrZXQtbm90YXRpb24gc3RyaW5nXG4gKi9cblxuZnVuY3Rpb24gYnJhY2tldHMyZG90cyhzdHJpbmcpIHtcbiAgcmV0dXJuICh7fSkudG9TdHJpbmcuY2FsbChzdHJpbmcpID09ICdbb2JqZWN0IFN0cmluZ10nXG4gICAgICAgPyBzdHJpbmcucmVwbGFjZShSRVBMQUNFX0JSQUNLRVRTLCAnLiQxJykucmVwbGFjZShMRlRfUlRfVFJJTV9ET1RTLCAnJylcbiAgICAgICA6ICcnXG59XG4iLCIvKiFcbiAgQ29weXJpZ2h0IChjKSAyMDE3IEplZCBXYXRzb24uXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAoTUlUKSwgc2VlXG4gIGh0dHA6Ly9qZWR3YXRzb24uZ2l0aHViLmlvL2NsYXNzbmFtZXNcbiovXG4vKiBnbG9iYWwgZGVmaW5lICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgaGFzT3duID0ge30uaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gY2xhc3NOYW1lcyAoKSB7XG5cdFx0dmFyIGNsYXNzZXMgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0aWYgKCFhcmcpIGNvbnRpbnVlO1xuXG5cdFx0XHR2YXIgYXJnVHlwZSA9IHR5cGVvZiBhcmc7XG5cblx0XHRcdGlmIChhcmdUeXBlID09PSAnc3RyaW5nJyB8fCBhcmdUeXBlID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRjbGFzc2VzLnB1c2goYXJnKTtcblx0XHRcdH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhcmcpICYmIGFyZy5sZW5ndGgpIHtcblx0XHRcdFx0dmFyIGlubmVyID0gY2xhc3NOYW1lcy5hcHBseShudWxsLCBhcmcpO1xuXHRcdFx0XHRpZiAoaW5uZXIpIHtcblx0XHRcdFx0XHRjbGFzc2VzLnB1c2goaW5uZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGFyZ1R5cGUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRcdGZvciAodmFyIGtleSBpbiBhcmcpIHtcblx0XHRcdFx0XHRpZiAoaGFzT3duLmNhbGwoYXJnLCBrZXkpICYmIGFyZ1trZXldKSB7XG5cdFx0XHRcdFx0XHRjbGFzc2VzLnB1c2goa2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY2xhc3Nlcy5qb2luKCcgJyk7XG5cdH1cblxuXHRpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcblx0XHRjbGFzc05hbWVzLmRlZmF1bHQgPSBjbGFzc05hbWVzO1xuXHRcdG1vZHVsZS5leHBvcnRzID0gY2xhc3NOYW1lcztcblx0fSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUuYW1kID09PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gcmVnaXN0ZXIgYXMgJ2NsYXNzbmFtZXMnLCBjb25zaXN0ZW50IHdpdGggbnBtIHBhY2thZ2UgbmFtZVxuXHRcdGRlZmluZSgnY2xhc3NuYW1lcycsIFtdLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gY2xhc3NOYW1lcztcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXM7XG5cdH1cbn0oKSk7XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5vcGFjaXR5LWdob3N0IHtcXG4gIHRyYW5zaXRpb246IGFsbCAuOHMgZWFzZTtcXG4gIG9wYWNpdHk6IDAuNDtcXG4gIGJveC1zaGFkb3c6IDNweCAzcHggMTBweCAzcHggcmdiYSgwLCAwLCAwLCAwLjMpO1xcbiAgY3Vyc29yOiBucy1yZXNpemU7IH1cXG5cXG4ucG9kcy1maWVsZF93cmFwcGVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICB3aWR0aDogYXV0bztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgdHJhbnNpdGlvbjogMjAwbXMgZWFzZSBiYWNrZ3JvdW5kLWNvbG9yOyB9XFxuICAucG9kcy1maWVsZF93cmFwcGVyOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMzsgfVxcblxcbi5wb2RzLWZpZWxkX2hhbmRsZSB7XFxuICB3aWR0aDogMjBweDtcXG4gIG9wYWNpdHk6IC4yO1xcbiAgcGFkZGluZy1sZWZ0OiAxMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMTBweDtcXG4gIGN1cnNvcjogbW92ZTtcXG4gIG1hcmdpbi1ib3R0b206IC01cHg7IH1cXG5cXG4ucG9kcy1maWVsZF9yZXF1aXJlZCB7XFxuICBjb2xvcjogcmVkOyB9XFxuXFxuLnBvZHMtZmllbGRfYWN0aW9ucyB7XFxuICBkaXNwbGF5OiBmbGV4OyB9XFxuXFxuLnBvZHMtZmllbGRfYWN0aW9ucyBpIHtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBjb2xvcjogIzAwNzNhYTsgfVxcbiAgLnBvZHMtZmllbGRfYWN0aW9ucyBpOmhvdmVyIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBjb2xvcjogIzAwYTBkMjsgfVxcblxcbi5wb2RzLWZpZWxkX2xhYmVsIHtcXG4gIHBhZGRpbmctbGVmdDogMDsgfVxcblxcbi5wb2RzLWZpZWxkX2xhYmVsOmhvdmVyIC5wb2RzLWZpZWxkX2lkLFxcbi5wb2RzLWZpZWxkX3R5cGU6aG92ZXIgLnBvZHMtZmllbGRfaWQge1xcbiAgb3BhY2l0eTogMTtcXG4gIGhlaWdodDogYXV0bzsgfVxcblxcbi5wb2RzLWZpZWxkX2lkIHtcXG4gIGZvbnQtc2l6ZTogMTNweDtcXG4gIGNvbG9yOiAjOTk5O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgb3BhY2l0eTogMDtcXG4gIGhlaWdodDogMDtcXG4gIHRyYW5zaXRpb246IDIwMG1zIGVhc2Ugb3BhY2l0eTtcXG4gIGRpc3BsYXk6IGJsb2NrOyB9XFxuXFxuLnBvZHMtZmllbGRfbGFiZWwsXFxuLnBvZHMtZmllbGRfbmFtZSB7XFxuICBjb2xvcjogIzAwNzNhYTsgfVxcbiAgLnBvZHMtZmllbGRfbGFiZWw6aG92ZXIsXFxuICAucG9kcy1maWVsZF9uYW1lOmhvdmVyIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBjb2xvcjogIzAwYTBkMjsgfVxcblxcbi5wb2RzLWZpZWxkX2xhYmVsLFxcbi5wb2RzLWZpZWxkX3R5cGUge1xcbiAgd2lkdGg6IDMwJTsgfVxcblxcbi5wb2RzLWZpZWxkX25hbWUge1xcbiAgZGlzcGxheTogbm9uZTsgfVxcblxcbi5wb2RzLWZpZWxkX3dyYXBwZXItbGFiZWxzIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7XFxuICBmb250LXdlaWdodDogNjAwO1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2U1ZTVlNTtcXG4gIGJvcmRlci1sZWZ0OiBub25lO1xcbiAgYm9yZGVyLXJpZ2h0OiBub25lOyB9XFxuICAucG9kcy1maWVsZF93cmFwcGVyLWxhYmVsczpmaXJzdC1jaGlsZCB7XFxuICAgIGJvcmRlci10b3A6IG5vbmU7IH1cXG5cXG4ucG9kcy1maWVsZF93cmFwcGVyLWxhYmVscyAucG9kcy1maWVsZF9oYW5kbGUge1xcbiAgY3Vyc29yOiBpbmhlcml0OyB9XFxuXFxuLnBvZHMtZmllbGRfd3JhcHBlci1sYWJlbC1pdGVtcyB7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7IH1cXG4gIC5wb2RzLWZpZWxkX3dyYXBwZXItbGFiZWwtaXRlbXM6Zmlyc3QtY2hpbGQge1xcbiAgICBtYXJnaW4tbGVmdDogNDZweDsgfVxcblxcbi5wb2RzLWZpZWxkLWdyb3VwLXdyYXBwZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7IH1cXG4gIC5wb2RzLWZpZWxkLWdyb3VwLXdyYXBwZXIgPiAucG9kcy1maWVsZF93cmFwcGVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMzsgfVxcbiAgICAucG9kcy1maWVsZC1ncm91cC13cmFwcGVyID4gLnBvZHMtZmllbGRfd3JhcHBlcjpob3ZlciB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2U0ZTRlNDsgfVxcbiAgLnBvZHMtZmllbGQtZ3JvdXAtd3JhcHBlcjpsYXN0LWNoaWxkIHtcXG4gICAgYm9yZGVyLWJvdHRvbTogMDsgfVxcblxcbi5wb2RzLWZpZWxkLWdyb3VwX3RpdGxlIHtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgY29sb3I6ICMzMzM7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZTVlNWU1O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfVxcblxcbi5wb2RzLWZpZWxkLWdyb3VwX2hhbmRsZSB7XFxuICBwYWRkaW5nLXJpZ2h0OiAxM3B4O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGN1cnNvcjogbW92ZTsgfVxcblxcbi5wb2RzLWZpZWxkLWdyb3VwX2VkaXQge1xcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XFxuICBjb2xvcjogIzAwNzNhYTtcXG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IGJvcmRlcixiYWNrZ3JvdW5kLGNvbG9yO1xcbiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogLjA1cztcXG4gIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDtcXG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbiAgY3Vyc29yOiBwb2ludGVyOyB9XFxuXFxuLnBvZHMtYnV0dG9uLWdyb3VwX2NvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xcbiAgbWFyZ2luLXRvcDogMTBweDsgfVxcblxcbi5wb2RzLWZpZWxkLWdyb3VwX3RvZ2dsZSB7XFxuICBjdXJzb3I6IHBvaW50ZXI7IH1cXG5cXG4ucG9kcy1idXR0b24tZ3JvdXBfaXRlbSB7XFxuICBwYWRkaW5nOiAxMHB4IDIwcHg7XFxuICBjb2xvcjogIzMzMztcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIHRyYW5zaXRpb246IDMwMG1zIGVhc2UgYmFja2dyb3VuZC1jb2xvcjsgfVxcbiAgLnBvZHMtYnV0dG9uLWdyb3VwX2l0ZW06aG92ZXIge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBlMGUwOyB9XFxuICAucG9kcy1idXR0b24tZ3JvdXBfaXRlbTpsYXN0LWNoaWxkIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzk0YmYzYTtcXG4gICAgY29sb3I6IHdoaXRlOyB9XFxuICAgIC5wb2RzLWJ1dHRvbi1ncm91cF9pdGVtOmxhc3QtY2hpbGQ6aG92ZXIge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM3YzllMzM7IH1cXG5cXG4ucG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncyB7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTsgfVxcbiAgLnBvZHMtZmllbGQtZ3JvdXBfc2V0dGluZ3MtLXZpc2libGUge1xcbiAgICBkaXNwbGF5OiBibG9jazsgfVxcblxcbi5wb2RzLWZpZWxkLWdyb3VwX3NldHRpbmdzIC5jb21wb25lbnRzLW1vZGFsX19jb250ZW50IHtcXG4gIHBhZGRpbmc6IDA7IH1cXG5cXG4ucG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncyAuY29tcG9uZW50cy1tb2RhbF9faGVhZGVyIHtcXG4gIHBhZGRpbmc6IDAgMzZweDtcXG4gIG1hcmdpbi1ib3R0b206IDA7IH1cXG5cXG4ucG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncy1jb250YWluZXIge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtYXJnaW46IDAgYXV0bztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDU2cHgpOyB9XFxuXFxuLnBvZHMtZmllbGQtZ3JvdXBfc2V0dGluZ3Mtb3B0aW9ucyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvdmVyZmxvdzogaGlkZGVuOyB9XFxuXFxuLnBvZHMtZmllbGQtZ3JvdXBfaGVhZGluZyB7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U1ZTVlNTtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBmb250LXdlaWdodDogYm9sZGVyO1xcbiAgZm9udC1zaXplOiAxNnB4OyB9XFxuXFxuLnBvZHMtZmllbGQtZ3JvdXBfc2V0dGluZ3Mtc2lkZWJhciB7XFxuICB3aWR0aDogMzUlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDA7XFxuICBoZWlnaHQ6IDEwMCU7IH1cXG4gIC5wb2RzLWZpZWxkLWdyb3VwX3NldHRpbmdzLXNpZGViYXItaXRlbSB7XFxuICAgIHBhZGRpbmc6IDEwcHg7XFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYzZjYmQwO1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIHRyYW5zaXRpb246IDMwMG1zIGVhc2UgYmFja2dyb3VuZC1jb2xvcjsgfVxcbiAgICAucG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncy1zaWRlYmFyLWl0ZW06bGFzdC1jaGlsZCB7XFxuICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTsgfVxcbiAgICAucG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncy1zaWRlYmFyLWl0ZW0tLWFjdGl2ZSB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXG4gICAgICBmb250LXdlaWdodDogYm9sZGVyO1xcbiAgICAgIG1hcmdpbi1yaWdodDogLTJweDsgfVxcbiAgICAucG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncy1zaWRlYmFyLWl0ZW06aG92ZXIge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlZWU7IH1cXG5cXG4ucG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncy1tYWluLFxcbi5wb2RzLWZpZWxkLWdyb3VwX3NldHRpbmdzLWFkdmFuY2VkLFxcbi5wb2RzLWZpZWxkLWdyb3VwX3NldHRpbmdzLW90aGVyIHtcXG4gIHdpZHRoOiA2NSU7XFxuICBwYWRkaW5nOiAyMHB4O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMzUlOyB9XFxuXFxuLnBvZHMtaW5wdXQtY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgcGFkZGluZy1ib3R0b206IDIwcHg7IH1cXG4gIC5wb2RzLWlucHV0LWNvbnRhaW5lcjpsYXN0LWNoaWxkIHtcXG4gICAgcGFkZGluZy1ib3R0b206IDA7IH1cXG5cXG4ucG9kcy1sYWJlbF90ZXh0IHtcXG4gIHdpZHRoOiAzMCU7XFxuICBwYWRkaW5nLXJpZ2h0OiAyMHB4O1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7IH1cXG5cXG4ucG9kcy1pbnB1dCB7XFxuICB3aWR0aDogNzAlOyB9XFxuXFxuLyogTWVkaWEgUXVlcmllcyAqL1xcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDg1MHB4KSB7XFxuICAucG9kcy1maWVsZF9uYW1lIHtcXG4gICAgZGlzcGxheTogYmxvY2s7IH1cXG4gIC5wb2RzLWZpZWxkX2lkIHtcXG4gICAgZGlzcGxheTogaW5saW5lOyB9IH1cXG5cIiwgXCJcIl0pO1xuXG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5wb2RzLW1hbmFnZS1maWVsZHMge1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjZTVlNWU1O1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2U1ZTVlNTsgfVxcblxcbi5wb2RzLW1hbmFnZS1maWVsZHMubm8tZmllbGRzIHtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgcGFkZGluZzogMWVtOyB9XFxuXFxuLnBvZHMtZmllbGRfaGFuZGxlIHtcXG4gIHdpZHRoOiBhdXRvO1xcbiAgb3BhY2l0eTogLjI7IH1cXG5cXG4ucG9kcy1maWVsZF9yZXF1aXJlZCB7XFxuICBjb2xvcjogcmVkOyB9XFxuXFxuLnBvZHMtZmllbGRfYWN0aW9ucyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgd2lkdGg6IGF1dG87IH1cXG5cXG4ucG9kcy1maWVsZF9hY3Rpb25zIC5kYXNoaWNvbiB7XFxuICBwYWRkaW5nOiAxMnB4IDEwcHg7XFxuICBjb2xvcjogIzAwNzNhYTsgfVxcbiAgLnBvZHMtZmllbGRfYWN0aW9ucyAuZGFzaGljb246aG92ZXIge1xcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIGNvbG9yOiAjMDBhMGQyOyB9XFxuXFxuLnBvZHMtZmllbGRfbGFiZWwge1xcbiAgcGFkZGluZy1sZWZ0OiAwOyB9XFxuXFxuLnBvZHMtZmllbGRfbGFiZWw6aG92ZXIgLnBvZHMtZmllbGRfaWQsXFxuLnBvZHMtZmllbGRfdHlwZTpob3ZlciAucG9kcy1maWVsZF9pZCB7XFxuICBvcGFjaXR5OiAxOyB9XFxuXFxuLnBvZHMtZmllbGRfaWQge1xcbiAgZm9udC1zaXplOiAxM3B4O1xcbiAgY29sb3I6ICM5OTk7XFxuICBkaXNwbGF5OiBpbmxpbmU7XFxuICBvcGFjaXR5OiAwO1xcbiAgdHJhbnNpdGlvbjogMjAwbXMgZWFzZSBvcGFjaXR5OyB9XFxuXFxuLnBvZHMtZmllbGRfbGFiZWwsXFxuLnBvZHMtZmllbGRfbmFtZSB7XFxuICBjb2xvcjogIzAwNzNhYTsgfVxcbiAgLnBvZHMtZmllbGRfbGFiZWw6aG92ZXIsXFxuICAucG9kcy1maWVsZF9uYW1lOmhvdmVyIHtcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICBjb2xvcjogIzAwYTBkMjsgfVxcblxcbi5wb2RzLWZpZWxkX2xhYmVsIHtcXG4gIGZsZXg6IDE7IH1cXG5cXG4ucG9kcy1maWVsZF9uYW1lIHtcXG4gIGZsZXg6IDE7IH1cXG5cXG4ucG9kcy1maWVsZF93cmFwcGVyLWxhYmVscyB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHdoaXRlc21va2U7IH1cXG5cXG4ucG9kcy1maWVsZF93cmFwcGVyLWxhYmVsLWl0ZW1zIHtcXG4gIHdpZHRoOiAxNzJweDtcXG4gIHBhZGRpbmc6IDIwcHggMjBweCAxN3B4O1xcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OyB9XFxuICAucG9kcy1maWVsZF93cmFwcGVyLWxhYmVsLWl0ZW1zOmZpcnN0LWNoaWxkIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDM2cHg7IH1cXG5cIiwgXCJcIl0pO1xuXG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gJ0BtZWRpYSAnICsgaXRlbVsyXSArICd7JyArIGNvbnRlbnQgKyAnfSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgIH1cbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gbW9kdWxlc1tpXTsgLy8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuICAgICAgLy8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcbiAgICAgIC8vIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cbiAgICAgIC8vIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblxuICAgICAgaWYgKGl0ZW1bMF0gPT0gbnVsbCB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBpZiAobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2UgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICBpdGVtWzJdID0gJygnICsgaXRlbVsyXSArICcpIGFuZCAoJyArIG1lZGlhUXVlcnkgKyAnKSc7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLyc7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG4gIHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59IiwiJ3VzZSBzdHJpY3QnXG5cbi8qIVxuICogaW1wb3J0cy5cbiAqL1xuXG52YXIgYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kIHx8IHJlcXVpcmUoJ2Zhc3QtYmluZCcpXG5cbi8qIVxuICogZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGN1cnJ5MlxuXG4vKipcbiAqIEN1cnJ5IGEgYmluYXJ5IGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBCaW5hcnkgZnVuY3Rpb24gdG8gY3VycnkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IFtzZWxmXVxuICogRnVuY3Rpb24gYHRoaXNgIGNvbnRleHQuXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb258Kn1cbiAqIElmIHBhcnRpYWxseSBhcHBsaWVkLCByZXR1cm4gdW5hcnkgZnVuY3Rpb24sIG90aGVyd2lzZSwgcmV0dXJuIHJlc3VsdCBvZiBmdWxsIGFwcGxpY2F0aW9uLlxuICovXG5cbmZ1bmN0aW9uIGN1cnJ5MiAoZm4sIHNlbGYpIHtcbiAgdmFyIG91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG91dFxuXG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxXG4gICAgICA/IGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cylcbiAgICAgIDogYmluZC5jYWxsKGZuLCBzZWxmLCBhcmd1bWVudHNbMF0pXG4gIH1cblxuICBvdXQudW5jdXJyeSA9IGZ1bmN0aW9uIHVuY3VycnkgKCkge1xuICAgIHJldHVybiBmblxuICB9XG5cbiAgcmV0dXJuIG91dFxufVxuIiwiLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKlxuICogRXhwb3NlIGBkZWJ1ZygpYCBhcyB0aGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZGVidWcnKTtcbmV4cG9ydHMubG9nID0gbG9nO1xuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lXG4gICAgICAgICAgICAgICAmJiAndW5kZWZpbmVkJyAhPSB0eXBlb2YgY2hyb21lLnN0b3JhZ2VcbiAgICAgICAgICAgICAgICAgID8gY2hyb21lLnN0b3JhZ2UubG9jYWxcbiAgICAgICAgICAgICAgICAgIDogbG9jYWxzdG9yYWdlKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuICAnbGlnaHRzZWFncmVlbicsXG4gICdmb3Jlc3RncmVlbicsXG4gICdnb2xkZW5yb2QnLFxuICAnZG9kZ2VyYmx1ZScsXG4gICdkYXJrb3JjaGlkJyxcbiAgJ2NyaW1zb24nXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcbiAgLy8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuICAvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuICAvLyBleHBsaWNpdGx5XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiB3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBpcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuICAvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuICByZXR1cm4gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSkgfHxcbiAgICAvLyBpcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG4gICAgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8ICh3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpKSkgfHxcbiAgICAvLyBpcyBmaXJlZm94ID49IHYzMT9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcbiAgICAvLyBkb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG4gICAgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzLmogPSBmdW5jdGlvbih2KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gJ1tVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAnICsgZXJyLm1lc3NhZ2U7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcbiAgdmFyIHVzZUNvbG9ycyA9IHRoaXMudXNlQ29sb3JzO1xuXG4gIGFyZ3NbMF0gPSAodXNlQ29sb3JzID8gJyVjJyA6ICcnKVxuICAgICsgdGhpcy5uYW1lc3BhY2VcbiAgICArICh1c2VDb2xvcnMgPyAnICVjJyA6ICcgJylcbiAgICArIGFyZ3NbMF1cbiAgICArICh1c2VDb2xvcnMgPyAnJWMgJyA6ICcgJylcbiAgICArICcrJyArIGV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuICBpZiAoIXVzZUNvbG9ycykgcmV0dXJuO1xuXG4gIHZhciBjID0gJ2NvbG9yOiAnICsgdGhpcy5jb2xvcjtcbiAgYXJncy5zcGxpY2UoMSwgMCwgYywgJ2NvbG9yOiBpbmhlcml0JylcblxuICAvLyB0aGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuICAvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG4gIC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuICB2YXIgaW5kZXggPSAwO1xuICB2YXIgbGFzdEMgPSAwO1xuICBhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICBpZiAoJyUlJyA9PT0gbWF0Y2gpIHJldHVybjtcbiAgICBpbmRleCsrO1xuICAgIGlmICgnJWMnID09PSBtYXRjaCkge1xuICAgICAgLy8gd2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG4gICAgICAvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuICAgICAgbGFzdEMgPSBpbmRleDtcbiAgICB9XG4gIH0pO1xuXG4gIGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmxvZygpYCB3aGVuIGF2YWlsYWJsZS5cbiAqIE5vLW9wIHdoZW4gYGNvbnNvbGUubG9nYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBsb2coKSB7XG4gIC8vIHRoaXMgaGFja2VyeSBpcyByZXF1aXJlZCBmb3IgSUU4LzksIHdoZXJlXG4gIC8vIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uIGRvZXNuJ3QgaGF2ZSAnYXBwbHknXG4gIHJldHVybiAnb2JqZWN0JyA9PT0gdHlwZW9mIGNvbnNvbGVcbiAgICAmJiBjb25zb2xlLmxvZ1xuICAgICYmIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLCBjb25zb2xlLCBhcmd1bWVudHMpO1xufVxuXG4vKipcbiAqIFNhdmUgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcbiAgdHJ5IHtcbiAgICBpZiAobnVsbCA9PSBuYW1lc3BhY2VzKSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UucmVtb3ZlSXRlbSgnZGVidWcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhwb3J0cy5zdG9yYWdlLmRlYnVnID0gbmFtZXNwYWNlcztcbiAgICB9XG4gIH0gY2F0Y2goZSkge31cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2FkKCkge1xuICB2YXIgcjtcbiAgdHJ5IHtcbiAgICByID0gZXhwb3J0cy5zdG9yYWdlLmRlYnVnO1xuICB9IGNhdGNoKGUpIHt9XG5cbiAgLy8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuICBpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcbiAgICByID0gcHJvY2Vzcy5lbnYuREVCVUc7XG4gIH1cblxuICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBFbmFibGUgbmFtZXNwYWNlcyBsaXN0ZWQgaW4gYGxvY2FsU3RvcmFnZS5kZWJ1Z2AgaW5pdGlhbGx5LlxuICovXG5cbmV4cG9ydHMuZW5hYmxlKGxvYWQoKSk7XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuICB0cnkge1xuICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlO1xuICB9IGNhdGNoIChlKSB7fVxufVxuIiwiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKlxuICogRXhwb3NlIGBkZWJ1ZygpYCBhcyB0aGUgbW9kdWxlLlxuICovXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWdbJ2RlZmF1bHQnXSA9IGNyZWF0ZURlYnVnO1xuZXhwb3J0cy5jb2VyY2UgPSBjb2VyY2U7XG5leHBvcnRzLmRpc2FibGUgPSBkaXNhYmxlO1xuZXhwb3J0cy5lbmFibGUgPSBlbmFibGU7XG5leHBvcnRzLmVuYWJsZWQgPSBlbmFibGVkO1xuZXhwb3J0cy5odW1hbml6ZSA9IHJlcXVpcmUoJ21zJyk7XG5cbi8qKlxuICogVGhlIGN1cnJlbnRseSBhY3RpdmUgZGVidWcgbW9kZSBuYW1lcywgYW5kIG5hbWVzIHRvIHNraXAuXG4gKi9cblxuZXhwb3J0cy5uYW1lcyA9IFtdO1xuZXhwb3J0cy5za2lwcyA9IFtdO1xuXG4vKipcbiAqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cbiAqXG4gKiBWYWxpZCBrZXkgbmFtZXMgYXJlIGEgc2luZ2xlLCBsb3dlciBvciB1cHBlci1jYXNlIGxldHRlciwgaS5lLiBcIm5cIiBhbmQgXCJOXCIuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXR0ZXJzID0ge307XG5cbi8qKlxuICogUHJldmlvdXMgbG9nIHRpbWVzdGFtcC5cbiAqL1xuXG52YXIgcHJldlRpbWU7XG5cbi8qKlxuICogU2VsZWN0IGEgY29sb3IuXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcbiAgdmFyIGhhc2ggPSAwLCBpO1xuXG4gIGZvciAoaSBpbiBuYW1lc3BhY2UpIHtcbiAgICBoYXNoICA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG4gICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgfVxuXG4gIHJldHVybiBleHBvcnRzLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGV4cG9ydHMuY29sb3JzLmxlbmd0aF07XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXG4gIGZ1bmN0aW9uIGRlYnVnKCkge1xuICAgIC8vIGRpc2FibGVkP1xuICAgIGlmICghZGVidWcuZW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgdmFyIHNlbGYgPSBkZWJ1ZztcblxuICAgIC8vIHNldCBgZGlmZmAgdGltZXN0YW1wXG4gICAgdmFyIGN1cnIgPSArbmV3IERhdGUoKTtcbiAgICB2YXIgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuICAgIHNlbGYuZGlmZiA9IG1zO1xuICAgIHNlbGYucHJldiA9IHByZXZUaW1lO1xuICAgIHNlbGYuY3VyciA9IGN1cnI7XG4gICAgcHJldlRpbWUgPSBjdXJyO1xuXG4gICAgLy8gdHVybiB0aGUgYGFyZ3VtZW50c2AgaW50byBhIHByb3BlciBBcnJheVxuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBhcmdzWzBdID0gZXhwb3J0cy5jb2VyY2UoYXJnc1swXSk7XG5cbiAgICBpZiAoJ3N0cmluZycgIT09IHR5cGVvZiBhcmdzWzBdKSB7XG4gICAgICAvLyBhbnl0aGluZyBlbHNlIGxldCdzIGluc3BlY3Qgd2l0aCAlT1xuICAgICAgYXJncy51bnNoaWZ0KCclTycpO1xuICAgIH1cblxuICAgIC8vIGFwcGx5IGFueSBgZm9ybWF0dGVyc2AgdHJhbnNmb3JtYXRpb25zXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICBhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgZnVuY3Rpb24obWF0Y2gsIGZvcm1hdCkge1xuICAgICAgLy8gaWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuICAgICAgaWYgKG1hdGNoID09PSAnJSUnKSByZXR1cm4gbWF0Y2g7XG4gICAgICBpbmRleCsrO1xuICAgICAgdmFyIGZvcm1hdHRlciA9IGV4cG9ydHMuZm9ybWF0dGVyc1tmb3JtYXRdO1xuICAgICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBmb3JtYXR0ZXIpIHtcbiAgICAgICAgdmFyIHZhbCA9IGFyZ3NbaW5kZXhdO1xuICAgICAgICBtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cbiAgICAgICAgLy8gbm93IHdlIG5lZWQgdG8gcmVtb3ZlIGBhcmdzW2luZGV4XWAgc2luY2UgaXQncyBpbmxpbmVkIGluIHRoZSBgZm9ybWF0YFxuICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGluZGV4LS07XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG5cbiAgICAvLyBhcHBseSBlbnYtc3BlY2lmaWMgZm9ybWF0dGluZyAoY29sb3JzLCBldGMuKVxuICAgIGV4cG9ydHMuZm9ybWF0QXJncy5jYWxsKHNlbGYsIGFyZ3MpO1xuXG4gICAgdmFyIGxvZ0ZuID0gZGVidWcubG9nIHx8IGV4cG9ydHMubG9nIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gICAgbG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gIH1cblxuICBkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gIGRlYnVnLmVuYWJsZWQgPSBleHBvcnRzLmVuYWJsZWQobmFtZXNwYWNlKTtcbiAgZGVidWcudXNlQ29sb3JzID0gZXhwb3J0cy51c2VDb2xvcnMoKTtcbiAgZGVidWcuY29sb3IgPSBzZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXG4gIC8vIGVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG4gIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgZXhwb3J0cy5pbml0KSB7XG4gICAgZXhwb3J0cy5pbml0KGRlYnVnKTtcbiAgfVxuXG4gIHJldHVybiBkZWJ1Zztcbn1cblxuLyoqXG4gKiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG4gKiBzZXBhcmF0ZWQgYnkgYSBjb2xvbiBhbmQgd2lsZGNhcmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG4gIGV4cG9ydHMuc2F2ZShuYW1lc3BhY2VzKTtcblxuICBleHBvcnRzLm5hbWVzID0gW107XG4gIGV4cG9ydHMuc2tpcHMgPSBbXTtcblxuICB2YXIgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuICB2YXIgbGVuID0gc3BsaXQubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoIXNwbGl0W2ldKSBjb250aW51ZTsgLy8gaWdub3JlIGVtcHR5IHN0cmluZ3NcbiAgICBuYW1lc3BhY2VzID0gc3BsaXRbaV0ucmVwbGFjZSgvXFwqL2csICcuKj8nKTtcbiAgICBpZiAobmFtZXNwYWNlc1swXSA9PT0gJy0nKSB7XG4gICAgICBleHBvcnRzLnNraXBzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzLnN1YnN0cigxKSArICckJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBkaXNhYmxlKCkge1xuICBleHBvcnRzLmVuYWJsZSgnJyk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlbmFibGVkKG5hbWUpIHtcbiAgdmFyIGksIGxlbjtcbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5za2lwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLnNraXBzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZm9yIChpID0gMCwgbGVuID0gZXhwb3J0cy5uYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlmIChleHBvcnRzLm5hbWVzW2ldLnRlc3QobmFtZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQ29lcmNlIGB2YWxgLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICogQHJldHVybiB7TWl4ZWR9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb2VyY2UodmFsKSB7XG4gIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikgcmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcbiAgcmV0dXJuIHZhbDtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlZHV4XzEgPSByZXF1aXJlKFwicmVkdXhcIik7XG52YXIgcmVkdWNlcnNfMSA9IHJlcXVpcmUoXCIuL3JlZHVjZXJzXCIpO1xudmFyIGRyYWdEcm9wXzEgPSByZXF1aXJlKFwiLi9hY3Rpb25zL2RyYWdEcm9wXCIpO1xudmFyIERyYWdEcm9wTW9uaXRvckltcGxfMSA9IHJlcXVpcmUoXCIuL0RyYWdEcm9wTW9uaXRvckltcGxcIik7XG52YXIgSGFuZGxlclJlZ2lzdHJ5SW1wbF8xID0gcmVxdWlyZShcIi4vSGFuZGxlclJlZ2lzdHJ5SW1wbFwiKTtcbmZ1bmN0aW9uIG1ha2VTdG9yZUluc3RhbmNlKGRlYnVnTW9kZSkge1xuICAgIC8vIFRPRE86IGlmIHdlIGV2ZXIgbWFrZSBhIHJlYWN0LW5hdGl2ZSB2ZXJzaW9uIG9mIHRoaXMsXG4gICAgLy8gd2UnbGwgbmVlZCB0byBjb25zaWRlciBob3cgdG8gcHVsbCBvZmYgZGV2LXRvb2xpbmdcbiAgICB2YXIgcmVkdXhEZXZUb29scyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9fO1xuICAgIHJldHVybiByZWR1eF8xLmNyZWF0ZVN0b3JlKHJlZHVjZXJzXzEuZGVmYXVsdCwgZGVidWdNb2RlICYmXG4gICAgICAgIHJlZHV4RGV2VG9vbHMgJiZcbiAgICAgICAgcmVkdXhEZXZUb29scyh7XG4gICAgICAgICAgICBuYW1lOiAnZG5kLWNvcmUnLFxuICAgICAgICAgICAgaW5zdGFuY2VJZDogJ2RuZC1jb3JlJyxcbiAgICAgICAgfSkpO1xufVxudmFyIERyYWdEcm9wTWFuYWdlckltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRHJhZ0Ryb3BNYW5hZ2VySW1wbChjcmVhdGVCYWNrZW5kLCBjb250ZXh0LCBkZWJ1Z01vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0ge307IH1cbiAgICAgICAgaWYgKGRlYnVnTW9kZSA9PT0gdm9pZCAwKSB7IGRlYnVnTW9kZSA9IGZhbHNlOyB9XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuaXNTZXRVcCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhbmRsZVJlZkNvdW50Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNob3VsZFNldFVwID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKS5yZWZDb3VudCA+IDA7XG4gICAgICAgICAgICBpZiAoc2hvdWxkU2V0VXAgJiYgIV90aGlzLmlzU2V0VXApIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5iYWNrZW5kLnNldHVwKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuaXNTZXRVcCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghc2hvdWxkU2V0VXAgJiYgX3RoaXMuaXNTZXRVcCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmJhY2tlbmQudGVhcmRvd24oKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5pc1NldFVwID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzdG9yZSA9IG1ha2VTdG9yZUluc3RhbmNlKGRlYnVnTW9kZSk7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICAgICAgdGhpcy5tb25pdG9yID0gbmV3IERyYWdEcm9wTW9uaXRvckltcGxfMS5kZWZhdWx0KHN0b3JlLCBuZXcgSGFuZGxlclJlZ2lzdHJ5SW1wbF8xLmRlZmF1bHQoc3RvcmUpKTtcbiAgICAgICAgdGhpcy5iYWNrZW5kID0gY3JlYXRlQmFja2VuZCh0aGlzKTtcbiAgICAgICAgc3RvcmUuc3Vic2NyaWJlKHRoaXMuaGFuZGxlUmVmQ291bnRDaGFuZ2UpO1xuICAgIH1cbiAgICBEcmFnRHJvcE1hbmFnZXJJbXBsLnByb3RvdHlwZS5nZXRDb250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZXh0O1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNYW5hZ2VySW1wbC5wcm90b3R5cGUuZ2V0TW9uaXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9uaXRvcjtcbiAgICB9O1xuICAgIERyYWdEcm9wTWFuYWdlckltcGwucHJvdG90eXBlLmdldEJhY2tlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJhY2tlbmQ7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1hbmFnZXJJbXBsLnByb3RvdHlwZS5nZXRSZWdpc3RyeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9uaXRvci5yZWdpc3RyeTtcbiAgICB9O1xuICAgIERyYWdEcm9wTWFuYWdlckltcGwucHJvdG90eXBlLmdldEFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtYW5hZ2VyID0gdGhpcztcbiAgICAgICAgdmFyIGRpc3BhdGNoID0gdGhpcy5zdG9yZS5kaXNwYXRjaDtcbiAgICAgICAgZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IGFjdGlvbkNyZWF0b3IuYXBwbHkobWFuYWdlciwgYXJncyk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWN0aW9ucyA9IGRyYWdEcm9wXzEuZGVmYXVsdCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGFjdGlvbnMpLnJlZHVjZShmdW5jdGlvbiAoYm91bmRBY3Rpb25zLCBrZXkpIHtcbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSBhY3Rpb25zW2tleV07XG4gICAgICAgICAgICBib3VuZEFjdGlvbnNba2V5XSA9IGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gYm91bmRBY3Rpb25zO1xuICAgICAgICB9LCB7fSk7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1hbmFnZXJJbXBsLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5zdG9yZS5kaXNwYXRjaChhY3Rpb24pO1xuICAgIH07XG4gICAgcmV0dXJuIERyYWdEcm9wTWFuYWdlckltcGw7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRHJhZ0Ryb3BNYW5hZ2VySW1wbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG1hdGNoZXNUeXBlXzEgPSByZXF1aXJlKFwiLi91dGlscy9tYXRjaGVzVHlwZVwiKTtcbnZhciBjb29yZHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2Nvb3Jkc1wiKTtcbnZhciBkaXJ0aW5lc3NfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2RpcnRpbmVzc1wiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbnZhciBEcmFnRHJvcE1vbml0b3JJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERyYWdEcm9wTW9uaXRvckltcGwoc3RvcmUsIHJlZ2lzdHJ5KSB7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBzdG9yZTtcbiAgICAgICAgdGhpcy5yZWdpc3RyeSA9IHJlZ2lzdHJ5O1xuICAgIH1cbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5zdWJzY3JpYmVUb1N0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgaGFuZGxlcklkczogdW5kZWZpbmVkIH07IH1cbiAgICAgICAgdmFyIGhhbmRsZXJJZHMgPSBvcHRpb25zLmhhbmRsZXJJZHM7XG4gICAgICAgIGludmFyaWFudCh0eXBlb2YgbGlzdGVuZXIgPT09ICdmdW5jdGlvbicsICdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgICAgIGludmFyaWFudCh0eXBlb2YgaGFuZGxlcklkcyA9PT0gJ3VuZGVmaW5lZCcgfHwgQXJyYXkuaXNBcnJheShoYW5kbGVySWRzKSwgJ2hhbmRsZXJJZHMsIHdoZW4gc3BlY2lmaWVkLCBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuJyk7XG4gICAgICAgIHZhciBwcmV2U3RhdGVJZCA9IHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5zdGF0ZUlkO1xuICAgICAgICB2YXIgaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gX3RoaXMuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50U3RhdGVJZCA9IHN0YXRlLnN0YXRlSWQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBjYW5Ta2lwTGlzdGVuZXIgPSBjdXJyZW50U3RhdGVJZCA9PT0gcHJldlN0YXRlSWQgfHxcbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRTdGF0ZUlkID09PSBwcmV2U3RhdGVJZCArIDEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICFkaXJ0aW5lc3NfMS5hcmVEaXJ0eShzdGF0ZS5kaXJ0eUhhbmRsZXJJZHMsIGhhbmRsZXJJZHMpKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNhblNraXBMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHByZXZTdGF0ZUlkID0gY3VycmVudFN0YXRlSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLnN1YnNjcmliZShoYW5kbGVDaGFuZ2UpO1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuc3Vic2NyaWJlVG9PZmZzZXRDaGFuZ2UgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJywgJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgICAgdmFyIHByZXZpb3VzU3RhdGUgPSB0aGlzLnN0b3JlLmdldFN0YXRlKCkuZHJhZ09mZnNldDtcbiAgICAgICAgdmFyIGhhbmRsZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSBfdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmRyYWdPZmZzZXQ7XG4gICAgICAgICAgICBpZiAobmV4dFN0YXRlID09PSBwcmV2aW91c1N0YXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldmlvdXNTdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLnN1YnNjcmliZShoYW5kbGVDaGFuZ2UpO1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuY2FuRHJhZ1NvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2VJZCkge1xuICAgICAgICBpZiAoIXNvdXJjZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMucmVnaXN0cnkuZ2V0U291cmNlKHNvdXJjZUlkKTtcbiAgICAgICAgaW52YXJpYW50KHNvdXJjZSwgJ0V4cGVjdGVkIHRvIGZpbmQgYSB2YWxpZCBzb3VyY2UuJyk7XG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2UuY2FuRHJhZyh0aGlzLCBzb3VyY2VJZCk7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5jYW5Ecm9wT25UYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0SWQpIHtcbiAgICAgICAgLy8gdW5kZWZpbmVkIG9uIGluaXRpYWwgcmVuZGVyXG4gICAgICAgIGlmICghdGFyZ2V0SWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5yZWdpc3RyeS5nZXRUYXJnZXQodGFyZ2V0SWQpO1xuICAgICAgICBpbnZhcmlhbnQodGFyZ2V0LCAnRXhwZWN0ZWQgdG8gZmluZCBhIHZhbGlkIHRhcmdldC4nKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dpbmcoKSB8fCB0aGlzLmRpZERyb3AoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0YXJnZXRUeXBlID0gdGhpcy5yZWdpc3RyeS5nZXRUYXJnZXRUeXBlKHRhcmdldElkKTtcbiAgICAgICAgdmFyIGRyYWdnZWRJdGVtVHlwZSA9IHRoaXMuZ2V0SXRlbVR5cGUoKTtcbiAgICAgICAgcmV0dXJuIChtYXRjaGVzVHlwZV8xLmRlZmF1bHQodGFyZ2V0VHlwZSwgZHJhZ2dlZEl0ZW1UeXBlKSAmJiB0YXJnZXQuY2FuRHJvcCh0aGlzLCB0YXJnZXRJZCkpO1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuaXNEcmFnZ2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5nZXRJdGVtVHlwZSgpKTtcbiAgICB9O1xuICAgIERyYWdEcm9wTW9uaXRvckltcGwucHJvdG90eXBlLmlzRHJhZ2dpbmdTb3VyY2UgPSBmdW5jdGlvbiAoc291cmNlSWQpIHtcbiAgICAgICAgLy8gdW5kZWZpbmVkIG9uIGluaXRpYWwgcmVuZGVyXG4gICAgICAgIGlmICghc291cmNlSWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5yZWdpc3RyeS5nZXRTb3VyY2Uoc291cmNlSWQsIHRydWUpO1xuICAgICAgICBpbnZhcmlhbnQoc291cmNlLCAnRXhwZWN0ZWQgdG8gZmluZCBhIHZhbGlkIHNvdXJjZS4nKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dpbmcoKSB8fCAhdGhpcy5pc1NvdXJjZVB1YmxpYygpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZVR5cGUgPSB0aGlzLnJlZ2lzdHJ5LmdldFNvdXJjZVR5cGUoc291cmNlSWQpO1xuICAgICAgICB2YXIgZHJhZ2dlZEl0ZW1UeXBlID0gdGhpcy5nZXRJdGVtVHlwZSgpO1xuICAgICAgICBpZiAoc291cmNlVHlwZSAhPT0gZHJhZ2dlZEl0ZW1UeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5pc0RyYWdnaW5nKHRoaXMsIHNvdXJjZUlkKTtcbiAgICB9O1xuICAgIERyYWdEcm9wTW9uaXRvckltcGwucHJvdG90eXBlLmlzT3ZlclRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXRJZCwgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7IHNoYWxsb3c6IGZhbHNlIH07IH1cbiAgICAgICAgLy8gdW5kZWZpbmVkIG9uIGluaXRpYWwgcmVuZGVyXG4gICAgICAgIGlmICghdGFyZ2V0SWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hhbGxvdyA9IG9wdGlvbnMuc2hhbGxvdztcbiAgICAgICAgaWYgKCF0aGlzLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0YXJnZXRUeXBlID0gdGhpcy5yZWdpc3RyeS5nZXRUYXJnZXRUeXBlKHRhcmdldElkKTtcbiAgICAgICAgdmFyIGRyYWdnZWRJdGVtVHlwZSA9IHRoaXMuZ2V0SXRlbVR5cGUoKTtcbiAgICAgICAgaWYgKGRyYWdnZWRJdGVtVHlwZSAmJiAhbWF0Y2hlc1R5cGVfMS5kZWZhdWx0KHRhcmdldFR5cGUsIGRyYWdnZWRJdGVtVHlwZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGFyZ2V0SWRzID0gdGhpcy5nZXRUYXJnZXRJZHMoKTtcbiAgICAgICAgaWYgKCF0YXJnZXRJZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gdGFyZ2V0SWRzLmluZGV4T2YodGFyZ2V0SWQpO1xuICAgICAgICBpZiAoc2hhbGxvdykge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4ID09PSB0YXJnZXRJZHMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleCA+IC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRJdGVtVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5kcmFnT3BlcmF0aW9uLml0ZW1UeXBlO1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0SXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5kcmFnT3BlcmF0aW9uLml0ZW07XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRTb3VyY2VJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5kcmFnT3BlcmF0aW9uLnNvdXJjZUlkO1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0VGFyZ2V0SWRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmRyYWdPcGVyYXRpb24udGFyZ2V0SWRzO1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0RHJvcFJlc3VsdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5kcmFnT3BlcmF0aW9uLmRyb3BSZXN1bHQ7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5kaWREcm9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmRyYWdPcGVyYXRpb24uZGlkRHJvcDtcbiAgICB9O1xuICAgIERyYWdEcm9wTW9uaXRvckltcGwucHJvdG90eXBlLmlzU291cmNlUHVibGljID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmRyYWdPcGVyYXRpb24uaXNTb3VyY2VQdWJsaWM7XG4gICAgfTtcbiAgICBEcmFnRHJvcE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRJbml0aWFsQ2xpZW50T2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmRyYWdPZmZzZXQuaW5pdGlhbENsaWVudE9mZnNldDtcbiAgICB9O1xuICAgIERyYWdEcm9wTW9uaXRvckltcGwucHJvdG90eXBlLmdldEluaXRpYWxTb3VyY2VDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlLmdldFN0YXRlKCkuZHJhZ09mZnNldC5pbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0O1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0Q2xpZW50T2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5nZXRTdGF0ZSgpLmRyYWdPZmZzZXQuY2xpZW50T2Zmc2V0O1xuICAgIH07XG4gICAgRHJhZ0Ryb3BNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0U291cmNlQ2xpZW50T2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29vcmRzXzEuZ2V0U291cmNlQ2xpZW50T2Zmc2V0KHRoaXMuc3RvcmUuZ2V0U3RhdGUoKS5kcmFnT2Zmc2V0KTtcbiAgICB9O1xuICAgIERyYWdEcm9wTW9uaXRvckltcGwucHJvdG90eXBlLmdldERpZmZlcmVuY2VGcm9tSW5pdGlhbE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvb3Jkc18xLmdldERpZmZlcmVuY2VGcm9tSW5pdGlhbE9mZnNldCh0aGlzLnN0b3JlLmdldFN0YXRlKCkuZHJhZ09mZnNldCk7XG4gICAgfTtcbiAgICByZXR1cm4gRHJhZ0Ryb3BNb25pdG9ySW1wbDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBEcmFnRHJvcE1vbml0b3JJbXBsO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVnaXN0cnlfMSA9IHJlcXVpcmUoXCIuL2FjdGlvbnMvcmVnaXN0cnlcIik7XG52YXIgZ2V0TmV4dFVuaXF1ZUlkXzEgPSByZXF1aXJlKFwiLi91dGlscy9nZXROZXh0VW5pcXVlSWRcIik7XG52YXIgaW50ZXJmYWNlc18xID0gcmVxdWlyZShcIi4vaW50ZXJmYWNlc1wiKTtcbnZhciBjb250cmFjdHNfMSA9IHJlcXVpcmUoXCIuL2NvbnRyYWN0c1wiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbnZhciBhc2FwID0gcmVxdWlyZSgnYXNhcCcpO1xuZnVuY3Rpb24gZ2V0TmV4dEhhbmRsZXJJZChyb2xlKSB7XG4gICAgdmFyIGlkID0gZ2V0TmV4dFVuaXF1ZUlkXzEuZGVmYXVsdCgpLnRvU3RyaW5nKCk7XG4gICAgc3dpdGNoIChyb2xlKSB7XG4gICAgICAgIGNhc2UgaW50ZXJmYWNlc18xLkhhbmRsZXJSb2xlLlNPVVJDRTpcbiAgICAgICAgICAgIHJldHVybiBcIlNcIiArIGlkO1xuICAgICAgICBjYXNlIGludGVyZmFjZXNfMS5IYW5kbGVyUm9sZS5UQVJHRVQ6XG4gICAgICAgICAgICByZXR1cm4gXCJUXCIgKyBpZDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gSGFuZGxlciBSb2xlOiBcIiArIHJvbGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlUm9sZUZyb21IYW5kbGVySWQoaGFuZGxlcklkKSB7XG4gICAgc3dpdGNoIChoYW5kbGVySWRbMF0pIHtcbiAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJmYWNlc18xLkhhbmRsZXJSb2xlLlNPVVJDRTtcbiAgICAgICAgY2FzZSAnVCc6XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJmYWNlc18xLkhhbmRsZXJSb2xlLlRBUkdFVDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGludmFyaWFudChmYWxzZSwgXCJDYW5ub3QgcGFyc2UgaGFuZGxlciBJRDogXCIgKyBoYW5kbGVySWQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1hcENvbnRhaW5zVmFsdWUobWFwLCBzZWFyY2hWYWx1ZSkge1xuICAgIHZhciBlbnRyaWVzID0gbWFwLmVudHJpZXMoKTtcbiAgICB2YXIgaXNEb25lID0gZmFsc2U7XG4gICAgZG8ge1xuICAgICAgICB2YXIgX2EgPSBlbnRyaWVzLm5leHQoKSwgZG9uZSA9IF9hLmRvbmUsIF9iID0gX2EudmFsdWUsIHZhbHVlID0gX2JbMV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gc2VhcmNoVmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlzRG9uZSA9IGRvbmU7XG4gICAgfSB3aGlsZSAoIWlzRG9uZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxudmFyIEhhbmRsZXJSZWdpc3RyeUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSGFuZGxlclJlZ2lzdHJ5SW1wbChzdG9yZSkge1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgICAgIHRoaXMudHlwZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZHJhZ1NvdXJjZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZHJvcFRhcmdldHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMucGlubmVkU291cmNlSWQgPSBudWxsO1xuICAgICAgICB0aGlzLnBpbm5lZFNvdXJjZSA9IG51bGw7XG4gICAgfVxuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLmFkZFNvdXJjZSA9IGZ1bmN0aW9uICh0eXBlLCBzb3VyY2UpIHtcbiAgICAgICAgY29udHJhY3RzXzEudmFsaWRhdGVUeXBlKHR5cGUpO1xuICAgICAgICBjb250cmFjdHNfMS52YWxpZGF0ZVNvdXJjZUNvbnRyYWN0KHNvdXJjZSk7XG4gICAgICAgIHZhciBzb3VyY2VJZCA9IHRoaXMuYWRkSGFuZGxlcihpbnRlcmZhY2VzXzEuSGFuZGxlclJvbGUuU09VUkNFLCB0eXBlLCBzb3VyY2UpO1xuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHJlZ2lzdHJ5XzEuYWRkU291cmNlKHNvdXJjZUlkKSk7XG4gICAgICAgIHJldHVybiBzb3VyY2VJZDtcbiAgICB9O1xuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLmFkZFRhcmdldCA9IGZ1bmN0aW9uICh0eXBlLCB0YXJnZXQpIHtcbiAgICAgICAgY29udHJhY3RzXzEudmFsaWRhdGVUeXBlKHR5cGUsIHRydWUpO1xuICAgICAgICBjb250cmFjdHNfMS52YWxpZGF0ZVRhcmdldENvbnRyYWN0KHRhcmdldCk7XG4gICAgICAgIHZhciB0YXJnZXRJZCA9IHRoaXMuYWRkSGFuZGxlcihpbnRlcmZhY2VzXzEuSGFuZGxlclJvbGUuVEFSR0VULCB0eXBlLCB0YXJnZXQpO1xuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHJlZ2lzdHJ5XzEuYWRkVGFyZ2V0KHRhcmdldElkKSk7XG4gICAgICAgIHJldHVybiB0YXJnZXRJZDtcbiAgICB9O1xuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLmNvbnRhaW5zSGFuZGxlciA9IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiAobWFwQ29udGFpbnNWYWx1ZSh0aGlzLmRyYWdTb3VyY2VzLCBoYW5kbGVyKSB8fFxuICAgICAgICAgICAgbWFwQ29udGFpbnNWYWx1ZSh0aGlzLmRyb3BUYXJnZXRzLCBoYW5kbGVyKSk7XG4gICAgfTtcbiAgICBIYW5kbGVyUmVnaXN0cnlJbXBsLnByb3RvdHlwZS5nZXRTb3VyY2UgPSBmdW5jdGlvbiAoc291cmNlSWQsIGluY2x1ZGVQaW5uZWQpIHtcbiAgICAgICAgaWYgKGluY2x1ZGVQaW5uZWQgPT09IHZvaWQgMCkgeyBpbmNsdWRlUGlubmVkID0gZmFsc2U7IH1cbiAgICAgICAgaW52YXJpYW50KHRoaXMuaXNTb3VyY2VJZChzb3VyY2VJZCksICdFeHBlY3RlZCBhIHZhbGlkIHNvdXJjZSBJRC4nKTtcbiAgICAgICAgdmFyIGlzUGlubmVkID0gaW5jbHVkZVBpbm5lZCAmJiBzb3VyY2VJZCA9PT0gdGhpcy5waW5uZWRTb3VyY2VJZDtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGlzUGlubmVkID8gdGhpcy5waW5uZWRTb3VyY2UgOiB0aGlzLmRyYWdTb3VyY2VzLmdldChzb3VyY2VJZCk7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfTtcbiAgICBIYW5kbGVyUmVnaXN0cnlJbXBsLnByb3RvdHlwZS5nZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0SWQpIHtcbiAgICAgICAgaW52YXJpYW50KHRoaXMuaXNUYXJnZXRJZCh0YXJnZXRJZCksICdFeHBlY3RlZCBhIHZhbGlkIHRhcmdldCBJRC4nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJvcFRhcmdldHMuZ2V0KHRhcmdldElkKTtcbiAgICB9O1xuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLmdldFNvdXJjZVR5cGUgPSBmdW5jdGlvbiAoc291cmNlSWQpIHtcbiAgICAgICAgaW52YXJpYW50KHRoaXMuaXNTb3VyY2VJZChzb3VyY2VJZCksICdFeHBlY3RlZCBhIHZhbGlkIHNvdXJjZSBJRC4nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZXMuZ2V0KHNvdXJjZUlkKTtcbiAgICB9O1xuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLmdldFRhcmdldFR5cGUgPSBmdW5jdGlvbiAodGFyZ2V0SWQpIHtcbiAgICAgICAgaW52YXJpYW50KHRoaXMuaXNUYXJnZXRJZCh0YXJnZXRJZCksICdFeHBlY3RlZCBhIHZhbGlkIHRhcmdldCBJRC4nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZXMuZ2V0KHRhcmdldElkKTtcbiAgICB9O1xuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLmlzU291cmNlSWQgPSBmdW5jdGlvbiAoaGFuZGxlcklkKSB7XG4gICAgICAgIHZhciByb2xlID0gcGFyc2VSb2xlRnJvbUhhbmRsZXJJZChoYW5kbGVySWQpO1xuICAgICAgICByZXR1cm4gcm9sZSA9PT0gaW50ZXJmYWNlc18xLkhhbmRsZXJSb2xlLlNPVVJDRTtcbiAgICB9O1xuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLmlzVGFyZ2V0SWQgPSBmdW5jdGlvbiAoaGFuZGxlcklkKSB7XG4gICAgICAgIHZhciByb2xlID0gcGFyc2VSb2xlRnJvbUhhbmRsZXJJZChoYW5kbGVySWQpO1xuICAgICAgICByZXR1cm4gcm9sZSA9PT0gaW50ZXJmYWNlc18xLkhhbmRsZXJSb2xlLlRBUkdFVDtcbiAgICB9O1xuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLnJlbW92ZVNvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2VJZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpbnZhcmlhbnQodGhpcy5nZXRTb3VyY2Uoc291cmNlSWQpLCAnRXhwZWN0ZWQgYW4gZXhpc3Rpbmcgc291cmNlLicpO1xuICAgICAgICB0aGlzLnN0b3JlLmRpc3BhdGNoKHJlZ2lzdHJ5XzEucmVtb3ZlU291cmNlKHNvdXJjZUlkKSk7XG4gICAgICAgIGFzYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuZHJhZ1NvdXJjZXMuZGVsZXRlKHNvdXJjZUlkKTtcbiAgICAgICAgICAgIF90aGlzLnR5cGVzLmRlbGV0ZShzb3VyY2VJZCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSGFuZGxlclJlZ2lzdHJ5SW1wbC5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldElkKSB7XG4gICAgICAgIGludmFyaWFudCh0aGlzLmdldFRhcmdldCh0YXJnZXRJZCksICdFeHBlY3RlZCBhbiBleGlzdGluZyB0YXJnZXQuJyk7XG4gICAgICAgIHRoaXMuc3RvcmUuZGlzcGF0Y2gocmVnaXN0cnlfMS5yZW1vdmVUYXJnZXQodGFyZ2V0SWQpKTtcbiAgICAgICAgdGhpcy5kcm9wVGFyZ2V0cy5kZWxldGUodGFyZ2V0SWQpO1xuICAgICAgICB0aGlzLnR5cGVzLmRlbGV0ZSh0YXJnZXRJZCk7XG4gICAgfTtcbiAgICBIYW5kbGVyUmVnaXN0cnlJbXBsLnByb3RvdHlwZS5waW5Tb3VyY2UgPSBmdW5jdGlvbiAoc291cmNlSWQpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKHNvdXJjZUlkKTtcbiAgICAgICAgaW52YXJpYW50KHNvdXJjZSwgJ0V4cGVjdGVkIGFuIGV4aXN0aW5nIHNvdXJjZS4nKTtcbiAgICAgICAgdGhpcy5waW5uZWRTb3VyY2VJZCA9IHNvdXJjZUlkO1xuICAgICAgICB0aGlzLnBpbm5lZFNvdXJjZSA9IHNvdXJjZTtcbiAgICB9O1xuICAgIEhhbmRsZXJSZWdpc3RyeUltcGwucHJvdG90eXBlLnVucGluU291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpbnZhcmlhbnQodGhpcy5waW5uZWRTb3VyY2UsICdObyBzb3VyY2UgaXMgcGlubmVkIGF0IHRoZSB0aW1lLicpO1xuICAgICAgICB0aGlzLnBpbm5lZFNvdXJjZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5waW5uZWRTb3VyY2UgPSBudWxsO1xuICAgIH07XG4gICAgSGFuZGxlclJlZ2lzdHJ5SW1wbC5wcm90b3R5cGUuYWRkSGFuZGxlciA9IGZ1bmN0aW9uIChyb2xlLCB0eXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIHZhciBpZCA9IGdldE5leHRIYW5kbGVySWQocm9sZSk7XG4gICAgICAgIHRoaXMudHlwZXMuc2V0KGlkLCB0eXBlKTtcbiAgICAgICAgaWYgKHJvbGUgPT09IGludGVyZmFjZXNfMS5IYW5kbGVyUm9sZS5TT1VSQ0UpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1NvdXJjZXMuc2V0KGlkLCBoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyb2xlID09PSBpbnRlcmZhY2VzXzEuSGFuZGxlclJvbGUuVEFSR0VUKSB7XG4gICAgICAgICAgICB0aGlzLmRyb3BUYXJnZXRzLnNldChpZCwgaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH07XG4gICAgcmV0dXJuIEhhbmRsZXJSZWdpc3RyeUltcGw7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gSGFuZGxlclJlZ2lzdHJ5SW1wbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHNldENsaWVudE9mZnNldF8xID0gcmVxdWlyZShcIi4vbG9jYWwvc2V0Q2xpZW50T2Zmc2V0XCIpO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2Rpc2NvdW50X2xvZGFzaFwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbnZhciB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG52YXIgUmVzZXRDb29yZGluYXRlc0FjdGlvbiA9IHtcbiAgICB0eXBlOiB0eXBlc18xLklOSVRfQ09PUkRTLFxuICAgIHBheWxvYWQ6IHtcbiAgICAgICAgY2xpZW50T2Zmc2V0OiBudWxsLFxuICAgICAgICBzb3VyY2VDbGllbnRPZmZzZXQ6IG51bGwsXG4gICAgfSxcbn07XG5mdW5jdGlvbiBjcmVhdGVCZWdpbkRyYWcobWFuYWdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBiZWdpbkRyYWcoc291cmNlSWRzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChzb3VyY2VJZHMgPT09IHZvaWQgMCkgeyBzb3VyY2VJZHMgPSBbXTsgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBwdWJsaXNoU291cmNlOiB0cnVlLFxuICAgICAgICB9OyB9XG4gICAgICAgIHZhciBfYSA9IG9wdGlvbnMucHVibGlzaFNvdXJjZSwgcHVibGlzaFNvdXJjZSA9IF9hID09PSB2b2lkIDAgPyB0cnVlIDogX2EsIGNsaWVudE9mZnNldCA9IG9wdGlvbnMuY2xpZW50T2Zmc2V0LCBnZXRTb3VyY2VDbGllbnRPZmZzZXQgPSBvcHRpb25zLmdldFNvdXJjZUNsaWVudE9mZnNldDtcbiAgICAgICAgdmFyIG1vbml0b3IgPSBtYW5hZ2VyLmdldE1vbml0b3IoKTtcbiAgICAgICAgdmFyIHJlZ2lzdHJ5ID0gbWFuYWdlci5nZXRSZWdpc3RyeSgpO1xuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBjb29yZGluYXRlcyB1c2luZyB0aGUgY2xpZW50IG9mZnNldFxuICAgICAgICBtYW5hZ2VyLmRpc3BhdGNoKHNldENsaWVudE9mZnNldF8xLnNldENsaWVudE9mZnNldChjbGllbnRPZmZzZXQpKTtcbiAgICAgICAgdmVyaWZ5SW52YXJpYW50cyhzb3VyY2VJZHMsIG1vbml0b3IsIHJlZ2lzdHJ5KTtcbiAgICAgICAgLy8gR2V0IHRoZSBkcmFnZ2FibGUgc291cmNlXG4gICAgICAgIHZhciBzb3VyY2VJZCA9IGdldERyYWdnYWJsZVNvdXJjZShzb3VyY2VJZHMsIG1vbml0b3IpO1xuICAgICAgICBpZiAoc291cmNlSWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIG1hbmFnZXIuZGlzcGF0Y2goUmVzZXRDb29yZGluYXRlc0FjdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IHRoZSBzb3VyY2UgY2xpZW50IG9mZnNldFxuICAgICAgICB2YXIgc291cmNlQ2xpZW50T2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgaWYgKGNsaWVudE9mZnNldCkge1xuICAgICAgICAgICAgdmVyaWZ5R2V0U291cmNlQ2xpZW50T2Zmc2V0SXNGdW5jdGlvbihnZXRTb3VyY2VDbGllbnRPZmZzZXQpO1xuICAgICAgICAgICAgc291cmNlQ2xpZW50T2Zmc2V0ID0gZ2V0U291cmNlQ2xpZW50T2Zmc2V0KHNvdXJjZUlkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBmdWxsIGNvb3JkaW5hdGVzXG4gICAgICAgIG1hbmFnZXIuZGlzcGF0Y2goc2V0Q2xpZW50T2Zmc2V0XzEuc2V0Q2xpZW50T2Zmc2V0KGNsaWVudE9mZnNldCwgc291cmNlQ2xpZW50T2Zmc2V0KSk7XG4gICAgICAgIHZhciBzb3VyY2UgPSByZWdpc3RyeS5nZXRTb3VyY2Uoc291cmNlSWQpO1xuICAgICAgICB2YXIgaXRlbSA9IHNvdXJjZS5iZWdpbkRyYWcobW9uaXRvciwgc291cmNlSWQpO1xuICAgICAgICB2ZXJpZnlJdGVtSXNPYmplY3QoaXRlbSk7XG4gICAgICAgIHJlZ2lzdHJ5LnBpblNvdXJjZShzb3VyY2VJZCk7XG4gICAgICAgIHZhciBpdGVtVHlwZSA9IHJlZ2lzdHJ5LmdldFNvdXJjZVR5cGUoc291cmNlSWQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdHlwZXNfMS5CRUdJTl9EUkFHLFxuICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgIGl0ZW1UeXBlOiBpdGVtVHlwZSxcbiAgICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICAgIHNvdXJjZUlkOiBzb3VyY2VJZCxcbiAgICAgICAgICAgICAgICBjbGllbnRPZmZzZXQ6IGNsaWVudE9mZnNldCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIHNvdXJjZUNsaWVudE9mZnNldDogc291cmNlQ2xpZW50T2Zmc2V0IHx8IG51bGwsXG4gICAgICAgICAgICAgICAgaXNTb3VyY2VQdWJsaWM6ICEhcHVibGlzaFNvdXJjZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUJlZ2luRHJhZztcbmZ1bmN0aW9uIHZlcmlmeUludmFyaWFudHMoc291cmNlSWRzLCBtb25pdG9yLCByZWdpc3RyeSkge1xuICAgIGludmFyaWFudCghbW9uaXRvci5pc0RyYWdnaW5nKCksICdDYW5ub3QgY2FsbCBiZWdpbkRyYWcgd2hpbGUgZHJhZ2dpbmcuJyk7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBzb3VyY2VJZHNfMSA9IHNvdXJjZUlkczsgX2kgPCBzb3VyY2VJZHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIHMgPSBzb3VyY2VJZHNfMVtfaV07XG4gICAgICAgIGludmFyaWFudChyZWdpc3RyeS5nZXRTb3VyY2UocyksICdFeHBlY3RlZCBzb3VyY2VJZHMgdG8gYmUgcmVnaXN0ZXJlZC4nKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2ZXJpZnlHZXRTb3VyY2VDbGllbnRPZmZzZXRJc0Z1bmN0aW9uKGdldFNvdXJjZUNsaWVudE9mZnNldCkge1xuICAgIGludmFyaWFudCh0eXBlb2YgZ2V0U291cmNlQ2xpZW50T2Zmc2V0ID09PSAnZnVuY3Rpb24nLCAnV2hlbiBjbGllbnRPZmZzZXQgaXMgcHJvdmlkZWQsIGdldFNvdXJjZUNsaWVudE9mZnNldCBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG59XG5mdW5jdGlvbiB2ZXJpZnlJdGVtSXNPYmplY3QoaXRlbSkge1xuICAgIGludmFyaWFudChkaXNjb3VudF9sb2Rhc2hfMS5pc09iamVjdChpdGVtKSwgJ0l0ZW0gbXVzdCBiZSBhbiBvYmplY3QuJyk7XG59XG5mdW5jdGlvbiBnZXREcmFnZ2FibGVTb3VyY2Uoc291cmNlSWRzLCBtb25pdG9yKSB7XG4gICAgdmFyIHNvdXJjZUlkID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gc291cmNlSWRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGlmIChtb25pdG9yLmNhbkRyYWdTb3VyY2Uoc291cmNlSWRzW2ldKSkge1xuICAgICAgICAgICAgc291cmNlSWQgPSBzb3VyY2VJZHNbaV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc291cmNlSWQ7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzL2Rpc2NvdW50X2xvZGFzaFwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbmZ1bmN0aW9uIGNyZWF0ZURyb3AobWFuYWdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBkcm9wKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgdmFyIG1vbml0b3IgPSBtYW5hZ2VyLmdldE1vbml0b3IoKTtcbiAgICAgICAgdmFyIHJlZ2lzdHJ5ID0gbWFuYWdlci5nZXRSZWdpc3RyeSgpO1xuICAgICAgICB2ZXJpZnlJbnZhcmlhbnRzKG1vbml0b3IpO1xuICAgICAgICB2YXIgdGFyZ2V0SWRzID0gZ2V0RHJvcHBhYmxlVGFyZ2V0cyhtb25pdG9yKTtcbiAgICAgICAgLy8gTXVsdGlwbGUgYWN0aW9ucyBhcmUgZGlzcGF0Y2hlZCBoZXJlLCB3aGljaCBpcyB3aHkgdGhpcyBkb2Vzbid0IHJldHVybiBhbiBhY3Rpb25cbiAgICAgICAgdGFyZ2V0SWRzLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldElkLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIGRyb3BSZXN1bHQgPSBkZXRlcm1pbmVEcm9wUmVzdWx0KHRhcmdldElkLCBpbmRleCwgcmVnaXN0cnksIG1vbml0b3IpO1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlc18xLkRST1AsXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBkcm9wUmVzdWx0OiBfX2Fzc2lnbih7fSwgb3B0aW9ucywgZHJvcFJlc3VsdCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBtYW5hZ2VyLmRpc3BhdGNoKGFjdGlvbik7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVEcm9wO1xuZnVuY3Rpb24gdmVyaWZ5SW52YXJpYW50cyhtb25pdG9yKSB7XG4gICAgaW52YXJpYW50KG1vbml0b3IuaXNEcmFnZ2luZygpLCAnQ2Fubm90IGNhbGwgZHJvcCB3aGlsZSBub3QgZHJhZ2dpbmcuJyk7XG4gICAgaW52YXJpYW50KCFtb25pdG9yLmRpZERyb3AoKSwgJ0Nhbm5vdCBjYWxsIGRyb3AgdHdpY2UgZHVyaW5nIG9uZSBkcmFnIG9wZXJhdGlvbi4nKTtcbn1cbmZ1bmN0aW9uIGRldGVybWluZURyb3BSZXN1bHQodGFyZ2V0SWQsIGluZGV4LCByZWdpc3RyeSwgbW9uaXRvcikge1xuICAgIHZhciB0YXJnZXQgPSByZWdpc3RyeS5nZXRUYXJnZXQodGFyZ2V0SWQpO1xuICAgIHZhciBkcm9wUmVzdWx0ID0gdGFyZ2V0ID8gdGFyZ2V0LmRyb3AobW9uaXRvciwgdGFyZ2V0SWQpIDogdW5kZWZpbmVkO1xuICAgIHZlcmlmeURyb3BSZXN1bHRUeXBlKGRyb3BSZXN1bHQpO1xuICAgIGlmICh0eXBlb2YgZHJvcFJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZHJvcFJlc3VsdCA9IGluZGV4ID09PSAwID8ge30gOiBtb25pdG9yLmdldERyb3BSZXN1bHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRyb3BSZXN1bHQ7XG59XG5mdW5jdGlvbiB2ZXJpZnlEcm9wUmVzdWx0VHlwZShkcm9wUmVzdWx0KSB7XG4gICAgaW52YXJpYW50KHR5cGVvZiBkcm9wUmVzdWx0ID09PSAndW5kZWZpbmVkJyB8fCBkaXNjb3VudF9sb2Rhc2hfMS5pc09iamVjdChkcm9wUmVzdWx0KSwgJ0Ryb3AgcmVzdWx0IG11c3QgZWl0aGVyIGJlIGFuIG9iamVjdCBvciB1bmRlZmluZWQuJyk7XG59XG5mdW5jdGlvbiBnZXREcm9wcGFibGVUYXJnZXRzKG1vbml0b3IpIHtcbiAgICB2YXIgdGFyZ2V0SWRzID0gbW9uaXRvclxuICAgICAgICAuZ2V0VGFyZ2V0SWRzKClcbiAgICAgICAgLmZpbHRlcihtb25pdG9yLmNhbkRyb3BPblRhcmdldCwgbW9uaXRvcik7XG4gICAgdGFyZ2V0SWRzLnJldmVyc2UoKTtcbiAgICByZXR1cm4gdGFyZ2V0SWRzO1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuZnVuY3Rpb24gY3JlYXRlRW5kRHJhZyhtYW5hZ2VyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGVuZERyYWcoKSB7XG4gICAgICAgIHZhciBtb25pdG9yID0gbWFuYWdlci5nZXRNb25pdG9yKCk7XG4gICAgICAgIHZhciByZWdpc3RyeSA9IG1hbmFnZXIuZ2V0UmVnaXN0cnkoKTtcbiAgICAgICAgdmVyaWZ5SXNEcmFnZ2luZyhtb25pdG9yKTtcbiAgICAgICAgdmFyIHNvdXJjZUlkID0gbW9uaXRvci5nZXRTb3VyY2VJZCgpO1xuICAgICAgICB2YXIgc291cmNlID0gcmVnaXN0cnkuZ2V0U291cmNlKHNvdXJjZUlkLCB0cnVlKTtcbiAgICAgICAgc291cmNlLmVuZERyYWcobW9uaXRvciwgc291cmNlSWQpO1xuICAgICAgICByZWdpc3RyeS51bnBpblNvdXJjZSgpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiB0eXBlc18xLkVORF9EUkFHIH07XG4gICAgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZUVuZERyYWc7XG5mdW5jdGlvbiB2ZXJpZnlJc0RyYWdnaW5nKG1vbml0b3IpIHtcbiAgICBpbnZhcmlhbnQobW9uaXRvci5pc0RyYWdnaW5nKCksICdDYW5ub3QgY2FsbCBlbmREcmFnIHdoaWxlIG5vdCBkcmFnZ2luZy4nKTtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG1hdGNoZXNUeXBlXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMvbWF0Y2hlc1R5cGVcIik7XG52YXIgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuZnVuY3Rpb24gY3JlYXRlSG92ZXIobWFuYWdlcikge1xuICAgIHJldHVybiBmdW5jdGlvbiBob3Zlcih0YXJnZXRJZHNBcmcsIF9hKSB7XG4gICAgICAgIHZhciBjbGllbnRPZmZzZXQgPSAoX2EgPT09IHZvaWQgMCA/IHt9IDogX2EpLmNsaWVudE9mZnNldDtcbiAgICAgICAgdmVyaWZ5VGFyZ2V0SWRzSXNBcnJheSh0YXJnZXRJZHNBcmcpO1xuICAgICAgICB2YXIgdGFyZ2V0SWRzID0gdGFyZ2V0SWRzQXJnLnNsaWNlKDApO1xuICAgICAgICB2YXIgbW9uaXRvciA9IG1hbmFnZXIuZ2V0TW9uaXRvcigpO1xuICAgICAgICB2YXIgcmVnaXN0cnkgPSBtYW5hZ2VyLmdldFJlZ2lzdHJ5KCk7XG4gICAgICAgIGNoZWNrSW52YXJpYW50cyh0YXJnZXRJZHMsIG1vbml0b3IsIHJlZ2lzdHJ5KTtcbiAgICAgICAgdmFyIGRyYWdnZWRJdGVtVHlwZSA9IG1vbml0b3IuZ2V0SXRlbVR5cGUoKTtcbiAgICAgICAgcmVtb3ZlTm9uTWF0Y2hpbmdUYXJnZXRJZHModGFyZ2V0SWRzLCByZWdpc3RyeSwgZHJhZ2dlZEl0ZW1UeXBlKTtcbiAgICAgICAgaG92ZXJBbGxUYXJnZXRzKHRhcmdldElkcywgbW9uaXRvciwgcmVnaXN0cnkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdHlwZXNfMS5IT1ZFUixcbiAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRJZHM6IHRhcmdldElkcyxcbiAgICAgICAgICAgICAgICBjbGllbnRPZmZzZXQ6IGNsaWVudE9mZnNldCB8fCBudWxsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlSG92ZXI7XG5mdW5jdGlvbiB2ZXJpZnlUYXJnZXRJZHNJc0FycmF5KHRhcmdldElkc0FyZykge1xuICAgIGludmFyaWFudChBcnJheS5pc0FycmF5KHRhcmdldElkc0FyZyksICdFeHBlY3RlZCB0YXJnZXRJZHMgdG8gYmUgYW4gYXJyYXkuJyk7XG59XG5mdW5jdGlvbiBjaGVja0ludmFyaWFudHModGFyZ2V0SWRzLCBtb25pdG9yLCByZWdpc3RyeSkge1xuICAgIGludmFyaWFudChtb25pdG9yLmlzRHJhZ2dpbmcoKSwgJ0Nhbm5vdCBjYWxsIGhvdmVyIHdoaWxlIG5vdCBkcmFnZ2luZy4nKTtcbiAgICBpbnZhcmlhbnQoIW1vbml0b3IuZGlkRHJvcCgpLCAnQ2Fubm90IGNhbGwgaG92ZXIgYWZ0ZXIgZHJvcC4nKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhcmdldElkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdGFyZ2V0SWQgPSB0YXJnZXRJZHNbaV07XG4gICAgICAgIGludmFyaWFudCh0YXJnZXRJZHMubGFzdEluZGV4T2YodGFyZ2V0SWQpID09PSBpLCAnRXhwZWN0ZWQgdGFyZ2V0SWRzIHRvIGJlIHVuaXF1ZSBpbiB0aGUgcGFzc2VkIGFycmF5LicpO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gcmVnaXN0cnkuZ2V0VGFyZ2V0KHRhcmdldElkKTtcbiAgICAgICAgaW52YXJpYW50KHRhcmdldCwgJ0V4cGVjdGVkIHRhcmdldElkcyB0byBiZSByZWdpc3RlcmVkLicpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZU5vbk1hdGNoaW5nVGFyZ2V0SWRzKHRhcmdldElkcywgcmVnaXN0cnksIGRyYWdnZWRJdGVtVHlwZSkge1xuICAgIC8vIFJlbW92ZSB0aG9zZSB0YXJnZXRJZHMgdGhhdCBkb24ndCBtYXRjaCB0aGUgdGFyZ2V0VHlwZS4gIFRoaXNcbiAgICAvLyBmaXhlcyBzaGFsbG93IGlzT3ZlciB3aGljaCB3b3VsZCBvbmx5IGJlIG5vbi1zaGFsbG93IGJlY2F1c2Ugb2ZcbiAgICAvLyBub24tbWF0Y2hpbmcgdGFyZ2V0cy5cbiAgICBmb3IgKHZhciBpID0gdGFyZ2V0SWRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHZhciB0YXJnZXRJZCA9IHRhcmdldElkc1tpXTtcbiAgICAgICAgdmFyIHRhcmdldFR5cGUgPSByZWdpc3RyeS5nZXRUYXJnZXRUeXBlKHRhcmdldElkKTtcbiAgICAgICAgaWYgKCFtYXRjaGVzVHlwZV8xLmRlZmF1bHQodGFyZ2V0VHlwZSwgZHJhZ2dlZEl0ZW1UeXBlKSkge1xuICAgICAgICAgICAgdGFyZ2V0SWRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGhvdmVyQWxsVGFyZ2V0cyh0YXJnZXRJZHMsIG1vbml0b3IsIHJlZ2lzdHJ5KSB7XG4gICAgLy8gRmluYWxseSBjYWxsIGhvdmVyIG9uIGFsbCBtYXRjaGluZyB0YXJnZXRzLlxuICAgIGZvciAodmFyIF9pID0gMCwgdGFyZ2V0SWRzXzEgPSB0YXJnZXRJZHM7IF9pIDwgdGFyZ2V0SWRzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciB0YXJnZXRJZCA9IHRhcmdldElkc18xW19pXTtcbiAgICAgICAgdmFyIHRhcmdldCA9IHJlZ2lzdHJ5LmdldFRhcmdldCh0YXJnZXRJZCk7XG4gICAgICAgIHRhcmdldC5ob3Zlcihtb25pdG9yLCB0YXJnZXRJZCk7XG4gICAgfVxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGJlZ2luRHJhZ18xID0gcmVxdWlyZShcIi4vYmVnaW5EcmFnXCIpO1xudmFyIHB1Ymxpc2hEcmFnU291cmNlXzEgPSByZXF1aXJlKFwiLi9wdWJsaXNoRHJhZ1NvdXJjZVwiKTtcbnZhciBob3Zlcl8xID0gcmVxdWlyZShcIi4vaG92ZXJcIik7XG52YXIgZHJvcF8xID0gcmVxdWlyZShcIi4vZHJvcFwiKTtcbnZhciBlbmREcmFnXzEgPSByZXF1aXJlKFwiLi9lbmREcmFnXCIpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdHlwZXNcIikpO1xuZnVuY3Rpb24gY3JlYXRlRHJhZ0Ryb3BBY3Rpb25zKG1hbmFnZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBiZWdpbkRyYWc6IGJlZ2luRHJhZ18xLmRlZmF1bHQobWFuYWdlciksXG4gICAgICAgIHB1Ymxpc2hEcmFnU291cmNlOiBwdWJsaXNoRHJhZ1NvdXJjZV8xLmRlZmF1bHQobWFuYWdlciksXG4gICAgICAgIGhvdmVyOiBob3Zlcl8xLmRlZmF1bHQobWFuYWdlciksXG4gICAgICAgIGRyb3A6IGRyb3BfMS5kZWZhdWx0KG1hbmFnZXIpLFxuICAgICAgICBlbmREcmFnOiBlbmREcmFnXzEuZGVmYXVsdChtYW5hZ2VyKSxcbiAgICB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlRHJhZ0Ryb3BBY3Rpb25zO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHlwZXNfMSA9IHJlcXVpcmUoXCIuLi90eXBlc1wiKTtcbmZ1bmN0aW9uIHNldENsaWVudE9mZnNldChjbGllbnRPZmZzZXQsIHNvdXJjZUNsaWVudE9mZnNldCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHR5cGVzXzEuSU5JVF9DT09SRFMsXG4gICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgIHNvdXJjZUNsaWVudE9mZnNldDogc291cmNlQ2xpZW50T2Zmc2V0IHx8IG51bGwsXG4gICAgICAgICAgICBjbGllbnRPZmZzZXQ6IGNsaWVudE9mZnNldCB8fCBudWxsLFxuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnRzLnNldENsaWVudE9mZnNldCA9IHNldENsaWVudE9mZnNldDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHR5cGVzXzEgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbmZ1bmN0aW9uIGNyZWF0ZVB1Ymxpc2hEcmFnU291cmNlKG1hbmFnZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gcHVibGlzaERyYWdTb3VyY2UoKSB7XG4gICAgICAgIHZhciBtb25pdG9yID0gbWFuYWdlci5nZXRNb25pdG9yKCk7XG4gICAgICAgIGlmIChtb25pdG9yLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdHlwZTogdHlwZXNfMS5QVUJMSVNIX0RSQUdfU09VUkNFIH07XG4gICAgICAgIH1cbiAgICB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlUHVibGlzaERyYWdTb3VyY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSU5JVF9DT09SRFMgPSAnZG5kLWNvcmUvSU5JVF9DT09SRFMnO1xuZXhwb3J0cy5CRUdJTl9EUkFHID0gJ2RuZC1jb3JlL0JFR0lOX0RSQUcnO1xuZXhwb3J0cy5QVUJMSVNIX0RSQUdfU09VUkNFID0gJ2RuZC1jb3JlL1BVQkxJU0hfRFJBR19TT1VSQ0UnO1xuZXhwb3J0cy5IT1ZFUiA9ICdkbmQtY29yZS9IT1ZFUic7XG5leHBvcnRzLkRST1AgPSAnZG5kLWNvcmUvRFJPUCc7XG5leHBvcnRzLkVORF9EUkFHID0gJ2RuZC1jb3JlL0VORF9EUkFHJztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BRERfU09VUkNFID0gJ2RuZC1jb3JlL0FERF9TT1VSQ0UnO1xuZXhwb3J0cy5BRERfVEFSR0VUID0gJ2RuZC1jb3JlL0FERF9UQVJHRVQnO1xuZXhwb3J0cy5SRU1PVkVfU09VUkNFID0gJ2RuZC1jb3JlL1JFTU9WRV9TT1VSQ0UnO1xuZXhwb3J0cy5SRU1PVkVfVEFSR0VUID0gJ2RuZC1jb3JlL1JFTU9WRV9UQVJHRVQnO1xuZnVuY3Rpb24gYWRkU291cmNlKHNvdXJjZUlkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogZXhwb3J0cy5BRERfU09VUkNFLFxuICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBzb3VyY2VJZDogc291cmNlSWQsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydHMuYWRkU291cmNlID0gYWRkU291cmNlO1xuZnVuY3Rpb24gYWRkVGFyZ2V0KHRhcmdldElkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogZXhwb3J0cy5BRERfVEFSR0VULFxuICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICB0YXJnZXRJZDogdGFyZ2V0SWQsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydHMuYWRkVGFyZ2V0ID0gYWRkVGFyZ2V0O1xuZnVuY3Rpb24gcmVtb3ZlU291cmNlKHNvdXJjZUlkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogZXhwb3J0cy5SRU1PVkVfU09VUkNFLFxuICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICBzb3VyY2VJZDogc291cmNlSWQsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydHMucmVtb3ZlU291cmNlID0gcmVtb3ZlU291cmNlO1xuZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0KHRhcmdldElkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogZXhwb3J0cy5SRU1PVkVfVEFSR0VULFxuICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICB0YXJnZXRJZDogdGFyZ2V0SWQsXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydHMucmVtb3ZlVGFyZ2V0ID0gcmVtb3ZlVGFyZ2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5mdW5jdGlvbiB2YWxpZGF0ZVNvdXJjZUNvbnRyYWN0KHNvdXJjZSkge1xuICAgIGludmFyaWFudCh0eXBlb2Ygc291cmNlLmNhbkRyYWcgPT09ICdmdW5jdGlvbicsICdFeHBlY3RlZCBjYW5EcmFnIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgaW52YXJpYW50KHR5cGVvZiBzb3VyY2UuYmVnaW5EcmFnID09PSAnZnVuY3Rpb24nLCAnRXhwZWN0ZWQgYmVnaW5EcmFnIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgaW52YXJpYW50KHR5cGVvZiBzb3VyY2UuZW5kRHJhZyA9PT0gJ2Z1bmN0aW9uJywgJ0V4cGVjdGVkIGVuZERyYWcgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbn1cbmV4cG9ydHMudmFsaWRhdGVTb3VyY2VDb250cmFjdCA9IHZhbGlkYXRlU291cmNlQ29udHJhY3Q7XG5mdW5jdGlvbiB2YWxpZGF0ZVRhcmdldENvbnRyYWN0KHRhcmdldCkge1xuICAgIGludmFyaWFudCh0eXBlb2YgdGFyZ2V0LmNhbkRyb3AgPT09ICdmdW5jdGlvbicsICdFeHBlY3RlZCBjYW5Ecm9wIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgaW52YXJpYW50KHR5cGVvZiB0YXJnZXQuaG92ZXIgPT09ICdmdW5jdGlvbicsICdFeHBlY3RlZCBob3ZlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIGludmFyaWFudCh0eXBlb2YgdGFyZ2V0LmRyb3AgPT09ICdmdW5jdGlvbicsICdFeHBlY3RlZCBiZWdpbkRyYWcgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbn1cbmV4cG9ydHMudmFsaWRhdGVUYXJnZXRDb250cmFjdCA9IHZhbGlkYXRlVGFyZ2V0Q29udHJhY3Q7XG5mdW5jdGlvbiB2YWxpZGF0ZVR5cGUodHlwZSwgYWxsb3dBcnJheSkge1xuICAgIGlmIChhbGxvd0FycmF5ICYmIEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgdHlwZS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7IHJldHVybiB2YWxpZGF0ZVR5cGUodCwgZmFsc2UpOyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnQodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnc3ltYm9sJywgYWxsb3dBcnJheVxuICAgICAgICA/ICdUeXBlIGNhbiBvbmx5IGJlIGEgc3RyaW5nLCBhIHN5bWJvbCwgb3IgYW4gYXJyYXkgb2YgZWl0aGVyLidcbiAgICAgICAgOiAnVHlwZSBjYW4gb25seSBiZSBhIHN0cmluZyBvciBhIHN5bWJvbC4nKTtcbn1cbmV4cG9ydHMudmFsaWRhdGVUeXBlID0gdmFsaWRhdGVUeXBlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgRHJhZ0Ryb3BNYW5hZ2VySW1wbF8xID0gcmVxdWlyZShcIi4vRHJhZ0Ryb3BNYW5hZ2VySW1wbFwiKTtcbmZ1bmN0aW9uIGNyZWF0ZURyYWdEcm9wTWFuYWdlcihiYWNrZW5kLCBjb250ZXh0LCBkZWJ1Z01vZGUpIHtcbiAgICByZXR1cm4gbmV3IERyYWdEcm9wTWFuYWdlckltcGxfMS5kZWZhdWx0KGJhY2tlbmQsIGNvbnRleHQsIGRlYnVnTW9kZSk7XG59XG5leHBvcnRzLmNyZWF0ZURyYWdEcm9wTWFuYWdlciA9IGNyZWF0ZURyYWdEcm9wTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2ludGVyZmFjZXNcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vZmFjdG9yaWVzXCIpKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEhhbmRsZXJSb2xlO1xuKGZ1bmN0aW9uIChIYW5kbGVyUm9sZSkge1xuICAgIEhhbmRsZXJSb2xlW1wiU09VUkNFXCJdID0gXCJTT1VSQ0VcIjtcbiAgICBIYW5kbGVyUm9sZVtcIlRBUkdFVFwiXSA9IFwiVEFSR0VUXCI7XG59KShIYW5kbGVyUm9sZSA9IGV4cG9ydHMuSGFuZGxlclJvbGUgfHwgKGV4cG9ydHMuSGFuZGxlclJvbGUgPSB7fSkpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZHJhZ0Ryb3BfMSA9IHJlcXVpcmUoXCIuLi9hY3Rpb25zL2RyYWdEcm9wXCIpO1xudmFyIHJlZ2lzdHJ5XzEgPSByZXF1aXJlKFwiLi4vYWN0aW9ucy9yZWdpc3RyeVwiKTtcbnZhciBlcXVhbGl0eV8xID0gcmVxdWlyZShcIi4uL3V0aWxzL2VxdWFsaXR5XCIpO1xudmFyIGRpcnRpbmVzc18xID0gcmVxdWlyZShcIi4uL3V0aWxzL2RpcnRpbmVzc1wiKTtcbnZhciBkaXNjb3VudF9sb2Rhc2hfMSA9IHJlcXVpcmUoXCIuLi91dGlscy9kaXNjb3VudF9sb2Rhc2hcIik7XG5mdW5jdGlvbiBkaXJ0eUhhbmRsZXJJZHMoc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7IHN0YXRlID0gZGlydGluZXNzXzEuTk9ORTsgfVxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBkcmFnRHJvcF8xLkhPVkVSOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgcmVnaXN0cnlfMS5BRERfU09VUkNFOlxuICAgICAgICBjYXNlIHJlZ2lzdHJ5XzEuQUREX1RBUkdFVDpcbiAgICAgICAgY2FzZSByZWdpc3RyeV8xLlJFTU9WRV9UQVJHRVQ6XG4gICAgICAgIGNhc2UgcmVnaXN0cnlfMS5SRU1PVkVfU09VUkNFOlxuICAgICAgICAgICAgcmV0dXJuIGRpcnRpbmVzc18xLk5PTkU7XG4gICAgICAgIGNhc2UgZHJhZ0Ryb3BfMS5CRUdJTl9EUkFHOlxuICAgICAgICBjYXNlIGRyYWdEcm9wXzEuUFVCTElTSF9EUkFHX1NPVVJDRTpcbiAgICAgICAgY2FzZSBkcmFnRHJvcF8xLkVORF9EUkFHOlxuICAgICAgICBjYXNlIGRyYWdEcm9wXzEuRFJPUDpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBkaXJ0aW5lc3NfMS5BTEw7XG4gICAgfVxuICAgIHZhciBfYSA9IGFjdGlvbi5wYXlsb2FkLCBfYiA9IF9hLnRhcmdldElkcywgdGFyZ2V0SWRzID0gX2IgPT09IHZvaWQgMCA/IFtdIDogX2IsIF9jID0gX2EucHJldlRhcmdldElkcywgcHJldlRhcmdldElkcyA9IF9jID09PSB2b2lkIDAgPyBbXSA6IF9jO1xuICAgIHZhciByZXN1bHQgPSBkaXNjb3VudF9sb2Rhc2hfMS54b3IodGFyZ2V0SWRzLCBwcmV2VGFyZ2V0SWRzKTtcbiAgICB2YXIgZGlkQ2hhbmdlID0gcmVzdWx0Lmxlbmd0aCA+IDAgfHwgIWVxdWFsaXR5XzEuYXJlQXJyYXlzRXF1YWwodGFyZ2V0SWRzLCBwcmV2VGFyZ2V0SWRzKTtcbiAgICBpZiAoIWRpZENoYW5nZSkge1xuICAgICAgICByZXR1cm4gZGlydGluZXNzXzEuTk9ORTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgdGhlIHRhcmdldCBpZHMgYXQgdGhlIGlubmVybW9zdCBwb3NpdGlvbi4gSWYgdGhleSBhcmUgdmFsaWQsIGFkZCB0aGVtXG4gICAgLy8gdG8gdGhlIHJlc3VsdFxuICAgIHZhciBwcmV2SW5uZXJtb3N0VGFyZ2V0SWQgPSBwcmV2VGFyZ2V0SWRzW3ByZXZUYXJnZXRJZHMubGVuZ3RoIC0gMV07XG4gICAgdmFyIGlubmVybW9zdFRhcmdldElkID0gdGFyZ2V0SWRzW3RhcmdldElkcy5sZW5ndGggLSAxXTtcbiAgICBpZiAocHJldklubmVybW9zdFRhcmdldElkICE9PSBpbm5lcm1vc3RUYXJnZXRJZCkge1xuICAgICAgICBpZiAocHJldklubmVybW9zdFRhcmdldElkKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChwcmV2SW5uZXJtb3N0VGFyZ2V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbm5lcm1vc3RUYXJnZXRJZCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goaW5uZXJtb3N0VGFyZ2V0SWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBkaXJ0eUhhbmRsZXJJZHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZHJhZ0Ryb3BfMSA9IHJlcXVpcmUoXCIuLi9hY3Rpb25zL2RyYWdEcm9wXCIpO1xudmFyIGVxdWFsaXR5XzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvZXF1YWxpdHlcIik7XG52YXIgaW5pdGlhbFN0YXRlID0ge1xuICAgIGluaXRpYWxTb3VyY2VDbGllbnRPZmZzZXQ6IG51bGwsXG4gICAgaW5pdGlhbENsaWVudE9mZnNldDogbnVsbCxcbiAgICBjbGllbnRPZmZzZXQ6IG51bGwsXG59O1xuZnVuY3Rpb24gZHJhZ09mZnNldChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHsgc3RhdGUgPSBpbml0aWFsU3RhdGU7IH1cbiAgICB2YXIgcGF5bG9hZCA9IGFjdGlvbi5wYXlsb2FkO1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBkcmFnRHJvcF8xLklOSVRfQ09PUkRTOlxuICAgICAgICBjYXNlIGRyYWdEcm9wXzEuQkVHSU5fRFJBRzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbFNvdXJjZUNsaWVudE9mZnNldDogcGF5bG9hZC5zb3VyY2VDbGllbnRPZmZzZXQsXG4gICAgICAgICAgICAgICAgaW5pdGlhbENsaWVudE9mZnNldDogcGF5bG9hZC5jbGllbnRPZmZzZXQsXG4gICAgICAgICAgICAgICAgY2xpZW50T2Zmc2V0OiBwYXlsb2FkLmNsaWVudE9mZnNldCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgZHJhZ0Ryb3BfMS5IT1ZFUjpcbiAgICAgICAgICAgIGlmIChlcXVhbGl0eV8xLmFyZUNvb3Jkc0VxdWFsKHN0YXRlLmNsaWVudE9mZnNldCwgcGF5bG9hZC5jbGllbnRPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBjbGllbnRPZmZzZXQ6IHBheWxvYWQuY2xpZW50T2Zmc2V0IH0pO1xuICAgICAgICBjYXNlIGRyYWdEcm9wXzEuRU5EX0RSQUc6XG4gICAgICAgIGNhc2UgZHJhZ0Ryb3BfMS5EUk9QOlxuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxTdGF0ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBkcmFnT2Zmc2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGRyYWdEcm9wXzEgPSByZXF1aXJlKFwiLi4vYWN0aW9ucy9kcmFnRHJvcFwiKTtcbnZhciByZWdpc3RyeV8xID0gcmVxdWlyZShcIi4uL2FjdGlvbnMvcmVnaXN0cnlcIik7XG52YXIgZGlzY291bnRfbG9kYXNoXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xudmFyIGluaXRpYWxTdGF0ZSA9IHtcbiAgICBpdGVtVHlwZTogbnVsbCxcbiAgICBpdGVtOiBudWxsLFxuICAgIHNvdXJjZUlkOiBudWxsLFxuICAgIHRhcmdldElkczogW10sXG4gICAgZHJvcFJlc3VsdDogbnVsbCxcbiAgICBkaWREcm9wOiBmYWxzZSxcbiAgICBpc1NvdXJjZVB1YmxpYzogbnVsbCxcbn07XG5mdW5jdGlvbiBkcmFnT3BlcmF0aW9uKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoc3RhdGUgPT09IHZvaWQgMCkgeyBzdGF0ZSA9IGluaXRpYWxTdGF0ZTsgfVxuICAgIHZhciBwYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgc3dpdGNoIChhY3Rpb24udHlwZSkge1xuICAgICAgICBjYXNlIGRyYWdEcm9wXzEuQkVHSU5fRFJBRzpcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgaXRlbVR5cGU6IHBheWxvYWQuaXRlbVR5cGUsIGl0ZW06IHBheWxvYWQuaXRlbSwgc291cmNlSWQ6IHBheWxvYWQuc291cmNlSWQsIGlzU291cmNlUHVibGljOiBwYXlsb2FkLmlzU291cmNlUHVibGljLCBkcm9wUmVzdWx0OiBudWxsLCBkaWREcm9wOiBmYWxzZSB9KTtcbiAgICAgICAgY2FzZSBkcmFnRHJvcF8xLlBVQkxJU0hfRFJBR19TT1VSQ0U6XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHN0YXRlLCB7IGlzU291cmNlUHVibGljOiB0cnVlIH0pO1xuICAgICAgICBjYXNlIGRyYWdEcm9wXzEuSE9WRVI6XG4gICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHN0YXRlLCB7IHRhcmdldElkczogcGF5bG9hZC50YXJnZXRJZHMgfSk7XG4gICAgICAgIGNhc2UgcmVnaXN0cnlfMS5SRU1PVkVfVEFSR0VUOlxuICAgICAgICAgICAgaWYgKHN0YXRlLnRhcmdldElkcy5pbmRleE9mKHBheWxvYWQudGFyZ2V0SWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgdGFyZ2V0SWRzOiBkaXNjb3VudF9sb2Rhc2hfMS53aXRob3V0KHN0YXRlLnRhcmdldElkcywgcGF5bG9hZC50YXJnZXRJZCkgfSk7XG4gICAgICAgIGNhc2UgZHJhZ0Ryb3BfMS5EUk9QOlxuICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzdGF0ZSwgeyBkcm9wUmVzdWx0OiBwYXlsb2FkLmRyb3BSZXN1bHQsIGRpZERyb3A6IHRydWUsIHRhcmdldElkczogW10gfSk7XG4gICAgICAgIGNhc2UgZHJhZ0Ryb3BfMS5FTkRfRFJBRzpcbiAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgc3RhdGUsIHsgaXRlbVR5cGU6IG51bGwsIGl0ZW06IG51bGwsIHNvdXJjZUlkOiBudWxsLCBkcm9wUmVzdWx0OiBudWxsLCBkaWREcm9wOiBmYWxzZSwgaXNTb3VyY2VQdWJsaWM6IG51bGwsIHRhcmdldElkczogW10gfSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gZHJhZ09wZXJhdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkcmFnT2Zmc2V0XzEgPSByZXF1aXJlKFwiLi9kcmFnT2Zmc2V0XCIpO1xudmFyIGRyYWdPcGVyYXRpb25fMSA9IHJlcXVpcmUoXCIuL2RyYWdPcGVyYXRpb25cIik7XG52YXIgcmVmQ291bnRfMSA9IHJlcXVpcmUoXCIuL3JlZkNvdW50XCIpO1xudmFyIGRpcnR5SGFuZGxlcklkc18xID0gcmVxdWlyZShcIi4vZGlydHlIYW5kbGVySWRzXCIpO1xudmFyIHN0YXRlSWRfMSA9IHJlcXVpcmUoXCIuL3N0YXRlSWRcIik7XG52YXIgZGlzY291bnRfbG9kYXNoXzEgPSByZXF1aXJlKFwiLi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xuZnVuY3Rpb24gcmVkdWNlKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoc3RhdGUgPT09IHZvaWQgMCkgeyBzdGF0ZSA9IHt9OyB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlydHlIYW5kbGVySWRzOiBkaXJ0eUhhbmRsZXJJZHNfMS5kZWZhdWx0KHN0YXRlLmRpcnR5SGFuZGxlcklkcywge1xuICAgICAgICAgICAgdHlwZTogYWN0aW9uLnR5cGUsXG4gICAgICAgICAgICBwYXlsb2FkOiBfX2Fzc2lnbih7fSwgYWN0aW9uLnBheWxvYWQsIHsgcHJldlRhcmdldElkczogZGlzY291bnRfbG9kYXNoXzEuZ2V0KHN0YXRlLCAnZHJhZ09wZXJhdGlvbi50YXJnZXRJZHMnLCBbXSkgfSksXG4gICAgICAgIH0pLFxuICAgICAgICBkcmFnT2Zmc2V0OiBkcmFnT2Zmc2V0XzEuZGVmYXVsdChzdGF0ZS5kcmFnT2Zmc2V0LCBhY3Rpb24pLFxuICAgICAgICByZWZDb3VudDogcmVmQ291bnRfMS5kZWZhdWx0KHN0YXRlLnJlZkNvdW50LCBhY3Rpb24pLFxuICAgICAgICBkcmFnT3BlcmF0aW9uOiBkcmFnT3BlcmF0aW9uXzEuZGVmYXVsdChzdGF0ZS5kcmFnT3BlcmF0aW9uLCBhY3Rpb24pLFxuICAgICAgICBzdGF0ZUlkOiBzdGF0ZUlkXzEuZGVmYXVsdChzdGF0ZS5zdGF0ZUlkKSxcbiAgICB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gcmVkdWNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVnaXN0cnlfMSA9IHJlcXVpcmUoXCIuLi9hY3Rpb25zL3JlZ2lzdHJ5XCIpO1xuZnVuY3Rpb24gcmVmQ291bnQoc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7IHN0YXRlID0gMDsgfVxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSByZWdpc3RyeV8xLkFERF9TT1VSQ0U6XG4gICAgICAgIGNhc2UgcmVnaXN0cnlfMS5BRERfVEFSR0VUOlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlICsgMTtcbiAgICAgICAgY2FzZSByZWdpc3RyeV8xLlJFTU9WRV9TT1VSQ0U6XG4gICAgICAgIGNhc2UgcmVnaXN0cnlfMS5SRU1PVkVfVEFSR0VUOlxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIC0gMTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSByZWZDb3VudDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gc3RhdGVJZChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7IHN0YXRlID0gMDsgfVxuICAgIHJldHVybiBzdGF0ZSArIDE7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBzdGF0ZUlkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIENvb3JkaW5hdGUgYWRkaXRpb25cbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCBjb29yZGluYXRlXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIGNvb3JkaW5hdGVcbiAqL1xuZnVuY3Rpb24gYWRkKGEsIGIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBhLnggKyBiLngsXG4gICAgICAgIHk6IGEueSArIGIueSxcbiAgICB9O1xufVxuZXhwb3J0cy5hZGQgPSBhZGQ7XG4vKipcbiAqIENvb3JkaW5hdGUgc3VidHJhY3Rpb25cbiAqIEBwYXJhbSBhIFRoZSBmaXJzdCBjb29yZGluYXRlXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIGNvb3JkaW5hdGVcbiAqL1xuZnVuY3Rpb24gc3VidHJhY3QoYSwgYikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IGEueCAtIGIueCxcbiAgICAgICAgeTogYS55IC0gYi55LFxuICAgIH07XG59XG5leHBvcnRzLnN1YnRyYWN0ID0gc3VidHJhY3Q7XG4vKipcbiAqIFJldHVybnMgdGhlIGNhcnRlc2lhbiBkaXN0YW5jZSBvZiB0aGUgZHJhZyBzb3VyY2UgY29tcG9uZW50J3MgcG9zaXRpb24sIGJhc2VkIG9uIGl0cyBwb3NpdGlvblxuICogYXQgdGhlIHRpbWUgd2hlbiB0aGUgY3VycmVudCBkcmFnIG9wZXJhdGlvbiBoYXMgc3RhcnRlZCwgYW5kIHRoZSBtb3ZlbWVudCBkaWZmZXJlbmNlLlxuICpcbiAqIFJldHVybnMgbnVsbCBpZiBubyBpdGVtIGlzIGJlaW5nIGRyYWdnZWQuXG4gKlxuICogQHBhcmFtIHN0YXRlIFRoZSBvZmZzZXQgc3RhdGUgdG8gY29tcHV0ZSBmcm9tXG4gKi9cbmZ1bmN0aW9uIGdldFNvdXJjZUNsaWVudE9mZnNldChzdGF0ZSkge1xuICAgIHZhciBjbGllbnRPZmZzZXQgPSBzdGF0ZS5jbGllbnRPZmZzZXQsIGluaXRpYWxDbGllbnRPZmZzZXQgPSBzdGF0ZS5pbml0aWFsQ2xpZW50T2Zmc2V0LCBpbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0ID0gc3RhdGUuaW5pdGlhbFNvdXJjZUNsaWVudE9mZnNldDtcbiAgICBpZiAoIWNsaWVudE9mZnNldCB8fCAhaW5pdGlhbENsaWVudE9mZnNldCB8fCAhaW5pdGlhbFNvdXJjZUNsaWVudE9mZnNldCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHN1YnRyYWN0KGFkZChjbGllbnRPZmZzZXQsIGluaXRpYWxTb3VyY2VDbGllbnRPZmZzZXQpLCBpbml0aWFsQ2xpZW50T2Zmc2V0KTtcbn1cbmV4cG9ydHMuZ2V0U291cmNlQ2xpZW50T2Zmc2V0ID0gZ2V0U291cmNlQ2xpZW50T2Zmc2V0O1xuLyoqXG4gKiBEZXRlcm1pbmVzIHRoZSB4LHkgb2Zmc2V0IGJldHdlZW4gdGhlIGNsaWVudCBvZmZzZXQgYW5kIHRoZSBpbml0aWFsIGNsaWVudCBvZmZzZXRcbiAqXG4gKiBAcGFyYW0gc3RhdGUgVGhlIG9mZnNldCBzdGF0ZSB0byBjb21wdXRlIGZyb21cbiAqL1xuZnVuY3Rpb24gZ2V0RGlmZmVyZW5jZUZyb21Jbml0aWFsT2Zmc2V0KHN0YXRlKSB7XG4gICAgdmFyIGNsaWVudE9mZnNldCA9IHN0YXRlLmNsaWVudE9mZnNldCwgaW5pdGlhbENsaWVudE9mZnNldCA9IHN0YXRlLmluaXRpYWxDbGllbnRPZmZzZXQ7XG4gICAgaWYgKCFjbGllbnRPZmZzZXQgfHwgIWluaXRpYWxDbGllbnRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBzdWJ0cmFjdChjbGllbnRPZmZzZXQsIGluaXRpYWxDbGllbnRPZmZzZXQpO1xufVxuZXhwb3J0cy5nZXREaWZmZXJlbmNlRnJvbUluaXRpYWxPZmZzZXQgPSBnZXREaWZmZXJlbmNlRnJvbUluaXRpYWxPZmZzZXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkaXNjb3VudF9sb2Rhc2hfMSA9IHJlcXVpcmUoXCIuL2Rpc2NvdW50X2xvZGFzaFwiKTtcbmV4cG9ydHMuTk9ORSA9IFtdO1xuZXhwb3J0cy5BTEwgPSBbXTtcbmV4cG9ydHMuTk9ORS5fX0lTX05PTkVfXyA9IHRydWU7XG5leHBvcnRzLkFMTC5fX0lTX0FMTF9fID0gdHJ1ZTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gaGFuZGxlciBJRHMgYXJlIGRpcnR5IG9yIG5vdC5cbiAqXG4gKiBAcGFyYW0gZGlydHlJZHMgVGhlIHNldCBvZiBkaXJ0eSBoYW5kbGVyIGlkc1xuICogQHBhcmFtIGhhbmRsZXJJZHMgVGhlIHNldCBvZiBoYW5kbGVyIGlkcyB0byBjaGVja1xuICovXG5mdW5jdGlvbiBhcmVEaXJ0eShkaXJ0eUlkcywgaGFuZGxlcklkcykge1xuICAgIGlmIChkaXJ0eUlkcyA9PT0gZXhwb3J0cy5OT05FKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGRpcnR5SWRzID09PSBleHBvcnRzLkFMTCB8fCB0eXBlb2YgaGFuZGxlcklkcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBjb21tb25JZHMgPSBkaXNjb3VudF9sb2Rhc2hfMS5pbnRlcnNlY3Rpb24oaGFuZGxlcklkcywgZGlydHlJZHMpO1xuICAgIHJldHVybiBjb21tb25JZHMubGVuZ3RoID4gMDtcbn1cbmV4cG9ydHMuYXJlRGlydHkgPSBhcmVEaXJ0eTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBkcm9wLWluIHJlcGxhY2VtZW50IGZvciBfLmdldFxuICogQHBhcmFtIG9ialxuICogQHBhcmFtIHBhdGhcbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWVcbiAqL1xuZnVuY3Rpb24gZ2V0KG9iaiwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIHBhdGhcbiAgICAgICAgLnNwbGl0KCcuJylcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAoYSwgYykgeyByZXR1cm4gKGEgJiYgYVtjXSA/IGFbY10gOiBkZWZhdWx0VmFsdWUgfHwgbnVsbCk7IH0sIG9iaik7XG59XG5leHBvcnRzLmdldCA9IGdldDtcbi8qKlxuICogZHJvcC1pbiByZXBsYWNlbWVudCBmb3IgXy53aXRob3V0XG4gKi9cbmZ1bmN0aW9uIHdpdGhvdXQoaXRlbXMsIGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpICE9PSBpdGVtOyB9KTtcbn1cbmV4cG9ydHMud2l0aG91dCA9IHdpdGhvdXQ7XG4vKipcbiAqIGRyb3AtaW4gcmVwbGFjZW1lbnQgZm9yIF8uaXNTdHJpbmdcbiAqIEBwYXJhbSBpbnB1dFxuICovXG5mdW5jdGlvbiBpc1N0cmluZyhpbnB1dCkge1xuICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnO1xufVxuZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nO1xuLyoqXG4gKiBkcm9wLWluIHJlcGxhY2VtZW50IGZvciBfLmlzU3RyaW5nXG4gKiBAcGFyYW0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QoaW5wdXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnb2JqZWN0Jztcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcbi8qKlxuICogcmVwYWxjZW1lbnQgZm9yIF8ueG9yXG4gKiBAcGFyYW0gaXRlbXNBXG4gKiBAcGFyYW0gaXRlbXNCXG4gKi9cbmZ1bmN0aW9uIHhvcihpdGVtc0EsIGl0ZW1zQikge1xuICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7XG4gICAgdmFyIGluc2VydEl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gbWFwLnNldChpdGVtLCBtYXAuaGFzKGl0ZW0pID8gbWFwLmdldChpdGVtKSArIDEgOiAxKTtcbiAgICB9O1xuICAgIGl0ZW1zQS5mb3JFYWNoKGluc2VydEl0ZW0pO1xuICAgIGl0ZW1zQi5mb3JFYWNoKGluc2VydEl0ZW0pO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBtYXAuZm9yRWFjaChmdW5jdGlvbiAoY291bnQsIGtleSkge1xuICAgICAgICBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy54b3IgPSB4b3I7XG4vKipcbiAqIHJlcGxhY2VtZW50IGZvciBfLmludGVyc2VjdGlvblxuICogQHBhcmFtIGl0ZW1zQVxuICogQHBhcmFtIGl0ZW1zQlxuICovXG5mdW5jdGlvbiBpbnRlcnNlY3Rpb24oaXRlbXNBLCBpdGVtc0IpIHtcbiAgICByZXR1cm4gaXRlbXNBLmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gaXRlbXNCLmluZGV4T2YodCkgPiAtMTsgfSk7XG59XG5leHBvcnRzLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zdHJpY3RFcXVhbGl0eSA9IGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhID09PSBiOyB9O1xuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdHdvIGNhcnRlc2lhbiBjb29yZGluYXRlIG9mZnNldHMgYXJlIGVxdWFsXG4gKiBAcGFyYW0gb2Zmc2V0QVxuICogQHBhcmFtIG9mZnNldEJcbiAqL1xuZnVuY3Rpb24gYXJlQ29vcmRzRXF1YWwob2Zmc2V0QSwgb2Zmc2V0Qikge1xuICAgIGlmICghb2Zmc2V0QSAmJiAhb2Zmc2V0Qikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIW9mZnNldEEgfHwgIW9mZnNldEIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9mZnNldEEueCA9PT0gb2Zmc2V0Qi54ICYmIG9mZnNldEEueSA9PT0gb2Zmc2V0Qi55O1xuICAgIH1cbn1cbmV4cG9ydHMuYXJlQ29vcmRzRXF1YWwgPSBhcmVDb29yZHNFcXVhbDtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0d28gYXJyYXlzIG9mIGl0ZW1zIGFyZSBlcXVhbFxuICogQHBhcmFtIGEgVGhlIGZpcnN0IGFycmF5IG9mIGl0ZW1zXG4gKiBAcGFyYW0gYiBUaGUgc2Vjb25kIGFycmF5IG9mIGl0ZW1zXG4gKi9cbmZ1bmN0aW9uIGFyZUFycmF5c0VxdWFsKGEsIGIsIGlzRXF1YWwpIHtcbiAgICBpZiAoaXNFcXVhbCA9PT0gdm9pZCAwKSB7IGlzRXF1YWwgPSBleHBvcnRzLnN0cmljdEVxdWFsaXR5OyB9XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoIWlzRXF1YWwoYVtpXSwgYltpXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydHMuYXJlQXJyYXlzRXF1YWwgPSBhcmVBcnJheXNFcXVhbDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG5leHRVbmlxdWVJZCA9IDA7XG5mdW5jdGlvbiBnZXROZXh0VW5pcXVlSWQoKSB7XG4gICAgcmV0dXJuIG5leHRVbmlxdWVJZCsrO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0TmV4dFVuaXF1ZUlkO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBtYXRjaGVzVHlwZSh0YXJnZXRUeXBlLCBkcmFnZ2VkSXRlbVR5cGUpIHtcbiAgICBpZiAoZHJhZ2dlZEl0ZW1UeXBlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXRUeXBlID09PSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0YXJnZXRUeXBlKVxuICAgICAgICA/IHRhcmdldFR5cGUuc29tZShmdW5jdGlvbiAodCkgeyByZXR1cm4gdCA9PT0gZHJhZ2dlZEl0ZW1UeXBlOyB9KVxuICAgICAgICA6IHRhcmdldFR5cGUgPT09IGRyYWdnZWRJdGVtVHlwZTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IG1hdGNoZXNUeXBlO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcblxuLyoqXG4gKiBUcmFuc2Zvcm0gZG90LWRlbGltaXRlZCBzdHJpbmdzIHRvIGFycmF5IG9mIHN0cmluZ3MuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBzdHJpbmdcbiAqIERvdC1kZWxpbWl0ZWQgc3RyaW5nLlxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQXJyYXkgb2Ygc3RyaW5ncy5cbiAqL1xuXG5mdW5jdGlvbiBkb3RzcGxpdCAoc3RyaW5nKSB7XG4gIHZhciBpZHggPSAtMVxuICB2YXIgc3RyID0gY29tcGFjdChub3JtYWxpemUoc3RyaW5nKS5zcGxpdCgnLicpKVxuICB2YXIgZW5kID0gc3RyLmxlbmd0aFxuICB2YXIgb3V0ID0gW11cblxuICB3aGlsZSAoKytpZHggPCBlbmQpIHtcbiAgICBvdXQucHVzaCh0b2RvdHMoc3RyW2lkeF0pKVxuICB9XG5cbiAgcmV0dXJuIG91dFxufVxuXG4vKipcbiAqIFJlcGxhY2UgZXNjYXBlcyB3aXRoIGEgcGxhY2Vob2xkZXIuXG4gKlxuICogQHBhcmFtICB7U3RyaW5nfSBzdHJpbmdcbiAqIERvdC1kZWxpbWl0ZWQgc3RyaW5nLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIERvdC1kZWxpbWl0ZWQgc3RyaW5nIHdpdGggcGxhY2Vob2xkZXJzIGluIHBsYWNlIG9mIGVzY2FwZXMuXG4gKi9cblxuZnVuY3Rpb24gbm9ybWFsaXplIChzdHJpbmcpIHtcbiAgcmV0dXJuICh0b1N0cmluZy5jYWxsKHN0cmluZykgPT09ICdbb2JqZWN0IFN0cmluZ10nID8gc3RyaW5nIDogJycpLnJlcGxhY2UoL1xcXFxcXC4vZywgJ1xcdWZmZmYnKVxufVxuXG4vKipcbiAqIERyb3AgZW1wdHkgdmFsdWVzIGZyb20gYXJyYXkuXG4gKlxuICogQHBhcmFtICB7QXJyYXl9IGFycmF5XG4gKiBBcnJheSBvZiBzdHJpbmdzLlxuICpcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQXJyYXkgb2Ygc3RyaW5ncyAoZW1wdHkgdmFsdWVzIGRyb3BwZWQpLlxuICovXG5cbmZ1bmN0aW9uIGNvbXBhY3QgKGFycikge1xuICB2YXIgaWR4ID0gLTFcbiAgdmFyIGVuZCA9IGFyci5sZW5ndGhcbiAgdmFyIG91dCA9IFtdXG5cbiAgd2hpbGUgKCsraWR4IDwgZW5kKSB7XG4gICAgaWYgKGFycltpZHhdKSBvdXQucHVzaChhcnJbaWR4XSlcbiAgfVxuXG4gIHJldHVybiBvdXRcbn1cblxuLyoqXG4gKiBDaGFuZ2UgcGxhY2Vob2xkZXIgdG8gZG90cy5cbiAqXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN0cmluZ1xuICogRG90LWRlbGltaXRlZCBzdHJpbmcgd2l0aCBwbGFjZWhvbGRlcnMuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfVxuICogRG90LWRlbGltaXRlZCBzdHJpbmcgd2l0aG91dCBwbGFjZWhvbGRlcnMuXG4gKi9cblxuZnVuY3Rpb24gdG9kb3RzIChzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9cXHVmZmZmL2csICcuJylcbn1cblxuLyohXG4gKiBleHBvcnRzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZG90c3BsaXRcbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYm91bmRUaGlzKSB7XG4gIHZhciBmID0gdGhpc1xuICAgICwgcmV0XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKVxuICAgIHJldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiByZXQpIHtcbiAgICAgICAgdmFyIHJldF8gPSBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgICAgcmV0dXJuIE9iamVjdChyZXRfKSA9PT0gcmV0X1xuICAgICAgICAgID8gcmV0X1xuICAgICAgICAgIDogdGhpc1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICByZXR1cm4gZi5hcHBseShib3VuZFRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGVsc2Uge1xuICAgIHZhciBib3VuZEFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXG4gICAgICBib3VuZEFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldXG5cbiAgICByZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBib3VuZExlbiA9IGJvdW5kQXJncy5sZW5ndGhcbiAgICAgICAgLCBhcmdzID0gbmV3IEFycmF5KGJvdW5kTGVuICsgYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgLCBpXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgYm91bmRMZW47IGkrKylcbiAgICAgICAgYXJnc1tpXSA9IGJvdW5kQXJnc1tpXVxuICAgICAgZm9yIChpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgICAgYXJnc1tib3VuZExlbiArIGldID0gYXJndW1lbnRzW2ldXG5cbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgcmV0KSB7XG4gICAgICAgIHZhciByZXRfID0gZi5hcHBseSh0aGlzLCBhcmdzKVxuICAgICAgICByZXR1cm4gT2JqZWN0KHJldF8pID09PSByZXRfXG4gICAgICAgICAgPyByZXRfXG4gICAgICAgICAgOiB0aGlzXG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICAgIHJldHVybiBmLmFwcGx5KGJvdW5kVGhpcywgYXJncylcbiAgICB9XG4gIH1cblxuICByZXQucHJvdG90eXBlID0gZi5wcm90b3R5cGVcbiAgcmV0dXJuIHJldFxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuICovXG52YXIgUmVhY3RJcyA9IHJlcXVpcmUoJ3JlYWN0LWlzJyk7XG52YXIgUkVBQ1RfU1RBVElDUyA9IHtcbiAgICBjaGlsZENvbnRleHRUeXBlczogdHJ1ZSxcbiAgICBjb250ZXh0VHlwZTogdHJ1ZSxcbiAgICBjb250ZXh0VHlwZXM6IHRydWUsXG4gICAgZGVmYXVsdFByb3BzOiB0cnVlLFxuICAgIGRpc3BsYXlOYW1lOiB0cnVlLFxuICAgIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcbiAgICBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I6IHRydWUsXG4gICAgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzOiB0cnVlLFxuICAgIG1peGluczogdHJ1ZSxcbiAgICBwcm9wVHlwZXM6IHRydWUsXG4gICAgdHlwZTogdHJ1ZVxufTtcblxudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gICAgbmFtZTogdHJ1ZSxcbiAgICBsZW5ndGg6IHRydWUsXG4gICAgcHJvdG90eXBlOiB0cnVlLFxuICAgIGNhbGxlcjogdHJ1ZSxcbiAgICBjYWxsZWU6IHRydWUsXG4gICAgYXJndW1lbnRzOiB0cnVlLFxuICAgIGFyaXR5OiB0cnVlXG59O1xuXG52YXIgRk9SV0FSRF9SRUZfU1RBVElDUyA9IHtcbiAgICAnJCR0eXBlb2YnOiB0cnVlLFxuICAgIHJlbmRlcjogdHJ1ZSxcbiAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZGlzcGxheU5hbWU6IHRydWUsXG4gICAgcHJvcFR5cGVzOiB0cnVlXG59O1xuXG52YXIgTUVNT19TVEFUSUNTID0ge1xuICAgICckJHR5cGVvZic6IHRydWUsXG4gICAgY29tcGFyZTogdHJ1ZSxcbiAgICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gICAgZGlzcGxheU5hbWU6IHRydWUsXG4gICAgcHJvcFR5cGVzOiB0cnVlLFxuICAgIHR5cGU6IHRydWVcbn07XG5cbnZhciBUWVBFX1NUQVRJQ1MgPSB7fTtcblRZUEVfU1RBVElDU1tSZWFjdElzLkZvcndhcmRSZWZdID0gRk9SV0FSRF9SRUZfU1RBVElDUztcblxuZnVuY3Rpb24gZ2V0U3RhdGljcyhjb21wb25lbnQpIHtcbiAgICBpZiAoUmVhY3RJcy5pc01lbW8oY29tcG9uZW50KSkge1xuICAgICAgICByZXR1cm4gTUVNT19TVEFUSUNTO1xuICAgIH1cbiAgICByZXR1cm4gVFlQRV9TVEFUSUNTW2NvbXBvbmVudFsnJCR0eXBlb2YnXV0gfHwgUkVBQ1RfU1RBVElDUztcbn1cblxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG52YXIgb2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcblxuZnVuY3Rpb24gaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBzb3VyY2VDb21wb25lbnQsIGJsYWNrbGlzdCkge1xuICAgIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBkb24ndCBob2lzdCBvdmVyIHN0cmluZyAoaHRtbCkgY29tcG9uZW50c1xuXG4gICAgICAgIGlmIChvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgICAgICAgIHZhciBpbmhlcml0ZWRDb21wb25lbnQgPSBnZXRQcm90b3R5cGVPZihzb3VyY2VDb21wb25lbnQpO1xuICAgICAgICAgICAgaWYgKGluaGVyaXRlZENvbXBvbmVudCAmJiBpbmhlcml0ZWRDb21wb25lbnQgIT09IG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgICAgICAgICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgaW5oZXJpdGVkQ29tcG9uZW50LCBibGFja2xpc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICAgICAgaWYgKGdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgICAgICAgICAga2V5cyA9IGtleXMuY29uY2F0KGdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2VDb21wb25lbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0YXJnZXRTdGF0aWNzID0gZ2V0U3RhdGljcyh0YXJnZXRDb21wb25lbnQpO1xuICAgICAgICB2YXIgc291cmNlU3RhdGljcyA9IGdldFN0YXRpY3Moc291cmNlQ29tcG9uZW50KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgaWYgKCFLTk9XTl9TVEFUSUNTW2tleV0gJiYgIShibGFja2xpc3QgJiYgYmxhY2tsaXN0W2tleV0pICYmICEoc291cmNlU3RhdGljcyAmJiBzb3VyY2VTdGF0aWNzW2tleV0pICYmICEodGFyZ2V0U3RhdGljcyAmJiB0YXJnZXRTdGF0aWNzW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlQ29tcG9uZW50LCBrZXkpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF2b2lkIGZhaWx1cmVzIGZyb20gcmVhZC1vbmx5IHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkodGFyZ2V0Q29tcG9uZW50LCBrZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRDb21wb25lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaG9pc3ROb25SZWFjdFN0YXRpY3M7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBVc2UgaW52YXJpYW50KCkgdG8gYXNzZXJ0IHN0YXRlIHdoaWNoIHlvdXIgcHJvZ3JhbSBhc3N1bWVzIHRvIGJlIHRydWUuXG4gKlxuICogUHJvdmlkZSBzcHJpbnRmLXN0eWxlIGZvcm1hdCAob25seSAlcyBpcyBzdXBwb3J0ZWQpIGFuZCBhcmd1bWVudHNcbiAqIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgd2hhdCBicm9rZSBhbmQgd2hhdCB5b3Ugd2VyZVxuICogZXhwZWN0aW5nLlxuICpcbiAqIFRoZSBpbnZhcmlhbnQgbWVzc2FnZSB3aWxsIGJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgaW52YXJpYW50XG4gKiB3aWxsIHJlbWFpbiB0byBlbnN1cmUgbG9naWMgZG9lcyBub3QgZGlmZmVyIGluIHByb2R1Y3Rpb24uXG4gKi9cblxudmFyIGludmFyaWFudCA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhLCBiLCBjLCBkLCBlLCBmKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFjb25kaXRpb24pIHtcbiAgICB2YXIgZXJyb3I7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgJ01pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50ICcgK1xuICAgICAgICAnZm9yIHRoZSBmdWxsIGVycm9yIG1lc3NhZ2UgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy4nXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYXJncyA9IFthLCBiLCBjLCBkLCBlLCBmXTtcbiAgICAgIHZhciBhcmdJbmRleCA9IDA7XG4gICAgICBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgZm9ybWF0LnJlcGxhY2UoLyVzL2csIGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJnc1thcmdJbmRleCsrXTsgfSlcbiAgICAgICk7XG4gICAgICBlcnJvci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIH1cblxuICAgIGVycm9yLmZyYW1lc1RvUG9wID0gMTsgLy8gd2UgZG9uJ3QgY2FyZSBhYm91dCBpbnZhcmlhbnQncyBvd24gZnJhbWVcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF92YWxpZGF0aW9uID0gcmVxdWlyZShcIi4vdmFsaWRhdGlvblwiKTtcblxudmFyIF9hcHBsaWNhYmxlQWN0aW9ucyA9IHJlcXVpcmUoXCIuL2FwcGxpY2FibGVBY3Rpb25zXCIpO1xuXG52YXIgX2FwcGxpY2FibGVBY3Rpb25zMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FwcGxpY2FibGVBY3Rpb25zKTtcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgdmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZShzY2hlbWEpIHtcbiAgdmFyIGlzU2NoZW1hRGVmaW5lZCA9IHNjaGVtYSAhPT0gdW5kZWZpbmVkICYmIHNjaGVtYSAhPT0gbnVsbDtcbiAgaWYgKCgwLCBfdXRpbHMuaXNEZXZlbG9wbWVudCkoKSAmJiBpc1NjaGVtYURlZmluZWQpIHtcbiAgICBpZiAoISgwLCBfdXRpbHMuaXNPYmplY3QpKHNjaGVtYSkpIHtcbiAgICAgICgwLCBfdXRpbHMudG9FcnJvcikoXCJFeHBlY3RlZCB2YWxpZCBzY2hlbWEgb2JqZWN0LCBidXQgZ290IC0gXCIgKyBzY2hlbWEpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgICgwLCBfdmFsaWRhdGlvbi52YWxpZGF0ZVByZWRpY2F0ZXMpKFtydWxlLmNvbmRpdGlvbnNdLCBzY2hlbWEpO1xuICAgICAgKDAsIF92YWxpZGF0aW9uLnZhbGlkYXRlQ29uZGl0aW9uRmllbGRzKShbcnVsZS5jb25kaXRpb25zXSwgc2NoZW1hKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7fTtcbiAgfVxufTtcblxudmFyIEVuZ2luZSA9IGZ1bmN0aW9uIEVuZ2luZShydWxlcywgc2NoZW1hKSB7XG4gIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEVuZ2luZSk7XG5cbiAgdGhpcy5hZGRSdWxlID0gZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICBfdGhpcy52YWxpZGF0ZShydWxlKTtcbiAgICBfdGhpcy5ydWxlcy5wdXNoKHJ1bGUpO1xuICB9O1xuXG4gIHRoaXMucnVuID0gZnVuY3Rpb24gKGZvcm1EYXRhKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgoMCwgX2FwcGxpY2FibGVBY3Rpb25zMi5kZWZhdWx0KShfdGhpcy5ydWxlcywgZm9ybURhdGEpKTtcbiAgfTtcblxuICB0aGlzLnJ1bGVzID0gW107XG4gIHRoaXMudmFsaWRhdGUgPSB2YWxpZGF0ZShzY2hlbWEpO1xuXG4gIGlmIChydWxlcykge1xuICAgICgwLCBfdXRpbHMudG9BcnJheSkocnVsZXMpLmZvckVhY2goZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgIHJldHVybiBfdGhpcy5hZGRSdWxlKHJ1bGUpO1xuICAgIH0pO1xuICB9XG59O1xuXG5leHBvcnRzLmRlZmF1bHQgPSBFbmdpbmU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBhcHBsaWNhYmxlQWN0aW9ucztcblxudmFyIF91dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xuXG52YXIgX2NvbmRpdGlvbnNNZWV0ID0gcmVxdWlyZShcIi4vY29uZGl0aW9uc01lZXRcIik7XG5cbnZhciBfY29uZGl0aW9uc01lZXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29uZGl0aW9uc01lZXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBhcHBsaWNhYmxlQWN0aW9ucyhydWxlcywgZm9ybURhdGEpIHtcbiAgcmV0dXJuICgwLCBfdXRpbHMuZmxhdE1hcCkocnVsZXMsIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGNvbmRpdGlvbnMgPSBfcmVmLmNvbmRpdGlvbnMsXG4gICAgICAgIGV2ZW50ID0gX3JlZi5ldmVudDtcblxuICAgIGlmICgoMCwgX2NvbmRpdGlvbnNNZWV0Mi5kZWZhdWx0KShjb25kaXRpb25zLCBmb3JtRGF0YSkpIHtcbiAgICAgIHJldHVybiAoMCwgX3V0aWxzLnRvQXJyYXkpKGV2ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfSk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBjaGVja0ZpZWxkO1xuXG52YXIgX3ByZWRpY2F0ZSA9IHJlcXVpcmUoXCJwcmVkaWNhdGVcIik7XG5cbnZhciBfcHJlZGljYXRlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3ByZWRpY2F0ZSk7XG5cbnZhciBfdXRpbHMgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbnZhciBkb0NoZWNrRmllbGQgPSBmdW5jdGlvbiBkb0NoZWNrRmllbGQoZmllbGRWYWwsIHJ1bGUpIHtcbiAgaWYgKCgwLCBfdXRpbHMuaXNPYmplY3QpKHJ1bGUpKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHJ1bGUpLmV2ZXJ5KGZ1bmN0aW9uIChwKSB7XG4gICAgICB2YXIgc3ViUnVsZSA9IHJ1bGVbcF07XG4gICAgICBpZiAocCA9PT0gX2NvbnN0YW50cy5PUiB8fCBwID09PSBfY29uc3RhbnRzLkFORCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdWJSdWxlKSkge1xuICAgICAgICAgIGlmIChwID09PSBfY29uc3RhbnRzLk9SKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ViUnVsZS5zb21lKGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkb0NoZWNrRmllbGQoZmllbGRWYWwsIHJ1bGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdWJSdWxlLmV2ZXJ5KGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBkb0NoZWNrRmllbGQoZmllbGRWYWwsIHJ1bGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwID09PSBfY29uc3RhbnRzLk5PVCkge1xuICAgICAgICByZXR1cm4gIWRvQ2hlY2tGaWVsZChmaWVsZFZhbCwgc3ViUnVsZSk7XG4gICAgICB9IGVsc2UgaWYgKF9wcmVkaWNhdGUyLmRlZmF1bHRbcF0pIHtcbiAgICAgICAgcmV0dXJuIF9wcmVkaWNhdGUyLmRlZmF1bHRbcF0oZmllbGRWYWwsIHN1YlJ1bGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBfcHJlZGljYXRlMi5kZWZhdWx0W3J1bGVdKGZpZWxkVmFsKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gY2hlY2tGaWVsZChmaWVsZFZhbCwgcnVsZSkge1xuICByZXR1cm4gZG9DaGVja0ZpZWxkKGZpZWxkVmFsLCBydWxlKTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMudG9SZWxDb25kaXRpb24gPSB0b1JlbENvbmRpdGlvbjtcbmV4cG9ydHMuZGVmYXVsdCA9IGNvbmRpdGlvbnNNZWV0O1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBfY2hlY2tGaWVsZCA9IHJlcXVpcmUoXCIuL2NoZWNrRmllbGRcIik7XG5cbnZhciBfY2hlY2tGaWVsZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jaGVja0ZpZWxkKTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHRvUmVsQ29uZGl0aW9uKHJlZkNvbmRpdGlvbiwgZm9ybURhdGEpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocmVmQ29uZGl0aW9uKSkge1xuICAgIHJldHVybiByZWZDb25kaXRpb24ubWFwKGZ1bmN0aW9uIChjb25kKSB7XG4gICAgICByZXR1cm4gdG9SZWxDb25kaXRpb24oY29uZCwgZm9ybURhdGEpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKCgwLCBfdXRpbHMuaXNPYmplY3QpKHJlZkNvbmRpdGlvbikpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocmVmQ29uZGl0aW9uKS5yZWR1Y2UoZnVuY3Rpb24gKGFnZywgZmllbGQpIHtcbiAgICAgIGFnZ1tmaWVsZF0gPSB0b1JlbENvbmRpdGlvbihyZWZDb25kaXRpb25bZmllbGRdLCBmb3JtRGF0YSk7XG4gICAgICByZXR1cm4gYWdnO1xuICAgIH0sIHt9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcmVmQ29uZGl0aW9uID09PSBcInN0cmluZ1wiICYmIHJlZkNvbmRpdGlvbi5zdGFydHNXaXRoKFwiJFwiKSkge1xuICAgIHJldHVybiAoMCwgX3V0aWxzLnNlbGVjdFJlZikocmVmQ29uZGl0aW9uLnN1YnN0cigxKSwgZm9ybURhdGEpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZWZDb25kaXRpb247XG4gIH1cbn1cblxuZnVuY3Rpb24gY29uZGl0aW9uc01lZXQoY29uZGl0aW9uLCBmb3JtRGF0YSkge1xuICBpZiAoISgwLCBfdXRpbHMuaXNPYmplY3QpKGNvbmRpdGlvbikgfHwgISgwLCBfdXRpbHMuaXNPYmplY3QpKGZvcm1EYXRhKSkge1xuICAgICgwLCBfdXRpbHMudG9FcnJvcikoXCJSdWxlIFwiICsgSlNPTi5zdHJpbmdpZnkoY29uZGl0aW9uKSArIFwiIHdpdGggXCIgKyBmb3JtRGF0YSArIFwiIGNhbid0IGJlIHByb2Nlc3NlZFwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5rZXlzKGNvbmRpdGlvbikuZXZlcnkoZnVuY3Rpb24gKHJlZikge1xuICAgIHZhciByZWZDb25kaXRpb24gPSBjb25kaXRpb25bcmVmXTtcbiAgICBpZiAocmVmID09PSBfY29uc3RhbnRzLk9SKSB7XG4gICAgICByZXR1cm4gcmVmQ29uZGl0aW9uLnNvbWUoZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICAgICAgcmV0dXJuIGNvbmRpdGlvbnNNZWV0KHJ1bGUsIGZvcm1EYXRhKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVmID09PSBfY29uc3RhbnRzLkFORCkge1xuICAgICAgcmV0dXJuIHJlZkNvbmRpdGlvbi5ldmVyeShmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICByZXR1cm4gY29uZGl0aW9uc01lZXQocnVsZSwgZm9ybURhdGEpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZWYgPT09IF9jb25zdGFudHMuTk9UKSB7XG4gICAgICByZXR1cm4gIWNvbmRpdGlvbnNNZWV0KHJlZkNvbmRpdGlvbiwgZm9ybURhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcmVmVmFsID0gKDAsIF91dGlscy5zZWxlY3RSZWYpKHJlZiwgZm9ybURhdGEpO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVmVmFsKSkge1xuICAgICAgICB2YXIgY29uZE1lYXRPbmNlID0gcmVmVmFsLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgIHJldHVybiAoMCwgX3V0aWxzLmlzT2JqZWN0KSh2YWwpID8gY29uZGl0aW9uc01lZXQocmVmQ29uZGl0aW9uLCB2YWwpIDogZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBJdCdzIGVpdGhlciB0cnVlIGZvciBhbiBlbGVtZW50IGluIGFuIGFycmF5IG9yIGZvciB0aGUgd2hvbGUgYXJyYXlcbiAgICAgICAgcmV0dXJuIGNvbmRNZWF0T25jZSB8fCAoMCwgX2NoZWNrRmllbGQyLmRlZmF1bHQpKHJlZlZhbCwgdG9SZWxDb25kaXRpb24ocmVmQ29uZGl0aW9uLCBmb3JtRGF0YSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICgwLCBfY2hlY2tGaWVsZDIuZGVmYXVsdCkocmVmVmFsLCB0b1JlbENvbmRpdGlvbihyZWZDb25kaXRpb24sIGZvcm1EYXRhKSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBPUiA9IGV4cG9ydHMuT1IgPSBcIm9yXCI7XG52YXIgQU5EID0gZXhwb3J0cy5BTkQgPSBcImFuZFwiO1xudmFyIE5PVCA9IGV4cG9ydHMuTk9UID0gXCJub3RcIjsiLCJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9FbmdpbmUgPSByZXF1aXJlKFwiLi9FbmdpbmVcIik7XG5cbnZhciBfRW5naW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0VuZ2luZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IF9FbmdpbmUyLmRlZmF1bHQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmZsYXRNYXAgPSB1bmRlZmluZWQ7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0cy5ub3JtUmVmID0gbm9ybVJlZjtcbmV4cG9ydHMuc2VsZWN0UmVmID0gc2VsZWN0UmVmO1xuZXhwb3J0cy5pc09iamVjdCA9IGlzT2JqZWN0O1xuZXhwb3J0cy5pc0RldmVsb3BtZW50ID0gaXNEZXZlbG9wbWVudDtcbmV4cG9ydHMudG9BcnJheSA9IHRvQXJyYXk7XG5leHBvcnRzLnRvRXJyb3IgPSB0b0Vycm9yO1xuZXhwb3J0cy5pc1JlZkFycmF5ID0gaXNSZWZBcnJheTtcbmV4cG9ydHMuZXh0cmFjdFJlZlNjaGVtYSA9IGV4dHJhY3RSZWZTY2hlbWE7XG5cbnZhciBfc2VsZWN0biA9IHJlcXVpcmUoXCJzZWxlY3RuXCIpO1xuXG52YXIgX3NlbGVjdG4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc2VsZWN0bik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIG5vcm1SZWYocmVmKSB7XG4gIHJldHVybiByZWYucmVwbGFjZSgvXFwkL2csIFwiLlwiKTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0UmVmKGZpZWxkLCBmb3JtRGF0YSkge1xuICB2YXIgcmVmID0gbm9ybVJlZihmaWVsZCk7XG4gIHJldHVybiAoMCwgX3NlbGVjdG4yLmRlZmF1bHQpKHJlZiwgZm9ybURhdGEpO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChvYmopIHtcbiAgcmV0dXJuICh0eXBlb2Ygb2JqID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2Yob2JqKSkgPT09IFwib2JqZWN0XCIgJiYgb2JqICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0RldmVsb3BtZW50KCkge1xuICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiO1xufVxuXG5mdW5jdGlvbiB0b0FycmF5KGV2ZW50KSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGV2ZW50KSkge1xuICAgIHJldHVybiBldmVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW2V2ZW50XTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0b0Vycm9yKG1lc3NhZ2UpIHtcbiAgaWYgKGlzRGV2ZWxvcG1lbnQoKSkge1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihtZXNzYWdlKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzUmVmQXJyYXkoZmllbGQsIHNjaGVtYSkge1xuICByZXR1cm4gc2NoZW1hLnByb3BlcnRpZXNbZmllbGRdICYmIHNjaGVtYS5wcm9wZXJ0aWVzW2ZpZWxkXS50eXBlID09PSBcImFycmF5XCIgJiYgc2NoZW1hLnByb3BlcnRpZXNbZmllbGRdLml0ZW1zICYmIHNjaGVtYS5wcm9wZXJ0aWVzW2ZpZWxkXS5pdGVtc1tcIiRyZWZcIl07XG59XG5cbmZ1bmN0aW9uIGZldGNoU2NoZW1hKHJlZiwgc2NoZW1hKSB7XG4gIGlmIChyZWYuc3RhcnRzV2l0aChcIiMvXCIpKSB7XG4gICAgcmV0dXJuIHJlZi5zdWJzdHIoMikuc3BsaXQoXCIvXCIpLnJlZHVjZShmdW5jdGlvbiAoc2NoZW1hLCBmaWVsZCkge1xuICAgICAgcmV0dXJuIHNjaGVtYVtmaWVsZF07XG4gICAgfSwgc2NoZW1hKTtcbiAgfSBlbHNlIHtcbiAgICB0b0Vycm9yKFwiT25seSBsb2NhbCByZWZlcmVuY2VzIHN1cHBvcnRlZCBhdCB0aGlzIHBvaW50IHVzZSBqc29uLXNjaGVtYS1kZXJlZlwiKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RSZWZTY2hlbWEoZmllbGQsIHNjaGVtYSkge1xuICB2YXIgcHJvcGVydGllcyA9IHNjaGVtYS5wcm9wZXJ0aWVzO1xuXG4gIGlmICghcHJvcGVydGllcyB8fCAhcHJvcGVydGllc1tmaWVsZF0pIHtcbiAgICB0b0Vycm9yKGZpZWxkICsgXCIgbm90IGRlZmluZWQgaW4gcHJvcGVydGllc1wiKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IGVsc2UgaWYgKHByb3BlcnRpZXNbZmllbGRdLnR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgIGlmIChpc1JlZkFycmF5KGZpZWxkLCBzY2hlbWEpKSB7XG4gICAgICByZXR1cm4gZmV0Y2hTY2hlbWEocHJvcGVydGllc1tmaWVsZF0uaXRlbXNbXCIkcmVmXCJdLCBzY2hlbWEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcHJvcGVydGllc1tmaWVsZF0uaXRlbXM7XG4gICAgfVxuICB9IGVsc2UgaWYgKHByb3BlcnRpZXNbZmllbGRdICYmIHByb3BlcnRpZXNbZmllbGRdW1wiJHJlZlwiXSkge1xuICAgIHJldHVybiBmZXRjaFNjaGVtYShwcm9wZXJ0aWVzW2ZpZWxkXVtcIiRyZWZcIl0sIHNjaGVtYSk7XG4gIH0gZWxzZSBpZiAocHJvcGVydGllc1tmaWVsZF0gJiYgcHJvcGVydGllc1tmaWVsZF0udHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBwcm9wZXJ0aWVzW2ZpZWxkXTtcbiAgfSBlbHNlIHtcbiAgICB0b0Vycm9yKGZpZWxkICsgXCIgaGFzIG5vICRyZWYgZmllbGQgcmVmIHNjaGVtYSBleHRyYWN0aW9uIGlzIGltcG9zc2libGVcIik7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG52YXIgY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0KHgsIHkpIHtcbiAgcmV0dXJuIHguY29uY2F0KHkpO1xufTtcbnZhciBmbGF0TWFwID0gZXhwb3J0cy5mbGF0TWFwID0gZnVuY3Rpb24gZmxhdE1hcCh4cywgZikge1xuICByZXR1cm4geHMubWFwKGYpLnJlZHVjZShjb25jYXQsIFtdKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnByZWRpY2F0ZXNGcm9tUnVsZSA9IHByZWRpY2F0ZXNGcm9tUnVsZTtcbmV4cG9ydHMucHJlZGljYXRlc0Zyb21Db25kaXRpb24gPSBwcmVkaWNhdGVzRnJvbUNvbmRpdGlvbjtcbmV4cG9ydHMubGlzdEFsbFByZWRpY2F0ZXMgPSBsaXN0QWxsUHJlZGljYXRlcztcbmV4cG9ydHMubGlzdEludmFsaWRQcmVkaWNhdGVzID0gbGlzdEludmFsaWRQcmVkaWNhdGVzO1xuZXhwb3J0cy52YWxpZGF0ZVByZWRpY2F0ZXMgPSB2YWxpZGF0ZVByZWRpY2F0ZXM7XG5leHBvcnRzLmZpZWxkc0Zyb21QcmVkaWNhdGVzID0gZmllbGRzRnJvbVByZWRpY2F0ZXM7XG5leHBvcnRzLmZpZWxkc0Zyb21Db25kaXRpb24gPSBmaWVsZHNGcm9tQ29uZGl0aW9uO1xuZXhwb3J0cy5saXN0QWxsRmllbGRzID0gbGlzdEFsbEZpZWxkcztcbmV4cG9ydHMubGlzdEludmFsaWRGaWVsZHMgPSBsaXN0SW52YWxpZEZpZWxkcztcbmV4cG9ydHMudmFsaWRhdGVDb25kaXRpb25GaWVsZHMgPSB2YWxpZGF0ZUNvbmRpdGlvbkZpZWxkcztcblxudmFyIF9wcmVkaWNhdGUgPSByZXF1aXJlKFwicHJlZGljYXRlXCIpO1xuXG52YXIgX3ByZWRpY2F0ZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcmVkaWNhdGUpO1xuXG52YXIgX3V0aWxzID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG52YXIgVU5TVVBQT1JURURfUFJFRElDQVRFUyA9IFtcImFuZFwiLCBcIm9yXCIsIFwidGVybmFyeVwiLCBcImV2ZXJ5XCIsIFwic29tZVwiLCBcImN1cnJ5XCIsIFwicGFydGlhbFwiLCBcImNvbXBsZW1lbnRcIiwgXCJtb2RcIl07XG5cbmZ1bmN0aW9uIHByZWRpY2F0ZXNGcm9tUnVsZShydWxlLCBzY2hlbWEpIHtcbiAgaWYgKCgwLCBfdXRpbHMuaXNPYmplY3QpKHJ1bGUpKSB7XG4gICAgcmV0dXJuICgwLCBfdXRpbHMuZmxhdE1hcCkoT2JqZWN0LmtleXMocnVsZSksIGZ1bmN0aW9uIChwKSB7XG4gICAgICB2YXIgY29tcGFyYWJsZSA9IHJ1bGVbcF07XG4gICAgICBpZiAoKDAsIF91dGlscy5pc09iamVjdCkoY29tcGFyYWJsZSkgfHwgcCA9PT0gX2NvbnN0YW50cy5OT1QpIHtcbiAgICAgICAgaWYgKHAgPT09IF9jb25zdGFudHMuT1IgfHwgcCA9PT0gX2NvbnN0YW50cy5BTkQpIHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb21wYXJhYmxlKSkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBfdXRpbHMuZmxhdE1hcCkoY29tcGFyYWJsZSwgZnVuY3Rpb24gKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgICByZXR1cm4gcHJlZGljYXRlc0Zyb21SdWxlKGNvbmRpdGlvbiwgc2NoZW1hKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAoMCwgX3V0aWxzLnRvRXJyb3IpKFwiXFxcIlwiICsgcCArIFwiXFxcIiBtdXN0IGJlIGFuIGFycmF5XCIpO1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJlZGljYXRlcyA9IHByZWRpY2F0ZXNGcm9tUnVsZShjb21wYXJhYmxlLCBzY2hlbWEpO1xuICAgICAgICAgIHByZWRpY2F0ZXMucHVzaChwKTtcbiAgICAgICAgICByZXR1cm4gcHJlZGljYXRlcztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZXNGcm9tUnVsZShwLCBzY2hlbWEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbcnVsZV07XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlZGljYXRlc0Zyb21Db25kaXRpb24oY29uZGl0aW9uLCBzY2hlbWEpIHtcbiAgcmV0dXJuICgwLCBfdXRpbHMuZmxhdE1hcCkoT2JqZWN0LmtleXMoY29uZGl0aW9uKSwgZnVuY3Rpb24gKHJlZikge1xuICAgIHZhciByZWZWYWwgPSBjb25kaXRpb25bcmVmXTtcbiAgICByZWYgPSAoMCwgX3V0aWxzLm5vcm1SZWYpKHJlZik7XG4gICAgaWYgKHJlZiA9PT0gX2NvbnN0YW50cy5PUiB8fCByZWYgPT09IF9jb25zdGFudHMuQU5EKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZWZWYWwpKSB7XG4gICAgICAgIHJldHVybiAoMCwgX3V0aWxzLmZsYXRNYXApKHJlZlZhbCwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICByZXR1cm4gcHJlZGljYXRlc0Zyb21Db25kaXRpb24oYywgc2NoZW1hKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAoMCwgX3V0aWxzLnRvRXJyb3IpKHJlZiArIFwiIHdpdGggXCIgKyBKU09OLnN0cmluZ2lmeShyZWZWYWwpICsgXCIgbXVzdCBiZSBhbiBBcnJheVwiKTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVmID09PSBfY29uc3RhbnRzLk5PVCkge1xuICAgICAgcmV0dXJuIHByZWRpY2F0ZXNGcm9tQ29uZGl0aW9uKHJlZlZhbCwgc2NoZW1hKTtcbiAgICB9IGVsc2UgaWYgKHJlZi5pbmRleE9mKFwiLlwiKSAhPT0gLTEpIHtcbiAgICAgIHZhciBzZXBhcmF0b3IgPSByZWYuaW5kZXhPZihcIi5cIik7XG4gICAgICB2YXIgc2NoZW1hRmllbGQgPSByZWYuc3Vic3RyKDAsIHNlcGFyYXRvcik7XG4gICAgICB2YXIgc3ViU2NoZW1hID0gKDAsIF91dGlscy5leHRyYWN0UmVmU2NoZW1hKShzY2hlbWFGaWVsZCwgc2NoZW1hKTtcblxuICAgICAgaWYgKHN1YlNjaGVtYSkge1xuICAgICAgICB2YXIgc3ViU2NoZW1hRmllbGQgPSByZWYuc3Vic3RyKHNlcGFyYXRvciArIDEpO1xuICAgICAgICB2YXIgbmV3Q29uZGl0aW9uID0gX2RlZmluZVByb3BlcnR5KHt9LCBzdWJTY2hlbWFGaWVsZCwgcmVmVmFsKTtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZXNGcm9tQ29uZGl0aW9uKG5ld0NvbmRpdGlvbiwgc3ViU2NoZW1hKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICgwLCBfdXRpbHMudG9FcnJvcikoXCJDYW4ndCBmaW5kIHNjaGVtYSBmb3IgXCIgKyBzY2hlbWFGaWVsZCk7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCgwLCBfdXRpbHMuaXNSZWZBcnJheSkocmVmLCBzY2hlbWEpKSB7XG4gICAgICB2YXIgcmVmU2NoZW1hID0gKDAsIF91dGlscy5leHRyYWN0UmVmU2NoZW1hKShyZWYsIHNjaGVtYSk7XG4gICAgICByZXR1cm4gcmVmU2NoZW1hID8gcHJlZGljYXRlc0Zyb21Db25kaXRpb24ocmVmVmFsLCByZWZTY2hlbWEpIDogW107XG4gICAgfSBlbHNlIGlmIChzY2hlbWEucHJvcGVydGllc1tyZWZdKSB7XG4gICAgICByZXR1cm4gcHJlZGljYXRlc0Zyb21SdWxlKHJlZlZhbCwgc2NoZW1hKTtcbiAgICB9IGVsc2Uge1xuICAgICAgKDAsIF91dGlscy50b0Vycm9yKShcIkNhbid0IHZhbGlkYXRlIFwiICsgcmVmKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsaXN0QWxsUHJlZGljYXRlcyhjb25kaXRpb25zLCBzY2hlbWEpIHtcbiAgdmFyIGFsbFByZWRpY2F0ZXMgPSAoMCwgX3V0aWxzLmZsYXRNYXApKGNvbmRpdGlvbnMsIGZ1bmN0aW9uIChjb25kaXRpb24pIHtcbiAgICByZXR1cm4gcHJlZGljYXRlc0Zyb21Db25kaXRpb24oY29uZGl0aW9uLCBzY2hlbWEpO1xuICB9KTtcbiAgcmV0dXJuIGFsbFByZWRpY2F0ZXMuZmlsdGVyKGZ1bmN0aW9uICh2LCBpLCBhKSB7XG4gICAgcmV0dXJuIGFsbFByZWRpY2F0ZXMuaW5kZXhPZih2KSA9PT0gaTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxpc3RJbnZhbGlkUHJlZGljYXRlcyhjb25kaXRpb25zLCBzY2hlbWEpIHtcbiAgdmFyIHJlZlByZWRpY2F0ZXMgPSBsaXN0QWxsUHJlZGljYXRlcyhjb25kaXRpb25zLCBzY2hlbWEpO1xuICByZXR1cm4gcmVmUHJlZGljYXRlcy5maWx0ZXIoZnVuY3Rpb24gKHApIHtcbiAgICByZXR1cm4gVU5TVVBQT1JURURfUFJFRElDQVRFUy5pbmNsdWRlcyhwKSB8fCBfcHJlZGljYXRlMi5kZWZhdWx0W3BdID09PSB1bmRlZmluZWQ7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByZWRpY2F0ZXMoY29uZGl0aW9ucywgc2NoZW1hKSB7XG4gIHZhciBpbnZhbGlkUHJlZGljYXRlcyA9IGxpc3RJbnZhbGlkUHJlZGljYXRlcyhjb25kaXRpb25zLCBzY2hlbWEpO1xuICBpZiAoaW52YWxpZFByZWRpY2F0ZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgKDAsIF91dGlscy50b0Vycm9yKShcIlJ1bGUgY29udGFpbnMgaW52YWxpZCBwcmVkaWNhdGVzIFwiICsgaW52YWxpZFByZWRpY2F0ZXMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpZWxkc0Zyb21QcmVkaWNhdGVzKHByZWRpY2F0ZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShwcmVkaWNhdGUpKSB7XG4gICAgcmV0dXJuICgwLCBfdXRpbHMuZmxhdE1hcCkocHJlZGljYXRlLCBmaWVsZHNGcm9tUHJlZGljYXRlcyk7XG4gIH0gZWxzZSBpZiAoKDAsIF91dGlscy5pc09iamVjdCkocHJlZGljYXRlKSkge1xuICAgIHJldHVybiAoMCwgX3V0aWxzLmZsYXRNYXApKE9iamVjdC5rZXlzKHByZWRpY2F0ZSksIGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgdmFyIHByZWRpY2F0ZVZhbHVlID0gcHJlZGljYXRlW2ZpZWxkXTtcbiAgICAgIHJldHVybiBmaWVsZHNGcm9tUHJlZGljYXRlcyhwcmVkaWNhdGVWYWx1ZSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByZWRpY2F0ZSA9PT0gXCJzdHJpbmdcIiAmJiBwcmVkaWNhdGUuc3RhcnRzV2l0aChcIiRcIikpIHtcbiAgICByZXR1cm4gW3ByZWRpY2F0ZS5zdWJzdHIoMSldO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaWVsZHNGcm9tQ29uZGl0aW9uKGNvbmRpdGlvbikge1xuICByZXR1cm4gKDAsIF91dGlscy5mbGF0TWFwKShPYmplY3Qua2V5cyhjb25kaXRpb24pLCBmdW5jdGlvbiAocmVmKSB7XG4gICAgdmFyIHJlZkNvbmRpdGlvbiA9IGNvbmRpdGlvbltyZWZdO1xuICAgIGlmIChyZWYgPT09IF9jb25zdGFudHMuT1IgfHwgcmVmID09PSBfY29uc3RhbnRzLkFORCkge1xuICAgICAgcmV0dXJuICgwLCBfdXRpbHMuZmxhdE1hcCkocmVmQ29uZGl0aW9uLCBmaWVsZHNGcm9tQ29uZGl0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHJlZiA9PT0gX2NvbnN0YW50cy5OT1QpIHtcbiAgICAgIHJldHVybiBmaWVsZHNGcm9tQ29uZGl0aW9uKHJlZkNvbmRpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbKDAsIF91dGlscy5ub3JtUmVmKShyZWYpXS5jb25jYXQoZmllbGRzRnJvbVByZWRpY2F0ZXMocmVmQ29uZGl0aW9uKSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gbGlzdEFsbEZpZWxkcyhjb25kaXRpb25zKSB7XG4gIHZhciBhbGxGaWVsZHMgPSAoMCwgX3V0aWxzLmZsYXRNYXApKGNvbmRpdGlvbnMsIGZpZWxkc0Zyb21Db25kaXRpb24pO1xuICByZXR1cm4gYWxsRmllbGRzLmZpbHRlcihmdW5jdGlvbiAoZmllbGQpIHtcbiAgICByZXR1cm4gZmllbGQuaW5kZXhPZihcIi5cIikgPT09IC0xO1xuICB9KS5maWx0ZXIoZnVuY3Rpb24gKHYsIGksIGEpIHtcbiAgICByZXR1cm4gYWxsRmllbGRzLmluZGV4T2YodikgPT09IGk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsaXN0SW52YWxpZEZpZWxkcyhjb25kaXRpb25zLCBzY2hlbWEpIHtcbiAgdmFyIGFsbEZpZWxkcyA9IGxpc3RBbGxGaWVsZHMoY29uZGl0aW9ucyk7XG4gIHJldHVybiBhbGxGaWVsZHMuZmlsdGVyKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHJldHVybiBzY2hlbWEucHJvcGVydGllc1tmaWVsZF0gPT09IHVuZGVmaW5lZDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQ29uZGl0aW9uRmllbGRzKGNvbmRpdGlvbnMsIHNjaGVtYSkge1xuICB2YXIgaW52YWxpZEZpZWxkcyA9IGxpc3RJbnZhbGlkRmllbGRzKGNvbmRpdGlvbnMsIHNjaGVtYSk7XG4gIGlmIChpbnZhbGlkRmllbGRzLmxlbmd0aCAhPT0gMCkge1xuICAgICgwLCBfdXRpbHMudG9FcnJvcikoXCJSdWxlIGNvbnRhaW5zIGludmFsaWQgZmllbGRzIFwiICsgaW52YWxpZEZpZWxkcyk7XG4gIH1cbn0iLCIvKipcbiAqIEhlbHBlcnMuXG4gKi9cblxudmFyIHMgPSAxMDAwO1xudmFyIG0gPSBzICogNjA7XG52YXIgaCA9IG0gKiA2MDtcbnZhciBkID0gaCAqIDI0O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc05hTih2YWwpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgPyBmbXRMb25nKHZhbCkgOiBmbXRTaG9ydCh2YWwpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KHZhbClcbiAgKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG1hdGNoID0gL14oKD86XFxkKyk/XFwuP1xcZCspICoobWlsbGlzZWNvbmRzP3xtc2Vjcz98bXN8c2Vjb25kcz98c2Vjcz98c3xtaW51dGVzP3xtaW5zP3xtfGhvdXJzP3xocnM/fGh8ZGF5cz98ZHx5ZWFycz98eXJzP3x5KT8kL2kuZXhlYyhcbiAgICBzdHJcbiAgKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbiA9IHBhcnNlRmxvYXQobWF0Y2hbMV0pO1xuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd5ZWFycyc6XG4gICAgY2FzZSAneWVhcic6XG4gICAgY2FzZSAneXJzJzpcbiAgICBjYXNlICd5cic6XG4gICAgY2FzZSAneSc6XG4gICAgICByZXR1cm4gbiAqIHk7XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGg7XG4gICAgY2FzZSAnbWludXRlcyc6XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdtaW5zJzpcbiAgICBjYXNlICdtaW4nOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICBpZiAobXMgPj0gZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gZCkgKyAnZCc7XG4gIH1cbiAgaWYgKG1zID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnO1xuICB9XG4gIGlmIChtcyA+PSBtKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBtKSArICdtJztcbiAgfVxuICBpZiAobXMgPj0gcykge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gcykgKyAncyc7XG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJztcbn1cblxuLyoqXG4gKiBMb25nIGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdExvbmcobXMpIHtcbiAgcmV0dXJuIHBsdXJhbChtcywgZCwgJ2RheScpIHx8XG4gICAgcGx1cmFsKG1zLCBoLCAnaG91cicpIHx8XG4gICAgcGx1cmFsKG1zLCBtLCAnbWludXRlJykgfHxcbiAgICBwbHVyYWwobXMsIHMsICdzZWNvbmQnKSB8fFxuICAgIG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBuLCBuYW1lKSB7XG4gIGlmIChtcyA8IG4pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG1zIDwgbiAqIDEuNSkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKG1zIC8gbikgKyAnICcgKyBuYW1lO1xuICB9XG4gIHJldHVybiBNYXRoLmNlaWwobXMgLyBuKSArICcgJyArIG5hbWUgKyAncyc7XG59XG4iLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB1dGlscyA9IHJlcXVpcmUoJy4vbGliL3V0aWxzJyk7XG5jb25zdCBwcmVkaWNhdGUgPSB7fTtcbnByZWRpY2F0ZS5WRVJTSU9OID0gJzEuMC4wJztcblxuW1xuICB1dGlscyxcbiAgcmVxdWlyZSgnLi9saWIvcHJlZGljYXRlcycpLFxuICByZXF1aXJlKCcuL2xpYi9jaGFpbicpLFxuICByZXF1aXJlKCcuL2xpYi9vdGhlcicpLFxuXS5yZWR1Y2UodXRpbHMuYXNzaWduLCBwcmVkaWNhdGUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHByZWRpY2F0ZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgcHJlZGljYXRlcyA9IHJlcXVpcmUoJy4vcHJlZGljYXRlcycpO1xuY29uc3QgcHJlZGljYXRlID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8vIGNoYWluaW5nIG1peGluXG5jbGFzcyBMYXp5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5sYXp5ID0gW107XG4gIH1cblxuICB2YWx1ZU9mKCkge1xuICAgIHJldHVybiB0aGlzLnZhbCgpO1xuICB9XG5cbiAgdmFsKCkge1xuICAgIHJldHVybiB0aGlzLmxhenlbdGhpcy5tZXRob2RdKGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgIHJldHVybiBhcmdzWzBdLmFwcGx5KG51bGwsIGFyZ3NbMV0pO1xuICAgIH0pO1xuICB9XG59XG5cbmNsYXNzIEV2ZXJ5IGV4dGVuZHMgTGF6eSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5tZXRob2QgPSAnZXZlcnknO1xuICB9XG59XG5cbmNsYXNzIFNvbWUgZXh0ZW5kcyBMYXp5IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm1ldGhvZCA9ICdzb21lJztcbiAgfVxufVxuXG4vLyBFeHRlbmQgY2hhaW5pbmcgbWV0aG9kcyBvbnRvIHRoZSBwcm90b3R5cGVzXG5bRXZlcnksIFNvbWVdLmZvckVhY2goZnVuY3Rpb24oY2xzKSB7XG4gIE9iamVjdC5rZXlzKHByZWRpY2F0ZXMpLnJlZHVjZShmdW5jdGlvbihwcm90bywgZm5OYW1lKSB7XG4gICAgaWYgKCFwcmVkaWNhdGVzLmZuKHByZWRpY2F0ZXNbZm5OYW1lXSkpIHJldHVybiBwcm90bztcblxuICAgIHByb3RvW2ZuTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMubGF6eS5wdXNoKFtwcmVkaWNhdGVzW2ZuTmFtZV0sIGFyZ3VtZW50c10pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIHJldHVybiBwcm90bztcbiAgfSwgY2xzLnByb3RvdHlwZSk7XG59KTtcblxucHJlZGljYXRlLmFsbCA9IHByZWRpY2F0ZS5ldmVyeSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IEV2ZXJ5KCk7XG59O1xuXG5wcmVkaWNhdGUuYW55ID0gcHJlZGljYXRlLnNvbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTb21lKCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBwcmVkaWNhdGVzID0gcmVxdWlyZSgnLi9wcmVkaWNhdGVzJyk7XG5jb25zdCB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbmNvbnN0IHByZWRpY2F0ZSA9IG1vZHVsZS5leHBvcnRzO1xuXG5wcmVkaWNhdGUudGVybmFyeSA9IGZ1bmN0aW9uKHByZWQsIGEsIGIpIHtcbiAgaWYgKHByZWRpY2F0ZXMuYm9vbChwcmVkKSkgcmV0dXJuIHByZWQgPyBhIDogYjtcbiAgaWYgKHByZWRpY2F0ZXMudW5kZWYoYSkpIHJldHVybiB1dGlscy5wYXJ0aWFsKHByZWRpY2F0ZS50ZXJuYXJ5LCBwcmVkKTtcbiAgaWYgKHByZWRpY2F0ZXMudW5kZWYoYikpIHJldHVybiB1dGlscy5wYXJ0aWFsKHByZWRpY2F0ZS50ZXJuYXJ5LCBwcmVkLCBhKTtcbiAgcmV0dXJuIHByZWRpY2F0ZS50ZXJuYXJ5KHByZWQoYSwgYiksIGEsIGIpO1xufTtcblxuY29uc3QgX2V2ZXJ5ID0gQXJyYXkucHJvdG90eXBlLmV2ZXJ5O1xuY29uc3QgX3NvbWUgPSBBcnJheS5wcm90b3R5cGUuc29tZTtcblxucHJlZGljYXRlLmFuZCA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCBwcmVkaWNhdGVzID0gYXJndW1lbnRzO1xuXG4gIHJldHVybiBmdW5jdGlvbiBfYW5kKHZhbCkge1xuICAgIHJldHVybiBfZXZlcnkuY2FsbChwcmVkaWNhdGVzLCBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gcCh2YWwpO1xuICAgIH0pO1xuICB9O1xufTtcblxucHJlZGljYXRlLm9yID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHByZWRpY2F0ZXMgPSBhcmd1bWVudHM7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIF9vcih2YWwpIHtcbiAgICByZXR1cm4gX3NvbWUuY2FsbChwcmVkaWNhdGVzLCBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gcCh2YWwpO1xuICAgIH0pO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5jb25zdCBwcmVkaWNhdGUgPSBtb2R1bGUuZXhwb3J0cztcblxuY29uc3QgY3VycnkgPSB1dGlscy5jdXJyeTtcblxuaWYgKE9iamVjdC5pcykge1xuICBwcmVkaWNhdGUuaXMgPSBjdXJyeShPYmplY3QuaXMpO1xufSBlbHNlIHtcbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gIHByZWRpY2F0ZS5pcyA9IGN1cnJ5KGZ1bmN0aW9uKHYxLCB2Mikge1xuICAgIGlmICh2MSA9PT0gMCAmJiB2MiA9PT0gMCkge1xuICAgICAgcmV0dXJuIDEgLyB2MSA9PT0gMSAvIHYyO1xuICAgIH1cbiAgICBpZiAodjEgIT09IHYxKSB7XG4gICAgICByZXR1cm4gdjIgIT09IHYyO1xuICAgIH1cbiAgICByZXR1cm4gdjEgPT09IHYyO1xuICB9KTtcbn1cblxucHJlZGljYXRlLmV4aXN0cyA9IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdmFsICE9IG51bGw7XG59O1xuXG5wcmVkaWNhdGUudHJ1dGh5ID0gZnVuY3Rpb24odmFsKSB7XG4gIC8vIGNvZXJjZSBmb3IgbnVsbCAhPSBudWxsXG4gIHJldHVybiAhISh2YWwgJiYgcHJlZGljYXRlLmV4aXN0cyh2YWwpKTtcbn07XG5cbnByZWRpY2F0ZS5mYWxzZXkgPSB1dGlscy5jb21wbGVtZW50KHByZWRpY2F0ZS50cnV0aHkpO1xuXG4vLy0tLS0gdmFsdWUgY29tcGFyaXNpb24gbWV0aG9kc1xuXG5wcmVkaWNhdGUuZXF1YWwgPSBjdXJyeShmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhID09PSBiO1xufSk7XG5cbnByZWRpY2F0ZS5lcSA9IGN1cnJ5KGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT0gYjtcbn0pO1xuXG5wcmVkaWNhdGUubnVsbCA9IHByZWRpY2F0ZS5lcXVhbChudWxsKTtcbnByZWRpY2F0ZS51bmRlZiA9IHByZWRpY2F0ZS5lcXVhbCh1bmRlZmluZWQpO1xuXG5wcmVkaWNhdGUubHQgPSBwcmVkaWNhdGUubGVzcyA9IGN1cnJ5KGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPCBiO1xufSk7XG5cbnByZWRpY2F0ZS5sdEVxID0gcHJlZGljYXRlLmxlID0gcHJlZGljYXRlLmxlc3NFcSA9IGN1cnJ5KGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIHByZWRpY2F0ZS5lcXVhbChhLCBiKSB8fCBwcmVkaWNhdGUubGVzcyhhLCBiKTtcbn0pO1xuXG5wcmVkaWNhdGUuZ3QgPSBwcmVkaWNhdGUuZ3JlYXRlciA9IGN1cnJ5KGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPiBiO1xufSk7XG5cbnByZWRpY2F0ZS5ndEVxID0gcHJlZGljYXRlLmdlID0gcHJlZGljYXRlLmdyZWF0ZXJFcSA9IGN1cnJ5KGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIHByZWRpY2F0ZS5lcXVhbChhLCBiKSB8fCBwcmVkaWNhdGUuZ3JlYXRlcihhLCBiKTtcbn0pO1xuXG4vLyAtLS0gVHlwZSBjaGVja2luZyBwcmVkaWNhdGVzXG5cbi8vIEZvcmNlcyBvYmplY3RzIHRvU3RyaW5nIGNhbGxlZCByZXR1cm5lZCBhcyBbb2JqZWN0IE9iamVjdF0gZm9yIGluc3RhbmNlXG5jb25zdCBfX3RvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IGVxVG9TdHIgPSBjdXJyeShmdW5jdGlvbihzdHIsIHZhbCkge1xuICByZXR1cm4gcHJlZGljYXRlLmVxdWFsKHN0ciwgX190b1N0cmluZy5jYWxsKHZhbCkpO1xufSk7XG5cbi8vLS0tLSBPYmplY3QgdHlwZSBjaGVja3NcblxucHJlZGljYXRlLm9iamVjdCA9IHByZWRpY2F0ZS5vYmogPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHZhbCA9PT0gT2JqZWN0KHZhbCk7XG59O1xuXG5wcmVkaWNhdGUuYXJyYXkgPSBwcmVkaWNhdGUuYXJyID0gQXJyYXkuaXNBcnJheSB8fCBlcVRvU3RyKCdbb2JqZWN0IEFycmF5XScpO1xucHJlZGljYXRlLmRhdGUgPSBlcVRvU3RyKCdbb2JqZWN0IERhdGVdJyk7XG5wcmVkaWNhdGUucmVnZXggPSBwcmVkaWNhdGUucmVnZXhwID0gcHJlZGljYXRlLnJneCA9IHByZWRpY2F0ZS5SZWdFeHAgPSBlcVRvU3RyKCdbb2JqZWN0IFJlZ0V4cF0nKTtcblxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTnVtYmVyL2lzRmluaXRlXG5wcmVkaWNhdGUuZmluaXRlID0gTnVtYmVyLmlzRmluaXRlIHx8IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gcHJlZGljYXRlLm51bWJlcih2YWwpICYmIGlzRmluaXRlKHZhbCk7XG59O1xuXG5wcmVkaWNhdGUubmFuID0gcHJlZGljYXRlLk5hTiA9IHByZWRpY2F0ZS5pcyhOYU4pO1xuXG5wcmVkaWNhdGUuaW5zdGFuY2UgPSBjdXJyeShmdW5jdGlvbihDbHMsIGluc3QpIHtcbiAgcmV0dXJuIGluc3QgaW5zdGFuY2VvZiBDbHM7XG59KTtcblxucHJlZGljYXRlLmFyZ3VtZW50cyA9IGVxVG9TdHIoJ1tvYmplY3QgQXJndW1lbnRzXScpO1xucHJlZGljYXRlLmVycm9yID0gcHJlZGljYXRlLmluc3RhbmNlKEVycm9yKTtcblxuLy8gY3JlYXRlcyBmbnMgZm9yIHByZWRpY2F0ZS5zdHJpbmcsIGV0Y1xuY29uc3QgdHlwZW9mQnVpbGRlciA9IGN1cnJ5KGZ1bmN0aW9uKHR5cGUsIHZhbCkge1xuICByZXR1cm4gcHJlZGljYXRlLmVxdWFsKHR5cGUsIHR5cGVvZiB2YWwpO1xufSk7XG5cbi8vLS0tIENyZWF0ZSB0eXBlb2YgbWV0aG9kc1xuXG4vLyB0eXBlIG9mIHN0cmluZyBhbmQgYWxpYXMgbmFtZVxuLy8gcHJlZGljYXRlLmZuLCBwcmVkaWNhdGUubnVtLCBldGNcbltcbiAgWydmdW5jdGlvbicsICdmbiddLFxuICBbJ3N0cmluZycsICdzdHInXSxcbiAgWydib29sZWFuJywgJ2Jvb2wnXVxuXS5yZWR1Y2UoZnVuY3Rpb24ocHJlZGljYXRlLCB0eXBlKSB7XG4gIHByZWRpY2F0ZVt0eXBlWzBdXSA9IHByZWRpY2F0ZVt0eXBlWzFdXSA9IHR5cGVvZkJ1aWxkZXIodHlwZVswXSk7XG4gIHJldHVybiBwcmVkaWNhdGU7XG59LCBwcmVkaWNhdGUpO1xuXG5wcmVkaWNhdGUubnVtYmVyID0gcHJlZGljYXRlLm51bSA9IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgJiYgcHJlZGljYXRlLm5vdC5OYU4odmFsKTtcbn07XG5cbnByZWRpY2F0ZS5pbnQgPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHByZWRpY2F0ZS5udW0odmFsKSAmJiBwcmVkaWNhdGUuemVybyh1dGlscy5tb2QodmFsLCAxKSk7XG59O1xuXG5wcmVkaWNhdGUucG9zID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiBwcmVkaWNhdGUubnVtKHZhbCkgJiYgcHJlZGljYXRlLmdyZWF0ZXIodmFsLCAwKTtcbn07XG5cbnByZWRpY2F0ZS5uZWcgPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHByZWRpY2F0ZS5udW0odmFsKSAmJiBwcmVkaWNhdGUubGVzcyh2YWwsIDApO1xufTtcblxucHJlZGljYXRlLnplcm8gPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHByZWRpY2F0ZS5udW0odmFsKSAmJiBwcmVkaWNhdGUuZXF1YWwodmFsLCAwKTtcbn07XG5cbnByZWRpY2F0ZS5ldmVuID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiBwcmVkaWNhdGUubnVtKHZhbCkgJiZcbiAgICAgICAgICBwcmVkaWNhdGUubm90Lnplcm8odmFsKSAmJlxuICAgICAgICAgIHByZWRpY2F0ZS56ZXJvKHV0aWxzLm1vZCh2YWwsIDIpKTtcbn07XG5cbnByZWRpY2F0ZS5vZGQgPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHByZWRpY2F0ZS5udW0odmFsKSAmJlxuICAgICAgICAgIHByZWRpY2F0ZS5ub3QuemVybyh2YWwpICYmXG4gICAgICAgICAgcHJlZGljYXRlLm5vdC56ZXJvKHV0aWxzLm1vZCh2YWwsIDIpKTtcbn07XG5cbnByZWRpY2F0ZS5jb250YWlucyA9IHByZWRpY2F0ZS5pbmNsdWRlcyA9IGN1cnJ5KGZ1bmN0aW9uKGFyck9yU3RyaW5nLCB2YWwpIHtcbiAgaWYgKCFwcmVkaWNhdGUuYXJyYXkoYXJyT3JTdHJpbmcpICYmICFwcmVkaWNhdGUuc3RyaW5nKGFyck9yU3RyaW5nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGFuIGFycmF5IG9yIHN0cmluZycpO1xuICB9XG5cbiAgaWYgKHByZWRpY2F0ZS5zdHJpbmcoYXJyT3JTdHJpbmcpICYmICFwcmVkaWNhdGUuc3RyaW5nKHZhbCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAocHJlZGljYXRlLk5hTih2YWwpKSB7XG4gICAgcmV0dXJuIGFyck9yU3RyaW5nLnNvbWUocHJlZGljYXRlLk5hTik7XG4gIH1cblxuICByZXR1cm4gISF+YXJyT3JTdHJpbmcuaW5kZXhPZih2YWwpO1xufSk7XG5cbmNvbnN0IF9faGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnByZWRpY2F0ZS5oYXMgPSBjdXJyeShmdW5jdGlvbihvLCBrZXkpIHtcbiAgcmV0dXJuIF9faGFzLmNhbGwobywga2V5KTtcbn0pO1xuXG5wcmVkaWNhdGUuZW1wdHkgPSBmdW5jdGlvbihvKSB7XG4gIGlmIChwcmVkaWNhdGUubm90LmV4aXN0cyhvKSkgcmV0dXJuIHRydWU7XG4gIGlmIChwcmVkaWNhdGUuYXJyKG8pIHx8IHByZWRpY2F0ZS5zdHIobykpIHJldHVybiAhby5sZW5ndGg7XG4gIGlmIChwcmVkaWNhdGUub2JqKG8pKSB7XG4gICAgZm9yIChsZXQgayBpbiBvKSBpZiAocHJlZGljYXRlLmhhcyhvLCBrKSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbn07XG5cbnByZWRpY2F0ZS5wcmltaXRpdmUgPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHByZWRpY2F0ZS5zdHJpbmcodmFsKSB8fCBwcmVkaWNhdGUubnVtKHZhbCkgfHwgcHJlZGljYXRlLmJvb2wodmFsKSB8fFxuICAgIHByZWRpY2F0ZS5udWxsKHZhbCkgfHwgcHJlZGljYXRlLnVuZGVmKHZhbCkgfHwgcHJlZGljYXRlLk5hTih2YWwpO1xufTtcblxucHJlZGljYXRlLm1hdGNoZXMgPSBjdXJyeShmdW5jdGlvbihyZ3gsIHZhbCkge1xuICByZXR1cm4gcmd4LnRlc3QodmFsKTtcbn0pO1xuXG4vLyBBc3NpZ24gaW52ZXJzZSBvZiBlYWNoIHByZWRpY2F0ZVxucHJlZGljYXRlLm5vdCA9IE9iamVjdC5rZXlzKHByZWRpY2F0ZSkucmVkdWNlKGZ1bmN0aW9uKGFjYywgZm5OYW1lKSB7XG4gIGFjY1tmbk5hbWVdID0gdXRpbHMuY29tcGxlbWVudChwcmVkaWNhdGVbZm5OYW1lXSk7XG4gIHJldHVybiBhY2M7XG59LCB7fSk7XG4iLCIndXNlIHN0cmljdCc7XG5jb25zdCBwcmVkaWNhdGUgPSBtb2R1bGUuZXhwb3J0cztcbmNvbnN0IF9zbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuLy8gVXNlZnVsIGZvciBkZWJ1Z2luZyBjdXJyaWVkIGZ1bmN0aW9uc1xuY29uc3Qgc2V0U3JjID0gZnVuY3Rpb24oY3VycmllZCwgc3JjKSB7XG4gIGN1cnJpZWQudG9TdHJpbmcgPSAoKSA9PiBzcmMudG9TdHJpbmcoKTtcbiAgY3VycmllZC5zcmMgPSBzcmM7XG4gIHJldHVybiBjdXJyaWVkO1xufTtcblxuLy8gQ3VycnkncyBmbidzIHdpdGggYXJpdHkgMlxuY29uc3QgY3VycnkgPSBwcmVkaWNhdGUuY3VycnkgPSBmdW5jdGlvbihmKSB7XG4gIHJldHVybiBzZXRTcmMoZnVuY3Rpb24gY3VycmllZChhLCBiKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICBjYXNlIDA6IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cycpO1xuICAgICAgY2FzZSAxOiByZXR1cm4gc2V0U3JjKGZ1bmN0aW9uKGIpIHtcbiAgICAgICAgcmV0dXJuIGYoYSwgYik7XG4gICAgICB9LCBmKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZihhLCBiKTtcbiAgfSwgZik7XG59O1xuXG4vLyBUT0RPOiBlczZpbmcgdGhpcyBicmVha3MhXG5wcmVkaWNhdGUucGFydGlhbCA9IGZ1bmN0aW9uIChmbikge1xuICBjb25zdCBhcmdzID0gX3NsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmdzLmNvbmNhdChfc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gIH07XG59O1xuXG5wcmVkaWNhdGUuY29tcGxlbWVudCA9IHByZWRpY2F0ZS5pbnZlcnQgPSBmdW5jdGlvbihwcmVkKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcmV0ID0gcHJlZC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIC8vIEhhbmRsZSBjdXJyaWVkIGZuc1xuICAgIGlmICh0eXBlb2YgcmV0ID09PSAnZnVuY3Rpb24nKSByZXR1cm4gcHJlZGljYXRlLmNvbXBsZW1lbnQocmV0KTtcbiAgICByZXR1cm4gIXJldDtcbiAgfTtcbn07XG5cbnByZWRpY2F0ZS5tb2QgPSBjdXJyeShmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhICUgYjtcbn0pO1xuXG4vLyBhc3NpZ24gYidzIHByb3BzIHRvIGFcbnByZWRpY2F0ZS5hc3NpZ24gPSBjdXJyeShPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKGEsIGIpIHtcbiAgLy8gdXNlIGNydW1teSBmb3IvaW4gZm9yIHBlcmYgcHVycG9zZXNcbiAgZm9yIChsZXQgcHJvcCBpbiBiKSB7XG4gICAgaWYgKGIuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIGFbcHJvcF0gPSBiW3Byb3BdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBhO1xufSk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIHZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSk7XG5cbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyB0ZXh0O1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuICAgICAgaWYgKGhhcyh0eXBlU3BlY3MsIHR5cGVTcGVjTmFtZSkpIHtcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG4gICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdmFyIGVyciA9IEVycm9yKFxuICAgICAgICAgICAgICAoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6ICcgKyBsb2NhdGlvbiArICcgdHlwZSBgJyArIHR5cGVTcGVjTmFtZSArICdgIGlzIGludmFsaWQ7ICcgK1xuICAgICAgICAgICAgICAnaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCcgKyB0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gKyAnYC4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVycm9yID0gdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0odmFsdWVzLCB0eXBlU3BlY05hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBudWxsLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IgPSBleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgJiYgIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgIChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICcgK1xuICAgICAgICAgICAgbG9jYXRpb24gKyAnIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICtcbiAgICAgICAgICAgICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAnICsgdHlwZW9mIGVycm9yICsgJy4gJyArXG4gICAgICAgICAgICAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArXG4gICAgICAgICAgICAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICtcbiAgICAgICAgICAgICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvci5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvci5tZXNzYWdlXSA9IHRydWU7XG5cbiAgICAgICAgICB2YXIgc3RhY2sgPSBnZXRTdGFjayA/IGdldFN0YWNrKCkgOiAnJztcblxuICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICdGYWlsZWQgJyArIGxvY2F0aW9uICsgJyB0eXBlOiAnICsgZXJyb3IubWVzc2FnZSArIChzdGFjayAhPSBudWxsID8gc3RhY2sgOiAnJylcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmVzZXRzIHdhcm5pbmcgY2FjaGUgd2hlbiB0ZXN0aW5nLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNoZWNrUHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlID0gZnVuY3Rpb24oKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3RJcyA9IHJlcXVpcmUoJ3JlYWN0LWlzJyk7XG52YXIgYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xudmFyIGNoZWNrUHJvcFR5cGVzID0gcmVxdWlyZSgnLi9jaGVja1Byb3BUeXBlcycpO1xuXG52YXIgaGFzID0gRnVuY3Rpb24uY2FsbC5iaW5kKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xudmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgdGV4dDtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9O1xufVxuXG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsKCkge1xuICByZXR1cm4gbnVsbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuICAvKiBnbG9iYWwgU3ltYm9sICovXG4gIHZhciBJVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbiAgdmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InOyAvLyBCZWZvcmUgU3ltYm9sIHNwZWMuXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGl0ZXJhdG9yIG1ldGhvZCBmdW5jdGlvbiBjb250YWluZWQgb24gdGhlIGl0ZXJhYmxlIG9iamVjdC5cbiAgICpcbiAgICogQmUgc3VyZSB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGl0ZXJhYmxlIGFzIGNvbnRleHQ6XG4gICAqXG4gICAqICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obXlJdGVyYWJsZSk7XG4gICAqICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgKiAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwobXlJdGVyYWJsZSk7XG4gICAqICAgICAgIC4uLlxuICAgKiAgICAgfVxuICAgKlxuICAgKiBAcGFyYW0gez9vYmplY3R9IG1heWJlSXRlcmFibGVcbiAgICogQHJldHVybiB7P2Z1bmN0aW9ufVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChJVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtJVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgdGhhdCBhbGxvdyBkZWNsYXJhdGlvbiBhbmQgdmFsaWRhdGlvbiBvZiBwcm9wcyB0aGF0IGFyZVxuICAgKiBzdXBwbGllZCB0byBSZWFjdCBjb21wb25lbnRzLiBFeGFtcGxlIHVzYWdlOlxuICAgKlxuICAgKiAgIHZhciBQcm9wcyA9IHJlcXVpcmUoJ1JlYWN0UHJvcFR5cGVzJyk7XG4gICAqICAgdmFyIE15QXJ0aWNsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICogICAgIHByb3BUeXBlczoge1xuICAgKiAgICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgcHJvcCBuYW1lZCBcImRlc2NyaXB0aW9uXCIuXG4gICAqICAgICAgIGRlc2NyaXB0aW9uOiBQcm9wcy5zdHJpbmcsXG4gICAqXG4gICAqICAgICAgIC8vIEEgcmVxdWlyZWQgZW51bSBwcm9wIG5hbWVkIFwiY2F0ZWdvcnlcIi5cbiAgICogICAgICAgY2F0ZWdvcnk6IFByb3BzLm9uZU9mKFsnTmV3cycsJ1Bob3RvcyddKS5pc1JlcXVpcmVkLFxuICAgKlxuICAgKiAgICAgICAvLyBBIHByb3AgbmFtZWQgXCJkaWFsb2dcIiB0aGF0IHJlcXVpcmVzIGFuIGluc3RhbmNlIG9mIERpYWxvZy5cbiAgICogICAgICAgZGlhbG9nOiBQcm9wcy5pbnN0YW5jZU9mKERpYWxvZykuaXNSZXF1aXJlZFxuICAgKiAgICAgfSxcbiAgICogICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7IC4uLiB9XG4gICAqICAgfSk7XG4gICAqXG4gICAqIEEgbW9yZSBmb3JtYWwgc3BlY2lmaWNhdGlvbiBvZiBob3cgdGhlc2UgbWV0aG9kcyBhcmUgdXNlZDpcbiAgICpcbiAgICogICB0eXBlIDo9IGFycmF5fGJvb2x8ZnVuY3xvYmplY3R8bnVtYmVyfHN0cmluZ3xvbmVPZihbLi4uXSl8aW5zdGFuY2VPZiguLi4pXG4gICAqICAgZGVjbCA6PSBSZWFjdFByb3BUeXBlcy57dHlwZX0oLmlzUmVxdWlyZWQpP1xuICAgKlxuICAgKiBFYWNoIGFuZCBldmVyeSBkZWNsYXJhdGlvbiBwcm9kdWNlcyBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgc2lnbmF0dXJlLiBUaGlzXG4gICAqIGFsbG93cyB0aGUgY3JlYXRpb24gb2YgY3VzdG9tIHZhbGlkYXRpb24gZnVuY3Rpb25zLiBGb3IgZXhhbXBsZTpcbiAgICpcbiAgICogIHZhciBNeUxpbmsgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgIHByb3BUeXBlczoge1xuICAgKiAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBvciBVUkkgcHJvcCBuYW1lZCBcImhyZWZcIi5cbiAgICogICAgICBocmVmOiBmdW5jdGlvbihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICogICAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAqICAgICAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHByb3BWYWx1ZSAhPT0gJ3N0cmluZycgJiZcbiAgICogICAgICAgICAgICAhKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFVSSSkpIHtcbiAgICogICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICogICAgICAgICAgICAnRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYW4gVVJJIGZvciAnICsgcHJvcE5hbWUgKyAnIGluICcgK1xuICAgKiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICogICAgICAgICAgKTtcbiAgICogICAgICAgIH1cbiAgICogICAgICB9XG4gICAqICAgIH0sXG4gICAqICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7Li4ufVxuICAgKiAgfSk7XG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cblxuICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xuXG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gICAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG4gICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG4gICAgc3ltYm9sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3ltYm9sJyksXG5cbiAgICBhbnk6IGNyZWF0ZUFueVR5cGVDaGVja2VyKCksXG4gICAgYXJyYXlPZjogY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyLFxuICAgIGVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpLFxuICAgIGVsZW1lbnRUeXBlOiBjcmVhdGVFbGVtZW50VHlwZVR5cGVDaGVja2VyKCksXG4gICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcbiAgICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxuICAgIG9iamVjdE9mOiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyLFxuICAgIG9uZU9mOiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIsXG4gICAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuICAgIHNoYXBlOiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyLFxuICAgIGV4YWN0OiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyLFxuICB9O1xuXG4gIC8qKlxuICAgKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICAgKi9cbiAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuICBmdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG4gICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICAgIH1cbiAgfVxuICAvKmVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlKi9cblxuICAvKipcbiAgICogV2UgdXNlIGFuIEVycm9yLWxpa2Ugb2JqZWN0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFzIHBlb3BsZSBtYXkgY2FsbFxuICAgKiBQcm9wVHlwZXMgZGlyZWN0bHkgYW5kIGluc3BlY3QgdGhlaXIgb3V0cHV0LiBIb3dldmVyLCB3ZSBkb24ndCB1c2UgcmVhbFxuICAgKiBFcnJvcnMgYW55bW9yZS4gV2UgZG9uJ3QgaW5zcGVjdCB0aGVpciBzdGFjayBhbnl3YXksIGFuZCBjcmVhdGluZyB0aGVtXG4gICAqIGlzIHByb2hpYml0aXZlbHkgZXhwZW5zaXZlIGlmIHRoZXkgYXJlIGNyZWF0ZWQgdG9vIG9mdGVuLCBzdWNoIGFzIHdoYXRcbiAgICogaGFwcGVucyBpbiBvbmVPZlR5cGUoKSBmb3IgYW55IHR5cGUgYmVmb3JlIHRoZSBvbmUgdGhhdCBtYXRjaGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gUHJvcFR5cGVFcnJvcihtZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrID0gJyc7XG4gIH1cbiAgLy8gTWFrZSBgaW5zdGFuY2VvZiBFcnJvcmAgc3RpbGwgd29yayBmb3IgcmV0dXJuZWQgZXJyb3JzLlxuICBQcm9wVHlwZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblxuICBmdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGUgPSB7fTtcbiAgICAgIHZhciBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXG4gICAgICBpZiAoc2VjcmV0ICE9PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgICBpZiAodGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuICAgICAgICAgIC8vIE5ldyBiZWhhdmlvciBvbmx5IGZvciB1c2VycyBvZiBgcHJvcC10eXBlc2AgcGFja2FnZVxuICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAgICAgICAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG4gICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY29tcG9uZW50TmFtZSArICc6JyArIHByb3BOYW1lO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiZcbiAgICAgICAgICAgIC8vIEF2b2lkIHNwYW1taW5nIHRoZSBjb25zb2xlIGJlY2F1c2UgdGhleSBhcmUgb2Z0ZW4gbm90IGFjdGlvbmFibGUgZXhjZXB0IGZvciBsaWIgYXV0aG9yc1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPCAzXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgICAgICdZb3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgYSBSZWFjdC5Qcm9wVHlwZXMgdmFsaWRhdGlvbiAnICtcbiAgICAgICAgICAgICAgJ2Z1bmN0aW9uIGZvciB0aGUgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBwcm9wIG9uIGAnICsgY29tcG9uZW50TmFtZSAgKyAnYC4gVGhpcyBpcyBkZXByZWNhdGVkICcgK1xuICAgICAgICAgICAgICAnYW5kIHdpbGwgdGhyb3cgaW4gdGhlIHN0YW5kYWxvbmUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgICAgICAgICAnWW91IG1heSBiZSBzZWVpbmcgdGhpcyB3YXJuaW5nIGR1ZSB0byBhIHRoaXJkLXBhcnR5IFByb3BUeXBlcyAnICtcbiAgICAgICAgICAgICAgJ2xpYnJhcnkuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmctZG9udC1jYWxsLXByb3B0eXBlcyAnICsgJ2ZvciBkZXRhaWxzLidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gPSB0cnVlO1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignVGhlICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBpcyBtYXJrZWQgYXMgcmVxdWlyZWQgJyArICgnaW4gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGJ1dCBpdHMgdmFsdWUgaXMgYG51bGxgLicpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgdW5kZWZpbmVkYC4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY2hhaW5lZENoZWNrVHlwZSA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIGZhbHNlKTtcbiAgICBjaGFpbmVkQ2hlY2tUeXBlLmlzUmVxdWlyZWQgPSBjaGVja1R5cGUuYmluZChudWxsLCB0cnVlKTtcblxuICAgIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgLy8gYHByb3BWYWx1ZWAgYmVpbmcgaW5zdGFuY2Ugb2YsIHNheSwgZGF0ZS9yZWdleHAsIHBhc3MgdGhlICdvYmplY3QnXG4gICAgICAgIC8vIGNoZWNrLCBidXQgd2UgY2FuIG9mZmVyIGEgbW9yZSBwcmVjaXNlIGVycm9yIG1lc3NhZ2UgaGVyZSByYXRoZXIgdGhhblxuICAgICAgICAvLyAnb2YgdHlwZSBgb2JqZWN0YCcuXG4gICAgICAgIHZhciBwcmVjaXNlVHlwZSA9IGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpIHtcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgYXJyYXlPZi4nKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBhcnJheS4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnWycgKyBpICsgJ10nLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50LicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFR5cGVUeXBlQ2hlY2tlcigpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIVJlYWN0SXMuaXNWYWxpZEVsZW1lbnRUeXBlKHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50IHR5cGUuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZVR5cGVDaGVja2VyKGV4cGVjdGVkQ2xhc3MpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghKHByb3BzW3Byb3BOYW1lXSBpbnN0YW5jZW9mIGV4cGVjdGVkQ2xhc3MpKSB7XG4gICAgICAgIHZhciBleHBlY3RlZENsYXNzTmFtZSA9IGV4cGVjdGVkQ2xhc3MubmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICAgIHZhciBhY3R1YWxDbGFzc05hbWUgPSBnZXRDbGFzc05hbWUocHJvcHNbcHJvcE5hbWVdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgYWN0dWFsQ2xhc3NOYW1lICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdpbnN0YW5jZSBvZiBgJyArIGV4cGVjdGVkQ2xhc3NOYW1lICsgJ2AuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIoZXhwZWN0ZWRWYWx1ZXMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWRWYWx1ZXMpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgICAnSW52YWxpZCBhcmd1bWVudHMgc3VwcGxpZWQgdG8gb25lT2YsIGV4cGVjdGVkIGFuIGFycmF5LCBnb3QgJyArIGFyZ3VtZW50cy5sZW5ndGggKyAnIGFyZ3VtZW50cy4gJyArXG4gICAgICAgICAgICAnQSBjb21tb24gbWlzdGFrZSBpcyB0byB3cml0ZSBvbmVPZih4LCB5LCB6KSBpbnN0ZWFkIG9mIG9uZU9mKFt4LCB5LCB6XSkuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJpbnRXYXJuaW5nKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mLCBleHBlY3RlZCBhbiBhcnJheS4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleHBlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXMocHJvcFZhbHVlLCBleHBlY3RlZFZhbHVlc1tpXSkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWVzU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoZXhwZWN0ZWRWYWx1ZXMsIGZ1bmN0aW9uIHJlcGxhY2VyKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlID09PSAnc3ltYm9sJykge1xuICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB2YWx1ZSBgJyArIFN0cmluZyhwcm9wVmFsdWUpICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIG9iamVjdC4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcFZhbHVlKSB7XG4gICAgICAgIGlmIChoYXMocHJvcFZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBrZXksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnLicgKyBrZXksIFJlYWN0UHJvcFR5cGVzU2VjcmV0KTtcbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVVbmlvblR5cGVDaGVja2VyKGFycmF5T2ZUeXBlQ2hlY2tlcnMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXlPZlR5cGVDaGVja2VycykpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBwcmludFdhcm5pbmcoJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2ZUeXBlLCBleHBlY3RlZCBhbiBpbnN0YW5jZSBvZiBhcnJheS4nKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuICAgICAgaWYgKHR5cGVvZiBjaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZlR5cGUuIEV4cGVjdGVkIGFuIGFycmF5IG9mIGNoZWNrIGZ1bmN0aW9ucywgYnV0ICcgK1xuICAgICAgICAgICdyZWNlaXZlZCAnICsgZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKGNoZWNrZXIpICsgJyBhdCBpbmRleCAnICsgaSArICcuJ1xuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlPZlR5cGVDaGVja2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IGFycmF5T2ZUeXBlQ2hlY2tlcnNbaV07XG4gICAgICAgIGlmIChjaGVja2VyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpID09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLicpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU5vZGVDaGVja2VyKCkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKCFpc05vZGUocHJvcHNbcHJvcE5hbWVdKSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIHN1cHBsaWVkIHRvICcgKyAoJ2AnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhIFJlYWN0Tm9kZS4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVNoYXBlVHlwZUNoZWNrZXIoc2hhcGVUeXBlcykge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSBgJyArIHByb3BUeXBlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGBvYmplY3RgLicpKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBzaGFwZVR5cGVzKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuICAgICAgICBpZiAoIWNoZWNrZXIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9XG4gICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGFsbCBrZXlzIGluIGNhc2Ugc29tZSBhcmUgcmVxdWlyZWQgYnV0IG1pc3NpbmcgZnJvbVxuICAgICAgLy8gcHJvcHMuXG4gICAgICB2YXIgYWxsS2V5cyA9IGFzc2lnbih7fSwgcHJvcHNbcHJvcE5hbWVdLCBzaGFwZVR5cGVzKTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBhbGxLZXlzKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuICAgICAgICBpZiAoIWNoZWNrZXIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoXG4gICAgICAgICAgICAnSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Aga2V5IGAnICsga2V5ICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AuJyArXG4gICAgICAgICAgICAnXFxuQmFkIG9iamVjdDogJyArIEpTT04uc3RyaW5naWZ5KHByb3BzW3Byb3BOYW1lXSwgbnVsbCwgJyAgJykgK1xuICAgICAgICAgICAgJ1xcblZhbGlkIGtleXM6ICcgKyAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoc2hhcGVUeXBlcyksIG51bGwsICcgICcpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTm9kZShwcm9wVmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wVmFsdWUpIHtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuICFwcm9wVmFsdWU7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wVmFsdWUgPT09IG51bGwgfHwgaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKHByb3BWYWx1ZSk7XG4gICAgICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKHByb3BWYWx1ZSk7XG4gICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IHByb3BWYWx1ZS5lbnRyaWVzKSB7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTm9kZShlbnRyeVsxXSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkge1xuICAgIC8vIE5hdGl2ZSBTeW1ib2wuXG4gICAgaWYgKHByb3BUeXBlID09PSAnc3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gZmFsc3kgdmFsdWUgY2FuJ3QgYmUgYSBTeW1ib2xcbiAgICBpZiAoIXByb3BWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG4gICAgaWYgKHByb3BWYWx1ZVsnQEB0b1N0cmluZ1RhZyddID09PSAnU3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgZm9yIG5vbi1zcGVjIGNvbXBsaWFudCBTeW1ib2xzIHdoaWNoIGFyZSBwb2x5ZmlsbGVkLlxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHByb3BWYWx1ZSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRXF1aXZhbGVudCBvZiBgdHlwZW9mYCBidXQgd2l0aCBzcGVjaWFsIGhhbmRsaW5nIGZvciBhcnJheSBhbmQgcmVnZXhwLlxuICBmdW5jdGlvbiBnZXRQcm9wVHlwZShwcm9wVmFsdWUpIHtcbiAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH1cbiAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAvLyBPbGQgd2Via2l0cyAoYXQgbGVhc3QgdW50aWwgQW5kcm9pZCA0LjApIHJldHVybiAnZnVuY3Rpb24nIHJhdGhlciB0aGFuXG4gICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cbiAgICAgIC8vIHBhc3NlcyBQcm9wVHlwZXMub2JqZWN0LlxuICAgICAgcmV0dXJuICdvYmplY3QnO1xuICAgIH1cbiAgICBpZiAoaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnc3ltYm9sJztcbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG5cbiAgLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICAvLyBTZWUgYGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyYC5cbiAgZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHByb3BWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICcnICsgcHJvcFZhbHVlO1xuICAgIH1cbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgICB9IGVsc2UgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfVxuXG4gIC8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBpcyBwb3N0Zml4ZWQgdG8gYSB3YXJuaW5nIGFib3V0IGFuIGludmFsaWQgdHlwZS5cbiAgLy8gRm9yIGV4YW1wbGUsIFwidW5kZWZpbmVkXCIgb3IgXCJvZiB0eXBlIGFycmF5XCJcbiAgZnVuY3Rpb24gZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdhcnJheSc6XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICByZXR1cm4gJ2FuICcgKyB0eXBlO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgIGNhc2UgJ3JlZ2V4cCc6XG4gICAgICAgIHJldHVybiAnYSAnICsgdHlwZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybnMgY2xhc3MgbmFtZSBvZiB0aGUgb2JqZWN0LCBpZiBhbnkuXG4gIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcbiAgICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgIHJldHVybiBBTk9OWU1PVVM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgfVxuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gY2hlY2tQcm9wVHlwZXM7XG4gIFJlYWN0UHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlID0gY2hlY2tQcm9wVHlwZXMucmVzZXRXYXJuaW5nQ2FjaGU7XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKFJlYWN0SXMuaXNFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xuZXhwb3J0cy5pc0ZpcmVmb3ggPSBkaXNjb3VudF9sb2Rhc2hfMS5tZW1vaXplKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gL2ZpcmVmb3gvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xufSk7XG5leHBvcnRzLmlzU2FmYXJpID0gZGlzY291bnRfbG9kYXNoXzEubWVtb2l6ZShmdW5jdGlvbiAoKSB7IHJldHVybiBCb29sZWFuKHdpbmRvdy5zYWZhcmkpOyB9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xudmFyIEVudGVyTGVhdmVDb3VudGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVudGVyTGVhdmVDb3VudGVyKGlzTm9kZUluRG9jdW1lbnQpIHtcbiAgICAgICAgdGhpcy5lbnRlcmVkID0gW107XG4gICAgICAgIHRoaXMuaXNOb2RlSW5Eb2N1bWVudCA9IGlzTm9kZUluRG9jdW1lbnQ7XG4gICAgfVxuICAgIEVudGVyTGVhdmVDb3VudGVyLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uIChlbnRlcmluZ05vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHByZXZpb3VzTGVuZ3RoID0gdGhpcy5lbnRlcmVkLmxlbmd0aDtcbiAgICAgICAgdmFyIGlzTm9kZUVudGVyZWQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmlzTm9kZUluRG9jdW1lbnQobm9kZSkgJiZcbiAgICAgICAgICAgICAgICAoIW5vZGUuY29udGFpbnMgfHwgbm9kZS5jb250YWlucyhlbnRlcmluZ05vZGUpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbnRlcmVkID0gZGlzY291bnRfbG9kYXNoXzEudW5pb24odGhpcy5lbnRlcmVkLmZpbHRlcihpc05vZGVFbnRlcmVkKSwgW2VudGVyaW5nTm9kZV0pO1xuICAgICAgICByZXR1cm4gcHJldmlvdXNMZW5ndGggPT09IDAgJiYgdGhpcy5lbnRlcmVkLmxlbmd0aCA+IDA7XG4gICAgfTtcbiAgICBFbnRlckxlYXZlQ291bnRlci5wcm90b3R5cGUubGVhdmUgPSBmdW5jdGlvbiAobGVhdmluZ05vZGUpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzTGVuZ3RoID0gdGhpcy5lbnRlcmVkLmxlbmd0aDtcbiAgICAgICAgdGhpcy5lbnRlcmVkID0gZGlzY291bnRfbG9kYXNoXzEud2l0aG91dCh0aGlzLmVudGVyZWQuZmlsdGVyKHRoaXMuaXNOb2RlSW5Eb2N1bWVudCksIGxlYXZpbmdOb2RlKTtcbiAgICAgICAgcmV0dXJuIHByZXZpb3VzTGVuZ3RoID4gMCAmJiB0aGlzLmVudGVyZWQubGVuZ3RoID09PSAwO1xuICAgIH07XG4gICAgRW50ZXJMZWF2ZUNvdW50ZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVudGVyZWQgPSBbXTtcbiAgICB9O1xuICAgIHJldHVybiBFbnRlckxlYXZlQ291bnRlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBFbnRlckxlYXZlQ291bnRlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFbnRlckxlYXZlQ291bnRlcl8xID0gcmVxdWlyZShcIi4vRW50ZXJMZWF2ZUNvdW50ZXJcIik7XG52YXIgQnJvd3NlckRldGVjdG9yXzEgPSByZXF1aXJlKFwiLi9Ccm93c2VyRGV0ZWN0b3JcIik7XG52YXIgT2Zmc2V0VXRpbHNfMSA9IHJlcXVpcmUoXCIuL09mZnNldFV0aWxzXCIpO1xudmFyIE5hdGl2ZURyYWdTb3VyY2VzXzEgPSByZXF1aXJlKFwiLi9OYXRpdmVEcmFnU291cmNlc1wiKTtcbnZhciBOYXRpdmVUeXBlcyA9IHJlcXVpcmUoXCIuL05hdGl2ZVR5cGVzXCIpO1xudmFyIEhUTUw1QmFja2VuZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBIVE1MNUJhY2tlbmQobWFuYWdlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnNvdXJjZVByZXZpZXdOb2RlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5zb3VyY2VQcmV2aWV3Tm9kZU9wdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuc291cmNlTm9kZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuc291cmNlTm9kZU9wdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZHJhZ1N0YXJ0U291cmNlSWRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcm9wVGFyZ2V0SWRzID0gW107XG4gICAgICAgIHRoaXMuZHJhZ0VudGVyVGFyZ2V0SWRzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudE5hdGl2ZVNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudE5hdGl2ZUhhbmRsZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudERyYWdTb3VyY2VOb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy5hbHRLZXlQcmVzc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW91c2VNb3ZlVGltZW91dFRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5hc3luY0VuZERyYWdGcmFtZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5kcmFnT3ZlclRhcmdldElkcyA9IG51bGw7XG4gICAgICAgIHRoaXMuZ2V0U291cmNlQ2xpZW50T2Zmc2V0ID0gZnVuY3Rpb24gKHNvdXJjZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gT2Zmc2V0VXRpbHNfMS5nZXROb2RlQ2xpZW50T2Zmc2V0KF90aGlzLnNvdXJjZU5vZGVzLmdldChzb3VyY2VJZCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmVuZERyYWdOYXRpdmVJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5pc0RyYWdnaW5nTmF0aXZlSXRlbSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuYWN0aW9ucy5lbmREcmFnKCk7XG4gICAgICAgICAgICBfdGhpcy5yZWdpc3RyeS5yZW1vdmVTb3VyY2UoX3RoaXMuY3VycmVudE5hdGl2ZUhhbmRsZSk7XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50TmF0aXZlSGFuZGxlID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLmN1cnJlbnROYXRpdmVTb3VyY2UgPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlzTm9kZUluRG9jdW1lbnQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIG5vZGUgZWl0aGVyIGluIHRoZSBtYWluIGRvY3VtZW50IG9yIGluIHRoZSBjdXJyZW50IGNvbnRleHRcbiAgICAgICAgICAgIHJldHVybiAoKCEhZG9jdW1lbnQgJiYgZG9jdW1lbnQuYm9keS5jb250YWlucyhub2RlKSkgfHxcbiAgICAgICAgICAgICAgICAoISFfdGhpcy53aW5kb3cgJiYgX3RoaXMud2luZG93LmRvY3VtZW50LmJvZHkuY29udGFpbnMobm9kZSkpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbmREcmFnSWZTb3VyY2VXYXNSZW1vdmVkRnJvbURPTSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gX3RoaXMuY3VycmVudERyYWdTb3VyY2VOb2RlO1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzTm9kZUluRG9jdW1lbnQobm9kZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuY2xlYXJDdXJyZW50RHJhZ1NvdXJjZU5vZGUoKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGlvbnMuZW5kRHJhZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVRvcERyYWdTdGFydENhcHR1cmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jbGVhckN1cnJlbnREcmFnU291cmNlTm9kZSgpO1xuICAgICAgICAgICAgX3RoaXMuZHJhZ1N0YXJ0U291cmNlSWRzID0gW107XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlVG9wRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBkcmFnU3RhcnRTb3VyY2VJZHMgPSBfdGhpcy5kcmFnU3RhcnRTb3VyY2VJZHM7XG4gICAgICAgICAgICBfdGhpcy5kcmFnU3RhcnRTb3VyY2VJZHMgPSBudWxsO1xuICAgICAgICAgICAgdmFyIGNsaWVudE9mZnNldCA9IE9mZnNldFV0aWxzXzEuZ2V0RXZlbnRDbGllbnRPZmZzZXQoZSk7XG4gICAgICAgICAgICAvLyBBdm9pZCBjcmFzaGluZyBpZiB3ZSBtaXNzZWQgYSBkcm9wIGV2ZW50IG9yIG91ciBwcmV2aW91cyBkcmFnIGRpZWRcbiAgICAgICAgICAgIGlmIChfdGhpcy5tb25pdG9yLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFjdGlvbnMuZW5kRHJhZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRG9uJ3QgcHVibGlzaCB0aGUgc291cmNlIGp1c3QgeWV0IChzZWUgd2h5IGJlbG93KVxuICAgICAgICAgICAgX3RoaXMuYWN0aW9ucy5iZWdpbkRyYWcoZHJhZ1N0YXJ0U291cmNlSWRzIHx8IFtdLCB7XG4gICAgICAgICAgICAgICAgcHVibGlzaFNvdXJjZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgZ2V0U291cmNlQ2xpZW50T2Zmc2V0OiBfdGhpcy5nZXRTb3VyY2VDbGllbnRPZmZzZXQsXG4gICAgICAgICAgICAgICAgY2xpZW50T2Zmc2V0OiBjbGllbnRPZmZzZXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBkYXRhVHJhbnNmZXIgPSBlLmRhdGFUcmFuc2ZlcjtcbiAgICAgICAgICAgIHZhciBuYXRpdmVUeXBlID0gTmF0aXZlRHJhZ1NvdXJjZXNfMS5tYXRjaE5hdGl2ZUl0ZW1UeXBlKGRhdGFUcmFuc2Zlcik7XG4gICAgICAgICAgICBpZiAoX3RoaXMubW9uaXRvci5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVRyYW5zZmVyICYmIHR5cGVvZiBkYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVzZSBjdXN0b20gZHJhZyBpbWFnZSBpZiB1c2VyIHNwZWNpZmllcyBpdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgY2hpbGQgZHJhZyBzb3VyY2UgcmVmdXNlcyBkcmFnIGJ1dCBwYXJlbnQgYWdyZWVzLFxuICAgICAgICAgICAgICAgICAgICAvLyB1c2UgcGFyZW50J3Mgbm9kZSBhcyBkcmFnIGltYWdlLiBOZWl0aGVyIHdvcmtzIGluIElFIHRob3VnaC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZUlkID0gX3RoaXMubW9uaXRvci5nZXRTb3VyY2VJZCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlTm9kZSA9IF90aGlzLnNvdXJjZU5vZGVzLmdldChzb3VyY2VJZCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkcmFnUHJldmlldyA9IF90aGlzLnNvdXJjZVByZXZpZXdOb2Rlcy5nZXQoc291cmNlSWQpIHx8IHNvdXJjZU5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkcmFnUHJldmlldykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMuZ2V0Q3VycmVudFNvdXJjZVByZXZpZXdOb2RlT3B0aW9ucygpLCBhbmNob3JYID0gX2EuYW5jaG9yWCwgYW5jaG9yWSA9IF9hLmFuY2hvclksIG9mZnNldFggPSBfYS5vZmZzZXRYLCBvZmZzZXRZID0gX2Eub2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmNob3JQb2ludCA9IHsgYW5jaG9yWDogYW5jaG9yWCwgYW5jaG9yWTogYW5jaG9yWSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldFBvaW50ID0geyBvZmZzZXRYOiBvZmZzZXRYLCBvZmZzZXRZOiBvZmZzZXRZIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ1ByZXZpZXdPZmZzZXQgPSBPZmZzZXRVdGlsc18xLmdldERyYWdQcmV2aWV3T2Zmc2V0KHNvdXJjZU5vZGUsIGRyYWdQcmV2aWV3LCBjbGllbnRPZmZzZXQsIGFuY2hvclBvaW50LCBvZmZzZXRQb2ludCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKGRyYWdQcmV2aWV3LCBkcmFnUHJldmlld09mZnNldC54LCBkcmFnUHJldmlld09mZnNldC55KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaXJlZm94IHdvbid0IGRyYWcgd2l0aG91dCBzZXR0aW5nIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRyYW5zZmVyLnNldERhdGEoJ2FwcGxpY2F0aW9uL2pzb24nLCB7fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSUUgZG9lc24ndCBzdXBwb3J0IE1JTUUgdHlwZXMgaW4gc2V0RGF0YVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdG9yZSBkcmFnIHNvdXJjZSBub2RlIHNvIHdlIGNhbiBjaGVjayB3aGV0aGVyXG4gICAgICAgICAgICAgICAgLy8gaXQgaXMgcmVtb3ZlZCBmcm9tIERPTSBhbmQgdHJpZ2dlciBlbmREcmFnIG1hbnVhbGx5LlxuICAgICAgICAgICAgICAgIF90aGlzLnNldEN1cnJlbnREcmFnU291cmNlTm9kZShlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgLy8gTm93IHdlIGFyZSByZWFkeSB0byBwdWJsaXNoIHRoZSBkcmFnIHNvdXJjZS4uIG9yIGFyZSB3ZSBub3Q/XG4gICAgICAgICAgICAgICAgdmFyIGNhcHR1cmVEcmFnZ2luZ1N0YXRlID0gX3RoaXMuZ2V0Q3VycmVudFNvdXJjZVByZXZpZXdOb2RlT3B0aW9ucygpLmNhcHR1cmVEcmFnZ2luZ1N0YXRlO1xuICAgICAgICAgICAgICAgIGlmICghY2FwdHVyZURyYWdnaW5nU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXN1YWxseSB3ZSB3YW50IHRvIHB1Ymxpc2ggaXQgaW4gdGhlIG5leHQgdGljayBzbyB0aGF0IGJyb3dzZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgYWJsZSB0byBzY3JlZW5zaG90IHRoZSBjdXJyZW50IChub3QgeWV0IGRyYWdnaW5nKSBzdGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgYWxzbyBuZWF0bHkgYXZvaWRzIGEgc2l0dWF0aW9uIHdoZXJlIHJlbmRlcigpIHJldHVybnMgbnVsbFxuICAgICAgICAgICAgICAgICAgICAvLyBpbiB0aGUgc2FtZSB0aWNrIGZvciB0aGUgc291cmNlIGVsZW1lbnQsIGFuZCBicm93c2VyIGZyZWFrcyBvdXQuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuYWN0aW9ucy5wdWJsaXNoRHJhZ1NvdXJjZSgpOyB9LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHNvbWUgY2FzZXMgdGhlIHVzZXIgbWF5IHdhbnQgdG8gb3ZlcnJpZGUgdGhpcyBiZWhhdmlvciwgZS5nLlxuICAgICAgICAgICAgICAgICAgICAvLyB0byB3b3JrIGFyb3VuZCBJRSBub3Qgc3VwcG9ydGluZyBjdXN0b20gZHJhZyBwcmV2aWV3cy5cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB1c2luZyBhIGN1c3RvbSBkcmFnIGxheWVyLCB0aGUgb25seSB3YXkgdG8gcHJldmVudFxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZGVmYXVsdCBkcmFnIHByZXZpZXcgZnJvbSBkcmF3aW5nIGluIElFIGlzIHRvIHNjcmVlbnNob3RcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGRyYWdnaW5nIHN0YXRlIGluIHdoaWNoIHRoZSBub2RlIGl0c2VsZiBoYXMgemVybyBvcGFjaXR5XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBoZWlnaHQuIEluIHRoaXMgY2FzZSwgdGhvdWdoLCByZXR1cm5pbmcgbnVsbCBmcm9tIHJlbmRlcigpXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgYWJydXB0bHkgZW5kIHRoZSBkcmFnZ2luZywgd2hpY2ggaXMgbm90IG9idmlvdXMuXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIHJlYXNvbiBzdWNoIGJlaGF2aW9yIGlzIHN0cmljdGx5IG9wdC1pbi5cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWN0aW9ucy5wdWJsaXNoRHJhZ1NvdXJjZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5hdGl2ZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBBIG5hdGl2ZSBpdGVtIChzdWNoIGFzIFVSTCkgZHJhZ2dlZCBmcm9tIGluc2lkZSB0aGUgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICBfdGhpcy5iZWdpbkRyYWdOYXRpdmVJdGVtKG5hdGl2ZVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YVRyYW5zZmVyICYmXG4gICAgICAgICAgICAgICAgIWRhdGFUcmFuc2Zlci50eXBlcyAmJlxuICAgICAgICAgICAgICAgICgoZS50YXJnZXQgJiYgIWUudGFyZ2V0Lmhhc0F0dHJpYnV0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgIWUudGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZHJhZ2dhYmxlJykpKSB7XG4gICAgICAgICAgICAgICAgLy8gTG9va3MgbGlrZSBhIFNhZmFyaSBidWc6IGRhdGFUcmFuc2Zlci50eXBlcyBpcyBudWxsLCBidXQgdGhlcmUgd2FzIG5vIGRyYWdnYWJsZS5cbiAgICAgICAgICAgICAgICAvLyBKdXN0IGxldCBpdCBkcmFnLiBJdCdzIGEgbmF0aXZlIHR5cGUgKFVSTCBvciB0ZXh0KSBhbmQgd2lsbCBiZSBwaWNrZWQgdXAgaW5cbiAgICAgICAgICAgICAgICAvLyBkcmFnZW50ZXIgaGFuZGxlci5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBieSB0aGlzIHRpbWUgbm8gZHJhZyBzb3VyY2UgcmVhY3RlZCwgdGVsbCBicm93c2VyIG5vdCB0byBkcmFnLlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5oYW5kbGVUb3BEcmFnRW5kQ2FwdHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5jbGVhckN1cnJlbnREcmFnU291cmNlTm9kZSgpKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyZWZveCBjYW4gZGlzcGF0Y2ggdGhpcyBldmVudCBpbiBhbiBpbmZpbml0ZSBsb29wXG4gICAgICAgICAgICAgICAgLy8gaWYgZHJhZ2VuZCBoYW5kbGVyIGRvZXMgc29tZXRoaW5nIGxpa2Ugc2hvd2luZyBhbiBhbGVydC5cbiAgICAgICAgICAgICAgICAvLyBPbmx5IHByb2NlZWQgaWYgd2UgaGF2ZSBub3QgaGFuZGxlZCBpdCBhbHJlYWR5LlxuICAgICAgICAgICAgICAgIF90aGlzLmFjdGlvbnMuZW5kRHJhZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVRvcERyYWdFbnRlckNhcHR1cmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMuZHJhZ0VudGVyVGFyZ2V0SWRzID0gW107XG4gICAgICAgICAgICB2YXIgaXNGaXJzdEVudGVyID0gX3RoaXMuZW50ZXJMZWF2ZUNvdW50ZXIuZW50ZXIoZS50YXJnZXQpO1xuICAgICAgICAgICAgaWYgKCFpc0ZpcnN0RW50ZXIgfHwgX3RoaXMubW9uaXRvci5pc0RyYWdnaW5nKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGF0YVRyYW5zZmVyID0gZS5kYXRhVHJhbnNmZXI7XG4gICAgICAgICAgICB2YXIgbmF0aXZlVHlwZSA9IE5hdGl2ZURyYWdTb3VyY2VzXzEubWF0Y2hOYXRpdmVJdGVtVHlwZShkYXRhVHJhbnNmZXIpO1xuICAgICAgICAgICAgaWYgKG5hdGl2ZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBBIG5hdGl2ZSBpdGVtIChzdWNoIGFzIGZpbGUgb3IgVVJMKSBkcmFnZ2VkIGZyb20gb3V0c2lkZSB0aGUgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICBfdGhpcy5iZWdpbkRyYWdOYXRpdmVJdGVtKG5hdGl2ZVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVRvcERyYWdFbnRlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgZHJhZ0VudGVyVGFyZ2V0SWRzID0gX3RoaXMuZHJhZ0VudGVyVGFyZ2V0SWRzO1xuICAgICAgICAgICAgX3RoaXMuZHJhZ0VudGVyVGFyZ2V0SWRzID0gW107XG4gICAgICAgICAgICBpZiAoIV90aGlzLm1vbml0b3IuaXNEcmFnZ2luZygpKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBwcm9iYWJseSBhIG5hdGl2ZSBpdGVtIHR5cGUgd2UgZG9uJ3QgdW5kZXJzdGFuZC5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5hbHRLZXlQcmVzc2VkID0gZS5hbHRLZXk7XG4gICAgICAgICAgICBpZiAoIUJyb3dzZXJEZXRlY3Rvcl8xLmlzRmlyZWZveCgpKSB7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgZW1pdCBob3ZlciBpbiBgZHJhZ2VudGVyYCBvbiBGaXJlZm94IGR1ZSB0byBhbiBlZGdlIGNhc2UuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRhcmdldCBjaGFuZ2VzIHBvc2l0aW9uIGFzIHRoZSByZXN1bHQgb2YgYGRyYWdlbnRlcmAsIEZpcmVmb3hcbiAgICAgICAgICAgICAgICAvLyB3aWxsIHN0aWxsIGhhcHBpbHkgZGlzcGF0Y2ggYGRyYWdvdmVyYCBkZXNwaXRlIHRhcmdldCBiZWluZyBubyBsb25nZXJcbiAgICAgICAgICAgICAgICAvLyB0aGVyZS4gVGhlIGVhc3kgc29sdXRpb24gaXMgdG8gb25seSBmaXJlIGBob3ZlcmAgaW4gYGRyYWdvdmVyYCBvbiBGRi5cbiAgICAgICAgICAgICAgICBfdGhpcy5hY3Rpb25zLmhvdmVyKGRyYWdFbnRlclRhcmdldElkcywge1xuICAgICAgICAgICAgICAgICAgICBjbGllbnRPZmZzZXQ6IE9mZnNldFV0aWxzXzEuZ2V0RXZlbnRDbGllbnRPZmZzZXQoZSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2FuRHJvcCA9IGRyYWdFbnRlclRhcmdldElkcy5zb21lKGZ1bmN0aW9uICh0YXJnZXRJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5tb25pdG9yLmNhbkRyb3BPblRhcmdldCh0YXJnZXRJZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYW5Ecm9wKSB7XG4gICAgICAgICAgICAgICAgLy8gSUUgcmVxdWlyZXMgdGhpcyB0byBmaXJlIGRyYWdvdmVyIGV2ZW50c1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZS5kYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9IF90aGlzLmdldEN1cnJlbnREcm9wRWZmZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVRvcERyYWdPdmVyQ2FwdHVyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmRyYWdPdmVyVGFyZ2V0SWRzID0gW107XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlVG9wRHJhZ092ZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIGRyYWdPdmVyVGFyZ2V0SWRzID0gX3RoaXMuZHJhZ092ZXJUYXJnZXRJZHM7XG4gICAgICAgICAgICBfdGhpcy5kcmFnT3ZlclRhcmdldElkcyA9IFtdO1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5tb25pdG9yLmlzRHJhZ2dpbmcoKSkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgcHJvYmFibHkgYSBuYXRpdmUgaXRlbSB0eXBlIHdlIGRvbid0IHVuZGVyc3RhbmQuXG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBkZWZhdWx0IFwiZHJvcCBhbmQgYmxvdyBhd2F5IHRoZSB3aG9sZSBkb2N1bWVudFwiIGFjdGlvbi5cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGUuZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmFsdEtleVByZXNzZWQgPSBlLmFsdEtleTtcbiAgICAgICAgICAgIF90aGlzLmFjdGlvbnMuaG92ZXIoZHJhZ092ZXJUYXJnZXRJZHMgfHwgW10sIHtcbiAgICAgICAgICAgICAgICBjbGllbnRPZmZzZXQ6IE9mZnNldFV0aWxzXzEuZ2V0RXZlbnRDbGllbnRPZmZzZXQoZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBjYW5Ecm9wID0gKGRyYWdPdmVyVGFyZ2V0SWRzIHx8IFtdKS5zb21lKGZ1bmN0aW9uICh0YXJnZXRJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5tb25pdG9yLmNhbkRyb3BPblRhcmdldCh0YXJnZXRJZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYW5Ecm9wKSB7XG4gICAgICAgICAgICAgICAgLy8gU2hvdyB1c2VyLXNwZWNpZmllZCBkcm9wIGVmZmVjdC5cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGUuZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSBfdGhpcy5nZXRDdXJyZW50RHJvcEVmZmVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKF90aGlzLmlzRHJhZ2dpbmdOYXRpdmVJdGVtKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBzaG93IGEgbmljZSBjdXJzb3IgYnV0IHN0aWxsIHByZXZlbnQgZGVmYXVsdFxuICAgICAgICAgICAgICAgIC8vIFwiZHJvcCBhbmQgYmxvdyBhd2F5IHRoZSB3aG9sZSBkb2N1bWVudFwiIGFjdGlvbi5cbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGUuZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVRvcERyYWdMZWF2ZUNhcHR1cmUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzRHJhZ2dpbmdOYXRpdmVJdGVtKCkpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaXNMYXN0TGVhdmUgPSBfdGhpcy5lbnRlckxlYXZlQ291bnRlci5sZWF2ZShlLnRhcmdldCk7XG4gICAgICAgICAgICBpZiAoIWlzTGFzdExlYXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmlzRHJhZ2dpbmdOYXRpdmVJdGVtKCkpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbmREcmFnTmF0aXZlSXRlbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVRvcERyb3BDYXB0dXJlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIF90aGlzLmRyb3BUYXJnZXRJZHMgPSBbXTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGlmIChfdGhpcy5pc0RyYWdnaW5nTmF0aXZlSXRlbSgpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudE5hdGl2ZVNvdXJjZS5tdXRhdGVJdGVtQnlSZWFkaW5nRGF0YVRyYW5zZmVyKGUuZGF0YVRyYW5zZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLmVudGVyTGVhdmVDb3VudGVyLnJlc2V0KCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaGFuZGxlVG9wRHJvcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgZHJvcFRhcmdldElkcyA9IF90aGlzLmRyb3BUYXJnZXRJZHM7XG4gICAgICAgICAgICBfdGhpcy5kcm9wVGFyZ2V0SWRzID0gW107XG4gICAgICAgICAgICBfdGhpcy5hY3Rpb25zLmhvdmVyKGRyb3BUYXJnZXRJZHMsIHtcbiAgICAgICAgICAgICAgICBjbGllbnRPZmZzZXQ6IE9mZnNldFV0aWxzXzEuZ2V0RXZlbnRDbGllbnRPZmZzZXQoZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLmFjdGlvbnMuZHJvcCh7IGRyb3BFZmZlY3Q6IF90aGlzLmdldEN1cnJlbnREcm9wRWZmZWN0KCkgfSk7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaXNEcmFnZ2luZ05hdGl2ZUl0ZW0oKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmVuZERyYWdOYXRpdmVJdGVtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5lbmREcmFnSWZTb3VyY2VXYXNSZW1vdmVkRnJvbURPTSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhhbmRsZVNlbGVjdFN0YXJ0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIC8vIE9ubHkgSUUgcmVxdWlyZXMgdXMgdG8gZXhwbGljaXRseSBzYXlcbiAgICAgICAgICAgIC8vIHdlIHdhbnQgZHJhZyBkcm9wIG9wZXJhdGlvbiB0byBzdGFydFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQuZHJhZ0Ryb3AgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbnB1dHMgYW5kIHRleHRhcmVhcyBzaG91bGQgYmUgc2VsZWN0YWJsZVxuICAgICAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnSU5QVVQnIHx8XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnRhZ05hbWUgPT09ICdTRUxFQ1QnIHx8XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnRhZ05hbWUgPT09ICdURVhUQVJFQScgfHxcbiAgICAgICAgICAgICAgICB0YXJnZXQuaXNDb250ZW50RWRpdGFibGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3Igb3RoZXIgdGFyZ2V0cywgYXNrIElFXG4gICAgICAgICAgICAvLyB0byBlbmFibGUgZHJhZyBhbmQgZHJvcFxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGFyZ2V0LmRyYWdEcm9wKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWN0aW9ucyA9IG1hbmFnZXIuZ2V0QWN0aW9ucygpO1xuICAgICAgICB0aGlzLm1vbml0b3IgPSBtYW5hZ2VyLmdldE1vbml0b3IoKTtcbiAgICAgICAgdGhpcy5yZWdpc3RyeSA9IG1hbmFnZXIuZ2V0UmVnaXN0cnkoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbWFuYWdlci5nZXRDb250ZXh0KCk7XG4gICAgICAgIHRoaXMuZW50ZXJMZWF2ZUNvdW50ZXIgPSBuZXcgRW50ZXJMZWF2ZUNvdW50ZXJfMS5kZWZhdWx0KHRoaXMuaXNOb2RlSW5Eb2N1bWVudCk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIVE1MNUJhY2tlbmQucHJvdG90eXBlLCBcIndpbmRvd1wiLCB7XG4gICAgICAgIC8vIHB1YmxpYyBmb3IgdGVzdFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRleHQgJiYgdGhpcy5jb250ZXh0LndpbmRvdykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQud2luZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMud2luZG93ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy53aW5kb3cuX19pc1JlYWN0RG5kQmFja2VuZFNldFVwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBoYXZlIHR3byBIVE1MNSBiYWNrZW5kcyBhdCB0aGUgc2FtZSB0aW1lLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2luZG93Ll9faXNSZWFjdERuZEJhY2tlbmRTZXRVcCA9IHRydWU7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnModGhpcy53aW5kb3cpO1xuICAgIH07XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS50ZWFyZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMud2luZG93ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndpbmRvdy5fX2lzUmVhY3REbmRCYWNrZW5kU2V0VXAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLndpbmRvdyk7XG4gICAgICAgIHRoaXMuY2xlYXJDdXJyZW50RHJhZ1NvdXJjZU5vZGUoKTtcbiAgICAgICAgaWYgKHRoaXMuYXN5bmNFbmREcmFnRnJhbWVJZCkge1xuICAgICAgICAgICAgdGhpcy53aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hc3luY0VuZERyYWdGcmFtZUlkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS5jb25uZWN0RHJhZ1ByZXZpZXcgPSBmdW5jdGlvbiAoc291cmNlSWQsIG5vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zb3VyY2VQcmV2aWV3Tm9kZU9wdGlvbnMuc2V0KHNvdXJjZUlkLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5zb3VyY2VQcmV2aWV3Tm9kZXMuc2V0KHNvdXJjZUlkLCBub2RlKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNvdXJjZVByZXZpZXdOb2Rlcy5kZWxldGUoc291cmNlSWQpO1xuICAgICAgICAgICAgX3RoaXMuc291cmNlUHJldmlld05vZGVPcHRpb25zLmRlbGV0ZShzb3VyY2VJZCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLmNvbm5lY3REcmFnU291cmNlID0gZnVuY3Rpb24gKHNvdXJjZUlkLCBub2RlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc291cmNlTm9kZXMuc2V0KHNvdXJjZUlkLCBub2RlKTtcbiAgICAgICAgdGhpcy5zb3VyY2VOb2RlT3B0aW9ucy5zZXQoc291cmNlSWQsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgaGFuZGxlRHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIF90aGlzLmhhbmRsZURyYWdTdGFydChlLCBzb3VyY2VJZCk7IH07XG4gICAgICAgIHZhciBoYW5kbGVTZWxlY3RTdGFydCA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBfdGhpcy5oYW5kbGVTZWxlY3RTdGFydChlKTsgfTtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgaGFuZGxlRHJhZ1N0YXJ0KTtcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIGhhbmRsZVNlbGVjdFN0YXJ0KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnNvdXJjZU5vZGVzLmRlbGV0ZShzb3VyY2VJZCk7XG4gICAgICAgICAgICBfdGhpcy5zb3VyY2VOb2RlT3B0aW9ucy5kZWxldGUoc291cmNlSWQpO1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBoYW5kbGVEcmFnU3RhcnQpO1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIGhhbmRsZVNlbGVjdFN0YXJ0KTtcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAnZmFsc2UnKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEhUTUw1QmFja2VuZC5wcm90b3R5cGUuY29ubmVjdERyb3BUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0SWQsIG5vZGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGhhbmRsZURyYWdFbnRlciA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBfdGhpcy5oYW5kbGVEcmFnRW50ZXIoZSwgdGFyZ2V0SWQpOyB9O1xuICAgICAgICB2YXIgaGFuZGxlRHJhZ092ZXIgPSBmdW5jdGlvbiAoZSkgeyByZXR1cm4gX3RoaXMuaGFuZGxlRHJhZ092ZXIoZSwgdGFyZ2V0SWQpOyB9O1xuICAgICAgICB2YXIgaGFuZGxlRHJvcCA9IGZ1bmN0aW9uIChlKSB7IHJldHVybiBfdGhpcy5oYW5kbGVEcm9wKGUsIHRhcmdldElkKTsgfTtcbiAgICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBoYW5kbGVEcmFnRW50ZXIpO1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgaGFuZGxlRHJhZ092ZXIpO1xuICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVEcm9wKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgaGFuZGxlRHJhZ0VudGVyKTtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBoYW5kbGVEcmFnT3Zlcik7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBoYW5kbGVEcm9wKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEhUTUw1QmFja2VuZC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIC8vIFNTUiBGaXggKGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1kbmQvcmVhY3QtZG5kL3B1bGwvODEzXG4gICAgICAgIGlmICghdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgdGhpc1xuICAgICAgICAgICAgLmhhbmRsZVRvcERyYWdTdGFydCk7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmhhbmRsZVRvcERyYWdTdGFydENhcHR1cmUsIHRydWUpO1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIHRoaXMuaGFuZGxlVG9wRHJhZ0VuZENhcHR1cmUsIHRydWUpO1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgdGhpc1xuICAgICAgICAgICAgLmhhbmRsZVRvcERyYWdFbnRlcik7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCB0aGlzLmhhbmRsZVRvcERyYWdFbnRlckNhcHR1cmUsIHRydWUpO1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgdGhpcy5oYW5kbGVUb3BEcmFnTGVhdmVDYXB0dXJlLCB0cnVlKTtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5oYW5kbGVUb3BEcmFnT3Zlcik7XG4gICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIHRoaXMuaGFuZGxlVG9wRHJhZ092ZXJDYXB0dXJlLCB0cnVlKTtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCB0aGlzLmhhbmRsZVRvcERyb3ApO1xuICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuaGFuZGxlVG9wRHJvcENhcHR1cmUsIHRydWUpO1xuICAgIH07XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgLy8gU1NSIEZpeCAoaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWRuZC9yZWFjdC1kbmQvcHVsbC84MTNcbiAgICAgICAgaWYgKCF0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmhhbmRsZVRvcERyYWdTdGFydCk7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmhhbmRsZVRvcERyYWdTdGFydENhcHR1cmUsIHRydWUpO1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIHRoaXMuaGFuZGxlVG9wRHJhZ0VuZENhcHR1cmUsIHRydWUpO1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgdGhpc1xuICAgICAgICAgICAgLmhhbmRsZVRvcERyYWdFbnRlcik7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCB0aGlzLmhhbmRsZVRvcERyYWdFbnRlckNhcHR1cmUsIHRydWUpO1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgdGhpcy5oYW5kbGVUb3BEcmFnTGVhdmVDYXB0dXJlLCB0cnVlKTtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpc1xuICAgICAgICAgICAgLmhhbmRsZVRvcERyYWdPdmVyKTtcbiAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5oYW5kbGVUb3BEcmFnT3ZlckNhcHR1cmUsIHRydWUpO1xuICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMuaGFuZGxlVG9wRHJvcCk7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5oYW5kbGVUb3BEcm9wQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLmdldEN1cnJlbnRTb3VyY2VOb2RlT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNvdXJjZUlkID0gdGhpcy5tb25pdG9yLmdldFNvdXJjZUlkKCk7XG4gICAgICAgIHZhciBzb3VyY2VOb2RlT3B0aW9ucyA9IHRoaXMuc291cmNlTm9kZU9wdGlvbnMuZ2V0KHNvdXJjZUlkKTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKHsgZHJvcEVmZmVjdDogdGhpcy5hbHRLZXlQcmVzc2VkID8gJ2NvcHknIDogJ21vdmUnIH0sIChzb3VyY2VOb2RlT3B0aW9ucyB8fCB7fSkpO1xuICAgIH07XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS5nZXRDdXJyZW50RHJvcEVmZmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZ05hdGl2ZUl0ZW0oKSkge1xuICAgICAgICAgICAgLy8gSXQgbWFrZXMgbW9yZSBzZW5zZSB0byBkZWZhdWx0IHRvICdjb3B5JyBmb3IgbmF0aXZlIHJlc291cmNlc1xuICAgICAgICAgICAgcmV0dXJuICdjb3B5JztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50U291cmNlTm9kZU9wdGlvbnMoKS5kcm9wRWZmZWN0O1xuICAgIH07XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS5nZXRDdXJyZW50U291cmNlUHJldmlld05vZGVPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlSWQgPSB0aGlzLm1vbml0b3IuZ2V0U291cmNlSWQoKTtcbiAgICAgICAgdmFyIHNvdXJjZVByZXZpZXdOb2RlT3B0aW9ucyA9IHRoaXMuc291cmNlUHJldmlld05vZGVPcHRpb25zLmdldChzb3VyY2VJZCk7XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbih7IGFuY2hvclg6IDAuNSwgYW5jaG9yWTogMC41LCBjYXB0dXJlRHJhZ2dpbmdTdGF0ZTogZmFsc2UgfSwgKHNvdXJjZVByZXZpZXdOb2RlT3B0aW9ucyB8fCB7fSkpO1xuICAgIH07XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS5pc0RyYWdnaW5nTmF0aXZlSXRlbSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZW1UeXBlID0gdGhpcy5tb25pdG9yLmdldEl0ZW1UeXBlKCk7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhOYXRpdmVUeXBlcykuc29tZShmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBOYXRpdmVUeXBlc1trZXldID09PSBpdGVtVHlwZTsgfSk7XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLmJlZ2luRHJhZ05hdGl2ZUl0ZW0gPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICB0aGlzLmNsZWFyQ3VycmVudERyYWdTb3VyY2VOb2RlKCk7XG4gICAgICAgIHRoaXMuY3VycmVudE5hdGl2ZVNvdXJjZSA9IE5hdGl2ZURyYWdTb3VyY2VzXzEuY3JlYXRlTmF0aXZlRHJhZ1NvdXJjZSh0eXBlKTtcbiAgICAgICAgdGhpcy5jdXJyZW50TmF0aXZlSGFuZGxlID0gdGhpcy5yZWdpc3RyeS5hZGRTb3VyY2UodHlwZSwgdGhpcy5jdXJyZW50TmF0aXZlU291cmNlKTtcbiAgICAgICAgdGhpcy5hY3Rpb25zLmJlZ2luRHJhZyhbdGhpcy5jdXJyZW50TmF0aXZlSGFuZGxlXSk7XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLnNldEN1cnJlbnREcmFnU291cmNlTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY2xlYXJDdXJyZW50RHJhZ1NvdXJjZU5vZGUoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50RHJhZ1NvdXJjZU5vZGUgPSBub2RlO1xuICAgICAgICAvLyBBIHRpbWVvdXQgb2YgPiAwIGlzIG5lY2Vzc2FyeSB0byByZXNvbHZlIEZpcmVmb3ggaXNzdWUgcmVmZXJlbmNlZFxuICAgICAgICAvLyBTZWU6XG4gICAgICAgIC8vICAgKiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtZG5kL3JlYWN0LWRuZC9wdWxsLzkyOFxuICAgICAgICAvLyAgICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWRuZC9yZWFjdC1kbmQvaXNzdWVzLzg2OVxuICAgICAgICB2YXIgTU9VU0VfTU9WRV9USU1FT1VUID0gMTAwMDtcbiAgICAgICAgLy8gUmVjZWl2aW5nIGEgbW91c2UgZXZlbnQgaW4gdGhlIG1pZGRsZSBvZiBhIGRyYWdnaW5nIG9wZXJhdGlvblxuICAgICAgICAvLyBtZWFucyBpdCBoYXMgZW5kZWQgYW5kIHRoZSBkcmFnIHNvdXJjZSBub2RlIGRpc2FwcGVhcmVkIGZyb20gRE9NLFxuICAgICAgICAvLyBzbyB0aGUgYnJvd3NlciBkaWRuJ3QgZGlzcGF0Y2ggdGhlIGRyYWdlbmQgZXZlbnQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gd2FpdCBiZWZvcmUgd2Ugc3RhcnQgbGlzdGVuaW5nIGZvciBtb3VzZW1vdmUgZXZlbnRzLlxuICAgICAgICAvLyBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBkcmFnIHByZXZpZXcgbmVlZHMgdG8gYmUgZHJhd24gb3IgZWxzZSBpdCBmaXJlcyBhbiAnbW91c2Vtb3ZlJyBldmVudFxuICAgICAgICAvLyBpbW1lZGlhdGVseSBpbiBzb21lIGJyb3dzZXJzLlxuICAgICAgICAvL1xuICAgICAgICAvLyBTZWU6XG4gICAgICAgIC8vICAgKiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3QtZG5kL3JlYWN0LWRuZC9wdWxsLzkyOFxuICAgICAgICAvLyAgICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWRuZC9yZWFjdC1kbmQvaXNzdWVzLzg2OVxuICAgICAgICAvL1xuICAgICAgICB0aGlzLm1vdXNlTW92ZVRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIChfdGhpcy53aW5kb3cgJiZcbiAgICAgICAgICAgICAgICBfdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgX3RoaXMuZW5kRHJhZ0lmU291cmNlV2FzUmVtb3ZlZEZyb21ET00sIHRydWUpKTtcbiAgICAgICAgfSwgTU9VU0VfTU9WRV9USU1FT1VUKTtcbiAgICB9O1xuICAgIEhUTUw1QmFja2VuZC5wcm90b3R5cGUuY2xlYXJDdXJyZW50RHJhZ1NvdXJjZU5vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnREcmFnU291cmNlTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RHJhZ1NvdXJjZU5vZGUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRoaXMud2luZG93KSB7XG4gICAgICAgICAgICAgICAgdGhpcy53aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMubW91c2VNb3ZlVGltZW91dFRpbWVyIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgdGhpcy53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5lbmREcmFnSWZTb3VyY2VXYXNSZW1vdmVkRnJvbURPTSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1vdXNlTW92ZVRpbWVvdXRUaW1lciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLmhhbmRsZURyYWdTdGFydCA9IGZ1bmN0aW9uIChlLCBzb3VyY2VJZCkge1xuICAgICAgICBpZiAoIXRoaXMuZHJhZ1N0YXJ0U291cmNlSWRzKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdTdGFydFNvdXJjZUlkcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhZ1N0YXJ0U291cmNlSWRzLnVuc2hpZnQoc291cmNlSWQpO1xuICAgIH07XG4gICAgSFRNTDVCYWNrZW5kLnByb3RvdHlwZS5oYW5kbGVEcmFnRW50ZXIgPSBmdW5jdGlvbiAoZSwgdGFyZ2V0SWQpIHtcbiAgICAgICAgdGhpcy5kcmFnRW50ZXJUYXJnZXRJZHMudW5zaGlmdCh0YXJnZXRJZCk7XG4gICAgfTtcbiAgICBIVE1MNUJhY2tlbmQucHJvdG90eXBlLmhhbmRsZURyYWdPdmVyID0gZnVuY3Rpb24gKGUsIHRhcmdldElkKSB7XG4gICAgICAgIGlmICh0aGlzLmRyYWdPdmVyVGFyZ2V0SWRzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdPdmVyVGFyZ2V0SWRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmFnT3ZlclRhcmdldElkcy51bnNoaWZ0KHRhcmdldElkKTtcbiAgICB9O1xuICAgIEhUTUw1QmFja2VuZC5wcm90b3R5cGUuaGFuZGxlRHJvcCA9IGZ1bmN0aW9uIChlLCB0YXJnZXRJZCkge1xuICAgICAgICB0aGlzLmRyb3BUYXJnZXRJZHMudW5zaGlmdCh0YXJnZXRJZCk7XG4gICAgfTtcbiAgICByZXR1cm4gSFRNTDVCYWNrZW5kO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEhUTUw1QmFja2VuZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE1vbm90b25pY0ludGVycG9sYW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1vbm90b25pY0ludGVycG9sYW50KHhzLCB5cykge1xuICAgICAgICB2YXIgbGVuZ3RoID0geHMubGVuZ3RoO1xuICAgICAgICAvLyBSZWFycmFuZ2UgeHMgYW5kIHlzIHNvIHRoYXQgeHMgaXMgc29ydGVkXG4gICAgICAgIHZhciBpbmRleGVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuICh4c1thXSA8IHhzW2JdID8gLTEgOiAxKTsgfSk7XG4gICAgICAgIC8vIEdldCBjb25zZWN1dGl2ZSBkaWZmZXJlbmNlcyBhbmQgc2xvcGVzXG4gICAgICAgIHZhciBkeXMgPSBbXTtcbiAgICAgICAgdmFyIGR4cyA9IFtdO1xuICAgICAgICB2YXIgbXMgPSBbXTtcbiAgICAgICAgdmFyIGR4O1xuICAgICAgICB2YXIgZHk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBkeCA9IHhzW2kgKyAxXSAtIHhzW2ldO1xuICAgICAgICAgICAgZHkgPSB5c1tpICsgMV0gLSB5c1tpXTtcbiAgICAgICAgICAgIGR4cy5wdXNoKGR4KTtcbiAgICAgICAgICAgIGR5cy5wdXNoKGR5KTtcbiAgICAgICAgICAgIG1zLnB1c2goZHkgLyBkeCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IGRlZ3JlZS0xIGNvZWZmaWNpZW50c1xuICAgICAgICB2YXIgYzFzID0gW21zWzBdXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkeHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbTIgPSBtc1tpXTtcbiAgICAgICAgICAgIHZhciBtTmV4dCA9IG1zW2kgKyAxXTtcbiAgICAgICAgICAgIGlmIChtMiAqIG1OZXh0IDw9IDApIHtcbiAgICAgICAgICAgICAgICBjMXMucHVzaCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGR4ID0gZHhzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkeE5leHQgPSBkeHNbaSArIDFdO1xuICAgICAgICAgICAgICAgIHZhciBjb21tb24gPSBkeCArIGR4TmV4dDtcbiAgICAgICAgICAgICAgICBjMXMucHVzaCgzICogY29tbW9uIC8gKChjb21tb24gKyBkeE5leHQpIC8gbTIgKyAoY29tbW9uICsgZHgpIC8gbU5leHQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjMXMucHVzaChtc1ttcy5sZW5ndGggLSAxXSk7XG4gICAgICAgIC8vIEdldCBkZWdyZWUtMiBhbmQgZGVncmVlLTMgY29lZmZpY2llbnRzXG4gICAgICAgIHZhciBjMnMgPSBbXTtcbiAgICAgICAgdmFyIGMzcyA9IFtdO1xuICAgICAgICB2YXIgbTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjMXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBtID0gbXNbaV07XG4gICAgICAgICAgICB2YXIgYzEgPSBjMXNbaV07XG4gICAgICAgICAgICB2YXIgaW52RHggPSAxIC8gZHhzW2ldO1xuICAgICAgICAgICAgdmFyIGNvbW1vbiA9IGMxICsgYzFzW2kgKyAxXSAtIG0gLSBtO1xuICAgICAgICAgICAgYzJzLnB1c2goKG0gLSBjMSAtIGNvbW1vbikgKiBpbnZEeCk7XG4gICAgICAgICAgICBjM3MucHVzaChjb21tb24gKiBpbnZEeCAqIGludkR4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnhzID0geHM7XG4gICAgICAgIHRoaXMueXMgPSB5cztcbiAgICAgICAgdGhpcy5jMXMgPSBjMXM7XG4gICAgICAgIHRoaXMuYzJzID0gYzJzO1xuICAgICAgICB0aGlzLmMzcyA9IGMzcztcbiAgICB9XG4gICAgTW9ub3RvbmljSW50ZXJwb2xhbnQucHJvdG90eXBlLmludGVycG9sYXRlID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgeHMgPSBfYS54cywgeXMgPSBfYS55cywgYzFzID0gX2EuYzFzLCBjMnMgPSBfYS5jMnMsIGMzcyA9IF9hLmMzcztcbiAgICAgICAgLy8gVGhlIHJpZ2h0bW9zdCBwb2ludCBpbiB0aGUgZGF0YXNldCBzaG91bGQgZ2l2ZSBhbiBleGFjdCByZXN1bHRcbiAgICAgICAgdmFyIGkgPSB4cy5sZW5ndGggLSAxO1xuICAgICAgICBpZiAoeCA9PT0geHNbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiB5c1tpXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZWFyY2ggZm9yIHRoZSBpbnRlcnZhbCB4IGlzIGluLCByZXR1cm5pbmcgdGhlIGNvcnJlc3BvbmRpbmcgeSBpZiB4IGlzIG9uZSBvZiB0aGUgb3JpZ2luYWwgeHNcbiAgICAgICAgdmFyIGxvdyA9IDA7XG4gICAgICAgIHZhciBoaWdoID0gYzNzLmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciBtaWQ7XG4gICAgICAgIHdoaWxlIChsb3cgPD0gaGlnaCkge1xuICAgICAgICAgICAgbWlkID0gTWF0aC5mbG9vcigwLjUgKiAobG93ICsgaGlnaCkpO1xuICAgICAgICAgICAgdmFyIHhIZXJlID0geHNbbWlkXTtcbiAgICAgICAgICAgIGlmICh4SGVyZSA8IHgpIHtcbiAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeEhlcmUgPiB4KSB7XG4gICAgICAgICAgICAgICAgaGlnaCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geXNbbWlkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpID0gTWF0aC5tYXgoMCwgaGlnaCk7XG4gICAgICAgIC8vIEludGVycG9sYXRlXG4gICAgICAgIHZhciBkaWZmID0geCAtIHhzW2ldO1xuICAgICAgICB2YXIgZGlmZlNxID0gZGlmZiAqIGRpZmY7XG4gICAgICAgIHJldHVybiB5c1tpXSArIGMxc1tpXSAqIGRpZmYgKyBjMnNbaV0gKiBkaWZmU3EgKyBjM3NbaV0gKiBkaWZmICogZGlmZlNxO1xuICAgIH07XG4gICAgcmV0dXJuIE1vbm90b25pY0ludGVycG9sYW50O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1vbm90b25pY0ludGVycG9sYW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTmF0aXZlRHJhZ1NvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOYXRpdmVEcmFnU291cmNlKGNvbmZpZykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5pdGVtID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuY29uZmlnLmV4cG9zZVByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3RoaXMuaXRlbSwgcHJvcGVydHksIHtcbiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQnJvd3NlciBkb2Vzbid0IGFsbG93IHJlYWRpbmcgXFxcIlwiICsgcHJvcGVydHkgKyBcIlxcXCIgdW50aWwgdGhlIGRyb3AgZXZlbnQuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBOYXRpdmVEcmFnU291cmNlLnByb3RvdHlwZS5tdXRhdGVJdGVtQnlSZWFkaW5nRGF0YVRyYW5zZmVyID0gZnVuY3Rpb24gKGRhdGFUcmFuc2Zlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbmV3UHJvcGVydGllcyA9IHt9O1xuICAgICAgICBpZiAoZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmNvbmZpZy5leHBvc2VQcm9wZXJ0aWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIG5ld1Byb3BlcnRpZXNbcHJvcGVydHldID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3RoaXMuY29uZmlnLmV4cG9zZVByb3BlcnRpZXNbcHJvcGVydHldKGRhdGFUcmFuc2ZlciwgX3RoaXMuY29uZmlnLm1hdGNoZXNUeXBlcyksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMuaXRlbSwgbmV3UHJvcGVydGllcyk7XG4gICAgfTtcbiAgICBOYXRpdmVEcmFnU291cmNlLnByb3RvdHlwZS5jYW5EcmFnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIE5hdGl2ZURyYWdTb3VyY2UucHJvdG90eXBlLmJlZ2luRHJhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbTtcbiAgICB9O1xuICAgIE5hdGl2ZURyYWdTb3VyY2UucHJvdG90eXBlLmlzRHJhZ2dpbmcgPSBmdW5jdGlvbiAobW9uaXRvciwgaGFuZGxlKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGUgPT09IG1vbml0b3IuZ2V0U291cmNlSWQoKTtcbiAgICB9O1xuICAgIE5hdGl2ZURyYWdTb3VyY2UucHJvdG90eXBlLmVuZERyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGVtcHR5XG4gICAgfTtcbiAgICByZXR1cm4gTmF0aXZlRHJhZ1NvdXJjZTtcbn0oKSk7XG5leHBvcnRzLk5hdGl2ZURyYWdTb3VyY2UgPSBOYXRpdmVEcmFnU291cmNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBnZXREYXRhRnJvbURhdGFUcmFuc2ZlcihkYXRhVHJhbnNmZXIsIHR5cGVzVG9UcnksIGRlZmF1bHRWYWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSB0eXBlc1RvVHJ5LnJlZHVjZShmdW5jdGlvbiAocmVzdWx0U29GYXIsIHR5cGVUb1RyeSkgeyByZXR1cm4gcmVzdWx0U29GYXIgfHwgZGF0YVRyYW5zZmVyLmdldERhdGEodHlwZVRvVHJ5KTsgfSwgJycpO1xuICAgIHJldHVybiByZXN1bHQgIT0gbnVsbCA/IHJlc3VsdCA6IGRlZmF1bHRWYWx1ZTtcbn1cbmV4cG9ydHMuZ2V0RGF0YUZyb21EYXRhVHJhbnNmZXIgPSBnZXREYXRhRnJvbURhdGFUcmFuc2ZlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG5hdGl2ZVR5cGVzQ29uZmlnXzEgPSByZXF1aXJlKFwiLi9uYXRpdmVUeXBlc0NvbmZpZ1wiKTtcbnZhciBOYXRpdmVEcmFnU291cmNlXzEgPSByZXF1aXJlKFwiLi9OYXRpdmVEcmFnU291cmNlXCIpO1xuZnVuY3Rpb24gY3JlYXRlTmF0aXZlRHJhZ1NvdXJjZSh0eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBOYXRpdmVEcmFnU291cmNlXzEuTmF0aXZlRHJhZ1NvdXJjZShuYXRpdmVUeXBlc0NvbmZpZ18xLm5hdGl2ZVR5cGVzQ29uZmlnW3R5cGVdKTtcbn1cbmV4cG9ydHMuY3JlYXRlTmF0aXZlRHJhZ1NvdXJjZSA9IGNyZWF0ZU5hdGl2ZURyYWdTb3VyY2U7XG5mdW5jdGlvbiBtYXRjaE5hdGl2ZUl0ZW1UeXBlKGRhdGFUcmFuc2Zlcikge1xuICAgIGlmICghZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgZGF0YVRyYW5zZmVyVHlwZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkYXRhVHJhbnNmZXIudHlwZXMgfHwgW10pO1xuICAgIHJldHVybiAoT2JqZWN0LmtleXMobmF0aXZlVHlwZXNDb25maWdfMS5uYXRpdmVUeXBlc0NvbmZpZykuZmlsdGVyKGZ1bmN0aW9uIChuYXRpdmVJdGVtVHlwZSkge1xuICAgICAgICB2YXIgbWF0Y2hlc1R5cGVzID0gbmF0aXZlVHlwZXNDb25maWdfMS5uYXRpdmVUeXBlc0NvbmZpZ1tuYXRpdmVJdGVtVHlwZV0ubWF0Y2hlc1R5cGVzO1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1R5cGVzLnNvbWUoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIGRhdGFUcmFuc2ZlclR5cGVzLmluZGV4T2YodCkgPiAtMTsgfSk7XG4gICAgfSlbMF0gfHwgbnVsbCk7XG59XG5leHBvcnRzLm1hdGNoTmF0aXZlSXRlbVR5cGUgPSBtYXRjaE5hdGl2ZUl0ZW1UeXBlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX2E7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTmF0aXZlVHlwZXMgPSByZXF1aXJlKFwiLi4vTmF0aXZlVHlwZXNcIik7XG52YXIgZ2V0RGF0YUZyb21EYXRhVHJhbnNmZXJfMSA9IHJlcXVpcmUoXCIuL2dldERhdGFGcm9tRGF0YVRyYW5zZmVyXCIpO1xuZXhwb3J0cy5uYXRpdmVUeXBlc0NvbmZpZyA9IChfYSA9IHt9LFxuICAgIF9hW05hdGl2ZVR5cGVzLkZJTEVdID0ge1xuICAgICAgICBleHBvc2VQcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICBmaWxlczogZnVuY3Rpb24gKGRhdGFUcmFuc2Zlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkYXRhVHJhbnNmZXIuZmlsZXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGl0ZW1zOiBmdW5jdGlvbiAoZGF0YVRyYW5zZmVyKSB7IHJldHVybiBkYXRhVHJhbnNmZXIuaXRlbXM7IH0sXG4gICAgICAgIH0sXG4gICAgICAgIG1hdGNoZXNUeXBlczogWydGaWxlcyddLFxuICAgIH0sXG4gICAgX2FbTmF0aXZlVHlwZXMuVVJMXSA9IHtcbiAgICAgICAgZXhwb3NlUHJvcGVydGllczoge1xuICAgICAgICAgICAgdXJsczogZnVuY3Rpb24gKGRhdGFUcmFuc2ZlciwgbWF0Y2hlc1R5cGVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldERhdGFGcm9tRGF0YVRyYW5zZmVyXzEuZ2V0RGF0YUZyb21EYXRhVHJhbnNmZXIoZGF0YVRyYW5zZmVyLCBtYXRjaGVzVHlwZXMsICcnKS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBtYXRjaGVzVHlwZXM6IFsnVXJsJywgJ3RleHQvdXJpLWxpc3QnXSxcbiAgICB9LFxuICAgIF9hW05hdGl2ZVR5cGVzLlRFWFRdID0ge1xuICAgICAgICBleHBvc2VQcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICB0ZXh0OiBmdW5jdGlvbiAoZGF0YVRyYW5zZmVyLCBtYXRjaGVzVHlwZXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RGF0YUZyb21EYXRhVHJhbnNmZXJfMS5nZXREYXRhRnJvbURhdGFUcmFuc2ZlcihkYXRhVHJhbnNmZXIsIG1hdGNoZXNUeXBlcywgJycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgbWF0Y2hlc1R5cGVzOiBbJ1RleHQnLCAndGV4dC9wbGFpbiddLFxuICAgIH0sXG4gICAgX2EpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZJTEUgPSAnX19OQVRJVkVfRklMRV9fJztcbmV4cG9ydHMuVVJMID0gJ19fTkFUSVZFX1VSTF9fJztcbmV4cG9ydHMuVEVYVCA9ICdfX05BVElWRV9URVhUX18nO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQnJvd3NlckRldGVjdG9yXzEgPSByZXF1aXJlKFwiLi9Ccm93c2VyRGV0ZWN0b3JcIik7XG52YXIgTW9ub3RvbmljSW50ZXJwb2xhbnRfMSA9IHJlcXVpcmUoXCIuL01vbm90b25pY0ludGVycG9sYW50XCIpO1xudmFyIEVMRU1FTlRfTk9ERSA9IDE7XG5mdW5jdGlvbiBnZXROb2RlQ2xpZW50T2Zmc2V0KG5vZGUpIHtcbiAgICB2YXIgZWwgPSBub2RlLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUgPyBub2RlIDogbm9kZS5wYXJlbnRFbGVtZW50O1xuICAgIGlmICghZWwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBfYSA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0b3AgPSBfYS50b3AsIGxlZnQgPSBfYS5sZWZ0O1xuICAgIHJldHVybiB7IHg6IGxlZnQsIHk6IHRvcCB9O1xufVxuZXhwb3J0cy5nZXROb2RlQ2xpZW50T2Zmc2V0ID0gZ2V0Tm9kZUNsaWVudE9mZnNldDtcbmZ1bmN0aW9uIGdldEV2ZW50Q2xpZW50T2Zmc2V0KGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgIHk6IGUuY2xpZW50WSxcbiAgICB9O1xufVxuZXhwb3J0cy5nZXRFdmVudENsaWVudE9mZnNldCA9IGdldEV2ZW50Q2xpZW50T2Zmc2V0O1xuZnVuY3Rpb24gaXNJbWFnZU5vZGUobm9kZSkge1xuICAgIHJldHVybiAobm9kZS5ub2RlTmFtZSA9PT0gJ0lNRycgJiZcbiAgICAgICAgKEJyb3dzZXJEZXRlY3Rvcl8xLmlzRmlyZWZveCgpIHx8ICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY29udGFpbnMobm9kZSkpKTtcbn1cbmZ1bmN0aW9uIGdldERyYWdQcmV2aWV3U2l6ZShpc0ltYWdlLCBkcmFnUHJldmlldywgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCkge1xuICAgIHZhciBkcmFnUHJldmlld1dpZHRoID0gaXNJbWFnZSA/IGRyYWdQcmV2aWV3LndpZHRoIDogc291cmNlV2lkdGg7XG4gICAgdmFyIGRyYWdQcmV2aWV3SGVpZ2h0ID0gaXNJbWFnZSA/IGRyYWdQcmV2aWV3LmhlaWdodCA6IHNvdXJjZUhlaWdodDtcbiAgICAvLyBXb3JrIGFyb3VuZCBAMnggY29vcmRpbmF0ZSBkaXNjcmVwYW5jaWVzIGluIGJyb3dzZXJzXG4gICAgaWYgKEJyb3dzZXJEZXRlY3Rvcl8xLmlzU2FmYXJpKCkgJiYgaXNJbWFnZSkge1xuICAgICAgICBkcmFnUHJldmlld0hlaWdodCAvPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgZHJhZ1ByZXZpZXdXaWR0aCAvPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICB9XG4gICAgcmV0dXJuIHsgZHJhZ1ByZXZpZXdXaWR0aDogZHJhZ1ByZXZpZXdXaWR0aCwgZHJhZ1ByZXZpZXdIZWlnaHQ6IGRyYWdQcmV2aWV3SGVpZ2h0IH07XG59XG5mdW5jdGlvbiBnZXREcmFnUHJldmlld09mZnNldChzb3VyY2VOb2RlLCBkcmFnUHJldmlldywgY2xpZW50T2Zmc2V0LCBhbmNob3JQb2ludCwgb2Zmc2V0UG9pbnQpIHtcbiAgICAvLyBUaGUgYnJvd3NlcnMgd2lsbCB1c2UgdGhlIGltYWdlIGludHJpbnNpYyBzaXplIHVuZGVyIGRpZmZlcmVudCBjb25kaXRpb25zLlxuICAgIC8vIEZpcmVmb3ggb25seSBjYXJlcyBpZiBpdCdzIGFuIGltYWdlLCBidXQgV2ViS2l0IGFsc28gd2FudHMgaXQgdG8gYmUgZGV0YWNoZWQuXG4gICAgdmFyIGlzSW1hZ2UgPSBpc0ltYWdlTm9kZShkcmFnUHJldmlldyk7XG4gICAgdmFyIGRyYWdQcmV2aWV3Tm9kZSA9IGlzSW1hZ2UgPyBzb3VyY2VOb2RlIDogZHJhZ1ByZXZpZXc7XG4gICAgdmFyIGRyYWdQcmV2aWV3Tm9kZU9mZnNldEZyb21DbGllbnQgPSBnZXROb2RlQ2xpZW50T2Zmc2V0KGRyYWdQcmV2aWV3Tm9kZSk7XG4gICAgdmFyIG9mZnNldEZyb21EcmFnUHJldmlldyA9IHtcbiAgICAgICAgeDogY2xpZW50T2Zmc2V0LnggLSBkcmFnUHJldmlld05vZGVPZmZzZXRGcm9tQ2xpZW50LngsXG4gICAgICAgIHk6IGNsaWVudE9mZnNldC55IC0gZHJhZ1ByZXZpZXdOb2RlT2Zmc2V0RnJvbUNsaWVudC55LFxuICAgIH07XG4gICAgdmFyIHNvdXJjZVdpZHRoID0gc291cmNlTm9kZS5vZmZzZXRXaWR0aCwgc291cmNlSGVpZ2h0ID0gc291cmNlTm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgdmFyIGFuY2hvclggPSBhbmNob3JQb2ludC5hbmNob3JYLCBhbmNob3JZID0gYW5jaG9yUG9pbnQuYW5jaG9yWTtcbiAgICB2YXIgX2EgPSBnZXREcmFnUHJldmlld1NpemUoaXNJbWFnZSwgZHJhZ1ByZXZpZXcsIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQpLCBkcmFnUHJldmlld1dpZHRoID0gX2EuZHJhZ1ByZXZpZXdXaWR0aCwgZHJhZ1ByZXZpZXdIZWlnaHQgPSBfYS5kcmFnUHJldmlld0hlaWdodDtcbiAgICB2YXIgY2FsY3VsYXRlWU9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGludGVycG9sYW50WSA9IG5ldyBNb25vdG9uaWNJbnRlcnBvbGFudF8xLmRlZmF1bHQoWzAsIDAuNSwgMV0sIFtcbiAgICAgICAgICAgIC8vIERvY2sgdG8gdGhlIHRvcFxuICAgICAgICAgICAgb2Zmc2V0RnJvbURyYWdQcmV2aWV3LnksXG4gICAgICAgICAgICAvLyBBbGlnbiBhdCB0aGUgY2VudGVyXG4gICAgICAgICAgICAob2Zmc2V0RnJvbURyYWdQcmV2aWV3LnkgLyBzb3VyY2VIZWlnaHQpICogZHJhZ1ByZXZpZXdIZWlnaHQsXG4gICAgICAgICAgICAvLyBEb2NrIHRvIHRoZSBib3R0b21cbiAgICAgICAgICAgIG9mZnNldEZyb21EcmFnUHJldmlldy55ICsgZHJhZ1ByZXZpZXdIZWlnaHQgLSBzb3VyY2VIZWlnaHQsXG4gICAgICAgIF0pO1xuICAgICAgICB2YXIgeSA9IGludGVycG9sYW50WS5pbnRlcnBvbGF0ZShhbmNob3JZKTtcbiAgICAgICAgLy8gV29yayBhcm91bmQgU2FmYXJpIDggcG9zaXRpb25pbmcgYnVnXG4gICAgICAgIGlmIChCcm93c2VyRGV0ZWN0b3JfMS5pc1NhZmFyaSgpICYmIGlzSW1hZ2UpIHtcbiAgICAgICAgICAgIC8vIFdlJ2xsIGhhdmUgdG8gd2FpdCBmb3IgQDN4IHRvIHNlZSBpZiB0aGlzIGlzIGVudGlyZWx5IGNvcnJlY3RcbiAgICAgICAgICAgIHkgKz0gKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIC0gMSkgKiBkcmFnUHJldmlld0hlaWdodDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geTtcbiAgICB9O1xuICAgIHZhciBjYWxjdWxhdGVYT2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBJbnRlcnBvbGF0ZSBjb29yZGluYXRlcyBkZXBlbmRpbmcgb24gYW5jaG9yIHBvaW50XG4gICAgICAgIC8vIElmIHlvdSBrbm93IGEgc2ltcGxlciB3YXkgdG8gZG8gdGhpcywgbGV0IG1lIGtub3dcbiAgICAgICAgdmFyIGludGVycG9sYW50WCA9IG5ldyBNb25vdG9uaWNJbnRlcnBvbGFudF8xLmRlZmF1bHQoWzAsIDAuNSwgMV0sIFtcbiAgICAgICAgICAgIC8vIERvY2sgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgIG9mZnNldEZyb21EcmFnUHJldmlldy54LFxuICAgICAgICAgICAgLy8gQWxpZ24gYXQgdGhlIGNlbnRlclxuICAgICAgICAgICAgKG9mZnNldEZyb21EcmFnUHJldmlldy54IC8gc291cmNlV2lkdGgpICogZHJhZ1ByZXZpZXdXaWR0aCxcbiAgICAgICAgICAgIC8vIERvY2sgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICBvZmZzZXRGcm9tRHJhZ1ByZXZpZXcueCArIGRyYWdQcmV2aWV3V2lkdGggLSBzb3VyY2VXaWR0aCxcbiAgICAgICAgXSk7XG4gICAgICAgIHJldHVybiBpbnRlcnBvbGFudFguaW50ZXJwb2xhdGUoYW5jaG9yWCk7XG4gICAgfTtcbiAgICAvLyBGb3JjZSBvZmZzZXRzIGlmIHNwZWNpZmllZCBpbiB0aGUgb3B0aW9ucy5cbiAgICB2YXIgb2Zmc2V0WCA9IG9mZnNldFBvaW50Lm9mZnNldFgsIG9mZnNldFkgPSBvZmZzZXRQb2ludC5vZmZzZXRZO1xuICAgIHZhciBpc01hbnVhbE9mZnNldFggPSBvZmZzZXRYID09PSAwIHx8IG9mZnNldFg7XG4gICAgdmFyIGlzTWFudWFsT2Zmc2V0WSA9IG9mZnNldFkgPT09IDAgfHwgb2Zmc2V0WTtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBpc01hbnVhbE9mZnNldFggPyBvZmZzZXRYIDogY2FsY3VsYXRlWE9mZnNldCgpLFxuICAgICAgICB5OiBpc01hbnVhbE9mZnNldFkgPyBvZmZzZXRZIDogY2FsY3VsYXRlWU9mZnNldCgpLFxuICAgIH07XG59XG5leHBvcnRzLmdldERyYWdQcmV2aWV3T2Zmc2V0ID0gZ2V0RHJhZ1ByZXZpZXdPZmZzZXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBlbXB0eUltYWdlO1xuZnVuY3Rpb24gZ2V0RW1wdHlJbWFnZSgpIHtcbiAgICBpZiAoIWVtcHR5SW1hZ2UpIHtcbiAgICAgICAgZW1wdHlJbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBlbXB0eUltYWdlLnNyYyA9XG4gICAgICAgICAgICAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFBQUFBQ0g1QkFFS0FBRUFMQUFBQUFBQkFBRUFBQUlDVEFFQU93PT0nO1xuICAgIH1cbiAgICByZXR1cm4gZW1wdHlJbWFnZTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGdldEVtcHR5SW1hZ2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBIVE1MNUJhY2tlbmRfMSA9IHJlcXVpcmUoXCIuL0hUTUw1QmFja2VuZFwiKTtcbnZhciBnZXRFbXB0eUltYWdlXzEgPSByZXF1aXJlKFwiLi9nZXRFbXB0eUltYWdlXCIpO1xuZXhwb3J0cy5nZXRFbXB0eUltYWdlID0gZ2V0RW1wdHlJbWFnZV8xLmRlZmF1bHQ7XG52YXIgTmF0aXZlVHlwZXMgPSByZXF1aXJlKFwiLi9OYXRpdmVUeXBlc1wiKTtcbmV4cG9ydHMuTmF0aXZlVHlwZXMgPSBOYXRpdmVUeXBlcztcbmZ1bmN0aW9uIGNyZWF0ZUhUTUw1QmFja2VuZChtYW5hZ2VyKSB7XG4gICAgcmV0dXJuIG5ldyBIVE1MNUJhY2tlbmRfMS5kZWZhdWx0KG1hbmFnZXIpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gY3JlYXRlSFRNTDVCYWNrZW5kO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBtZW1vaXplKGZuKSB7XG4gICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgdmFyIG1lbW9pemVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocmVzdWx0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZuKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIHJldHVybiBtZW1vaXplZDtcbn1cbmV4cG9ydHMubWVtb2l6ZSA9IG1lbW9pemU7XG4vKipcbiAqIGRyb3AtaW4gcmVwbGFjZW1lbnQgZm9yIF8ud2l0aG91dFxuICovXG5mdW5jdGlvbiB3aXRob3V0KGl0ZW1zLCBpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaSkgeyByZXR1cm4gaSAhPT0gaXRlbTsgfSk7XG59XG5leHBvcnRzLndpdGhvdXQgPSB3aXRob3V0O1xuZnVuY3Rpb24gdW5pb24oaXRlbXNBLCBpdGVtc0IpIHtcbiAgICB2YXIgc2V0ID0gbmV3IFNldCgpO1xuICAgIHZhciBpbnNlcnRJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIHNldC5hZGQoaXRlbSk7IH07XG4gICAgaXRlbXNBLmZvckVhY2goaW5zZXJ0SXRlbSk7XG4gICAgaXRlbXNCLmZvckVhY2goaW5zZXJ0SXRlbSk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHJlc3VsdC5wdXNoKGtleSk7IH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLnVuaW9uID0gdW5pb247XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciBkbmRfY29yZV8xID0gcmVxdWlyZShcImRuZC1jb3JlXCIpO1xudmFyIGNoZWNrRGVjb3JhdG9yQXJndW1lbnRzXzEgPSByZXF1aXJlKFwiLi91dGlscy9jaGVja0RlY29yYXRvckFyZ3VtZW50c1wiKTtcbnZhciBpc1JlZmFibGVfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2lzUmVmYWJsZVwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbnZhciBob2lzdFN0YXRpY3MgPSByZXF1aXJlKCdob2lzdC1ub24tcmVhY3Qtc3RhdGljcycpO1xuLyoqXG4gKiBDcmVhdGUgdGhlIFJlYWN0IENvbnRleHRcbiAqL1xuZXhwb3J0cy5jb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7XG4gICAgZHJhZ0Ryb3BNYW5hZ2VyOiB1bmRlZmluZWQsXG59KTtcbmV4cG9ydHMuQ29uc3VtZXIgPSBleHBvcnRzLmNvbnRleHQuQ29uc3VtZXIsIGV4cG9ydHMuUHJvdmlkZXIgPSBleHBvcnRzLmNvbnRleHQuUHJvdmlkZXI7XG4vKipcbiAqIENyZWF0ZXMgdGhlIGNvbnRleHQgb2JqZWN0IHdlJ3JlIHByb3ZpZGluZ1xuICogQHBhcmFtIGJhY2tlbmRcbiAqIEBwYXJhbSBjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNoaWxkQ29udGV4dChiYWNrZW5kLCBjb250ZXh0LCBkZWJ1Z01vZGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBkcmFnRHJvcE1hbmFnZXI6IGRuZF9jb3JlXzEuY3JlYXRlRHJhZ0Ryb3BNYW5hZ2VyKGJhY2tlbmQsIGNvbnRleHQsIGRlYnVnTW9kZSksXG4gICAgfTtcbn1cbmV4cG9ydHMuY3JlYXRlQ2hpbGRDb250ZXh0ID0gY3JlYXRlQ2hpbGRDb250ZXh0O1xuLyoqXG4gKiBBIFJlYWN0IGNvbXBvbmVudCB0aGF0IHByb3ZpZGVzIHRoZSBSZWFjdC1EbkQgY29udGV4dFxuICovXG5leHBvcnRzLkRyYWdEcm9wQ29udGV4dFByb3ZpZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHByb3BzID0gX19yZXN0KF9hLCBbXCJjaGlsZHJlblwiXSk7XG4gICAgdmFyIGNvbnRleHRWYWx1ZSA9ICdtYW5hZ2VyJyBpbiBwcm9wc1xuICAgICAgICA/IHsgZHJhZ0Ryb3BNYW5hZ2VyOiBwcm9wcy5tYW5hZ2VyIH1cbiAgICAgICAgOiBjcmVhdGVDaGlsZENvbnRleHQocHJvcHMuYmFja2VuZCwgcHJvcHMuY29udGV4dCwgcHJvcHMuZGVidWdNb2RlKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChleHBvcnRzLlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0VmFsdWUgfSwgY2hpbGRyZW4pO1xufTtcbi8qKlxuICogV3JhcCB0aGUgcm9vdCBjb21wb25lbnQgb2YgeW91ciBhcHBsaWNhdGlvbiB3aXRoIERyYWdEcm9wQ29udGV4dCBkZWNvcmF0b3IgdG8gc2V0IHVwIFJlYWN0IERuRC5cbiAqIFRoaXMgbGV0cyB5b3Ugc3BlY2lmeSB0aGUgYmFja2VuZCwgYW5kIHNldHMgdXAgdGhlIHNoYXJlZCBEbkQgc3RhdGUgYmVoaW5kIHRoZSBzY2VuZXMuXG4gKiBAcGFyYW0gYmFja2VuZEZhY3RvcnkgVGhlIERuRCBiYWNrZW5kIGZhY3RvcnlcbiAqIEBwYXJhbSBiYWNrZW5kQ29udGV4dCBUaGUgYmFja2VuZCBjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIERyYWdEcm9wQ29udGV4dChiYWNrZW5kRmFjdG9yeSwgYmFja2VuZENvbnRleHQsIGRlYnVnTW9kZSkge1xuICAgIGNoZWNrRGVjb3JhdG9yQXJndW1lbnRzXzEuZGVmYXVsdCgnRHJhZ0Ryb3BDb250ZXh0JywgJ2JhY2tlbmQnLCBiYWNrZW5kRmFjdG9yeSk7XG4gICAgdmFyIGNoaWxkQ29udGV4dCA9IGNyZWF0ZUNoaWxkQ29udGV4dChiYWNrZW5kRmFjdG9yeSwgYmFja2VuZENvbnRleHQsIGRlYnVnTW9kZSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGRlY29yYXRlQ29udGV4dChEZWNvcmF0ZWRDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIERlY29yYXRlZCA9IERlY29yYXRlZENvbXBvbmVudDtcbiAgICAgICAgdmFyIGRpc3BsYXlOYW1lID0gRGVjb3JhdGVkLmRpc3BsYXlOYW1lIHx8IERlY29yYXRlZC5uYW1lIHx8ICdDb21wb25lbnQnO1xuICAgICAgICB2YXIgRHJhZ0Ryb3BDb250ZXh0Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICAgICAgX19leHRlbmRzKERyYWdEcm9wQ29udGV4dENvbnRhaW5lciwgX3N1cGVyKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIERyYWdEcm9wQ29udGV4dENvbnRhaW5lcigpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5nZXRNYW5hZ2VyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hpbGRDb250ZXh0LmRyYWdEcm9wTWFuYWdlcjsgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBEcmFnRHJvcENvbnRleHRDb250YWluZXIucHJvdG90eXBlLmdldERlY29yYXRlZENvbXBvbmVudEluc3RhbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGludmFyaWFudCh0aGlzLnJlZi5jdXJyZW50LCAnSW4gb3JkZXIgdG8gYWNjZXNzIGFuIGluc3RhbmNlIG9mIHRoZSBkZWNvcmF0ZWQgY29tcG9uZW50LCBpdCBtdXN0IGVpdGhlciBiZSBhIGNsYXNzIGNvbXBvbmVudCBvciB1c2UgUmVhY3QuZm9yd2FyZFJlZigpJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgRHJhZ0Ryb3BDb250ZXh0Q29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KGV4cG9ydHMuUHJvdmlkZXIsIHsgdmFsdWU6IGNoaWxkQ29udGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KERlY29yYXRlZCwgX19hc3NpZ24oe30sIHRoaXMucHJvcHMsIHsgcmVmOiBpc1JlZmFibGVfMS5pc1JlZmFibGUoRGVjb3JhdGVkKSA/IHRoaXMucmVmIDogbnVsbCB9KSkpKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBEcmFnRHJvcENvbnRleHRDb250YWluZXIuRGVjb3JhdGVkQ29tcG9uZW50ID0gRGVjb3JhdGVkQ29tcG9uZW50O1xuICAgICAgICAgICAgRHJhZ0Ryb3BDb250ZXh0Q29udGFpbmVyLmRpc3BsYXlOYW1lID0gXCJEcmFnRHJvcENvbnRleHQoXCIgKyBkaXNwbGF5TmFtZSArIFwiKVwiO1xuICAgICAgICAgICAgcmV0dXJuIERyYWdEcm9wQ29udGV4dENvbnRhaW5lcjtcbiAgICAgICAgfShSZWFjdC5Db21wb25lbnQpKTtcbiAgICAgICAgcmV0dXJuIGhvaXN0U3RhdGljcyhEcmFnRHJvcENvbnRleHRDb250YWluZXIsIERlY29yYXRlZENvbXBvbmVudCk7XG4gICAgfTtcbn1cbmV4cG9ydHMuRHJhZ0Ryb3BDb250ZXh0ID0gRHJhZ0Ryb3BDb250ZXh0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgY2hlY2tEZWNvcmF0b3JBcmd1bWVudHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2NoZWNrRGVjb3JhdG9yQXJndW1lbnRzXCIpO1xudmFyIERyYWdEcm9wQ29udGV4dF8xID0gcmVxdWlyZShcIi4vRHJhZ0Ryb3BDb250ZXh0XCIpO1xudmFyIGlzUmVmYWJsZV8xID0gcmVxdWlyZShcIi4vdXRpbHMvaXNSZWZhYmxlXCIpO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xudmFyIGhvaXN0U3RhdGljcyA9IHJlcXVpcmUoJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJyk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG52YXIgc2hhbGxvd0VxdWFsID0gcmVxdWlyZSgnc2hhbGxvd2VxdWFsJyk7XG5mdW5jdGlvbiBEcmFnTGF5ZXIoY29sbGVjdCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgY2hlY2tEZWNvcmF0b3JBcmd1bWVudHNfMS5kZWZhdWx0KCdEcmFnTGF5ZXInLCAnY29sbGVjdFssIG9wdGlvbnNdJywgY29sbGVjdCwgb3B0aW9ucyk7XG4gICAgaW52YXJpYW50KHR5cGVvZiBjb2xsZWN0ID09PSAnZnVuY3Rpb24nLCAnRXhwZWN0ZWQgXCJjb2xsZWN0XCIgcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIERyYWdMYXllciB0byBiZSBhIGZ1bmN0aW9uIHRoYXQgY29sbGVjdHMgcHJvcHMgdG8gaW5qZWN0IGludG8gdGhlIGNvbXBvbmVudC4gJywgJ0luc3RlYWQsIHJlY2VpdmVkICVzLiBSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcmFnLWxheWVyJywgY29sbGVjdCk7XG4gICAgaW52YXJpYW50KGRpc2NvdW50X2xvZGFzaF8xLmlzUGxhaW5PYmplY3Qob3B0aW9ucyksICdFeHBlY3RlZCBcIm9wdGlvbnNcIiBwcm92aWRlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIERyYWdMYXllciB0byBiZSBhIHBsYWluIG9iamVjdCB3aGVuIHNwZWNpZmllZC4gJyArXG4gICAgICAgICdJbnN0ZWFkLCByZWNlaXZlZCAlcy4gUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJhZy1sYXllcicsIG9wdGlvbnMpO1xuICAgIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0ZUxheWVyKERlY29yYXRlZENvbXBvbmVudCkge1xuICAgICAgICB2YXIgRGVjb3JhdGVkID0gRGVjb3JhdGVkQ29tcG9uZW50O1xuICAgICAgICB2YXIgX2EgPSBvcHRpb25zLmFyZVByb3BzRXF1YWwsIGFyZVByb3BzRXF1YWwgPSBfYSA9PT0gdm9pZCAwID8gc2hhbGxvd0VxdWFsIDogX2E7XG4gICAgICAgIHZhciBkaXNwbGF5TmFtZSA9IERlY29yYXRlZC5kaXNwbGF5TmFtZSB8fCBEZWNvcmF0ZWQubmFtZSB8fCAnQ29tcG9uZW50JztcbiAgICAgICAgdmFyIERyYWdMYXllckNvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICAgICAgICAgIF9fZXh0ZW5kcyhEcmFnTGF5ZXJDb250YWluZXIsIF9zdXBlcik7XG4gICAgICAgICAgICBmdW5jdGlvbiBEcmFnTGF5ZXJDb250YWluZXIoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgICAgICAgICAgX3RoaXMuaXNDdXJyZW50bHlNb3VudGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmlzQ3VycmVudGx5TW91bnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSBfdGhpcy5nZXRDdXJyZW50U3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaGFsbG93RXF1YWwobmV4dFN0YXRlLCBfdGhpcy5zdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKG5leHRTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIERyYWdMYXllckNvbnRhaW5lci5wcm90b3R5cGUuZ2V0RGVjb3JhdGVkQ29tcG9uZW50SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW52YXJpYW50KHRoaXMucmVmLmN1cnJlbnQsICdJbiBvcmRlciB0byBhY2Nlc3MgYW4gaW5zdGFuY2Ugb2YgdGhlIGRlY29yYXRlZCBjb21wb25lbnQsIGl0IG11c3QgZWl0aGVyIGJlIGEgY2xhc3MgY29tcG9uZW50IG9yIHVzZSBSZWFjdC5mb3J3YXJkUmVmKCknKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWYuY3VycmVudDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBEcmFnTGF5ZXJDb250YWluZXIucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIChuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoIWFyZVByb3BzRXF1YWwobmV4dFByb3BzLCB0aGlzLnByb3BzKSB8fFxuICAgICAgICAgICAgICAgICAgICAhc2hhbGxvd0VxdWFsKG5leHRTdGF0ZSwgdGhpcy5zdGF0ZSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIERyYWdMYXllckNvbnRhaW5lci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0N1cnJlbnRseU1vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgRHJhZ0xheWVyQ29udGFpbmVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ3VycmVudGx5TW91bnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVuc3Vic2NyaWJlRnJvbU9mZnNldENoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlRnJvbU9mZnNldENoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlRnJvbU9mZnNldENoYW5nZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudW5zdWJzY3JpYmVGcm9tU3RhdGVDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZUZyb21TdGF0ZUNoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlRnJvbVN0YXRlQ2hhbmdlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBEcmFnTGF5ZXJDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChEcmFnRHJvcENvbnRleHRfMS5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkcmFnRHJvcE1hbmFnZXIgPSBfYS5kcmFnRHJvcE1hbmFnZXI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkcmFnRHJvcE1hbmFnZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVjZWl2ZURyYWdEcm9wTWFuYWdlcihkcmFnRHJvcE1hbmFnZXIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBMZXQgY29tcG9uZW50RGlkTW91bnQgZmlyZSB0byBpbml0aWFsaXplIHRoZSBjb2xsZWN0ZWQgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5pc0N1cnJlbnRseU1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChEZWNvcmF0ZWQsIF9fYXNzaWduKHt9LCBfdGhpcy5wcm9wcywgX3RoaXMuc3RhdGUsIHsgcmVmOiBpc1JlZmFibGVfMS5pc1JlZmFibGUoRGVjb3JhdGVkKSA/IF90aGlzLnJlZiA6IG51bGwgfSkpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgRHJhZ0xheWVyQ29udGFpbmVyLnByb3RvdHlwZS5yZWNlaXZlRHJhZ0Ryb3BNYW5hZ2VyID0gZnVuY3Rpb24gKGRyYWdEcm9wTWFuYWdlcikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1hbmFnZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubWFuYWdlciA9IGRyYWdEcm9wTWFuYWdlcjtcbiAgICAgICAgICAgICAgICBpbnZhcmlhbnQodHlwZW9mIGRyYWdEcm9wTWFuYWdlciA9PT0gJ29iamVjdCcsICdDb3VsZCBub3QgZmluZCB0aGUgZHJhZyBhbmQgZHJvcCBtYW5hZ2VyIGluIHRoZSBjb250ZXh0IG9mICVzLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ01ha2Ugc3VyZSB0byB3cmFwIHRoZSB0b3AtbGV2ZWwgY29tcG9uZW50IG9mIHlvdXIgYXBwIHdpdGggRHJhZ0Ryb3BDb250ZXh0LiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvdHJvdWJsZXNob290aW5nI2NvdWxkLW5vdC1maW5kLXRoZS1kcmFnLWFuZC1kcm9wLW1hbmFnZXItaW4tdGhlLWNvbnRleHQnLCBkaXNwbGF5TmFtZSwgZGlzcGxheU5hbWUpO1xuICAgICAgICAgICAgICAgIHZhciBtb25pdG9yID0gdGhpcy5tYW5hZ2VyLmdldE1vbml0b3IoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlRnJvbU9mZnNldENoYW5nZSA9IG1vbml0b3Iuc3Vic2NyaWJlVG9PZmZzZXRDaGFuZ2UodGhpcy5oYW5kbGVDaGFuZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmVGcm9tU3RhdGVDaGFuZ2UgPSBtb25pdG9yLnN1YnNjcmliZVRvU3RhdGVDaGFuZ2UodGhpcy5oYW5kbGVDaGFuZ2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIERyYWdMYXllckNvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q3VycmVudFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5tYW5hZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG1vbml0b3IgPSB0aGlzLm1hbmFnZXIuZ2V0TW9uaXRvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0KG1vbml0b3IsIHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIERyYWdMYXllckNvbnRhaW5lci5kaXNwbGF5TmFtZSA9IFwiRHJhZ0xheWVyKFwiICsgZGlzcGxheU5hbWUgKyBcIilcIjtcbiAgICAgICAgICAgIERyYWdMYXllckNvbnRhaW5lci5EZWNvcmF0ZWRDb21wb25lbnQgPSBEZWNvcmF0ZWRDb21wb25lbnQ7XG4gICAgICAgICAgICByZXR1cm4gRHJhZ0xheWVyQ29udGFpbmVyO1xuICAgICAgICB9KFJlYWN0LkNvbXBvbmVudCkpO1xuICAgICAgICByZXR1cm4gaG9pc3RTdGF0aWNzKERyYWdMYXllckNvbnRhaW5lciwgRGVjb3JhdGVkQ29tcG9uZW50KTtcbiAgICB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gRHJhZ0xheWVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG4vKlxuICogQSB1dGlsaXR5IGZvciByZW5kZXJpbmcgYSBkcmFnIHByZXZpZXcgaW1hZ2VcbiAqL1xudmFyIERyYWdQcmV2aWV3SW1hZ2UgPSBSZWFjdC5tZW1vKGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBjb25uZWN0ID0gX2EuY29ubmVjdCwgc3JjID0gX2Euc3JjO1xuICAgIGlmICh0eXBlb2YgSW1hZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpbWdfMSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWdfMS5zcmMgPSBzcmM7XG4gICAgICAgIGltZ18xLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbm5lY3QoaW1nXzEpOyB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn0pO1xuRHJhZ1ByZXZpZXdJbWFnZS5kaXNwbGF5TmFtZSA9ICdEcmFnUHJldmlld0ltYWdlJztcbmV4cG9ydHMuZGVmYXVsdCA9IERyYWdQcmV2aWV3SW1hZ2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjaGVja0RlY29yYXRvckFyZ3VtZW50c18xID0gcmVxdWlyZShcIi4vdXRpbHMvY2hlY2tEZWNvcmF0b3JBcmd1bWVudHNcIik7XG52YXIgZGVjb3JhdGVIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi9kZWNvcmF0ZUhhbmRsZXJcIik7XG52YXIgcmVnaXN0ZXJTb3VyY2VfMSA9IHJlcXVpcmUoXCIuL3JlZ2lzdGVyU291cmNlXCIpO1xudmFyIGNyZWF0ZVNvdXJjZUZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZVNvdXJjZUZhY3RvcnlcIik7XG52YXIgRHJhZ1NvdXJjZU1vbml0b3JJbXBsXzEgPSByZXF1aXJlKFwiLi9EcmFnU291cmNlTW9uaXRvckltcGxcIik7XG52YXIgU291cmNlQ29ubmVjdG9yXzEgPSByZXF1aXJlKFwiLi9Tb3VyY2VDb25uZWN0b3JcIik7XG52YXIgaXNWYWxpZFR5cGVfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2lzVmFsaWRUeXBlXCIpO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuLyoqXG4gKiBEZWNvcmF0ZXMgYSBjb21wb25lbnQgYXMgYSBkcmFnc291cmNlXG4gKiBAcGFyYW0gdHlwZSBUaGUgZHJhZ3NvdXJjZSB0eXBlXG4gKiBAcGFyYW0gc3BlYyBUaGUgZHJhZyBzb3VyY2Ugc3BlY2lmaWNhdGlvblxuICogQHBhcmFtIGNvbGxlY3QgVGhlIHByb3BzIGNvbGxlY3RvciBmdW5jdGlvblxuICogQHBhcmFtIG9wdGlvbnMgRG5EIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gRHJhZ1NvdXJjZSh0eXBlLCBzcGVjLCBjb2xsZWN0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBjaGVja0RlY29yYXRvckFyZ3VtZW50c18xLmRlZmF1bHQoJ0RyYWdTb3VyY2UnLCAndHlwZSwgc3BlYywgY29sbGVjdFssIG9wdGlvbnNdJywgdHlwZSwgc3BlYywgY29sbGVjdCwgb3B0aW9ucyk7XG4gICAgdmFyIGdldFR5cGUgPSB0eXBlO1xuICAgIGlmICh0eXBlb2YgdHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpbnZhcmlhbnQoaXNWYWxpZFR5cGVfMS5kZWZhdWx0KHR5cGUpLCAnRXhwZWN0ZWQgXCJ0eXBlXCIgcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIERyYWdTb3VyY2UgdG8gYmUgJyArXG4gICAgICAgICAgICAnYSBzdHJpbmcsIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc3RyaW5nIGdpdmVuIHRoZSBjdXJyZW50IHByb3BzLiAnICtcbiAgICAgICAgICAgICdJbnN0ZWFkLCByZWNlaXZlZCAlcy4gJyArXG4gICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJhZy1zb3VyY2UnLCB0eXBlKTtcbiAgICAgICAgZ2V0VHlwZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHR5cGU7IH07XG4gICAgfVxuICAgIGludmFyaWFudChkaXNjb3VudF9sb2Rhc2hfMS5pc1BsYWluT2JqZWN0KHNwZWMpLCAnRXhwZWN0ZWQgXCJzcGVjXCIgcHJvdmlkZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCB0byBEcmFnU291cmNlIHRvIGJlICcgK1xuICAgICAgICAnYSBwbGFpbiBvYmplY3QuIEluc3RlYWQsIHJlY2VpdmVkICVzLiAnICtcbiAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2RyYWctc291cmNlJywgc3BlYyk7XG4gICAgdmFyIGNyZWF0ZVNvdXJjZSA9IGNyZWF0ZVNvdXJjZUZhY3RvcnlfMS5kZWZhdWx0KHNwZWMpO1xuICAgIGludmFyaWFudCh0eXBlb2YgY29sbGVjdCA9PT0gJ2Z1bmN0aW9uJywgJ0V4cGVjdGVkIFwiY29sbGVjdFwiIHByb3ZpZGVkIGFzIHRoZSB0aGlyZCBhcmd1bWVudCB0byBEcmFnU291cmNlIHRvIGJlICcgK1xuICAgICAgICAnYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwbGFpbiBvYmplY3Qgb2YgcHJvcHMgdG8gaW5qZWN0LiAnICtcbiAgICAgICAgJ0luc3RlYWQsIHJlY2VpdmVkICVzLiAnICtcbiAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2RyYWctc291cmNlJywgY29sbGVjdCk7XG4gICAgaW52YXJpYW50KGRpc2NvdW50X2xvZGFzaF8xLmlzUGxhaW5PYmplY3Qob3B0aW9ucyksICdFeHBlY3RlZCBcIm9wdGlvbnNcIiBwcm92aWRlZCBhcyB0aGUgZm91cnRoIGFyZ3VtZW50IHRvIERyYWdTb3VyY2UgdG8gYmUgJyArXG4gICAgICAgICdhIHBsYWluIG9iamVjdCB3aGVuIHNwZWNpZmllZC4gJyArXG4gICAgICAgICdJbnN0ZWFkLCByZWNlaXZlZCAlcy4gJyArXG4gICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcmFnLXNvdXJjZScsIGNvbGxlY3QpO1xuICAgIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0ZVNvdXJjZShEZWNvcmF0ZWRDb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIGRlY29yYXRlSGFuZGxlcl8xLmRlZmF1bHQoe1xuICAgICAgICAgICAgY29udGFpbmVyRGlzcGxheU5hbWU6ICdEcmFnU291cmNlJyxcbiAgICAgICAgICAgIGNyZWF0ZUhhbmRsZXI6IGNyZWF0ZVNvdXJjZSxcbiAgICAgICAgICAgIHJlZ2lzdGVySGFuZGxlcjogcmVnaXN0ZXJTb3VyY2VfMS5kZWZhdWx0LFxuICAgICAgICAgICAgY3JlYXRlQ29ubmVjdG9yOiBmdW5jdGlvbiAoYmFja2VuZCkgeyByZXR1cm4gbmV3IFNvdXJjZUNvbm5lY3Rvcl8xLmRlZmF1bHQoYmFja2VuZCk7IH0sXG4gICAgICAgICAgICBjcmVhdGVNb25pdG9yOiBmdW5jdGlvbiAobWFuYWdlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRHJhZ1NvdXJjZU1vbml0b3JJbXBsXzEuZGVmYXVsdChtYW5hZ2VyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBEZWNvcmF0ZWRDb21wb25lbnQ6IERlY29yYXRlZENvbXBvbmVudCxcbiAgICAgICAgICAgIGdldFR5cGU6IGdldFR5cGUsXG4gICAgICAgICAgICBjb2xsZWN0OiBjb2xsZWN0LFxuICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IERyYWdTb3VyY2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbnZhciBpc0NhbGxpbmdDYW5EcmFnID0gZmFsc2U7XG52YXIgaXNDYWxsaW5nSXNEcmFnZ2luZyA9IGZhbHNlO1xudmFyIERyYWdTb3VyY2VNb25pdG9ySW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEcmFnU291cmNlTW9uaXRvckltcGwobWFuYWdlcikge1xuICAgICAgICB0aGlzLnNvdXJjZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnRlcm5hbE1vbml0b3IgPSBtYW5hZ2VyLmdldE1vbml0b3IoKTtcbiAgICB9XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5yZWNlaXZlSGFuZGxlcklkID0gZnVuY3Rpb24gKHNvdXJjZUlkKSB7XG4gICAgICAgIHRoaXMuc291cmNlSWQgPSBzb3VyY2VJZDtcbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0SGFuZGxlcklkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2VJZDtcbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuY2FuRHJhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW52YXJpYW50KCFpc0NhbGxpbmdDYW5EcmFnLCAnWW91IG1heSBub3QgY2FsbCBtb25pdG9yLmNhbkRyYWcoKSBpbnNpZGUgeW91ciBjYW5EcmFnKCkgaW1wbGVtZW50YXRpb24uICcgK1xuICAgICAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2RyYWctc291cmNlLW1vbml0b3InKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlzQ2FsbGluZ0NhbkRyYWcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmNhbkRyYWdTb3VyY2UodGhpcy5zb3VyY2VJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBpc0NhbGxpbmdDYW5EcmFnID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuaXNEcmFnZ2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNvdXJjZUlkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaW52YXJpYW50KCFpc0NhbGxpbmdJc0RyYWdnaW5nLCAnWW91IG1heSBub3QgY2FsbCBtb25pdG9yLmlzRHJhZ2dpbmcoKSBpbnNpZGUgeW91ciBpc0RyYWdnaW5nKCkgaW1wbGVtZW50YXRpb24uICcgK1xuICAgICAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2RyYWctc291cmNlLW1vbml0b3InKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlzQ2FsbGluZ0lzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmlzRHJhZ2dpbmdTb3VyY2UodGhpcy5zb3VyY2VJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBpc0NhbGxpbmdJc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuc3Vic2NyaWJlVG9TdGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3Iuc3Vic2NyaWJlVG9TdGF0ZUNoYW5nZShsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmlzRHJhZ2dpbmdTb3VyY2UgPSBmdW5jdGlvbiAoc291cmNlSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmlzRHJhZ2dpbmdTb3VyY2Uoc291cmNlSWQpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5pc092ZXJUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0SWQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmlzT3ZlclRhcmdldCh0YXJnZXRJZCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmdldFRhcmdldElkcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldFRhcmdldElkcygpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5pc1NvdXJjZVB1YmxpYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmlzU291cmNlUHVibGljKCk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmdldFNvdXJjZUlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0U291cmNlSWQoKTtcbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuc3Vic2NyaWJlVG9PZmZzZXRDaGFuZ2UgPSBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLnN1YnNjcmliZVRvT2Zmc2V0Q2hhbmdlKGxpc3RlbmVyKTtcbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuY2FuRHJhZ1NvdXJjZSA9IGZ1bmN0aW9uIChzb3VyY2VJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuY2FuRHJhZ1NvdXJjZShzb3VyY2VJZCk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmNhbkRyb3BPblRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXRJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuY2FuRHJvcE9uVGFyZ2V0KHRhcmdldElkKTtcbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0SXRlbVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJdGVtVHlwZSgpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0SXRlbSgpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXREcm9wUmVzdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0RHJvcFJlc3VsdCgpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5kaWREcm9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZGlkRHJvcCgpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRJbml0aWFsQ2xpZW50T2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0SW5pdGlhbENsaWVudE9mZnNldCgpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRJbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0SW5pdGlhbFNvdXJjZUNsaWVudE9mZnNldCgpO1xuICAgIH07XG4gICAgRHJhZ1NvdXJjZU1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRTb3VyY2VDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRTb3VyY2VDbGllbnRPZmZzZXQoKTtcbiAgICB9O1xuICAgIERyYWdTb3VyY2VNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0Q2xpZW50T2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0Q2xpZW50T2Zmc2V0KCk7XG4gICAgfTtcbiAgICBEcmFnU291cmNlTW9uaXRvckltcGwucHJvdG90eXBlLmdldERpZmZlcmVuY2VGcm9tSW5pdGlhbE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldERpZmZlcmVuY2VGcm9tSW5pdGlhbE9mZnNldCgpO1xuICAgIH07XG4gICAgcmV0dXJuIERyYWdTb3VyY2VNb25pdG9ySW1wbDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBEcmFnU291cmNlTW9uaXRvckltcGw7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBjaGVja0RlY29yYXRvckFyZ3VtZW50c18xID0gcmVxdWlyZShcIi4vdXRpbHMvY2hlY2tEZWNvcmF0b3JBcmd1bWVudHNcIik7XG52YXIgZGVjb3JhdGVIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi9kZWNvcmF0ZUhhbmRsZXJcIik7XG52YXIgcmVnaXN0ZXJUYXJnZXRfMSA9IHJlcXVpcmUoXCIuL3JlZ2lzdGVyVGFyZ2V0XCIpO1xudmFyIGNyZWF0ZVRhcmdldEZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuL2NyZWF0ZVRhcmdldEZhY3RvcnlcIik7XG52YXIgaXNWYWxpZFR5cGVfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2lzVmFsaWRUeXBlXCIpO1xudmFyIERyb3BUYXJnZXRNb25pdG9ySW1wbF8xID0gcmVxdWlyZShcIi4vRHJvcFRhcmdldE1vbml0b3JJbXBsXCIpO1xudmFyIFRhcmdldENvbm5lY3Rvcl8xID0gcmVxdWlyZShcIi4vVGFyZ2V0Q29ubmVjdG9yXCIpO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xuZnVuY3Rpb24gRHJvcFRhcmdldCh0eXBlLCBzcGVjLCBjb2xsZWN0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBjaGVja0RlY29yYXRvckFyZ3VtZW50c18xLmRlZmF1bHQoJ0Ryb3BUYXJnZXQnLCAndHlwZSwgc3BlYywgY29sbGVjdFssIG9wdGlvbnNdJywgdHlwZSwgc3BlYywgY29sbGVjdCwgb3B0aW9ucyk7XG4gICAgdmFyIGdldFR5cGUgPSB0eXBlO1xuICAgIGlmICh0eXBlb2YgdHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBpbnZhcmlhbnQoaXNWYWxpZFR5cGVfMS5kZWZhdWx0KHR5cGUsIHRydWUpLCAnRXhwZWN0ZWQgXCJ0eXBlXCIgcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIERyb3BUYXJnZXQgdG8gYmUgJyArXG4gICAgICAgICAgICAnYSBzdHJpbmcsIGFuIGFycmF5IG9mIHN0cmluZ3MsIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGVpdGhlciBnaXZlbiAnICtcbiAgICAgICAgICAgICd0aGUgY3VycmVudCBwcm9wcy4gSW5zdGVhZCwgcmVjZWl2ZWQgJXMuICcgK1xuICAgICAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2Ryb3AtdGFyZ2V0JywgdHlwZSk7XG4gICAgICAgIGdldFR5cGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlOyB9O1xuICAgIH1cbiAgICBpbnZhcmlhbnQoZGlzY291bnRfbG9kYXNoXzEuaXNQbGFpbk9iamVjdChzcGVjKSwgJ0V4cGVjdGVkIFwic3BlY1wiIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gRHJvcFRhcmdldCB0byBiZSAnICtcbiAgICAgICAgJ2EgcGxhaW4gb2JqZWN0LiBJbnN0ZWFkLCByZWNlaXZlZCAlcy4gJyArXG4gICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcm9wLXRhcmdldCcsIHNwZWMpO1xuICAgIHZhciBjcmVhdGVUYXJnZXQgPSBjcmVhdGVUYXJnZXRGYWN0b3J5XzEuZGVmYXVsdChzcGVjKTtcbiAgICBpbnZhcmlhbnQodHlwZW9mIGNvbGxlY3QgPT09ICdmdW5jdGlvbicsICdFeHBlY3RlZCBcImNvbGxlY3RcIiBwcm92aWRlZCBhcyB0aGUgdGhpcmQgYXJndW1lbnQgdG8gRHJvcFRhcmdldCB0byBiZSAnICtcbiAgICAgICAgJ2EgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcGxhaW4gb2JqZWN0IG9mIHByb3BzIHRvIGluamVjdC4gJyArXG4gICAgICAgICdJbnN0ZWFkLCByZWNlaXZlZCAlcy4gJyArXG4gICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcm9wLXRhcmdldCcsIGNvbGxlY3QpO1xuICAgIGludmFyaWFudChkaXNjb3VudF9sb2Rhc2hfMS5pc1BsYWluT2JqZWN0KG9wdGlvbnMpLCAnRXhwZWN0ZWQgXCJvcHRpb25zXCIgcHJvdmlkZWQgYXMgdGhlIGZvdXJ0aCBhcmd1bWVudCB0byBEcm9wVGFyZ2V0IHRvIGJlICcgK1xuICAgICAgICAnYSBwbGFpbiBvYmplY3Qgd2hlbiBzcGVjaWZpZWQuICcgK1xuICAgICAgICAnSW5zdGVhZCwgcmVjZWl2ZWQgJXMuICcgK1xuICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJvcC10YXJnZXQnLCBjb2xsZWN0KTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGVjb3JhdGVUYXJnZXQoRGVjb3JhdGVkQ29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiBkZWNvcmF0ZUhhbmRsZXJfMS5kZWZhdWx0KHtcbiAgICAgICAgICAgIGNvbnRhaW5lckRpc3BsYXlOYW1lOiAnRHJvcFRhcmdldCcsXG4gICAgICAgICAgICBjcmVhdGVIYW5kbGVyOiBjcmVhdGVUYXJnZXQsXG4gICAgICAgICAgICByZWdpc3RlckhhbmRsZXI6IHJlZ2lzdGVyVGFyZ2V0XzEuZGVmYXVsdCxcbiAgICAgICAgICAgIGNyZWF0ZU1vbml0b3I6IGZ1bmN0aW9uIChtYW5hZ2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEcm9wVGFyZ2V0TW9uaXRvckltcGxfMS5kZWZhdWx0KG1hbmFnZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZUNvbm5lY3RvcjogZnVuY3Rpb24gKGJhY2tlbmQpIHsgcmV0dXJuIG5ldyBUYXJnZXRDb25uZWN0b3JfMS5kZWZhdWx0KGJhY2tlbmQpOyB9LFxuICAgICAgICAgICAgRGVjb3JhdGVkQ29tcG9uZW50OiBEZWNvcmF0ZWRDb21wb25lbnQsXG4gICAgICAgICAgICBnZXRUeXBlOiBnZXRUeXBlLFxuICAgICAgICAgICAgY29sbGVjdDogY29sbGVjdCxcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSBEcm9wVGFyZ2V0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG52YXIgaXNDYWxsaW5nQ2FuRHJvcCA9IGZhbHNlO1xudmFyIERyb3BUYXJnZXRNb25pdG9ySW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEcm9wVGFyZ2V0TW9uaXRvckltcGwobWFuYWdlcikge1xuICAgICAgICB0aGlzLnRhcmdldElkID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnRlcm5hbE1vbml0b3IgPSBtYW5hZ2VyLmdldE1vbml0b3IoKTtcbiAgICB9XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5yZWNlaXZlSGFuZGxlcklkID0gZnVuY3Rpb24gKHRhcmdldElkKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0SWQgPSB0YXJnZXRJZDtcbiAgICB9O1xuICAgIERyb3BUYXJnZXRNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0SGFuZGxlcklkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRJZDtcbiAgICB9O1xuICAgIERyb3BUYXJnZXRNb25pdG9ySW1wbC5wcm90b3R5cGUuc3Vic2NyaWJlVG9TdGF0ZUNoYW5nZSA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3Iuc3Vic2NyaWJlVG9TdGF0ZUNoYW5nZShsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBEcm9wVGFyZ2V0TW9uaXRvckltcGwucHJvdG90eXBlLmNhbkRyb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEN1dCBvdXQgZWFybHkgaWYgdGhlIHRhcmdldCBpZCBoYXMgbm90IGJlZW4gc2V0LiBUaGlzIHNob3VsZCBwcmV2ZW50IGVycm9yc1xuICAgICAgICAvLyB3aGVyZSB0aGUgdXNlciBoYXMgYW4gb2xkZXIgdmVyc2lvbiBvZiBkbmQtY29yZSBsaWtlIGluXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1kbmQvcmVhY3QtZG5kL2lzc3Vlcy8xMzEwXG4gICAgICAgIGlmICghdGhpcy50YXJnZXRJZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGludmFyaWFudCghaXNDYWxsaW5nQ2FuRHJvcCwgJ1lvdSBtYXkgbm90IGNhbGwgbW9uaXRvci5jYW5Ecm9wKCkgaW5zaWRlIHlvdXIgY2FuRHJvcCgpIGltcGxlbWVudGF0aW9uLiAnICtcbiAgICAgICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcm9wLXRhcmdldC1tb25pdG9yJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpc0NhbGxpbmdDYW5Ecm9wID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5jYW5Ecm9wT25UYXJnZXQodGhpcy50YXJnZXRJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBpc0NhbGxpbmdDYW5Ecm9wID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERyb3BUYXJnZXRNb25pdG9ySW1wbC5wcm90b3R5cGUuaXNPdmVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRhcmdldElkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmlzT3ZlclRhcmdldCh0aGlzLnRhcmdldElkLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIERyb3BUYXJnZXRNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0SXRlbVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRJdGVtVHlwZSgpO1xuICAgIH07XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0SXRlbSgpO1xuICAgIH07XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXREcm9wUmVzdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0RHJvcFJlc3VsdCgpO1xuICAgIH07XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5kaWREcm9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZGlkRHJvcCgpO1xuICAgIH07XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRJbml0aWFsQ2xpZW50T2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0SW5pdGlhbENsaWVudE9mZnNldCgpO1xuICAgIH07XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRJbml0aWFsU291cmNlQ2xpZW50T2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0SW5pdGlhbFNvdXJjZUNsaWVudE9mZnNldCgpO1xuICAgIH07XG4gICAgRHJvcFRhcmdldE1vbml0b3JJbXBsLnByb3RvdHlwZS5nZXRTb3VyY2VDbGllbnRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTW9uaXRvci5nZXRTb3VyY2VDbGllbnRPZmZzZXQoKTtcbiAgICB9O1xuICAgIERyb3BUYXJnZXRNb25pdG9ySW1wbC5wcm90b3R5cGUuZ2V0Q2xpZW50T2Zmc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE1vbml0b3IuZ2V0Q2xpZW50T2Zmc2V0KCk7XG4gICAgfTtcbiAgICBEcm9wVGFyZ2V0TW9uaXRvckltcGwucHJvdG90eXBlLmdldERpZmZlcmVuY2VGcm9tSW5pdGlhbE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxNb25pdG9yLmdldERpZmZlcmVuY2VGcm9tSW5pdGlhbE9mZnNldCgpO1xuICAgIH07XG4gICAgcmV0dXJuIERyb3BUYXJnZXRNb25pdG9ySW1wbDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBEcm9wVGFyZ2V0TW9uaXRvckltcGw7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB3cmFwQ29ubmVjdG9ySG9va3NfMSA9IHJlcXVpcmUoXCIuL3dyYXBDb25uZWN0b3JIb29rc1wiKTtcbnZhciBpc1JlZl8xID0gcmVxdWlyZShcIi4vdXRpbHMvaXNSZWZcIik7XG52YXIgc2hhbGxvd0VxdWFsID0gcmVxdWlyZSgnc2hhbGxvd2VxdWFsJyk7XG52YXIgU291cmNlQ29ubmVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNvdXJjZUNvbm5lY3RvcihiYWNrZW5kKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuYmFja2VuZCA9IGJhY2tlbmQ7XG4gICAgICAgIHRoaXMuaG9va3MgPSB3cmFwQ29ubmVjdG9ySG9va3NfMS5kZWZhdWx0KHtcbiAgICAgICAgICAgIGRyYWdTb3VyY2U6IGZ1bmN0aW9uIChub2RlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZHJhZ1NvdXJjZU9wdGlvbnMgPSBvcHRpb25zIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVmXzEuaXNSZWYobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZHJhZ1NvdXJjZVJlZiA9IG5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kcmFnU291cmNlTm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnJlY29ubmVjdERyYWdTb3VyY2UoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkcmFnUHJldmlldzogZnVuY3Rpb24gKG5vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kcmFnUHJldmlld09wdGlvbnMgPSBvcHRpb25zIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVmXzEuaXNSZWYobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZHJhZ1ByZXZpZXdSZWYgPSBub2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZHJhZ1ByZXZpZXdOb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMucmVjb25uZWN0RHJhZ1ByZXZpZXcoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhhbmRsZXJJZCA9IG51bGw7XG4gICAgICAgIC8vIFRoZSBkcm9wIHRhcmdldCBtYXkgZWl0aGVyIGJlIGF0dGFjaGVkIHZpYSByZWYgb3IgY29ubmVjdCBmdW5jdGlvblxuICAgICAgICB0aGlzLmRyYWdTb3VyY2VSZWYgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYWdTb3VyY2VPcHRpb25zSW50ZXJuYWwgPSBudWxsO1xuICAgICAgICAvLyBUaGUgZHJhZyBwcmV2aWV3IG1heSBlaXRoZXIgYmUgYXR0YWNoZWQgdmlhIHJlZiBvciBjb25uZWN0IGZ1bmN0aW9uXG4gICAgICAgIHRoaXMuZHJhZ1ByZXZpZXdSZWYgPSBudWxsO1xuICAgICAgICB0aGlzLmRyYWdQcmV2aWV3T3B0aW9uc0ludGVybmFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkSGFuZGxlcklkID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1NvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyYWdTb3VyY2VPcHRpb25zID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1ByZXZpZXcgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcmFnUHJldmlld09wdGlvbnMgPSBudWxsO1xuICAgIH1cbiAgICBTb3VyY2VDb25uZWN0b3IucHJvdG90eXBlLnJlY2VpdmVIYW5kbGVySWQgPSBmdW5jdGlvbiAobmV3SGFuZGxlcklkKSB7XG4gICAgICAgIGlmICh0aGlzLmhhbmRsZXJJZCA9PT0gbmV3SGFuZGxlcklkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVySWQgPSBuZXdIYW5kbGVySWQ7XG4gICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZSwgXCJjb25uZWN0VGFyZ2V0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kcmFnU291cmNlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZSwgXCJkcmFnU291cmNlT3B0aW9uc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHJhZ1NvdXJjZU9wdGlvbnNJbnRlcm5hbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5kcmFnU291cmNlT3B0aW9uc0ludGVybmFsID0gb3B0aW9ucztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNvdXJjZUNvbm5lY3Rvci5wcm90b3R5cGUsIFwiZHJhZ1ByZXZpZXdPcHRpb25zXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kcmFnUHJldmlld09wdGlvbnNJbnRlcm5hbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5kcmFnUHJldmlld09wdGlvbnNJbnRlcm5hbCA9IG9wdGlvbnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFNvdXJjZUNvbm5lY3Rvci5wcm90b3R5cGUucmVjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlY29ubmVjdERyYWdTb3VyY2UoKTtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3REcmFnUHJldmlldygpO1xuICAgIH07XG4gICAgU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZS5yZWNvbm5lY3REcmFnU291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZiBub3RoaW5nIGhhcyBjaGFuZ2VkIHRoZW4gZG9uJ3QgcmVzdWJzY3JpYmVcbiAgICAgICAgdmFyIGRpZENoYW5nZSA9IHRoaXMuZGlkSGFuZGxlcklkQ2hhbmdlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuZGlkQ29ubmVjdGVkRHJhZ1NvdXJjZUNoYW5nZSgpIHx8XG4gICAgICAgICAgICB0aGlzLmRpZERyYWdTb3VyY2VPcHRpb25zQ2hhbmdlKCk7XG4gICAgICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdERyYWdTb3VyY2UoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZHJhZ1NvdXJjZSA9IHRoaXMuZHJhZ1NvdXJjZTtcbiAgICAgICAgaWYgKCF0aGlzLmhhbmRsZXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZHJhZ1NvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJhZ1NvdXJjZSA9IGRyYWdTb3VyY2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpZENoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkSGFuZGxlcklkID0gdGhpcy5oYW5kbGVySWQ7XG4gICAgICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcmFnU291cmNlID0gZHJhZ1NvdXJjZTtcbiAgICAgICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyYWdTb3VyY2VPcHRpb25zID0gdGhpcy5kcmFnU291cmNlT3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuZHJhZ1NvdXJjZVVuc3Vic2NyaWJlID0gdGhpcy5iYWNrZW5kLmNvbm5lY3REcmFnU291cmNlKHRoaXMuaGFuZGxlcklkLCBkcmFnU291cmNlLCB0aGlzLmRyYWdTb3VyY2VPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZS5yZWNvbm5lY3REcmFnUHJldmlldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaWYgbm90aGluZyBoYXMgY2hhbmdlZCB0aGVuIGRvbid0IHJlc3Vic2NyaWJlXG4gICAgICAgIHZhciBkaWRDaGFuZ2UgPSB0aGlzLmRpZEhhbmRsZXJJZENoYW5nZSgpIHx8XG4gICAgICAgICAgICB0aGlzLmRpZENvbm5lY3RlZERyYWdQcmV2aWV3Q2hhbmdlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuZGlkRHJhZ1ByZXZpZXdPcHRpb25zQ2hhbmdlKCk7XG4gICAgICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdERyYWdQcmV2aWV3KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRyYWdQcmV2aWV3ID0gdGhpcy5kcmFnUHJldmlldztcbiAgICAgICAgaWYgKCF0aGlzLmhhbmRsZXJJZCB8fCAhZHJhZ1ByZXZpZXcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWRIYW5kbGVySWQgPSB0aGlzLmhhbmRsZXJJZDtcbiAgICAgICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyYWdQcmV2aWV3ID0gZHJhZ1ByZXZpZXc7XG4gICAgICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcmFnUHJldmlld09wdGlvbnMgPSB0aGlzLmRyYWdQcmV2aWV3T3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuZHJhZ1ByZXZpZXdVbnN1YnNjcmliZSA9IHRoaXMuYmFja2VuZC5jb25uZWN0RHJhZ1ByZXZpZXcodGhpcy5oYW5kbGVySWQsIGRyYWdQcmV2aWV3LCB0aGlzLmRyYWdQcmV2aWV3T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNvdXJjZUNvbm5lY3Rvci5wcm90b3R5cGUuZGlkSGFuZGxlcklkQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0Q29ubmVjdGVkSGFuZGxlcklkICE9PSB0aGlzLmhhbmRsZXJJZDtcbiAgICB9O1xuICAgIFNvdXJjZUNvbm5lY3Rvci5wcm90b3R5cGUuZGlkQ29ubmVjdGVkRHJhZ1NvdXJjZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdENvbm5lY3RlZERyYWdTb3VyY2UgIT09IHRoaXMuZHJhZ1NvdXJjZTtcbiAgICB9O1xuICAgIFNvdXJjZUNvbm5lY3Rvci5wcm90b3R5cGUuZGlkQ29ubmVjdGVkRHJhZ1ByZXZpZXdDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RDb25uZWN0ZWREcmFnUHJldmlldyAhPT0gdGhpcy5kcmFnUHJldmlldztcbiAgICB9O1xuICAgIFNvdXJjZUNvbm5lY3Rvci5wcm90b3R5cGUuZGlkRHJhZ1NvdXJjZU9wdGlvbnNDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhc2hhbGxvd0VxdWFsKHRoaXMubGFzdENvbm5lY3RlZERyYWdTb3VyY2VPcHRpb25zLCB0aGlzLmRyYWdTb3VyY2VPcHRpb25zKTtcbiAgICB9O1xuICAgIFNvdXJjZUNvbm5lY3Rvci5wcm90b3R5cGUuZGlkRHJhZ1ByZXZpZXdPcHRpb25zQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIXNoYWxsb3dFcXVhbCh0aGlzLmxhc3RDb25uZWN0ZWREcmFnUHJldmlld09wdGlvbnMsIHRoaXMuZHJhZ1ByZXZpZXdPcHRpb25zKTtcbiAgICB9O1xuICAgIFNvdXJjZUNvbm5lY3Rvci5wcm90b3R5cGUuZGlzY29ubmVjdERyYWdTb3VyY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRyYWdTb3VyY2VVbnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5kcmFnU291cmNlVW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1NvdXJjZVVuc3Vic2NyaWJlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5kcmFnUHJldmlld05vZGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5kcmFnUHJldmlld1JlZiA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNvdXJjZUNvbm5lY3Rvci5wcm90b3R5cGUuZGlzY29ubmVjdERyYWdQcmV2aWV3ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kcmFnUHJldmlld1Vuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLmRyYWdQcmV2aWV3VW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1ByZXZpZXdVbnN1YnNjcmliZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1ByZXZpZXdOb2RlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZHJhZ1ByZXZpZXdSZWYgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZSwgXCJkcmFnU291cmNlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuZHJhZ1NvdXJjZU5vZGUgfHwgKHRoaXMuZHJhZ1NvdXJjZVJlZiAmJiB0aGlzLmRyYWdTb3VyY2VSZWYuY3VycmVudCkpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU291cmNlQ29ubmVjdG9yLnByb3RvdHlwZSwgXCJkcmFnUHJldmlld1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmRyYWdQcmV2aWV3Tm9kZSB8fFxuICAgICAgICAgICAgICAgICh0aGlzLmRyYWdQcmV2aWV3UmVmICYmIHRoaXMuZHJhZ1ByZXZpZXdSZWYuY3VycmVudCkpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gU291cmNlQ29ubmVjdG9yO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFNvdXJjZUNvbm5lY3RvcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHdyYXBDb25uZWN0b3JIb29rc18xID0gcmVxdWlyZShcIi4vd3JhcENvbm5lY3Rvckhvb2tzXCIpO1xudmFyIGlzUmVmXzEgPSByZXF1aXJlKFwiLi91dGlscy9pc1JlZlwiKTtcbnZhciBzaGFsbG93RXF1YWwgPSByZXF1aXJlKCdzaGFsbG93ZXF1YWwnKTtcbnZhciBUYXJnZXRDb25uZWN0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGFyZ2V0Q29ubmVjdG9yKGJhY2tlbmQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5iYWNrZW5kID0gYmFja2VuZDtcbiAgICAgICAgdGhpcy5ob29rcyA9IHdyYXBDb25uZWN0b3JIb29rc18xLmRlZmF1bHQoe1xuICAgICAgICAgICAgZHJvcFRhcmdldDogZnVuY3Rpb24gKG5vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5kcm9wVGFyZ2V0T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVmXzEuaXNSZWYobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZHJvcFRhcmdldFJlZiA9IG5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kcm9wVGFyZ2V0Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnJlY29ubmVjdCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGFuZGxlcklkID0gbnVsbDtcbiAgICAgICAgLy8gVGhlIGRyb3AgdGFyZ2V0IG1heSBlaXRoZXIgYmUgYXR0YWNoZWQgdmlhIHJlZiBvciBjb25uZWN0IGZ1bmN0aW9uXG4gICAgICAgIHRoaXMuZHJvcFRhcmdldFJlZiA9IG51bGw7XG4gICAgICAgIHRoaXMuZHJvcFRhcmdldE9wdGlvbnNJbnRlcm5hbCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdENvbm5lY3RlZEhhbmRsZXJJZCA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyb3BUYXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcm9wVGFyZ2V0T3B0aW9ucyA9IG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUYXJnZXRDb25uZWN0b3IucHJvdG90eXBlLCBcImNvbm5lY3RUYXJnZXRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRyb3BUYXJnZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFRhcmdldENvbm5lY3Rvci5wcm90b3R5cGUucmVjb25uZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBpZiBub3RoaW5nIGhhcyBjaGFuZ2VkIHRoZW4gZG9uJ3QgcmVzdWJzY3JpYmVcbiAgICAgICAgdmFyIGRpZENoYW5nZSA9IHRoaXMuZGlkSGFuZGxlcklkQ2hhbmdlKCkgfHxcbiAgICAgICAgICAgIHRoaXMuZGlkRHJvcFRhcmdldENoYW5nZSgpIHx8XG4gICAgICAgICAgICB0aGlzLmRpZE9wdGlvbnNDaGFuZ2UoKTtcbiAgICAgICAgaWYgKGRpZENoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0RHJvcFRhcmdldCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkcm9wVGFyZ2V0ID0gdGhpcy5kcm9wVGFyZ2V0O1xuICAgICAgICBpZiAoIXRoaXMuaGFuZGxlcklkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkcm9wVGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWREcm9wVGFyZ2V0ID0gZHJvcFRhcmdldDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDb25uZWN0ZWRIYW5kbGVySWQgPSB0aGlzLmhhbmRsZXJJZDtcbiAgICAgICAgICAgIHRoaXMubGFzdENvbm5lY3RlZERyb3BUYXJnZXQgPSBkcm9wVGFyZ2V0O1xuICAgICAgICAgICAgdGhpcy5sYXN0Q29ubmVjdGVkRHJvcFRhcmdldE9wdGlvbnMgPSB0aGlzLmRyb3BUYXJnZXRPcHRpb25zO1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZURyb3BUYXJnZXQgPSB0aGlzLmJhY2tlbmQuY29ubmVjdERyb3BUYXJnZXQodGhpcy5oYW5kbGVySWQsIGRyb3BUYXJnZXQsIHRoaXMuZHJvcFRhcmdldE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUYXJnZXRDb25uZWN0b3IucHJvdG90eXBlLnJlY2VpdmVIYW5kbGVySWQgPSBmdW5jdGlvbiAobmV3SGFuZGxlcklkKSB7XG4gICAgICAgIGlmIChuZXdIYW5kbGVySWQgPT09IHRoaXMuaGFuZGxlcklkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVySWQgPSBuZXdIYW5kbGVySWQ7XG4gICAgICAgIHRoaXMucmVjb25uZWN0KCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVGFyZ2V0Q29ubmVjdG9yLnByb3RvdHlwZSwgXCJkcm9wVGFyZ2V0T3B0aW9uc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHJvcFRhcmdldE9wdGlvbnNJbnRlcm5hbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5kcm9wVGFyZ2V0T3B0aW9uc0ludGVybmFsID0gb3B0aW9ucztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgVGFyZ2V0Q29ubmVjdG9yLnByb3RvdHlwZS5kaWRIYW5kbGVySWRDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RDb25uZWN0ZWRIYW5kbGVySWQgIT09IHRoaXMuaGFuZGxlcklkO1xuICAgIH07XG4gICAgVGFyZ2V0Q29ubmVjdG9yLnByb3RvdHlwZS5kaWREcm9wVGFyZ2V0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXN0Q29ubmVjdGVkRHJvcFRhcmdldCAhPT0gdGhpcy5kcm9wVGFyZ2V0O1xuICAgIH07XG4gICAgVGFyZ2V0Q29ubmVjdG9yLnByb3RvdHlwZS5kaWRPcHRpb25zQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIXNoYWxsb3dFcXVhbCh0aGlzLmxhc3RDb25uZWN0ZWREcm9wVGFyZ2V0T3B0aW9ucywgdGhpcy5kcm9wVGFyZ2V0T3B0aW9ucyk7XG4gICAgfTtcbiAgICBUYXJnZXRDb25uZWN0b3IucHJvdG90eXBlLmRpc2Nvbm5lY3REcm9wVGFyZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy51bnN1YnNjcmliZURyb3BUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmVEcm9wVGFyZ2V0KCk7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlRHJvcFRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFRhcmdldENvbm5lY3Rvci5wcm90b3R5cGUsIFwiZHJvcFRhcmdldFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmRyb3BUYXJnZXROb2RlIHx8ICh0aGlzLmRyb3BUYXJnZXRSZWYgJiYgdGhpcy5kcm9wVGFyZ2V0UmVmLmN1cnJlbnQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFRhcmdldENvbm5lY3Rvcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBUYXJnZXRDb25uZWN0b3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBnZXREZWNvcmF0ZWRDb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2dldERlY29yYXRlZENvbXBvbmVudFwiKTtcbnZhciBkaXNjb3VudF9sb2Rhc2hfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2Rpc2NvdW50X2xvZGFzaFwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbnZhciBBTExPV0VEX1NQRUNfTUVUSE9EUyA9IFsnY2FuRHJhZycsICdiZWdpbkRyYWcnLCAnaXNEcmFnZ2luZycsICdlbmREcmFnJ107XG52YXIgUkVRVUlSRURfU1BFQ19NRVRIT0RTID0gWydiZWdpbkRyYWcnXTtcbnZhciBTb3VyY2VJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNvdXJjZUltcGwoc3BlYywgbW9uaXRvciwgcmVmKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3BlYyA9IHNwZWM7XG4gICAgICAgIHRoaXMubW9uaXRvciA9IG1vbml0b3I7XG4gICAgICAgIHRoaXMucmVmID0gcmVmO1xuICAgICAgICB0aGlzLnByb3BzID0gbnVsbDtcbiAgICAgICAgdGhpcy5iZWdpbkRyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLnByb3BzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGl0ZW0gPSBfdGhpcy5zcGVjLmJlZ2luRHJhZyhfdGhpcy5wcm9wcywgX3RoaXMubW9uaXRvciwgX3RoaXMucmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBpbnZhcmlhbnQoZGlzY291bnRfbG9kYXNoXzEuaXNQbGFpbk9iamVjdChpdGVtKSwgJ2JlZ2luRHJhZygpIG11c3QgcmV0dXJuIGEgcGxhaW4gb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgZHJhZ2dlZCBpdGVtLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ0luc3RlYWQgcmVjZWl2ZWQgJXMuICcgK1xuICAgICAgICAgICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJhZy1zb3VyY2UnLCBpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBTb3VyY2VJbXBsLnByb3RvdHlwZS5yZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgIH07XG4gICAgU291cmNlSW1wbC5wcm90b3R5cGUuY2FuRHJhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnNwZWMuY2FuRHJhZykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5jYW5EcmFnKHRoaXMucHJvcHMsIHRoaXMubW9uaXRvcik7XG4gICAgfTtcbiAgICBTb3VyY2VJbXBsLnByb3RvdHlwZS5pc0RyYWdnaW5nID0gZnVuY3Rpb24gKGdsb2JhbE1vbml0b3IsIHNvdXJjZUlkKSB7XG4gICAgICAgIGlmICghdGhpcy5wcm9wcykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5zcGVjLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2VJZCA9PT0gZ2xvYmFsTW9uaXRvci5nZXRTb3VyY2VJZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNwZWMuaXNEcmFnZ2luZyh0aGlzLnByb3BzLCB0aGlzLm1vbml0b3IpO1xuICAgIH07XG4gICAgU291cmNlSW1wbC5wcm90b3R5cGUuZW5kRHJhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLnNwZWMuZW5kRHJhZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BlYy5lbmREcmFnKHRoaXMucHJvcHMsIHRoaXMubW9uaXRvciwgZ2V0RGVjb3JhdGVkQ29tcG9uZW50XzEuZ2V0RGVjb3JhdGVkQ29tcG9uZW50KHRoaXMucmVmKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU291cmNlSW1wbDtcbn0oKSk7XG5mdW5jdGlvbiBjcmVhdGVTb3VyY2VGYWN0b3J5KHNwZWMpIHtcbiAgICBPYmplY3Qua2V5cyhzcGVjKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaW52YXJpYW50KEFMTE9XRURfU1BFQ19NRVRIT0RTLmluZGV4T2Yoa2V5KSA+IC0xLCAnRXhwZWN0ZWQgdGhlIGRyYWcgc291cmNlIHNwZWNpZmljYXRpb24gdG8gb25seSBoYXZlICcgK1xuICAgICAgICAgICAgJ3NvbWUgb2YgdGhlIGZvbGxvd2luZyBrZXlzOiAlcy4gJyArXG4gICAgICAgICAgICAnSW5zdGVhZCByZWNlaXZlZCBhIHNwZWNpZmljYXRpb24gd2l0aCBhbiB1bmV4cGVjdGVkIFwiJXNcIiBrZXkuICcgK1xuICAgICAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2RyYWctc291cmNlJywgQUxMT1dFRF9TUEVDX01FVEhPRFMuam9pbignLCAnKSwga2V5KTtcbiAgICAgICAgaW52YXJpYW50KHR5cGVvZiBzcGVjW2tleV0gPT09ICdmdW5jdGlvbicsICdFeHBlY3RlZCAlcyBpbiB0aGUgZHJhZyBzb3VyY2Ugc3BlY2lmaWNhdGlvbiB0byBiZSBhIGZ1bmN0aW9uLiAnICtcbiAgICAgICAgICAgICdJbnN0ZWFkIHJlY2VpdmVkIGEgc3BlY2lmaWNhdGlvbiB3aXRoICVzOiAlcy4gJyArXG4gICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJhZy1zb3VyY2UnLCBrZXksIGtleSwgc3BlY1trZXldKTtcbiAgICB9KTtcbiAgICBSRVFVSVJFRF9TUEVDX01FVEhPRFMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGludmFyaWFudCh0eXBlb2Ygc3BlY1trZXldID09PSAnZnVuY3Rpb24nLCAnRXhwZWN0ZWQgJXMgaW4gdGhlIGRyYWcgc291cmNlIHNwZWNpZmljYXRpb24gdG8gYmUgYSBmdW5jdGlvbi4gJyArXG4gICAgICAgICAgICAnSW5zdGVhZCByZWNlaXZlZCBhIHNwZWNpZmljYXRpb24gd2l0aCAlczogJXMuICcgK1xuICAgICAgICAgICAgJ1JlYWQgbW9yZTogaHR0cDovL3JlYWN0LWRuZC5naXRodWIuaW8vcmVhY3QtZG5kL2RvY3MvYXBpL2RyYWctc291cmNlJywga2V5LCBrZXksIHNwZWNba2V5XSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVNvdXJjZShtb25pdG9yLCByZWYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3VyY2VJbXBsKHNwZWMsIG1vbml0b3IsIHJlZik7XG4gICAgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNyZWF0ZVNvdXJjZUZhY3Rvcnk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBnZXREZWNvcmF0ZWRDb21wb25lbnRfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2dldERlY29yYXRlZENvbXBvbmVudFwiKTtcbnZhciBkaXNjb3VudF9sb2Rhc2hfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2Rpc2NvdW50X2xvZGFzaFwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbnZhciBBTExPV0VEX1NQRUNfTUVUSE9EUyA9IFsnY2FuRHJvcCcsICdob3ZlcicsICdkcm9wJ107XG52YXIgVGFyZ2V0SW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUYXJnZXRJbXBsKHNwZWMsIG1vbml0b3IsIHJlZikge1xuICAgICAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgICAgICB0aGlzLm1vbml0b3IgPSBtb25pdG9yO1xuICAgICAgICB0aGlzLnJlZiA9IHJlZjtcbiAgICAgICAgdGhpcy5wcm9wcyA9IG51bGw7XG4gICAgfVxuICAgIFRhcmdldEltcGwucHJvdG90eXBlLnJlY2VpdmVQcm9wcyA9IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgfTtcbiAgICBUYXJnZXRJbXBsLnByb3RvdHlwZS5yZWNlaXZlTW9uaXRvciA9IGZ1bmN0aW9uIChtb25pdG9yKSB7XG4gICAgICAgIHRoaXMubW9uaXRvciA9IG1vbml0b3I7XG4gICAgfTtcbiAgICBUYXJnZXRJbXBsLnByb3RvdHlwZS5jYW5Ecm9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3BlYy5jYW5Ecm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLmNhbkRyb3AodGhpcy5wcm9wcywgdGhpcy5tb25pdG9yKTtcbiAgICB9O1xuICAgIFRhcmdldEltcGwucHJvdG90eXBlLmhvdmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3BlYy5ob3Zlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BlYy5ob3Zlcih0aGlzLnByb3BzLCB0aGlzLm1vbml0b3IsIGdldERlY29yYXRlZENvbXBvbmVudF8xLmdldERlY29yYXRlZENvbXBvbmVudCh0aGlzLnJlZikpO1xuICAgIH07XG4gICAgVGFyZ2V0SW1wbC5wcm90b3R5cGUuZHJvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNwZWMuZHJvcCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZHJvcFJlc3VsdCA9IHRoaXMuc3BlYy5kcm9wKHRoaXMucHJvcHMsIHRoaXMubW9uaXRvciwgdGhpcy5yZWYuY3VycmVudCk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpbnZhcmlhbnQodHlwZW9mIGRyb3BSZXN1bHQgPT09ICd1bmRlZmluZWQnIHx8IGRpc2NvdW50X2xvZGFzaF8xLmlzUGxhaW5PYmplY3QoZHJvcFJlc3VsdCksICdkcm9wKCkgbXVzdCBlaXRoZXIgcmV0dXJuIHVuZGVmaW5lZCwgb3IgYW4gb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgZHJvcCByZXN1bHQuICcgK1xuICAgICAgICAgICAgICAgICdJbnN0ZWFkIHJlY2VpdmVkICVzLiAnICtcbiAgICAgICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJvcC10YXJnZXQnLCBkcm9wUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZHJvcFJlc3VsdDtcbiAgICB9O1xuICAgIHJldHVybiBUYXJnZXRJbXBsO1xufSgpKTtcbmZ1bmN0aW9uIGNyZWF0ZVRhcmdldEZhY3Rvcnkoc3BlYykge1xuICAgIE9iamVjdC5rZXlzKHNwZWMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpbnZhcmlhbnQoQUxMT1dFRF9TUEVDX01FVEhPRFMuaW5kZXhPZihrZXkpID4gLTEsICdFeHBlY3RlZCB0aGUgZHJvcCB0YXJnZXQgc3BlY2lmaWNhdGlvbiB0byBvbmx5IGhhdmUgJyArXG4gICAgICAgICAgICAnc29tZSBvZiB0aGUgZm9sbG93aW5nIGtleXM6ICVzLiAnICtcbiAgICAgICAgICAgICdJbnN0ZWFkIHJlY2VpdmVkIGEgc3BlY2lmaWNhdGlvbiB3aXRoIGFuIHVuZXhwZWN0ZWQgXCIlc1wiIGtleS4gJyArXG4gICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy9hcGkvZHJvcC10YXJnZXQnLCBBTExPV0VEX1NQRUNfTUVUSE9EUy5qb2luKCcsICcpLCBrZXkpO1xuICAgICAgICBpbnZhcmlhbnQodHlwZW9mIHNwZWNba2V5XSA9PT0gJ2Z1bmN0aW9uJywgJ0V4cGVjdGVkICVzIGluIHRoZSBkcm9wIHRhcmdldCBzcGVjaWZpY2F0aW9uIHRvIGJlIGEgZnVuY3Rpb24uICcgK1xuICAgICAgICAgICAgJ0luc3RlYWQgcmVjZWl2ZWQgYSBzcGVjaWZpY2F0aW9uIHdpdGggJXM6ICVzLiAnICtcbiAgICAgICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL2FwaS9kcm9wLXRhcmdldCcsIGtleSwga2V5LCBzcGVjW2tleV0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVUYXJnZXQobW9uaXRvciwgcmVmKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGFyZ2V0SW1wbChzcGVjLCBtb25pdG9yLCByZWYpO1xuICAgIH07XG59XG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVUYXJnZXRGYWN0b3J5O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgRHJhZ0Ryb3BDb250ZXh0XzEgPSByZXF1aXJlKFwiLi9EcmFnRHJvcENvbnRleHRcIik7XG52YXIgZGlzcG9zYWJsZXNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2Rpc3Bvc2FibGVzXCIpO1xudmFyIGlzUmVmYWJsZV8xID0gcmVxdWlyZShcIi4vdXRpbHMvaXNSZWZhYmxlXCIpO1xudmFyIGRpc2NvdW50X2xvZGFzaF8xID0gcmVxdWlyZShcIi4vdXRpbHMvZGlzY291bnRfbG9kYXNoXCIpO1xudmFyIGludmFyaWFudCA9IHJlcXVpcmUoJ2ludmFyaWFudCcpO1xudmFyIGhvaXN0U3RhdGljcyA9IHJlcXVpcmUoJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJyk7XG52YXIgc2hhbGxvd0VxdWFsID0gcmVxdWlyZSgnc2hhbGxvd2VxdWFsJyk7XG5mdW5jdGlvbiBkZWNvcmF0ZUhhbmRsZXIoX2EpIHtcbiAgICB2YXIgRGVjb3JhdGVkQ29tcG9uZW50ID0gX2EuRGVjb3JhdGVkQ29tcG9uZW50LCBjcmVhdGVIYW5kbGVyID0gX2EuY3JlYXRlSGFuZGxlciwgY3JlYXRlTW9uaXRvciA9IF9hLmNyZWF0ZU1vbml0b3IsIGNyZWF0ZUNvbm5lY3RvciA9IF9hLmNyZWF0ZUNvbm5lY3RvciwgcmVnaXN0ZXJIYW5kbGVyID0gX2EucmVnaXN0ZXJIYW5kbGVyLCBjb250YWluZXJEaXNwbGF5TmFtZSA9IF9hLmNvbnRhaW5lckRpc3BsYXlOYW1lLCBnZXRUeXBlID0gX2EuZ2V0VHlwZSwgY29sbGVjdCA9IF9hLmNvbGxlY3QsIG9wdGlvbnMgPSBfYS5vcHRpb25zO1xuICAgIHZhciBfYiA9IG9wdGlvbnMuYXJlUHJvcHNFcXVhbCwgYXJlUHJvcHNFcXVhbCA9IF9iID09PSB2b2lkIDAgPyBzaGFsbG93RXF1YWwgOiBfYjtcbiAgICB2YXIgRGVjb3JhdGVkID0gRGVjb3JhdGVkQ29tcG9uZW50O1xuICAgIHZhciBkaXNwbGF5TmFtZSA9IERlY29yYXRlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBEZWNvcmF0ZWRDb21wb25lbnQubmFtZSB8fCAnQ29tcG9uZW50JztcbiAgICB2YXIgRHJhZ0Ryb3BDb250YWluZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhEcmFnRHJvcENvbnRhaW5lciwgX3N1cGVyKTtcbiAgICAgICAgZnVuY3Rpb24gRHJhZ0Ryb3BDb250YWluZXIocHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuICAgICAgICAgICAgX3RoaXMuZGVjb3JhdGVkUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgICAgICAgICBfdGhpcy5oYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IF90aGlzLmdldEN1cnJlbnRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmICghc2hhbGxvd0VxdWFsKG5leHRTdGF0ZSwgX3RoaXMuc3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKG5leHRTdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLmRpc3Bvc2FibGUgPSBuZXcgZGlzcG9zYWJsZXNfMS5TZXJpYWxEaXNwb3NhYmxlKCk7XG4gICAgICAgICAgICBfdGhpcy5yZWNlaXZlUHJvcHMocHJvcHMpO1xuICAgICAgICAgICAgX3RoaXMuZGlzcG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIERyYWdEcm9wQ29udGFpbmVyLnByb3RvdHlwZS5nZXRIYW5kbGVySWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVySWQ7XG4gICAgICAgIH07XG4gICAgICAgIERyYWdEcm9wQ29udGFpbmVyLnByb3RvdHlwZS5nZXREZWNvcmF0ZWRDb21wb25lbnRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGludmFyaWFudCh0aGlzLmRlY29yYXRlZFJlZi5jdXJyZW50LCAnSW4gb3JkZXIgdG8gYWNjZXNzIGFuIGluc3RhbmNlIG9mIHRoZSBkZWNvcmF0ZWQgY29tcG9uZW50LCBpdCBtdXN0IGVpdGhlciBiZSBhIGNsYXNzIGNvbXBvbmVudCBvciB1c2UgUmVhY3QuZm9yd2FyZFJlZigpJyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNvcmF0ZWRSZWYuY3VycmVudDtcbiAgICAgICAgfTtcbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uIChuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuICghYXJlUHJvcHNFcXVhbChuZXh0UHJvcHMsIHRoaXMucHJvcHMpIHx8XG4gICAgICAgICAgICAgICAgIXNoYWxsb3dFcXVhbChuZXh0U3RhdGUsIHRoaXMuc3RhdGUpKTtcbiAgICAgICAgfTtcbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NhYmxlID0gbmV3IGRpc3Bvc2FibGVzXzEuU2VyaWFsRGlzcG9zYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMucmVjZWl2ZVByb3BzKHRoaXMucHJvcHMpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChwcmV2UHJvcHMpIHtcbiAgICAgICAgICAgIGlmICghYXJlUHJvcHNFcXVhbCh0aGlzLnByb3BzLCBwcmV2UHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlUHJvcHModGhpcy5wcm9wcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG4gICAgICAgIH07XG4gICAgICAgIERyYWdEcm9wQ29udGFpbmVyLnByb3RvdHlwZS5yZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5oYW5kbGVyLnJlY2VpdmVQcm9wcyhwcm9wcyk7XG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVUeXBlKGdldFR5cGUocHJvcHMpKTtcbiAgICAgICAgfTtcbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIucHJvdG90eXBlLnJlY2VpdmVUeXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5oYW5kbGVyTW9uaXRvciB8fCAhdGhpcy5tYW5hZ2VyIHx8ICF0aGlzLmhhbmRsZXJDb25uZWN0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gdGhpcy5jdXJyZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgdmFyIF9hID0gcmVnaXN0ZXJIYW5kbGVyKHR5cGUsIHRoaXMuaGFuZGxlciwgdGhpcy5tYW5hZ2VyKSwgaGFuZGxlcklkID0gX2FbMF0sIHVucmVnaXN0ZXIgPSBfYVsxXTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlcklkID0gaGFuZGxlcklkO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVyTW9uaXRvci5yZWNlaXZlSGFuZGxlcklkKGhhbmRsZXJJZCk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJDb25uZWN0b3IucmVjZWl2ZUhhbmRsZXJJZChoYW5kbGVySWQpO1xuICAgICAgICAgICAgdmFyIGdsb2JhbE1vbml0b3IgPSB0aGlzLm1hbmFnZXIuZ2V0TW9uaXRvcigpO1xuICAgICAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gZ2xvYmFsTW9uaXRvci5zdWJzY3JpYmVUb1N0YXRlQ2hhbmdlKHRoaXMuaGFuZGxlQ2hhbmdlLCB7IGhhbmRsZXJJZHM6IFtoYW5kbGVySWRdIH0pO1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NhYmxlLnNldERpc3Bvc2FibGUobmV3IGRpc3Bvc2FibGVzXzEuQ29tcG9zaXRlRGlzcG9zYWJsZShuZXcgZGlzcG9zYWJsZXNfMS5EaXNwb3NhYmxlKHVuc3Vic2NyaWJlKSwgbmV3IGRpc3Bvc2FibGVzXzEuRGlzcG9zYWJsZSh1bnJlZ2lzdGVyKSkpO1xuICAgICAgICB9O1xuICAgICAgICBEcmFnRHJvcENvbnRhaW5lci5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5oYW5kbGVyQ29ubmVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVyQ29ubmVjdG9yLnJlY2VpdmVIYW5kbGVySWQobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIERyYWdEcm9wQ29udGFpbmVyLnByb3RvdHlwZS5nZXRDdXJyZW50U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaGFuZGxlckNvbm5lY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSBjb2xsZWN0KHRoaXMuaGFuZGxlckNvbm5lY3Rvci5ob29rcywgdGhpcy5oYW5kbGVyTW9uaXRvciwgdGhpcy5wcm9wcyk7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGludmFyaWFudChkaXNjb3VudF9sb2Rhc2hfMS5pc1BsYWluT2JqZWN0KG5leHRTdGF0ZSksICdFeHBlY3RlZCBgY29sbGVjdGAgc3BlY2lmaWVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICclcyBmb3IgJXMgdG8gcmV0dXJuIGEgcGxhaW4gb2JqZWN0IG9mIHByb3BzIHRvIGluamVjdC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdJbnN0ZWFkLCByZWNlaXZlZCAlcy4nLCBjb250YWluZXJEaXNwbGF5TmFtZSwgZGlzcGxheU5hbWUsIG5leHRTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dFN0YXRlO1xuICAgICAgICB9O1xuICAgICAgICBEcmFnRHJvcENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChEcmFnRHJvcENvbnRleHRfMS5Db25zdW1lciwgbnVsbCwgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRyYWdEcm9wTWFuYWdlciA9IF9hLmRyYWdEcm9wTWFuYWdlcjtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWNlaXZlRHJhZ0Ryb3BNYW5hZ2VyKGRyYWdEcm9wTWFuYWdlcik7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5oYW5kbGVyQ29ubmVjdG9yLnJlY29ubmVjdCgpOyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KERlY29yYXRlZCwgX19hc3NpZ24oe30sIF90aGlzLnByb3BzLCBfdGhpcy5nZXRDdXJyZW50U3RhdGUoKSwgeyBcbiAgICAgICAgICAgICAgICAgICAgLy8gTk9URTogaWYgRGVjb3JhdGVkIGlzIGEgRnVuY3Rpb24gQ29tcG9uZW50LCBkZWNvcmF0ZWRSZWYgd2lsbCBub3QgYmUgcG9wdWxhdGVkIHVubGVzcyBpdCdzIGEgcmVmZm9yd2FyZGluZyBjb21wb25lbnQuXG4gICAgICAgICAgICAgICAgICAgIHJlZjogaXNSZWZhYmxlXzEuaXNSZWZhYmxlKERlY29yYXRlZCkgPyBfdGhpcy5kZWNvcmF0ZWRSZWYgOiBudWxsIH0pKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIERyYWdEcm9wQ29udGFpbmVyLnByb3RvdHlwZS5yZWNlaXZlRHJhZ0Ryb3BNYW5hZ2VyID0gZnVuY3Rpb24gKGRyYWdEcm9wTWFuYWdlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMubWFuYWdlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW52YXJpYW50KGRyYWdEcm9wTWFuYWdlciAhPT0gdW5kZWZpbmVkLCAnQ291bGQgbm90IGZpbmQgdGhlIGRyYWcgYW5kIGRyb3AgbWFuYWdlciBpbiB0aGUgY29udGV4dCBvZiAlcy4gJyArXG4gICAgICAgICAgICAgICAgJ01ha2Ugc3VyZSB0byB3cmFwIHRoZSB0b3AtbGV2ZWwgY29tcG9uZW50IG9mIHlvdXIgYXBwIHdpdGggRHJhZ0Ryb3BDb250ZXh0LiAnICtcbiAgICAgICAgICAgICAgICAnUmVhZCBtb3JlOiBodHRwOi8vcmVhY3QtZG5kLmdpdGh1Yi5pby9yZWFjdC1kbmQvZG9jcy90cm91Ymxlc2hvb3RpbmcjY291bGQtbm90LWZpbmQtdGhlLWRyYWctYW5kLWRyb3AtbWFuYWdlci1pbi10aGUtY29udGV4dCcsIGRpc3BsYXlOYW1lLCBkaXNwbGF5TmFtZSk7XG4gICAgICAgICAgICBpZiAoZHJhZ0Ryb3BNYW5hZ2VyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1hbmFnZXIgPSBkcmFnRHJvcE1hbmFnZXI7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJNb25pdG9yID0gY3JlYXRlTW9uaXRvcihkcmFnRHJvcE1hbmFnZXIpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVyQ29ubmVjdG9yID0gY3JlYXRlQ29ubmVjdG9yKGRyYWdEcm9wTWFuYWdlci5nZXRCYWNrZW5kKCkpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVyID0gY3JlYXRlSGFuZGxlcih0aGlzLmhhbmRsZXJNb25pdG9yLCB0aGlzLmRlY29yYXRlZFJlZik7XG4gICAgICAgIH07XG4gICAgICAgIERyYWdEcm9wQ29udGFpbmVyLkRlY29yYXRlZENvbXBvbmVudCA9IERlY29yYXRlZENvbXBvbmVudDtcbiAgICAgICAgRHJhZ0Ryb3BDb250YWluZXIuZGlzcGxheU5hbWUgPSBjb250YWluZXJEaXNwbGF5TmFtZSArIFwiKFwiICsgZGlzcGxheU5hbWUgKyBcIilcIjtcbiAgICAgICAgcmV0dXJuIERyYWdEcm9wQ29udGFpbmVyO1xuICAgIH0oUmVhY3QuQ29tcG9uZW50KSk7XG4gICAgcmV0dXJuIGhvaXN0U3RhdGljcyhEcmFnRHJvcENvbnRhaW5lciwgRGVjb3JhdGVkQ29tcG9uZW50KTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGRlY29yYXRlSGFuZGxlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL3VzZURyYWdcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vdXNlRHJvcFwiKSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi91c2VEcmFnTGF5ZXJcIikpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciByZWdpc3RlclNvdXJjZV8xID0gcmVxdWlyZShcIi4uLy4uL3JlZ2lzdGVyU291cmNlXCIpO1xudmFyIHVzZURyYWdEcm9wTWFuYWdlcl8xID0gcmVxdWlyZShcIi4vdXNlRHJhZ0Ryb3BNYW5hZ2VyXCIpO1xudmFyIERyYWdTb3VyY2VNb25pdG9ySW1wbF8xID0gcmVxdWlyZShcIi4uLy4uL0RyYWdTb3VyY2VNb25pdG9ySW1wbFwiKTtcbnZhciBTb3VyY2VDb25uZWN0b3JfMSA9IHJlcXVpcmUoXCIuLi8uLi9Tb3VyY2VDb25uZWN0b3JcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5mdW5jdGlvbiB1c2VEcmFnU291cmNlTW9uaXRvcigpIHtcbiAgICB2YXIgbWFuYWdlciA9IHVzZURyYWdEcm9wTWFuYWdlcl8xLnVzZURyYWdEcm9wTWFuYWdlcigpO1xuICAgIHZhciBtb25pdG9yID0gcmVhY3RfMS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBEcmFnU291cmNlTW9uaXRvckltcGxfMS5kZWZhdWx0KG1hbmFnZXIpOyB9LCBbbWFuYWdlcl0pO1xuICAgIHZhciBjb25uZWN0b3IgPSByZWFjdF8xLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IFNvdXJjZUNvbm5lY3Rvcl8xLmRlZmF1bHQobWFuYWdlci5nZXRCYWNrZW5kKCkpOyB9LCBbXG4gICAgICAgIG1hbmFnZXIsXG4gICAgXSk7XG4gICAgcmV0dXJuIFttb25pdG9yLCBjb25uZWN0b3JdO1xufVxuZXhwb3J0cy51c2VEcmFnU291cmNlTW9uaXRvciA9IHVzZURyYWdTb3VyY2VNb25pdG9yO1xuZnVuY3Rpb24gdXNlRHJhZ0hhbmRsZXIoc3BlYywgbW9uaXRvciwgY29ubmVjdG9yKSB7XG4gICAgdmFyIG1hbmFnZXIgPSB1c2VEcmFnRHJvcE1hbmFnZXJfMS51c2VEcmFnRHJvcE1hbmFnZXIoKTtcbiAgICAvLyBDYW4ndCB1c2UgY3JlYXRlU291cmNlRmFjdG9yeSwgYXMgc2VtYW50aWNzIGFyZSBkaWZmZXJlbnRcbiAgICB2YXIgaGFuZGxlciA9IHJlYWN0XzEudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiZWdpbkRyYWc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBzcGVjLmN1cnJlbnQsIGJlZ2luID0gX2EuYmVnaW4sIGl0ZW0gPSBfYS5pdGVtO1xuICAgICAgICAgICAgICAgIGlmIChiZWdpbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVnaW5SZXN1bHQgPSBiZWdpbihtb25pdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgaW52YXJpYW50KGJlZ2luUmVzdWx0ID09IG51bGwgfHwgdHlwZW9mIGJlZ2luUmVzdWx0ID09PSAnb2JqZWN0JywgJ2RyYWdTcGVjLmJlZ2luKCkgbXVzdCBlaXRoZXIgcmV0dXJuIGFuIG9iamVjdCwgdW5kZWZpbmVkLCBvciBudWxsJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiZWdpblJlc3VsdCB8fCBpdGVtIHx8IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbSB8fCB7fTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5EcmFnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzcGVjLmN1cnJlbnQuY2FuRHJhZyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzcGVjLmN1cnJlbnQuY2FuRHJhZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHNwZWMuY3VycmVudC5jYW5EcmFnID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzcGVjLmN1cnJlbnQuY2FuRHJhZyhtb25pdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc0RyYWdnaW5nOiBmdW5jdGlvbiAoZ2xvYmFsTW9uaXRvciwgdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzRHJhZ2dpbmcgPSBzcGVjLmN1cnJlbnQuaXNEcmFnZ2luZztcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNEcmFnZ2luZ1xuICAgICAgICAgICAgICAgICAgICA/IGlzRHJhZ2dpbmcobW9uaXRvcilcbiAgICAgICAgICAgICAgICAgICAgOiB0YXJnZXQgPT09IGdsb2JhbE1vbml0b3IuZ2V0U291cmNlSWQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmREcmFnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVuZCA9IHNwZWMuY3VycmVudC5lbmQ7XG4gICAgICAgICAgICAgICAgaWYgKGVuZCkge1xuICAgICAgICAgICAgICAgICAgICBlbmQobW9uaXRvci5nZXRJdGVtKCksIG1vbml0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25uZWN0b3IucmVjb25uZWN0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICByZWFjdF8xLnVzZUVmZmVjdChmdW5jdGlvbiByZWdpc3RlckhhbmRsZXIoKSB7XG4gICAgICAgIHZhciBfYSA9IHJlZ2lzdGVyU291cmNlXzEuZGVmYXVsdChzcGVjLmN1cnJlbnQuaXRlbS50eXBlLCBoYW5kbGVyLCBtYW5hZ2VyKSwgaGFuZGxlcklkID0gX2FbMF0sIHVucmVnaXN0ZXIgPSBfYVsxXTtcbiAgICAgICAgbW9uaXRvci5yZWNlaXZlSGFuZGxlcklkKGhhbmRsZXJJZCk7XG4gICAgICAgIGNvbm5lY3Rvci5yZWNlaXZlSGFuZGxlcklkKGhhbmRsZXJJZCk7XG4gICAgICAgIHJldHVybiB1bnJlZ2lzdGVyO1xuICAgIH0sIFtdKTtcbn1cbmV4cG9ydHMudXNlRHJhZ0hhbmRsZXIgPSB1c2VEcmFnSGFuZGxlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgcmVnaXN0ZXJUYXJnZXRfMSA9IHJlcXVpcmUoXCIuLi8uLi9yZWdpc3RlclRhcmdldFwiKTtcbnZhciB1c2VEcmFnRHJvcE1hbmFnZXJfMSA9IHJlcXVpcmUoXCIuL3VzZURyYWdEcm9wTWFuYWdlclwiKTtcbnZhciBUYXJnZXRDb25uZWN0b3JfMSA9IHJlcXVpcmUoXCIuLi8uLi9UYXJnZXRDb25uZWN0b3JcIik7XG52YXIgRHJvcFRhcmdldE1vbml0b3JJbXBsXzEgPSByZXF1aXJlKFwiLi4vLi4vRHJvcFRhcmdldE1vbml0b3JJbXBsXCIpO1xuZnVuY3Rpb24gdXNlRHJvcFRhcmdldE1vbml0b3IoKSB7XG4gICAgdmFyIG1hbmFnZXIgPSB1c2VEcmFnRHJvcE1hbmFnZXJfMS51c2VEcmFnRHJvcE1hbmFnZXIoKTtcbiAgICB2YXIgbW9uaXRvciA9IHJlYWN0XzEudXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgRHJvcFRhcmdldE1vbml0b3JJbXBsXzEuZGVmYXVsdChtYW5hZ2VyKTsgfSwgW21hbmFnZXJdKTtcbiAgICB2YXIgY29ubmVjdG9yID0gcmVhY3RfMS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBUYXJnZXRDb25uZWN0b3JfMS5kZWZhdWx0KG1hbmFnZXIuZ2V0QmFja2VuZCgpKTsgfSwgW1xuICAgICAgICBtYW5hZ2VyLFxuICAgIF0pO1xuICAgIHJldHVybiBbbW9uaXRvciwgY29ubmVjdG9yXTtcbn1cbmV4cG9ydHMudXNlRHJvcFRhcmdldE1vbml0b3IgPSB1c2VEcm9wVGFyZ2V0TW9uaXRvcjtcbmZ1bmN0aW9uIHVzZURyb3BIYW5kbGVyKHNwZWMsIG1vbml0b3IsIGNvbm5lY3Rvcikge1xuICAgIHZhciBtYW5hZ2VyID0gdXNlRHJhZ0Ryb3BNYW5hZ2VyXzEudXNlRHJhZ0Ryb3BNYW5hZ2VyKCk7XG4gICAgLy8gQ2FuJ3QgdXNlIGNyZWF0ZVNvdXJjZUZhY3RvcnksIGFzIHNlbWFudGljcyBhcmUgZGlmZmVyZW50XG4gICAgdmFyIGhhbmRsZXIgPSByZWFjdF8xLnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FuRHJvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjYW5Ecm9wID0gc3BlYy5jdXJyZW50LmNhbkRyb3A7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbkRyb3AgPyBjYW5Ecm9wKG1vbml0b3IuZ2V0SXRlbSgpLCBtb25pdG9yKSA6IHRydWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaG92ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaG92ZXIgPSBzcGVjLmN1cnJlbnQuaG92ZXI7XG4gICAgICAgICAgICAgICAgaWYgKGhvdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvdmVyKG1vbml0b3IuZ2V0SXRlbSgpLCBtb25pdG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHJvcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBkcm9wID0gc3BlYy5jdXJyZW50LmRyb3A7XG4gICAgICAgICAgICAgICAgaWYgKGRyb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRyb3AobW9uaXRvci5nZXRJdGVtKCksIG1vbml0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSwgW21vbml0b3JdKTtcbiAgICByZWFjdF8xLnVzZUVmZmVjdChmdW5jdGlvbiByZWdpc3RlckhhbmRsZXIoKSB7XG4gICAgICAgIHZhciBfYSA9IHJlZ2lzdGVyVGFyZ2V0XzEuZGVmYXVsdChzcGVjLmN1cnJlbnQuYWNjZXB0LCBoYW5kbGVyLCBtYW5hZ2VyKSwgaGFuZGxlcklkID0gX2FbMF0sIHVucmVnaXN0ZXIgPSBfYVsxXTtcbiAgICAgICAgbW9uaXRvci5yZWNlaXZlSGFuZGxlcklkKGhhbmRsZXJJZCk7XG4gICAgICAgIGNvbm5lY3Rvci5yZWNlaXZlSGFuZGxlcklkKGhhbmRsZXJJZCk7XG4gICAgICAgIHJldHVybiB1bnJlZ2lzdGVyO1xuICAgIH0sIFttb25pdG9yLCBjb25uZWN0b3JdKTtcbn1cbmV4cG9ydHMudXNlRHJvcEhhbmRsZXIgPSB1c2VEcm9wSGFuZGxlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHNoYWxsb3dFcXVhbCA9IHJlcXVpcmUoJ3NoYWxsb3dlcXVhbCcpO1xudmFyIHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG4vKipcbiAqXG4gKiBAcGFyYW0gbW9uaXRvciBUaGUgbW9uaXRvciB0byBjb2xlbGN0IHN0YXRlIGZyb21cbiAqIEBwYXJhbSBjb2xsZWN0IFRoZSBjb2xsZWN0aW5nIGZ1bmN0aW9uXG4gKiBAcGFyYW0gb25VcGRhdGUgQSBtZXRob2QgdG8gaW52b2tlIHdoZW4gdXBkYXRlcyBvY2N1clxuICovXG5mdW5jdGlvbiB1c2VDb2xsZWN0b3IobW9uaXRvciwgY29sbGVjdCwgb25VcGRhdGUpIHtcbiAgICB2YXIgX2EgPSByZWFjdF8xLnVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3QobW9uaXRvcik7IH0pLCBjb2xsZWN0ZWQgPSBfYVswXSwgc2V0Q29sbGVjdGVkID0gX2FbMV07XG4gICAgdmFyIHVwZGF0ZUNvbGxlY3RlZCA9IHJlYWN0XzEudXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV4dFZhbHVlID0gY29sbGVjdChtb25pdG9yKTtcbiAgICAgICAgaWYgKCFzaGFsbG93RXF1YWwoY29sbGVjdGVkLCBuZXh0VmFsdWUpKSB7XG4gICAgICAgICAgICBzZXRDb2xsZWN0ZWQobmV4dFZhbHVlKTtcbiAgICAgICAgICAgIGlmIChvblVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIG9uVXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbY29sbGVjdGVkLCBtb25pdG9yLCBvblVwZGF0ZV0pO1xuICAgIHJldHVybiBbY29sbGVjdGVkLCB1cGRhdGVDb2xsZWN0ZWRdO1xufVxuZXhwb3J0cy51c2VDb2xsZWN0b3IgPSB1c2VDb2xsZWN0b3I7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIERyYWdEcm9wQ29udGV4dF8xID0gcmVxdWlyZShcIi4uLy4uL0RyYWdEcm9wQ29udGV4dFwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbi8qKlxuICogQSBob29rIHRvIHJldHJpZXZlIHRoZSBEcmFnRHJvcE1hbmFnZXIgZnJvbSBDb250ZXh0XG4gKi9cbmZ1bmN0aW9uIHVzZURyYWdEcm9wTWFuYWdlcigpIHtcbiAgICB2YXIgZHJhZ0Ryb3BNYW5hZ2VyID0gcmVhY3RfMS51c2VDb250ZXh0KERyYWdEcm9wQ29udGV4dF8xLmNvbnRleHQpLmRyYWdEcm9wTWFuYWdlcjtcbiAgICBpbnZhcmlhbnQoZHJhZ0Ryb3BNYW5hZ2VyICE9IG51bGwsICdFeHBlY3RlZCBkcmFnIGRyb3AgY29udGV4dCcpO1xuICAgIHJldHVybiBkcmFnRHJvcE1hbmFnZXI7XG59XG5leHBvcnRzLnVzZURyYWdEcm9wTWFuYWdlciA9IHVzZURyYWdEcm9wTWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgdXNlQ29sbGVjdG9yXzEgPSByZXF1aXJlKFwiLi91c2VDb2xsZWN0b3JcIik7XG5mdW5jdGlvbiB1c2VNb25pdG9yT3V0cHV0KG1vbml0b3IsIGNvbGxlY3QsIG9uQ29sbGVjdCkge1xuICAgIHZhciBfYSA9IHVzZUNvbGxlY3Rvcl8xLnVzZUNvbGxlY3Rvcihtb25pdG9yLCBjb2xsZWN0LCBvbkNvbGxlY3QpLCBjb2xsZWN0ZWQgPSBfYVswXSwgdXBkYXRlQ29sbGVjdGVkID0gX2FbMV07XG4gICAgcmVhY3RfMS51c2VFZmZlY3QoZnVuY3Rpb24gc3Vic2NyaWJlVG9Nb25pdG9yU3RhdGVDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBoYW5kbGVySWQgPSBtb25pdG9yLmdldEhhbmRsZXJJZCgpO1xuICAgICAgICBpZiAoaGFuZGxlcklkID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1vbml0b3Iuc3Vic2NyaWJlVG9TdGF0ZUNoYW5nZSh1cGRhdGVDb2xsZWN0ZWQsIHtcbiAgICAgICAgICAgIGhhbmRsZXJJZHM6IFtoYW5kbGVySWRdLFxuICAgICAgICB9KTtcbiAgICB9LCBbbW9uaXRvciwgdXBkYXRlQ29sbGVjdGVkXSk7XG4gICAgcmV0dXJuIGNvbGxlY3RlZDtcbn1cbmV4cG9ydHMudXNlTW9uaXRvck91dHB1dCA9IHVzZU1vbml0b3JPdXRwdXQ7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1c2VNb25pdG9yT3V0cHV0XzEgPSByZXF1aXJlKFwiLi9pbnRlcm5hbC91c2VNb25pdG9yT3V0cHV0XCIpO1xudmFyIGRyYWdfMSA9IHJlcXVpcmUoXCIuL2ludGVybmFsL2RyYWdcIik7XG52YXIgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbi8qKlxuICogdXNlRHJhZ1NvdXJjZSBob29rXG4gKiBAcGFyYW0gc291cmNlU3BlYyBUaGUgZHJhZyBzb3VyY2Ugc3BlY2lmaWNhdGlvbiAqXG4gKi9cbmZ1bmN0aW9uIHVzZURyYWcoc3BlYykge1xuICAgIHZhciBzcGVjUmVmID0gcmVhY3RfMS51c2VSZWYoc3BlYyk7XG4gICAgc3BlY1JlZi5jdXJyZW50ID0gc3BlYztcbiAgICAvLyBUT0RPOiB3aXJlIG9wdGlvbnMgaW50byBjcmVhdGVTb3VyY2VDb25uZWN0b3JcbiAgICBpbnZhcmlhbnQoc3BlYy5pdGVtICE9IG51bGwsICdpdGVtIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIGludmFyaWFudChzcGVjLml0ZW0udHlwZSAhPSBudWxsLCAnaXRlbSB0eXBlIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIHZhciBfYSA9IGRyYWdfMS51c2VEcmFnU291cmNlTW9uaXRvcigpLCBtb25pdG9yID0gX2FbMF0sIGNvbm5lY3RvciA9IF9hWzFdO1xuICAgIGRyYWdfMS51c2VEcmFnSGFuZGxlcihzcGVjUmVmLCBtb25pdG9yLCBjb25uZWN0b3IpO1xuICAgIHZhciByZXN1bHQgPSB1c2VNb25pdG9yT3V0cHV0XzEudXNlTW9uaXRvck91dHB1dChtb25pdG9yLCBzcGVjUmVmLmN1cnJlbnQuY29sbGVjdCB8fCAoZnVuY3Rpb24gKCkgeyByZXR1cm4gKHt9KTsgfSksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbm5lY3Rvci5yZWNvbm5lY3QoKTsgfSk7XG4gICAgdmFyIGNvbm5lY3REcmFnU291cmNlID0gcmVhY3RfMS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbm5lY3Rvci5ob29rcy5kcmFnU291cmNlKCk7IH0sIFtcbiAgICAgICAgY29ubmVjdG9yLFxuICAgIF0pO1xuICAgIHZhciBjb25uZWN0RHJhZ1ByZXZpZXcgPSByZWFjdF8xLnVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdG9yLmhvb2tzLmRyYWdQcmV2aWV3KCk7IH0sIFtcbiAgICAgICAgY29ubmVjdG9yLFxuICAgIF0pO1xuICAgIHJlYWN0XzEudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29ubmVjdG9yLmRyYWdTb3VyY2VPcHRpb25zID0gc3BlY1JlZi5jdXJyZW50Lm9wdGlvbnMgfHwgbnVsbDtcbiAgICAgICAgY29ubmVjdG9yLnJlY29ubmVjdCgpO1xuICAgIH0sIFtjb25uZWN0b3JdKTtcbiAgICByZWFjdF8xLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbm5lY3Rvci5kcmFnUHJldmlld09wdGlvbnMgPSBzcGVjUmVmLmN1cnJlbnQucHJldmlld09wdGlvbnMgfHwgbnVsbDtcbiAgICAgICAgY29ubmVjdG9yLnJlY29ubmVjdCgpO1xuICAgIH0sIFtjb25uZWN0b3JdKTtcbiAgICByZXR1cm4gW3Jlc3VsdCwgY29ubmVjdERyYWdTb3VyY2UsIGNvbm5lY3REcmFnUHJldmlld107XG59XG5leHBvcnRzLnVzZURyYWcgPSB1c2VEcmFnO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciB1c2VEcmFnRHJvcE1hbmFnZXJfMSA9IHJlcXVpcmUoXCIuL2ludGVybmFsL3VzZURyYWdEcm9wTWFuYWdlclwiKTtcbnZhciB1c2VDb2xsZWN0b3JfMSA9IHJlcXVpcmUoXCIuL2ludGVybmFsL3VzZUNvbGxlY3RvclwiKTtcbi8qKlxuICogdXNlRHJhZ0xheWVyIEhvb2tcbiAqIEBwYXJhbSBjb2xsZWN0b3IgVGhlIHByb3BlcnR5IGNvbGxlY3RvclxuICovXG5mdW5jdGlvbiB1c2VEcmFnTGF5ZXIoY29sbGVjdCkge1xuICAgIHZhciBkcmFnRHJvcE1hbmFnZXIgPSB1c2VEcmFnRHJvcE1hbmFnZXJfMS51c2VEcmFnRHJvcE1hbmFnZXIoKTtcbiAgICB2YXIgbW9uaXRvciA9IGRyYWdEcm9wTWFuYWdlci5nZXRNb25pdG9yKCk7XG4gICAgdmFyIF9hID0gdXNlQ29sbGVjdG9yXzEudXNlQ29sbGVjdG9yKG1vbml0b3IsIGNvbGxlY3QpLCBjb2xsZWN0ZWQgPSBfYVswXSwgdXBkYXRlQ29sbGVjdGVkID0gX2FbMV07XG4gICAgcmVhY3RfMS51c2VFZmZlY3QoZnVuY3Rpb24gKCkgeyByZXR1cm4gbW9uaXRvci5zdWJzY3JpYmVUb09mZnNldENoYW5nZSh1cGRhdGVDb2xsZWN0ZWQpOyB9KTtcbiAgICByZWFjdF8xLnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7IHJldHVybiBtb25pdG9yLnN1YnNjcmliZVRvU3RhdGVDaGFuZ2UodXBkYXRlQ29sbGVjdGVkKTsgfSk7XG4gICAgcmV0dXJuIGNvbGxlY3RlZDtcbn1cbmV4cG9ydHMudXNlRHJhZ0xheWVyID0gdXNlRHJhZ0xheWVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdXNlTW9uaXRvck91dHB1dF8xID0gcmVxdWlyZShcIi4vaW50ZXJuYWwvdXNlTW9uaXRvck91dHB1dFwiKTtcbnZhciBkcm9wXzEgPSByZXF1aXJlKFwiLi9pbnRlcm5hbC9kcm9wXCIpO1xudmFyIHJlYWN0XzEgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG4vKipcbiAqIHVzZURyb3BUYXJnZXQgSG9va1xuICogQHBhcmFtIHNwZWMgVGhlIGRyb3AgdGFyZ2V0IHNwZWNpZmljYXRpb25cbiAqL1xuZnVuY3Rpb24gdXNlRHJvcChzcGVjKSB7XG4gICAgdmFyIHNwZWNSZWYgPSByZWFjdF8xLnVzZVJlZihzcGVjKTtcbiAgICBzcGVjUmVmLmN1cnJlbnQgPSBzcGVjO1xuICAgIGludmFyaWFudChzcGVjLmFjY2VwdCAhPSBudWxsLCAnYWNjZXB0IG11c3QgYmUgZGVmaW5lZCcpO1xuICAgIHZhciBfYSA9IGRyb3BfMS51c2VEcm9wVGFyZ2V0TW9uaXRvcigpLCBtb25pdG9yID0gX2FbMF0sIGNvbm5lY3RvciA9IF9hWzFdO1xuICAgIGRyb3BfMS51c2VEcm9wSGFuZGxlcihzcGVjUmVmLCBtb25pdG9yLCBjb25uZWN0b3IpO1xuICAgIHZhciByZXN1bHQgPSB1c2VNb25pdG9yT3V0cHV0XzEudXNlTW9uaXRvck91dHB1dChtb25pdG9yLCBzcGVjUmVmLmN1cnJlbnQuY29sbGVjdCB8fCAoZnVuY3Rpb24gKCkgeyByZXR1cm4gKHt9KTsgfSksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbm5lY3Rvci5yZWNvbm5lY3QoKTsgfSk7XG4gICAgdmFyIGNvbm5lY3REcm9wVGFyZ2V0ID0gcmVhY3RfMS51c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbm5lY3Rvci5ob29rcy5kcm9wVGFyZ2V0KCk7IH0sIFtcbiAgICAgICAgY29ubmVjdG9yLFxuICAgIF0pO1xuICAgIHJlYWN0XzEudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29ubmVjdG9yLmRyb3BUYXJnZXRPcHRpb25zID0gc3BlYy5vcHRpb25zIHx8IG51bGw7XG4gICAgICAgIGNvbm5lY3Rvci5yZWNvbm5lY3QoKTtcbiAgICB9LCBbc3BlYy5vcHRpb25zXSk7XG4gICAgcmV0dXJuIFtyZXN1bHQsIGNvbm5lY3REcm9wVGFyZ2V0XTtcbn1cbmV4cG9ydHMudXNlRHJvcCA9IHVzZURyb3A7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBEcmFnRHJvcENvbnRleHRfMSA9IHJlcXVpcmUoXCIuL0RyYWdEcm9wQ29udGV4dFwiKTtcbmV4cG9ydHMuRHJhZ0Ryb3BDb250ZXh0ID0gRHJhZ0Ryb3BDb250ZXh0XzEuRHJhZ0Ryb3BDb250ZXh0O1xuZXhwb3J0cy5EcmFnRHJvcENvbnRleHRQcm92aWRlciA9IERyYWdEcm9wQ29udGV4dF8xLkRyYWdEcm9wQ29udGV4dFByb3ZpZGVyO1xuZXhwb3J0cy5EcmFnRHJvcENvbnRleHRDb25zdW1lciA9IERyYWdEcm9wQ29udGV4dF8xLkNvbnN1bWVyO1xudmFyIERyYWdMYXllcl8xID0gcmVxdWlyZShcIi4vRHJhZ0xheWVyXCIpO1xuZXhwb3J0cy5EcmFnTGF5ZXIgPSBEcmFnTGF5ZXJfMS5kZWZhdWx0O1xudmFyIERyYWdTb3VyY2VfMSA9IHJlcXVpcmUoXCIuL0RyYWdTb3VyY2VcIik7XG5leHBvcnRzLkRyYWdTb3VyY2UgPSBEcmFnU291cmNlXzEuZGVmYXVsdDtcbnZhciBEcm9wVGFyZ2V0XzEgPSByZXF1aXJlKFwiLi9Ecm9wVGFyZ2V0XCIpO1xuZXhwb3J0cy5Ecm9wVGFyZ2V0ID0gRHJvcFRhcmdldF8xLmRlZmF1bHQ7XG52YXIgRHJhZ1ByZXZpZXdJbWFnZV8xID0gcmVxdWlyZShcIi4vRHJhZ1ByZXZpZXdJbWFnZVwiKTtcbmV4cG9ydHMuRHJhZ1ByZXZpZXdJbWFnZSA9IERyYWdQcmV2aWV3SW1hZ2VfMS5kZWZhdWx0O1xudmFyIGhvb2tzXzEgPSByZXF1aXJlKFwiLi9ob29rc1wiKTtcbmV4cG9ydHMudXNlRHJhZyA9IGhvb2tzXzEudXNlRHJhZztcbmV4cG9ydHMudXNlRHJhZ0xheWVyID0gaG9va3NfMS51c2VEcmFnTGF5ZXI7XG5leHBvcnRzLnVzZURyb3AgPSBob29rc18xLnVzZURyb3A7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIHJlZ2lzdGVyU291cmNlKHR5cGUsIHNvdXJjZSwgbWFuYWdlcikge1xuICAgIHZhciByZWdpc3RyeSA9IG1hbmFnZXIuZ2V0UmVnaXN0cnkoKTtcbiAgICB2YXIgc291cmNlSWQgPSByZWdpc3RyeS5hZGRTb3VyY2UodHlwZSwgc291cmNlKTtcbiAgICByZXR1cm4gW3NvdXJjZUlkLCBmdW5jdGlvbiAoKSB7IHJldHVybiByZWdpc3RyeS5yZW1vdmVTb3VyY2Uoc291cmNlSWQpOyB9XTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IHJlZ2lzdGVyU291cmNlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiByZWdpc3RlclRhcmdldCh0eXBlLCB0YXJnZXQsIG1hbmFnZXIpIHtcbiAgICB2YXIgcmVnaXN0cnkgPSBtYW5hZ2VyLmdldFJlZ2lzdHJ5KCk7XG4gICAgdmFyIHRhcmdldElkID0gcmVnaXN0cnkuYWRkVGFyZ2V0KHR5cGUsIHRhcmdldCk7XG4gICAgcmV0dXJuIFt0YXJnZXRJZCwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVnaXN0cnkucmVtb3ZlVGFyZ2V0KHRhcmdldElkKTsgfV07XG59XG5leHBvcnRzLmRlZmF1bHQgPSByZWdpc3RlclRhcmdldDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gY2hlY2tEZWNvcmF0b3JBcmd1bWVudHMoZnVuY3Rpb25OYW1lLCBzaWduYXR1cmUpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGZvciAodmFyIF9hID0gMCwgYXJnc18xID0gYXJnczsgX2EgPCBhcmdzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICB2YXIgYXJnID0gYXJnc18xW19hXTtcbiAgICAgICAgICAgIGlmIChhcmcgJiYgYXJnLnByb3RvdHlwZSAmJiBhcmcucHJvdG90eXBlLnJlbmRlcikge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignWW91IHNlZW0gdG8gYmUgYXBwbHlpbmcgdGhlIGFyZ3VtZW50cyBpbiB0aGUgd3Jvbmcgb3JkZXIuICcgK1xuICAgICAgICAgICAgICAgICAgICAoXCJJdCBzaG91bGQgYmUgXCIgKyBmdW5jdGlvbk5hbWUgKyBcIihcIiArIHNpZ25hdHVyZSArIFwiKShDb21wb25lbnQpLCBub3QgdGhlIG90aGVyIHdheSBhcm91bmQuIFwiKSArXG4gICAgICAgICAgICAgICAgICAgICdSZWFkIG1vcmU6IGh0dHA6Ly9yZWFjdC1kbmQuZ2l0aHViLmlvL3JlYWN0LWRuZC9kb2NzL3Ryb3VibGVzaG9vdGluZyN5b3Utc2VlbS10by1iZS1hcHBseWluZy10aGUtYXJndW1lbnRzLWluLXRoZS13cm9uZy1vcmRlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNoZWNrRGVjb3JhdG9yQXJndW1lbnRzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcmVhY3RfMSA9IHJlcXVpcmUoXCJyZWFjdFwiKTtcbnZhciBpbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcbmZ1bmN0aW9uIHNldFJlZihyZWYsIG5vZGUpIHtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZWYobm9kZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZWYuY3VycmVudCA9IG5vZGU7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xvbmVXaXRoUmVmKGVsZW1lbnQsIG5ld1JlZikge1xuICAgIHZhciBwcmV2aW91c1JlZiA9IGVsZW1lbnQucmVmO1xuICAgIGludmFyaWFudCh0eXBlb2YgcHJldmlvdXNSZWYgIT09ICdzdHJpbmcnLCAnQ2Fubm90IGNvbm5lY3QgUmVhY3QgRG5EIHRvIGFuIGVsZW1lbnQgd2l0aCBhbiBleGlzdGluZyBzdHJpbmcgcmVmLiAnICtcbiAgICAgICAgJ1BsZWFzZSBjb252ZXJ0IGl0IHRvIHVzZSBhIGNhbGxiYWNrIHJlZiBpbnN0ZWFkLCBvciB3cmFwIGl0IGludG8gYSA8c3Bhbj4gb3IgPGRpdj4uICcgK1xuICAgICAgICAnUmVhZCBtb3JlOiBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL21vcmUtYWJvdXQtcmVmcy5odG1sI3RoZS1yZWYtY2FsbGJhY2stYXR0cmlidXRlJyk7XG4gICAgaWYgKCFwcmV2aW91c1JlZikge1xuICAgICAgICAvLyBXaGVuIHRoZXJlIGlzIG5vIHJlZiBvbiB0aGUgZWxlbWVudCwgdXNlIHRoZSBuZXcgcmVmIGRpcmVjdGx5XG4gICAgICAgIHJldHVybiByZWFjdF8xLmNsb25lRWxlbWVudChlbGVtZW50LCB7XG4gICAgICAgICAgICByZWY6IG5ld1JlZixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZWFjdF8xLmNsb25lRWxlbWVudChlbGVtZW50LCB7XG4gICAgICAgIHJlZjogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHNldFJlZihuZXdSZWYsIG5vZGUpO1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzUmVmKSB7XG4gICAgICAgICAgICAgICAgc2V0UmVmKHByZXZpb3VzUmVmLCBub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGNsb25lV2l0aFJlZjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gaXNGdW5jdGlvbihpbnB1dCkge1xuICAgIHJldHVybiB0eXBlb2YgaW5wdXQgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuZnVuY3Rpb24gbm9vcCgpIHtcbiAgICAvLyBub29wXG59XG5leHBvcnRzLm5vb3AgPSBub29wO1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKGlucHV0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgJiYgaW5wdXQgIT09IG51bGw7XG59XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KGlucHV0KSB7XG4gICAgaWYgKCFpc09iamVjdExpa2UoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnB1dCkgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBwcm90byA9IGlucHV0O1xuICAgIHdoaWxlIChPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pICE9PSBudWxsKSB7XG4gICAgICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihpbnB1dCkgPT09IHByb3RvO1xufVxuZXhwb3J0cy5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgZ3JvdXAgb2YgZGlzcG9zYWJsZSByZXNvdXJjZXMgdGhhdCBhcmUgZGlzcG9zZWQgdG9nZXRoZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIENvbXBvc2l0ZURpc3Bvc2FibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcG9zaXRlRGlzcG9zYWJsZSgpIHtcbiAgICAgICAgdmFyIGRpc3Bvc2FibGVzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBkaXNwb3NhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGVzID0gZGlzcG9zYWJsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBkaXNwb3NhYmxlIHRvIHRoZSBDb21wb3NpdGVEaXNwb3NhYmxlIG9yIGRpc3Bvc2VzIHRoZSBkaXNwb3NhYmxlIGlmIHRoZSBDb21wb3NpdGVEaXNwb3NhYmxlIGlzIGRpc3Bvc2VkLlxuICAgICAqIEBwYXJhbSB7QW55fSBpdGVtIERpc3Bvc2FibGUgdG8gYWRkLlxuICAgICAqL1xuICAgIENvbXBvc2l0ZURpc3Bvc2FibGUucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIGl0ZW0uZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NhYmxlcy5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuZCBkaXNwb3NlcyB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhIGRpc3Bvc2FibGUgZnJvbSB0aGUgQ29tcG9zaXRlRGlzcG9zYWJsZS5cbiAgICAgKiBAcGFyYW0ge0FueX0gaXRlbSBEaXNwb3NhYmxlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gdHJ1ZSBpZiBmb3VuZDsgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIENvbXBvc2l0ZURpc3Bvc2FibGUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHZhciBzaG91bGREaXNwb3NlID0gZmFsc2U7XG4gICAgICAgIGlmICghdGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gdGhpcy5kaXNwb3NhYmxlcy5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzaG91bGREaXNwb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2FibGVzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgIGl0ZW0uZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaG91bGREaXNwb3NlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogIERpc3Bvc2VzIGFsbCBkaXNwb3NhYmxlcyBpbiB0aGUgZ3JvdXAgYW5kIHJlbW92ZXMgdGhlbSBmcm9tIHRoZSBncm91cCBidXRcbiAgICAgKiAgZG9lcyBub3QgZGlzcG9zZSB0aGUgQ29tcG9zaXRlRGlzcG9zYWJsZS5cbiAgICAgKi9cbiAgICBDb21wb3NpdGVEaXNwb3NhYmxlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLmRpc3Bvc2FibGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBjdXJyZW50RGlzcG9zYWJsZXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGlzcG9zYWJsZXNbaV0gPSB0aGlzLmRpc3Bvc2FibGVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kaXNwb3NhYmxlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnREaXNwb3NhYmxlc1tpXS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqICBEaXNwb3NlcyBhbGwgZGlzcG9zYWJsZXMgaW4gdGhlIGdyb3VwIGFuZCByZW1vdmVzIHRoZW0gZnJvbSB0aGUgZ3JvdXAuXG4gICAgICovXG4gICAgQ29tcG9zaXRlRGlzcG9zYWJsZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5kaXNwb3NhYmxlcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY3VycmVudERpc3Bvc2FibGVzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudERpc3Bvc2FibGVzW2ldID0gdGhpcy5kaXNwb3NhYmxlc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGlzcG9zYWJsZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RGlzcG9zYWJsZXNbaV0uZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29tcG9zaXRlRGlzcG9zYWJsZTtcbn0oKSk7XG5leHBvcnRzLkNvbXBvc2l0ZURpc3Bvc2FibGUgPSBDb21wb3NpdGVEaXNwb3NhYmxlO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZGlzY291bnRfbG9kYXNoXzEgPSByZXF1aXJlKFwiLi4vZGlzY291bnRfbG9kYXNoXCIpO1xuLyoqXG4gKiBQcm92aWRlcyBhIHNldCBvZiBzdGF0aWMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgRGlzcG9zYWJsZXMuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBhY3Rpb24gQWN0aW9uIHRvIHJ1biBkdXJpbmcgdGhlIGZpcnN0IGNhbGwgdG8gZGlzcG9zZS5cbiAqIFRoZSBhY3Rpb24gaXMgZ3VhcmFudGVlZCB0byBiZSBydW4gYXQgbW9zdCBvbmNlLlxuICovXG52YXIgRGlzcG9zYWJsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEaXNwb3NhYmxlKGFjdGlvbikge1xuICAgICAgICB0aGlzLmlzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hY3Rpb24gPSBkaXNjb3VudF9sb2Rhc2hfMS5pc0Z1bmN0aW9uKGFjdGlvbikgPyBhY3Rpb24gOiBkaXNjb3VudF9sb2Rhc2hfMS5ub29wO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgZGlzcG9zYWJsZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBPYmplY3QgdG8gdGVzdCB3aGV0aGVyIGl0IGhhcyBhIGRpc3Bvc2UgbWV0aG9kXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IHRydWUgaWYgYSBkaXNwb3NhYmxlIG9iamVjdCwgZWxzZSBmYWxzZS5cbiAgICAgKi9cbiAgICBEaXNwb3NhYmxlLmlzRGlzcG9zYWJsZSA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHJldHVybiBkICYmIGRpc2NvdW50X2xvZGFzaF8xLmlzRnVuY3Rpb24oZC5kaXNwb3NlKTtcbiAgICB9O1xuICAgIERpc3Bvc2FibGUuX2ZpeHVwID0gZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gRGlzcG9zYWJsZS5pc0Rpc3Bvc2FibGUocmVzdWx0KSA/IHJlc3VsdCA6IERpc3Bvc2FibGUuZW1wdHk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZGlzcG9zYWJsZSBvYmplY3QgdGhhdCBpbnZva2VzIHRoZSBzcGVjaWZpZWQgYWN0aW9uIHdoZW4gZGlzcG9zZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcG9zZSBBY3Rpb24gdG8gcnVuIGR1cmluZyB0aGUgZmlyc3QgY2FsbCB0byBkaXNwb3NlLlxuICAgICAqIFRoZSBhY3Rpb24gaXMgZ3VhcmFudGVlZCB0byBiZSBydW4gYXQgbW9zdCBvbmNlLlxuICAgICAqIEByZXR1cm4ge0Rpc3Bvc2FibGV9IFRoZSBkaXNwb3NhYmxlIG9iamVjdCB0aGF0IHJ1bnMgdGhlIGdpdmVuIGFjdGlvbiB1cG9uIGRpc3Bvc2FsLlxuICAgICAqL1xuICAgIERpc3Bvc2FibGUuY3JlYXRlID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IERpc3Bvc2FibGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIC8qKiBQZXJmb3JtcyB0aGUgdGFzayBvZiBjbGVhbmluZyB1cCByZXNvdXJjZXMuICovXG4gICAgRGlzcG9zYWJsZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmlzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkaXNwb3NhYmxlIHRoYXQgZG9lcyBub3RoaW5nIHdoZW4gZGlzcG9zZWQuXG4gICAgICovXG4gICAgRGlzcG9zYWJsZS5lbXB0eSA9IHsgZGlzcG9zZTogZGlzY291bnRfbG9kYXNoXzEubm9vcCB9O1xuICAgIHJldHVybiBEaXNwb3NhYmxlO1xufSgpKTtcbmV4cG9ydHMuRGlzcG9zYWJsZSA9IERpc3Bvc2FibGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogUmVwcmVzZW50cyBhIGRpc3Bvc2FibGUgcmVzb3VyY2Ugd2hvc2UgdW5kZXJseWluZyBkaXNwb3NhYmxlIHJlc291cmNlIGNhblxuICogYmUgcmVwbGFjZWQgYnkgYW5vdGhlciBkaXNwb3NhYmxlIHJlc291cmNlLCBjYXVzaW5nIGF1dG9tYXRpYyBkaXNwb3NhbCBvZlxuICogdGhlIHByZXZpb3VzIHVuZGVybHlpbmcgZGlzcG9zYWJsZSByZXNvdXJjZS5cbiAqL1xudmFyIFNlcmlhbERpc3Bvc2FibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2VyaWFsRGlzcG9zYWJsZSgpIHtcbiAgICAgICAgdGhpcy5pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHVuZGVybHlpbmcgZGlzcG9zYWJsZS5cbiAgICAgKiBAcmV0dXJucyB7QW55fSB0aGUgdW5kZXJseWluZyBkaXNwb3NhYmxlLlxuICAgICAqL1xuICAgIFNlcmlhbERpc3Bvc2FibGUucHJvdG90eXBlLmdldERpc3Bvc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQ7XG4gICAgfTtcbiAgICBTZXJpYWxEaXNwb3NhYmxlLnByb3RvdHlwZS5zZXREaXNwb3NhYmxlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBzaG91bGREaXNwb3NlID0gdGhpcy5pc0Rpc3Bvc2VkO1xuICAgICAgICBpZiAoIXNob3VsZERpc3Bvc2UpIHtcbiAgICAgICAgICAgIHZhciBvbGQgPSB0aGlzLmN1cnJlbnQ7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChvbGQpIHtcbiAgICAgICAgICAgICAgICBvbGQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGREaXNwb3NlICYmIHZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBQZXJmb3JtcyB0aGUgdGFzayBvZiBjbGVhbmluZyB1cCByZXNvdXJjZXMuICovXG4gICAgU2VyaWFsRGlzcG9zYWJsZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNEaXNwb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgb2xkID0gdGhpcy5jdXJyZW50O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKG9sZCkge1xuICAgICAgICAgICAgICAgIG9sZC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTZXJpYWxEaXNwb3NhYmxlO1xufSgpKTtcbmV4cG9ydHMuU2VyaWFsRGlzcG9zYWJsZSA9IFNlcmlhbERpc3Bvc2FibGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9EaXNwb3NhYmxlXCIpKTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL1NlcmlhbERpc3Bvc2FibGVcIikpO1xuX19leHBvcnQocmVxdWlyZShcIi4vQ29tcG9zaXRlRGlzcG9zYWJsZVwiKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGdldERlY29yYXRlZENvbXBvbmVudChpbnN0YW5jZVJlZikge1xuICAgIHZhciBjdXJyZW50UmVmID0gaW5zdGFuY2VSZWYuY3VycmVudDtcbiAgICBpZiAoY3VycmVudFJlZiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmIChjdXJyZW50UmVmLmRlY29yYXRlZFJlZikge1xuICAgICAgICAvLyBnbyB0aHJvdWdoIHRoZSBwcml2YXRlIGZpZWxkIGluIGRlY29yYXRlSGFuZGxlciB0byBhdm9pZCB0aGUgaW52YXJpYW50IGhpdFxuICAgICAgICByZXR1cm4gY3VycmVudFJlZi5kZWNvcmF0ZWRSZWYuY3VycmVudDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50UmVmO1xuICAgIH1cbn1cbmV4cG9ydHMuZ2V0RGVjb3JhdGVkQ29tcG9uZW50ID0gZ2V0RGVjb3JhdGVkQ29tcG9uZW50O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBpc1JlZihvYmopIHtcbiAgICByZXR1cm4gKG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmouaGFzT3duUHJvcGVydHkoJ2N1cnJlbnQnKSk7XG59XG5leHBvcnRzLmlzUmVmID0gaXNSZWY7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQoQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIChDb21wb25lbnQgJiZcbiAgICAgICAgQ29tcG9uZW50LnByb3RvdHlwZSAmJlxuICAgICAgICB0eXBlb2YgQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXIgPT09ICdmdW5jdGlvbicpO1xufVxuZnVuY3Rpb24gaXNSZWZGb3J3YXJkaW5nQ29tcG9uZW50KEMpIHtcbiAgICByZXR1cm4gKEMgJiYgQy4kJHR5cGVvZiAmJiBDLiQkdHlwZW9mLnRvU3RyaW5nKCkgPT09ICdTeW1ib2wocmVhY3QuZm9yd2FyZF9yZWYpJyk7XG59XG5leHBvcnRzLmlzUmVmRm9yd2FyZGluZ0NvbXBvbmVudCA9IGlzUmVmRm9yd2FyZGluZ0NvbXBvbmVudDtcbmZ1bmN0aW9uIGlzUmVmYWJsZShDKSB7XG4gICAgcmV0dXJuIGlzQ2xhc3NDb21wb25lbnQoQykgfHwgaXNSZWZGb3J3YXJkaW5nQ29tcG9uZW50KEMpO1xufVxuZXhwb3J0cy5pc1JlZmFibGUgPSBpc1JlZmFibGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGlzVmFsaWRUeXBlKHR5cGUsIGFsbG93QXJyYXkpIHtcbiAgICByZXR1cm4gKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fFxuICAgICAgICB0eXBlb2YgdHlwZSA9PT0gJ3N5bWJvbCcgfHxcbiAgICAgICAgKCEhYWxsb3dBcnJheSAmJlxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheSh0eXBlKSAmJlxuICAgICAgICAgICAgdHlwZS5ldmVyeShmdW5jdGlvbiAodCkgeyByZXR1cm4gaXNWYWxpZFR5cGUodCwgZmFsc2UpOyB9KSkpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gaXNWYWxpZFR5cGU7XG4iLCJcInVzZSBzdHJpY3RcIjtcbmlmICghU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aCkge1xuICAgIFN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGggPSBmdW5jdGlvbiAoc2VhcmNoLCB0aGlzTGVuKSB7XG4gICAgICAgIGlmICh0aGlzTGVuID09PSB1bmRlZmluZWQgfHwgdGhpc0xlbiA+IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzTGVuID0gdGhpcy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3Vic3RyaW5nKHRoaXNMZW4gLSBzZWFyY2gubGVuZ3RoLCB0aGlzTGVuKSA9PT0gc2VhcmNoO1xuICAgIH07XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWFjdF8xID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIGNsb25lV2l0aFJlZl8xID0gcmVxdWlyZShcIi4vdXRpbHMvY2xvbmVXaXRoUmVmXCIpO1xucmVxdWlyZShcIi4vdXRpbHMvcG9seWZpbGxzL2VuZHNXaXRoXCIpO1xuZnVuY3Rpb24gdGhyb3dJZkNvbXBvc2l0ZUNvbXBvbmVudEVsZW1lbnQoZWxlbWVudCkge1xuICAgIC8vIEN1c3RvbSBjb21wb25lbnRzIGNhbiBubyBsb25nZXIgYmUgd3JhcHBlZCBkaXJlY3RseSBpbiBSZWFjdCBEbkQgMi4wXG4gICAgLy8gc28gdGhhdCB3ZSBkb24ndCBuZWVkIHRvIGRlcGVuZCBvbiBmaW5kRE9NTm9kZSgpIGZyb20gcmVhY3QtZG9tLlxuICAgIGlmICh0eXBlb2YgZWxlbWVudC50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkaXNwbGF5TmFtZSA9IGVsZW1lbnQudHlwZS5kaXNwbGF5TmFtZSB8fCBlbGVtZW50LnR5cGUubmFtZSB8fCAndGhlIGNvbXBvbmVudCc7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdPbmx5IG5hdGl2ZSBlbGVtZW50IG5vZGVzIGNhbiBub3cgYmUgcGFzc2VkIHRvIFJlYWN0IERuRCBjb25uZWN0b3JzLicgK1xuICAgICAgICAoXCJZb3UgY2FuIGVpdGhlciB3cmFwIFwiICsgZGlzcGxheU5hbWUgKyBcIiBpbnRvIGEgPGRpdj4sIG9yIHR1cm4gaXQgaW50byBhIFwiKSArXG4gICAgICAgICdkcmFnIHNvdXJjZSBvciBhIGRyb3AgdGFyZ2V0IGl0c2VsZi4nKTtcbn1cbmZ1bmN0aW9uIHdyYXBIb29rVG9SZWNvZ25pemVFbGVtZW50KGhvb2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVsZW1lbnRPck5vZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnRPck5vZGUgPT09IHZvaWQgMCkgeyBlbGVtZW50T3JOb2RlID0gbnVsbDsgfVxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBudWxsOyB9XG4gICAgICAgIC8vIFdoZW4gcGFzc2VkIGEgbm9kZSwgY2FsbCB0aGUgaG9vayBzdHJhaWdodCBhd2F5LlxuICAgICAgICBpZiAoIXJlYWN0XzEuaXNWYWxpZEVsZW1lbnQoZWxlbWVudE9yTm9kZSkpIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gZWxlbWVudE9yTm9kZTtcbiAgICAgICAgICAgIGhvb2sobm9kZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAvLyByZXR1cm4gdGhlIG5vZGUgc28gaXQgY2FuIGJlIGNoYWluZWQgKGUuZy4gd2hlbiB3aXRoaW4gY2FsbGJhY2sgcmVmc1xuICAgICAgICAgICAgLy8gPGRpdiByZWY9e25vZGUgPT4gY29ubmVjdERyYWdTb3VyY2UoY29ubmVjdERyb3BUYXJnZXQobm9kZSkpfS8+XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBwYXNzZWQgYSBSZWFjdEVsZW1lbnQsIGNsb25lIGl0IGFuZCBhdHRhY2ggdGhpcyBmdW5jdGlvbiBhcyBhIHJlZi5cbiAgICAgICAgLy8gVGhpcyBoZWxwcyB1cyBhY2hpZXZlIGEgbmVhdCBBUEkgd2hlcmUgdXNlciBkb2Vzbid0IGV2ZW4ga25vdyB0aGF0IHJlZnNcbiAgICAgICAgLy8gYXJlIGJlaW5nIHVzZWQgdW5kZXIgdGhlIGhvb2QuXG4gICAgICAgIHZhciBlbGVtZW50ID0gZWxlbWVudE9yTm9kZTtcbiAgICAgICAgdGhyb3dJZkNvbXBvc2l0ZUNvbXBvbmVudEVsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgIC8vIFdoZW4gbm8gb3B0aW9ucyBhcmUgcGFzc2VkLCB1c2UgdGhlIGhvb2sgZGlyZWN0bHlcbiAgICAgICAgdmFyIHJlZiA9IG9wdGlvbnMgPyBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gaG9vayhub2RlLCBvcHRpb25zKTsgfSA6IGhvb2s7XG4gICAgICAgIHJldHVybiBjbG9uZVdpdGhSZWZfMS5kZWZhdWx0KGVsZW1lbnQsIHJlZik7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHdyYXBDb25uZWN0b3JIb29rcyhob29rcykge1xuICAgIHZhciB3cmFwcGVkSG9va3MgPSB7fTtcbiAgICBPYmplY3Qua2V5cyhob29rcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBob29rID0gaG9va3Nba2V5XTtcbiAgICAgICAgLy8gcmVmIG9iamVjdHMgc2hvdWxkIGJlIHBhc3NlZCBzdHJhaWdodCB0aHJvdWdoIHdpdGhvdXQgd3JhcHBpbmdcbiAgICAgICAgaWYgKGtleS5lbmRzV2l0aCgnUmVmJykpIHtcbiAgICAgICAgICAgIHdyYXBwZWRIb29rc1trZXldID0gaG9va3Nba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVkSG9va18xID0gd3JhcEhvb2tUb1JlY29nbml6ZUVsZW1lbnQoaG9vayk7XG4gICAgICAgICAgICB3cmFwcGVkSG9va3Nba2V5XSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHdyYXBwZWRIb29rXzE7IH07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gd3JhcHBlZEhvb2tzO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gd3JhcENvbm5lY3Rvckhvb2tzO1xuIiwiLyoqIEBsaWNlbnNlIFJlYWN0IHYxNi44LjZcbiAqIHJlYWN0LWlzLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAoZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLiBJZiB0aGVyZSBpcyBubyBuYXRpdmUgU3ltYm9sXG4vLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXG52YXIgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuZm9yO1xuXG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xudmFyIFJFQUNUX1BPUlRBTF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QucG9ydGFsJykgOiAweGVhY2E7XG52YXIgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50JykgOiAweGVhY2I7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJykgOiAweGVhY2M7XG52YXIgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb2ZpbGVyJykgOiAweGVhZDI7XG52YXIgUkVBQ1RfUFJPVklERVJfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LnByb3ZpZGVyJykgOiAweGVhY2Q7XG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gaGFzU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpIDogMHhlYWNlO1xudmFyIFJFQUNUX0FTWU5DX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmFzeW5jX21vZGUnKSA6IDB4ZWFjZjtcbnZhciBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbmN1cnJlbnRfbW9kZScpIDogMHhlYWNmO1xudmFyIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5mb3J3YXJkX3JlZicpIDogMHhlYWQwO1xudmFyIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZScpIDogMHhlYWQxO1xudmFyIFJFQUNUX01FTU9fVFlQRSA9IGhhc1N5bWJvbCA/IFN5bWJvbC5mb3IoJ3JlYWN0Lm1lbW8nKSA6IDB4ZWFkMztcbnZhciBSRUFDVF9MQVpZX1RZUEUgPSBoYXNTeW1ib2wgPyBTeW1ib2wuZm9yKCdyZWFjdC5sYXp5JykgOiAweGVhZDQ7XG5cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSB7XG4gIHJldHVybiB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgfHxcbiAgLy8gTm90ZTogaXRzIHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIGlmIGl0J3MgYSBwb2x5ZmlsbC5cbiAgdHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRSB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9QUk9WSURFUl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFKTtcbn1cblxuLyoqXG4gKiBGb3JrZWQgZnJvbSBmYmpzL3dhcm5pbmc6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmJqcy9ibG9iL2U2NmJhMjBhZDViZTQzM2ViNTQ0MjNmMmIwOTdkODI5MzI0ZDlkZTYvcGFja2FnZXMvZmJqcy9zcmMvX19mb3Jrc19fL3dhcm5pbmcuanNcbiAqXG4gKiBPbmx5IGNoYW5nZSBpcyB3ZSB1c2UgY29uc29sZS53YXJuIGluc3RlYWQgb2YgY29uc29sZS5lcnJvcixcbiAqIGFuZCBkbyBub3RoaW5nIHdoZW4gJ2NvbnNvbGUnIGlzIG5vdCBzdXBwb3J0ZWQuXG4gKiBUaGlzIHJlYWxseSBzaW1wbGlmaWVzIHRoZSBjb2RlLlxuICogLS0tXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIGxvd1ByaW9yaXR5V2FybmluZyA9IGZ1bmN0aW9uICgpIHt9O1xuXG57XG4gIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9O1xuXG4gIGxvd1ByaW9yaXR5V2FybmluZyA9IGZ1bmN0aW9uIChjb25kaXRpb24sIGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgbG93UHJpb3JpdHlXYXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgKyAnbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcuYXBwbHkodW5kZWZpbmVkLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfTtcbn1cblxudmFyIGxvd1ByaW9yaXR5V2FybmluZyQxID0gbG93UHJpb3JpdHlXYXJuaW5nO1xuXG5mdW5jdGlvbiB0eXBlT2Yob2JqZWN0KSB7XG4gIGlmICh0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwpIHtcbiAgICB2YXIgJCR0eXBlb2YgPSBvYmplY3QuJCR0eXBlb2Y7XG4gICAgc3dpdGNoICgkJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgIHZhciB0eXBlID0gb2JqZWN0LnR5cGU7XG5cbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyICQkdHlwZW9mVHlwZSA9IHR5cGUgJiYgdHlwZS4kJHR5cGVvZjtcblxuICAgICAgICAgICAgc3dpdGNoICgkJHR5cGVvZlR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICAgICAgICAgIHJldHVybiAkJHR5cGVvZlR5cGU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgcmV0dXJuICQkdHlwZW9mO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbi8vIEFzeW5jTW9kZSBpcyBkZXByZWNhdGVkIGFsb25nIHdpdGggaXNBc3luY01vZGVcbnZhciBBc3luY01vZGUgPSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU7XG52YXIgQ29uY3VycmVudE1vZGUgPSBSRUFDVF9DT05DVVJSRU5UX01PREVfVFlQRTtcbnZhciBDb250ZXh0Q29uc3VtZXIgPSBSRUFDVF9DT05URVhUX1RZUEU7XG52YXIgQ29udGV4dFByb3ZpZGVyID0gUkVBQ1RfUFJPVklERVJfVFlQRTtcbnZhciBFbGVtZW50ID0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xudmFyIEZvcndhcmRSZWYgPSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFO1xudmFyIEZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbnZhciBMYXp5ID0gUkVBQ1RfTEFaWV9UWVBFO1xudmFyIE1lbW8gPSBSRUFDVF9NRU1PX1RZUEU7XG52YXIgUG9ydGFsID0gUkVBQ1RfUE9SVEFMX1RZUEU7XG52YXIgUHJvZmlsZXIgPSBSRUFDVF9QUk9GSUxFUl9UWVBFO1xudmFyIFN0cmljdE1vZGUgPSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xudmFyIFN1c3BlbnNlID0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcblxudmFyIGhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlID0gZmFsc2U7XG5cbi8vIEFzeW5jTW9kZSBzaG91bGQgYmUgZGVwcmVjYXRlZFxuZnVuY3Rpb24gaXNBc3luY01vZGUob2JqZWN0KSB7XG4gIHtcbiAgICBpZiAoIWhhc1dhcm5lZEFib3V0RGVwcmVjYXRlZElzQXN5bmNNb2RlKSB7XG4gICAgICBoYXNXYXJuZWRBYm91dERlcHJlY2F0ZWRJc0FzeW5jTW9kZSA9IHRydWU7XG4gICAgICBsb3dQcmlvcml0eVdhcm5pbmckMShmYWxzZSwgJ1RoZSBSZWFjdElzLmlzQXN5bmNNb2RlKCkgYWxpYXMgaGFzIGJlZW4gZGVwcmVjYXRlZCwgJyArICdhbmQgd2lsbCBiZSByZW1vdmVkIGluIFJlYWN0IDE3Ky4gVXBkYXRlIHlvdXIgY29kZSB0byB1c2UgJyArICdSZWFjdElzLmlzQ29uY3VycmVudE1vZGUoKSBpbnN0ZWFkLiBJdCBoYXMgdGhlIGV4YWN0IHNhbWUgQVBJLicpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaXNDb25jdXJyZW50TW9kZShvYmplY3QpIHx8IHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9BU1lOQ19NT0RFX1RZUEU7XG59XG5mdW5jdGlvbiBpc0NvbmN1cnJlbnRNb2RlKG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0NPTkNVUlJFTlRfTU9ERV9UWVBFO1xufVxuZnVuY3Rpb24gaXNDb250ZXh0Q29uc3VtZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFO1xufVxuZnVuY3Rpb24gaXNDb250ZXh0UHJvdmlkZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzRWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzRm9yd2FyZFJlZihvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFO1xufVxuZnVuY3Rpb24gaXNGcmFnbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xufVxuZnVuY3Rpb24gaXNMYXp5KG9iamVjdCkge1xuICByZXR1cm4gdHlwZU9mKG9iamVjdCkgPT09IFJFQUNUX0xBWllfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzTWVtbyhvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9NRU1PX1RZUEU7XG59XG5mdW5jdGlvbiBpc1BvcnRhbChvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9QT1JUQUxfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzUHJvZmlsZXIob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlT2Yob2JqZWN0KSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRTtcbn1cbmZ1bmN0aW9uIGlzU3RyaWN0TW9kZShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xufVxuZnVuY3Rpb24gaXNTdXNwZW5zZShvYmplY3QpIHtcbiAgcmV0dXJuIHR5cGVPZihvYmplY3QpID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xufVxuXG5leHBvcnRzLnR5cGVPZiA9IHR5cGVPZjtcbmV4cG9ydHMuQXN5bmNNb2RlID0gQXN5bmNNb2RlO1xuZXhwb3J0cy5Db25jdXJyZW50TW9kZSA9IENvbmN1cnJlbnRNb2RlO1xuZXhwb3J0cy5Db250ZXh0Q29uc3VtZXIgPSBDb250ZXh0Q29uc3VtZXI7XG5leHBvcnRzLkNvbnRleHRQcm92aWRlciA9IENvbnRleHRQcm92aWRlcjtcbmV4cG9ydHMuRWxlbWVudCA9IEVsZW1lbnQ7XG5leHBvcnRzLkZvcndhcmRSZWYgPSBGb3J3YXJkUmVmO1xuZXhwb3J0cy5GcmFnbWVudCA9IEZyYWdtZW50O1xuZXhwb3J0cy5MYXp5ID0gTGF6eTtcbmV4cG9ydHMuTWVtbyA9IE1lbW87XG5leHBvcnRzLlBvcnRhbCA9IFBvcnRhbDtcbmV4cG9ydHMuUHJvZmlsZXIgPSBQcm9maWxlcjtcbmV4cG9ydHMuU3RyaWN0TW9kZSA9IFN0cmljdE1vZGU7XG5leHBvcnRzLlN1c3BlbnNlID0gU3VzcGVuc2U7XG5leHBvcnRzLmlzVmFsaWRFbGVtZW50VHlwZSA9IGlzVmFsaWRFbGVtZW50VHlwZTtcbmV4cG9ydHMuaXNBc3luY01vZGUgPSBpc0FzeW5jTW9kZTtcbmV4cG9ydHMuaXNDb25jdXJyZW50TW9kZSA9IGlzQ29uY3VycmVudE1vZGU7XG5leHBvcnRzLmlzQ29udGV4dENvbnN1bWVyID0gaXNDb250ZXh0Q29uc3VtZXI7XG5leHBvcnRzLmlzQ29udGV4dFByb3ZpZGVyID0gaXNDb250ZXh0UHJvdmlkZXI7XG5leHBvcnRzLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbmV4cG9ydHMuaXNGb3J3YXJkUmVmID0gaXNGb3J3YXJkUmVmO1xuZXhwb3J0cy5pc0ZyYWdtZW50ID0gaXNGcmFnbWVudDtcbmV4cG9ydHMuaXNMYXp5ID0gaXNMYXp5O1xuZXhwb3J0cy5pc01lbW8gPSBpc01lbW87XG5leHBvcnRzLmlzUG9ydGFsID0gaXNQb3J0YWw7XG5leHBvcnRzLmlzUHJvZmlsZXIgPSBpc1Byb2ZpbGVyO1xuZXhwb3J0cy5pc1N0cmljdE1vZGUgPSBpc1N0cmljdE1vZGU7XG5leHBvcnRzLmlzU3VzcGVuc2UgPSBpc1N1c3BlbnNlO1xuICB9KSgpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWlzLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWlzLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCJpbXBvcnQgJCRvYnNlcnZhYmxlIGZyb20gJ3N5bWJvbC1vYnNlcnZhYmxlJztcblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciByYW5kb21TdHJpbmcgPSBmdW5jdGlvbiByYW5kb21TdHJpbmcoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbn07XG5cbnZhciBBY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogXCJAQHJlZHV4L0lOSVRcIiArIHJhbmRvbVN0cmluZygpLFxuICBSRVBMQUNFOiBcIkBAcmVkdXgvUkVQTEFDRVwiICsgcmFuZG9tU3RyaW5nKCksXG4gIFBST0JFX1VOS05PV05fQUNUSU9OOiBmdW5jdGlvbiBQUk9CRV9VTktOT1dOX0FDVElPTigpIHtcbiAgICByZXR1cm4gXCJAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXCIgKyByYW5kb21TdHJpbmcoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gb2JqIFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBhcmd1bWVudCBhcHBlYXJzIHRvIGJlIGEgcGxhaW4gb2JqZWN0LlxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIHZhciBwcm90byA9IG9iajtcblxuICB3aGlsZSAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKSAhPT0gbnVsbCkge1xuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG4gKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cbiAqXG4gKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG4gKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG4gKiBpbnRvIGEgc2luZ2xlIHJlZHVjZXIgZnVuY3Rpb24gYnkgdXNpbmcgYGNvbWJpbmVSZWR1Y2Vyc2AuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuICogdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGFjdGlvbiB0byBoYW5kbGUuXG4gKlxuICogQHBhcmFtIHthbnl9IFtwcmVsb2FkZWRTdGF0ZV0gVGhlIGluaXRpYWwgc3RhdGUuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBoeWRyYXRlIHRoZSBzdGF0ZSBmcm9tIHRoZSBzZXJ2ZXIgaW4gdW5pdmVyc2FsIGFwcHMsIG9yIHRvIHJlc3RvcmUgYVxuICogcHJldmlvdXNseSBzZXJpYWxpemVkIHVzZXIgc2Vzc2lvbi5cbiAqIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2Vyc2AgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyIGZ1bmN0aW9uLCB0aGlzIG11c3QgYmVcbiAqIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIGFzIGBjb21iaW5lUmVkdWNlcnNgIGtleXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2VuaGFuY2VyXSBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICpcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUsIGVuaGFuY2VyKSB7XG4gIHZhciBfcmVmMjtcblxuICBpZiAodHlwZW9mIHByZWxvYWRlZFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgZW5oYW5jZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGFyZ3VtZW50c1szXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignSXQgbG9va3MgbGlrZSB5b3UgYXJlIHBhc3Npbmcgc2V2ZXJhbCBzdG9yZSBlbmhhbmNlcnMgdG8gJyArICdjcmVhdGVTdG9yZSgpLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIEluc3RlYWQsIGNvbXBvc2UgdGhlbSAnICsgJ3RvZ2V0aGVyIHRvIGEgc2luZ2xlIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcmVsb2FkZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZW5oYW5jZXIgPSBwcmVsb2FkZWRTdGF0ZTtcbiAgICBwcmVsb2FkZWRTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5oYW5jZXIoY3JlYXRlU3RvcmUpKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIHJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciBjdXJyZW50UmVkdWNlciA9IHJlZHVjZXI7XG4gIHZhciBjdXJyZW50U3RhdGUgPSBwcmVsb2FkZWRTdGF0ZTtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAvKipcbiAgICogVGhpcyBtYWtlcyBhIHNoYWxsb3cgY29weSBvZiBjdXJyZW50TGlzdGVuZXJzIHNvIHdlIGNhbiB1c2VcbiAgICogbmV4dExpc3RlbmVycyBhcyBhIHRlbXBvcmFyeSBsaXN0IHdoaWxlIGRpc3BhdGNoaW5nLlxuICAgKlxuICAgKiBUaGlzIHByZXZlbnRzIGFueSBidWdzIGFyb3VuZCBjb25zdW1lcnMgY2FsbGluZ1xuICAgKiBzdWJzY3JpYmUvdW5zdWJzY3JpYmUgaW4gdGhlIG1pZGRsZSBvZiBhIGRpc3BhdGNoLlxuICAgKi9cblxuICBmdW5jdGlvbiBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCkge1xuICAgIGlmIChuZXh0TGlzdGVuZXJzID09PSBjdXJyZW50TGlzdGVuZXJzKSB7XG4gICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBjdXJyZW50IHN0YXRlIHRyZWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbWF5IG5vdCBjYWxsIHN0b3JlLmdldFN0YXRlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ1RoZSByZWR1Y2VyIGhhcyBhbHJlYWR5IHJlY2VpdmVkIHRoZSBzdGF0ZSBhcyBhbiBhcmd1bWVudC4gJyArICdQYXNzIGl0IGRvd24gZnJvbSB0aGUgdG9wIHJlZHVjZXIgaW5zdGVhZCBvZiByZWFkaW5nIGl0IGZyb20gdGhlIHN0b3JlLicpO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG1heSBub3QgY2FsbCBzdG9yZS5zdWJzY3JpYmUoKSB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnSWYgeW91IHdvdWxkIGxpa2UgdG8gYmUgbm90aWZpZWQgYWZ0ZXIgdGhlIHN0b3JlIGhhcyBiZWVuIHVwZGF0ZWQsIHN1YnNjcmliZSBmcm9tIGEgJyArICdjb21wb25lbnQgYW5kIGludm9rZSBzdG9yZS5nZXRTdGF0ZSgpIGluIHRoZSBjYWxsYmFjayB0byBhY2Nlc3MgdGhlIGxhdGVzdCBzdGF0ZS4gJyArICdTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvYXBpLXJlZmVyZW5jZS9zdG9yZSNzdWJzY3JpYmUobGlzdGVuZXIpIGZvciBtb3JlIGRldGFpbHMuJyk7XG4gICAgfVxuXG4gICAgdmFyIGlzU3Vic2NyaWJlZCA9IHRydWU7XG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgIG5leHRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgaWYgKCFpc1N1YnNjcmliZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtYXkgbm90IHVuc3Vic2NyaWJlIGZyb20gYSBzdG9yZSBsaXN0ZW5lciB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2FwaS1yZWZlcmVuY2Uvc3RvcmUjc3Vic2NyaWJlKGxpc3RlbmVyKSBmb3IgbW9yZSBkZXRhaWxzLicpO1xuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogRGlzcGF0Y2hlcyBhbiBhY3Rpb24uIEl0IGlzIHRoZSBvbmx5IHdheSB0byB0cmlnZ2VyIGEgc3RhdGUgY2hhbmdlLlxuICAgKlxuICAgKiBUaGUgYHJlZHVjZXJgIGZ1bmN0aW9uLCB1c2VkIHRvIGNyZWF0ZSB0aGUgc3RvcmUsIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlXG4gICAqIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGdpdmVuIGBhY3Rpb25gLiBJdHMgcmV0dXJuIHZhbHVlIHdpbGxcbiAgICogYmUgY29uc2lkZXJlZCB0aGUgKipuZXh0Kiogc3RhdGUgb2YgdGhlIHRyZWUsIGFuZCB0aGUgY2hhbmdlIGxpc3RlbmVyc1xuICAgKiB3aWxsIGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvbmx5IHN1cHBvcnRzIHBsYWluIG9iamVjdCBhY3Rpb25zLiBJZiB5b3Ugd2FudCB0b1xuICAgKiBkaXNwYXRjaCBhIFByb21pc2UsIGFuIE9ic2VydmFibGUsIGEgdGh1bmssIG9yIHNvbWV0aGluZyBlbHNlLCB5b3UgbmVlZCB0b1xuICAgKiB3cmFwIHlvdXIgc3RvcmUgY3JlYXRpbmcgZnVuY3Rpb24gaW50byB0aGUgY29ycmVzcG9uZGluZyBtaWRkbGV3YXJlLiBGb3JcbiAgICogZXhhbXBsZSwgc2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgYHJlZHV4LXRodW5rYCBwYWNrYWdlLiBFdmVuIHRoZVxuICAgKiBtaWRkbGV3YXJlIHdpbGwgZXZlbnR1YWxseSBkaXNwYXRjaCBwbGFpbiBvYmplY3QgYWN0aW9ucyB1c2luZyB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGFjdGlvbiBBIHBsYWluIG9iamVjdCByZXByZXNlbnRpbmcg4oCcd2hhdCBjaGFuZ2Vk4oCdLiBJdCBpc1xuICAgKiBhIGdvb2QgaWRlYSB0byBrZWVwIGFjdGlvbnMgc2VyaWFsaXphYmxlIHNvIHlvdSBjYW4gcmVjb3JkIGFuZCByZXBsYXkgdXNlclxuICAgKiBzZXNzaW9ucywgb3IgdXNlIHRoZSB0aW1lIHRyYXZlbGxpbmcgYHJlZHV4LWRldnRvb2xzYC4gQW4gYWN0aW9uIG11c3QgaGF2ZVxuICAgKiBhIGB0eXBlYCBwcm9wZXJ0eSB3aGljaCBtYXkgbm90IGJlIGB1bmRlZmluZWRgLiBJdCBpcyBhIGdvb2QgaWRlYSB0byB1c2VcbiAgICogc3RyaW5nIGNvbnN0YW50cyBmb3IgYWN0aW9uIHR5cGVzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBGb3IgY29udmVuaWVuY2UsIHRoZSBzYW1lIGFjdGlvbiBvYmplY3QgeW91IGRpc3BhdGNoZWQuXG4gICAqXG4gICAqIE5vdGUgdGhhdCwgaWYgeW91IHVzZSBhIGN1c3RvbSBtaWRkbGV3YXJlLCBpdCBtYXkgd3JhcCBgZGlzcGF0Y2goKWAgdG9cbiAgICogcmV0dXJuIHNvbWV0aGluZyBlbHNlIChmb3IgZXhhbXBsZSwgYSBQcm9taXNlIHlvdSBjYW4gYXdhaXQpLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoKGFjdGlvbikge1xuICAgIGlmICghaXNQbGFpbk9iamVjdChhY3Rpb24pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiAnICsgJ1VzZSBjdXN0b20gbWlkZGxld2FyZSBmb3IgYXN5bmMgYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbi50eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuICcgKyAnSGF2ZSB5b3UgbWlzc3BlbGxlZCBhIGNvbnN0YW50PycpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZHVjZXJzIG1heSBub3QgZGlzcGF0Y2ggYWN0aW9ucy4nKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IHRydWU7XG4gICAgICBjdXJyZW50U3RhdGUgPSBjdXJyZW50UmVkdWNlcihjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycyA9IG5leHRMaXN0ZW5lcnM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzW2ldO1xuICAgICAgbGlzdGVuZXIoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uO1xuICB9XG4gIC8qKlxuICAgKiBSZXBsYWNlcyB0aGUgcmVkdWNlciBjdXJyZW50bHkgdXNlZCBieSB0aGUgc3RvcmUgdG8gY2FsY3VsYXRlIHRoZSBzdGF0ZS5cbiAgICpcbiAgICogWW91IG1pZ2h0IG5lZWQgdGhpcyBpZiB5b3VyIGFwcCBpbXBsZW1lbnRzIGNvZGUgc3BsaXR0aW5nIGFuZCB5b3Ugd2FudCB0b1xuICAgKiBsb2FkIHNvbWUgb2YgdGhlIHJlZHVjZXJzIGR5bmFtaWNhbGx5LiBZb3UgbWlnaHQgYWxzbyBuZWVkIHRoaXMgaWYgeW91XG4gICAqIGltcGxlbWVudCBhIGhvdCByZWxvYWRpbmcgbWVjaGFuaXNtIGZvciBSZWR1eC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dFJlZHVjZXIgVGhlIHJlZHVjZXIgZm9yIHRoZSBzdG9yZSB0byB1c2UgaW5zdGVhZC5cbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcmVwbGFjZVJlZHVjZXIobmV4dFJlZHVjZXIpIHtcbiAgICBpZiAodHlwZW9mIG5leHRSZWR1Y2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBuZXh0UmVkdWNlciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGN1cnJlbnRSZWR1Y2VyID0gbmV4dFJlZHVjZXI7IC8vIFRoaXMgYWN0aW9uIGhhcyBhIHNpbWlsaWFyIGVmZmVjdCB0byBBY3Rpb25UeXBlcy5JTklULlxuICAgIC8vIEFueSByZWR1Y2VycyB0aGF0IGV4aXN0ZWQgaW4gYm90aCB0aGUgbmV3IGFuZCBvbGQgcm9vdFJlZHVjZXJcbiAgICAvLyB3aWxsIHJlY2VpdmUgdGhlIHByZXZpb3VzIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuICAgIC8vIHRoZSBuZXcgc3RhdGUgdHJlZSB3aXRoIGFueSByZWxldmFudCBkYXRhIGZyb20gdGhlIG9sZCBvbmUuXG5cbiAgICBkaXNwYXRjaCh7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5SRVBMQUNFXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEludGVyb3BlcmFiaWxpdHkgcG9pbnQgZm9yIG9ic2VydmFibGUvcmVhY3RpdmUgbGlicmFyaWVzLlxuICAgKiBAcmV0dXJucyB7b2JzZXJ2YWJsZX0gQSBtaW5pbWFsIG9ic2VydmFibGUgb2Ygc3RhdGUgY2hhbmdlcy5cbiAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSB0aGUgb2JzZXJ2YWJsZSBwcm9wb3NhbDpcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtb2JzZXJ2YWJsZVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG9ic2VydmFibGUoKSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICB2YXIgb3V0ZXJTdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgcmV0dXJuIF9yZWYgPSB7XG4gICAgICAvKipcbiAgICAgICAqIFRoZSBtaW5pbWFsIG9ic2VydmFibGUgc3Vic2NyaXB0aW9uIG1ldGhvZC5cbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlciBBbnkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gb2JzZXJ2ZXIuXG4gICAgICAgKiBUaGUgb2JzZXJ2ZXIgb2JqZWN0IHNob3VsZCBoYXZlIGEgYG5leHRgIG1ldGhvZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdWJzY3JpcHRpb259IEFuIG9iamVjdCB3aXRoIGFuIGB1bnN1YnNjcmliZWAgbWV0aG9kIHRoYXQgY2FuXG4gICAgICAgKiBiZSB1c2VkIHRvIHVuc3Vic2NyaWJlIHRoZSBvYnNlcnZhYmxlIGZyb20gdGhlIHN0b3JlLCBhbmQgcHJldmVudCBmdXJ0aGVyXG4gICAgICAgKiBlbWlzc2lvbiBvZiB2YWx1ZXMgZnJvbSB0aGUgb2JzZXJ2YWJsZS5cbiAgICAgICAqL1xuICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUob2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYnNlcnZlciAhPT0gJ29iamVjdCcgfHwgb2JzZXJ2ZXIgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB0aGUgb2JzZXJ2ZXIgdG8gYmUgYW4gb2JqZWN0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZVN0YXRlKCkge1xuICAgICAgICAgIGlmIChvYnNlcnZlci5uZXh0KSB7XG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KGdldFN0YXRlKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9ic2VydmVTdGF0ZSgpO1xuICAgICAgICB2YXIgdW5zdWJzY3JpYmUgPSBvdXRlclN1YnNjcmliZShvYnNlcnZlU3RhdGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVuc3Vic2NyaWJlOiB1bnN1YnNjcmliZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sIF9yZWZbJCRvYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sIF9yZWY7XG4gIH0gLy8gV2hlbiBhIHN0b3JlIGlzIGNyZWF0ZWQsIGFuIFwiSU5JVFwiIGFjdGlvbiBpcyBkaXNwYXRjaGVkIHNvIHRoYXQgZXZlcnlcbiAgLy8gcmVkdWNlciByZXR1cm5zIHRoZWlyIGluaXRpYWwgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gIC8vIHRoZSBpbml0aWFsIHN0YXRlIHRyZWUuXG5cblxuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogQWN0aW9uVHlwZXMuSU5JVFxuICB9KTtcbiAgcmV0dXJuIF9yZWYyID0ge1xuICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICBzdWJzY3JpYmU6IHN1YnNjcmliZSxcbiAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG4gICAgcmVwbGFjZVJlZHVjZXI6IHJlcGxhY2VSZWR1Y2VyXG4gIH0sIF9yZWYyWyQkb2JzZXJ2YWJsZV0gPSBvYnNlcnZhYmxlLCBfcmVmMjtcbn1cblxuLyoqXG4gKiBQcmludHMgYSB3YXJuaW5nIGluIHRoZSBjb25zb2xlIGlmIGl0IGV4aXN0cy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVzc2FnZSBUaGUgd2FybmluZyBtZXNzYWdlLlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGUuZXJyb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICB9XG4gIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG5cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IGlmIHlvdSBlbmFibGVcbiAgICAvLyBcImJyZWFrIG9uIGFsbCBleGNlcHRpb25zXCIgaW4geW91ciBjb25zb2xlLFxuICAgIC8vIGl0IHdvdWxkIHBhdXNlIHRoZSBleGVjdXRpb24gYXQgdGhpcyBsaW5lLlxuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfSBjYXRjaCAoZSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuXG59XG5cbmZ1bmN0aW9uIGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKGtleSwgYWN0aW9uKSB7XG4gIHZhciBhY3Rpb25UeXBlID0gYWN0aW9uICYmIGFjdGlvbi50eXBlO1xuICB2YXIgYWN0aW9uRGVzY3JpcHRpb24gPSBhY3Rpb25UeXBlICYmIFwiYWN0aW9uIFxcXCJcIiArIFN0cmluZyhhY3Rpb25UeXBlKSArIFwiXFxcIlwiIHx8ICdhbiBhY3Rpb24nO1xuICByZXR1cm4gXCJHaXZlbiBcIiArIGFjdGlvbkRlc2NyaXB0aW9uICsgXCIsIHJlZHVjZXIgXFxcIlwiICsga2V5ICsgXCJcXFwiIHJldHVybmVkIHVuZGVmaW5lZC4gXCIgKyBcIlRvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4gXCIgKyBcIklmIHlvdSB3YW50IHRoaXMgcmVkdWNlciB0byBob2xkIG5vIHZhbHVlLCB5b3UgY2FuIHJldHVybiBudWxsIGluc3RlYWQgb2YgdW5kZWZpbmVkLlwiO1xufVxuXG5mdW5jdGlvbiBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKGlucHV0U3RhdGUsIHJlZHVjZXJzLCBhY3Rpb24sIHVuZXhwZWN0ZWRLZXlDYWNoZSkge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBhcmd1bWVudE5hbWUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IEFjdGlvblR5cGVzLklOSVQgPyAncHJlbG9hZGVkU3RhdGUgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZVN0b3JlJyA6ICdwcmV2aW91cyBzdGF0ZSByZWNlaXZlZCBieSB0aGUgcmVkdWNlcic7XG5cbiAgaWYgKHJlZHVjZXJLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAnU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkICcgKyAndG8gY29tYmluZVJlZHVjZXJzIGlzIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIHJlZHVjZXJzLic7XG4gIH1cblxuICBpZiAoIWlzUGxhaW5PYmplY3QoaW5wdXRTdGF0ZSkpIHtcbiAgICByZXR1cm4gXCJUaGUgXCIgKyBhcmd1bWVudE5hbWUgKyBcIiBoYXMgdW5leHBlY3RlZCB0eXBlIG9mIFxcXCJcIiArIHt9LnRvU3RyaW5nLmNhbGwoaW5wdXRTdGF0ZSkubWF0Y2goL1xccyhbYS16fEEtWl0rKS8pWzFdICsgXCJcXFwiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIFwiICsgKFwia2V5czogXFxcIlwiICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCJcIik7XG4gIH1cblxuICB2YXIgdW5leHBlY3RlZEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dFN0YXRlKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiAhcmVkdWNlcnMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdW5leHBlY3RlZEtleUNhY2hlW2tleV07XG4gIH0pO1xuICB1bmV4cGVjdGVkS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XSA9IHRydWU7XG4gIH0pO1xuICBpZiAoYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBBY3Rpb25UeXBlcy5SRVBMQUNFKSByZXR1cm47XG5cbiAgaWYgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gXCJVbmV4cGVjdGVkIFwiICsgKHVuZXhwZWN0ZWRLZXlzLmxlbmd0aCA+IDEgPyAna2V5cycgOiAna2V5JykgKyBcIiBcIiArIChcIlxcXCJcIiArIHVuZXhwZWN0ZWRLZXlzLmpvaW4oJ1wiLCBcIicpICsgXCJcXFwiIGZvdW5kIGluIFwiICsgYXJndW1lbnROYW1lICsgXCIuIFwiKSArIFwiRXhwZWN0ZWQgdG8gZmluZCBvbmUgb2YgdGhlIGtub3duIHJlZHVjZXIga2V5cyBpbnN0ZWFkOiBcIiArIChcIlxcXCJcIiArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgXCJcXFwiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLlwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZWR1Y2VyU2hhcGUocmVkdWNlcnMpIHtcbiAgT2JqZWN0LmtleXMocmVkdWNlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciByZWR1Y2VyID0gcmVkdWNlcnNba2V5XTtcbiAgICB2YXIgaW5pdGlhbFN0YXRlID0gcmVkdWNlcih1bmRlZmluZWQsIHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLklOSVRcbiAgICB9KTtcblxuICAgIGlmICh0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVkdWNlciBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkIGR1cmluZyBpbml0aWFsaXphdGlvbi4gXCIgKyBcIklmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCBcIiArIFwiZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBcIiArIFwibm90IGJlIHVuZGVmaW5lZC4gSWYgeW91IGRvbid0IHdhbnQgdG8gc2V0IGEgdmFsdWUgZm9yIHRoaXMgcmVkdWNlciwgXCIgKyBcInlvdSBjYW4gdXNlIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuXCIpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVkdWNlcih1bmRlZmluZWQsIHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlBST0JFX1VOS05PV05fQUNUSU9OKClcbiAgICB9KSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlZHVjZXIgXFxcIlwiICsga2V5ICsgXCJcXFwiIHJldHVybmVkIHVuZGVmaW5lZCB3aGVuIHByb2JlZCB3aXRoIGEgcmFuZG9tIHR5cGUuIFwiICsgKFwiRG9uJ3QgdHJ5IHRvIGhhbmRsZSBcIiArIEFjdGlvblR5cGVzLklOSVQgKyBcIiBvciBvdGhlciBhY3Rpb25zIGluIFxcXCJyZWR1eC8qXFxcIiBcIikgKyBcIm5hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlIFwiICsgXCJjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCBcIiArIFwiaW4gd2hpY2ggY2FzZSB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUsIHJlZ2FyZGxlc3Mgb2YgdGhlIFwiICsgXCJhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQsIGJ1dCBjYW4gYmUgbnVsbC5cIik7XG4gICAgfVxuICB9KTtcbn1cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgZGlmZmVyZW50IHJlZHVjZXIgZnVuY3Rpb25zLCBpbnRvIGEgc2luZ2xlXG4gKiByZWR1Y2VyIGZ1bmN0aW9uLiBJdCB3aWxsIGNhbGwgZXZlcnkgY2hpbGQgcmVkdWNlciwgYW5kIGdhdGhlciB0aGVpciByZXN1bHRzXG4gKiBpbnRvIGEgc2luZ2xlIHN0YXRlIG9iamVjdCwgd2hvc2Uga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBrZXlzIG9mIHRoZSBwYXNzZWRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByZWR1Y2VycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGNvcnJlc3BvbmQgdG8gZGlmZmVyZW50XG4gKiByZWR1Y2VyIGZ1bmN0aW9ucyB0aGF0IG5lZWQgdG8gYmUgY29tYmluZWQgaW50byBvbmUuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluXG4gKiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhcyByZWR1Y2Vyc2Agc3ludGF4LiBUaGUgcmVkdWNlcnMgbWF5IG5ldmVyIHJldHVyblxuICogdW5kZWZpbmVkIGZvciBhbnkgYWN0aW9uLiBJbnN0ZWFkLCB0aGV5IHNob3VsZCByZXR1cm4gdGhlaXIgaW5pdGlhbCBzdGF0ZVxuICogaWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGVtIHdhcyB1bmRlZmluZWQsIGFuZCB0aGUgY3VycmVudCBzdGF0ZSBmb3IgYW55XG4gKiB1bnJlY29nbml6ZWQgYWN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSByZWR1Y2VyIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBldmVyeSByZWR1Y2VyIGluc2lkZSB0aGVcbiAqIHBhc3NlZCBvYmplY3QsIGFuZCBidWlsZHMgYSBzdGF0ZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNvbWJpbmVSZWR1Y2VycyhyZWR1Y2Vycykge1xuICB2YXIgcmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBmaW5hbFJlZHVjZXJzID0ge307XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWR1Y2VyS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSByZWR1Y2VyS2V5c1tpXTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHdhcm5pbmcoXCJObyByZWR1Y2VyIHByb3ZpZGVkIGZvciBrZXkgXFxcIlwiICsga2V5ICsgXCJcXFwiXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZmluYWxSZWR1Y2Vyc1trZXldID0gcmVkdWNlcnNba2V5XTtcbiAgICB9XG4gIH1cblxuICB2YXIgZmluYWxSZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKGZpbmFsUmVkdWNlcnMpOyAvLyBUaGlzIGlzIHVzZWQgdG8gbWFrZSBzdXJlIHdlIGRvbid0IHdhcm4gYWJvdXQgdGhlIHNhbWVcbiAgLy8ga2V5cyBtdWx0aXBsZSB0aW1lcy5cblxuICB2YXIgdW5leHBlY3RlZEtleUNhY2hlO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgdW5leHBlY3RlZEtleUNhY2hlID0ge307XG4gIH1cblxuICB2YXIgc2hhcGVBc3NlcnRpb25FcnJvcjtcblxuICB0cnkge1xuICAgIGFzc2VydFJlZHVjZXJTaGFwZShmaW5hbFJlZHVjZXJzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHNoYXBlQXNzZXJ0aW9uRXJyb3IgPSBlO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbWJpbmF0aW9uKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoc3RhdGUgPT09IHZvaWQgMCkge1xuICAgICAgc3RhdGUgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoc2hhcGVBc3NlcnRpb25FcnJvcikge1xuICAgICAgdGhyb3cgc2hhcGVBc3NlcnRpb25FcnJvcjtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgdmFyIHdhcm5pbmdNZXNzYWdlID0gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShzdGF0ZSwgZmluYWxSZWR1Y2VycywgYWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGUpO1xuXG4gICAgICBpZiAod2FybmluZ01lc3NhZ2UpIHtcbiAgICAgICAgd2FybmluZyh3YXJuaW5nTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICB2YXIgbmV4dFN0YXRlID0ge307XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfa2V5ID0gZmluYWxSZWR1Y2VyS2V5c1tfaV07XG4gICAgICB2YXIgcmVkdWNlciA9IGZpbmFsUmVkdWNlcnNbX2tleV07XG4gICAgICB2YXIgcHJldmlvdXNTdGF0ZUZvcktleSA9IHN0YXRlW19rZXldO1xuICAgICAgdmFyIG5leHRTdGF0ZUZvcktleSA9IHJlZHVjZXIocHJldmlvdXNTdGF0ZUZvcktleSwgYWN0aW9uKTtcblxuICAgICAgaWYgKHR5cGVvZiBuZXh0U3RhdGVGb3JLZXkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShfa2V5LCBhY3Rpb24pO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgIH1cblxuICAgICAgbmV4dFN0YXRlW19rZXldID0gbmV4dFN0YXRlRm9yS2V5O1xuICAgICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgbmV4dFN0YXRlRm9yS2V5ICE9PSBwcmV2aW91c1N0YXRlRm9yS2V5O1xuICAgIH1cblxuICAgIHJldHVybiBoYXNDaGFuZ2VkID8gbmV4dFN0YXRlIDogc3RhdGU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoKGFjdGlvbkNyZWF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH07XG59XG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvbiBjcmVhdG9ycywgaW50byBhbiBvYmplY3Qgd2l0aCB0aGVcbiAqIHNhbWUga2V5cywgYnV0IHdpdGggZXZlcnkgZnVuY3Rpb24gd3JhcHBlZCBpbnRvIGEgYGRpc3BhdGNoYCBjYWxsIHNvIHRoZXlcbiAqIG1heSBiZSBpbnZva2VkIGRpcmVjdGx5LiBUaGlzIGlzIGp1c3QgYSBjb252ZW5pZW5jZSBtZXRob2QsIGFzIHlvdSBjYW4gY2FsbFxuICogYHN0b3JlLmRpc3BhdGNoKE15QWN0aW9uQ3JlYXRvcnMuZG9Tb21ldGhpbmcoKSlgIHlvdXJzZWxmIGp1c3QgZmluZS5cbiAqXG4gKiBGb3IgY29udmVuaWVuY2UsIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFjdGlvbiBjcmVhdG9yIGFzIHRoZSBmaXJzdCBhcmd1bWVudCxcbiAqIGFuZCBnZXQgYSBkaXNwYXRjaCB3cmFwcGVkIGZ1bmN0aW9uIGluIHJldHVybi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gYWN0aW9uQ3JlYXRvcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uXG4gKiBjcmVhdG9yIGZ1bmN0aW9ucy4gT25lIGhhbmR5IHdheSB0byBvYnRhaW4gaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXNgXG4gKiBzeW50YXguIFlvdSBtYXkgYWxzbyBwYXNzIGEgc2luZ2xlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRpc3BhdGNoIFRoZSBgZGlzcGF0Y2hgIGZ1bmN0aW9uIGF2YWlsYWJsZSBvbiB5b3VyIFJlZHV4XG4gKiBzdG9yZS5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb258T2JqZWN0fSBUaGUgb2JqZWN0IG1pbWlja2luZyB0aGUgb3JpZ2luYWwgb2JqZWN0LCBidXQgd2l0aFxuICogZXZlcnkgYWN0aW9uIGNyZWF0b3Igd3JhcHBlZCBpbnRvIHRoZSBgZGlzcGF0Y2hgIGNhbGwuIElmIHlvdSBwYXNzZWQgYVxuICogZnVuY3Rpb24gYXMgYGFjdGlvbkNyZWF0b3JzYCwgdGhlIHJldHVybiB2YWx1ZSB3aWxsIGFsc28gYmUgYSBzaW5nbGVcbiAqIGZ1bmN0aW9uLlxuICovXG5cblxuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3JzKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCkge1xuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3JzLCBkaXNwYXRjaCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3JzICE9PSAnb2JqZWN0JyB8fCBhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImJpbmRBY3Rpb25DcmVhdG9ycyBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbiwgaW5zdGVhZCByZWNlaXZlZCBcIiArIChhY3Rpb25DcmVhdG9ycyA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiBhY3Rpb25DcmVhdG9ycykgKyBcIi4gXCIgKyBcIkRpZCB5b3Ugd3JpdGUgXFxcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXFxcIiBpbnN0ZWFkIG9mIFxcXCJpbXBvcnQgKiBhcyBBY3Rpb25DcmVhdG9ycyBmcm9tXFxcIj9cIik7XG4gIH1cblxuICB2YXIgYm91bmRBY3Rpb25DcmVhdG9ycyA9IHt9O1xuXG4gIGZvciAodmFyIGtleSBpbiBhY3Rpb25DcmVhdG9ycykge1xuICAgIHZhciBhY3Rpb25DcmVhdG9yID0gYWN0aW9uQ3JlYXRvcnNba2V5XTtcblxuICAgIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgYm91bmRBY3Rpb25DcmVhdG9yc1trZXldID0gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBib3VuZEFjdGlvbkNyZWF0b3JzO1xufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCkpO1xuICB9XG5cbiAgaWYgKGVudW1lcmFibGVPbmx5KSBrZXlzID0ga2V5cy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICB9KTtcbiAgcmV0dXJuIGtleXM7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQyKHRhcmdldCkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9O1xuXG4gICAgaWYgKGkgJSAyKSB7XG4gICAgICBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3duS2V5cyhzb3VyY2UpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogQ29tcG9zZXMgc2luZ2xlLWFyZ3VtZW50IGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuIFRoZSByaWdodG1vc3RcbiAqIGZ1bmN0aW9uIGNhbiB0YWtlIG11bHRpcGxlIGFyZ3VtZW50cyBhcyBpdCBwcm92aWRlcyB0aGUgc2lnbmF0dXJlIGZvclxuICogdGhlIHJlc3VsdGluZyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gZnVuY3MgVGhlIGZ1bmN0aW9ucyB0byBjb21wb3NlLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIG9idGFpbmVkIGJ5IGNvbXBvc2luZyB0aGUgYXJndW1lbnQgZnVuY3Rpb25zXG4gKiBmcm9tIHJpZ2h0IHRvIGxlZnQuIEZvciBleGFtcGxlLCBjb21wb3NlKGYsIGcsIGgpIGlzIGlkZW50aWNhbCB0byBkb2luZ1xuICogKC4uLmFyZ3MpID0+IGYoZyhoKC4uLmFyZ3MpKSkuXG4gKi9cbmZ1bmN0aW9uIGNvbXBvc2UoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBmdW5jc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9O1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBmdW5jc1swXTtcbiAgfVxuXG4gIHJldHVybiBmdW5jcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEoYi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdG9yZSBlbmhhbmNlciB0aGF0IGFwcGxpZXMgbWlkZGxld2FyZSB0byB0aGUgZGlzcGF0Y2ggbWV0aG9kXG4gKiBvZiB0aGUgUmVkdXggc3RvcmUuIFRoaXMgaXMgaGFuZHkgZm9yIGEgdmFyaWV0eSBvZiB0YXNrcywgc3VjaCBhcyBleHByZXNzaW5nXG4gKiBhc3luY2hyb25vdXMgYWN0aW9ucyBpbiBhIGNvbmNpc2UgbWFubmVyLCBvciBsb2dnaW5nIGV2ZXJ5IGFjdGlvbiBwYXlsb2FkLlxuICpcbiAqIFNlZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UgYXMgYW4gZXhhbXBsZSBvZiB0aGUgUmVkdXggbWlkZGxld2FyZS5cbiAqXG4gKiBCZWNhdXNlIG1pZGRsZXdhcmUgaXMgcG90ZW50aWFsbHkgYXN5bmNocm9ub3VzLCB0aGlzIHNob3VsZCBiZSB0aGUgZmlyc3RcbiAqIHN0b3JlIGVuaGFuY2VyIGluIHRoZSBjb21wb3NpdGlvbiBjaGFpbi5cbiAqXG4gKiBOb3RlIHRoYXQgZWFjaCBtaWRkbGV3YXJlIHdpbGwgYmUgZ2l2ZW4gdGhlIGBkaXNwYXRjaGAgYW5kIGBnZXRTdGF0ZWAgZnVuY3Rpb25zXG4gKiBhcyBuYW1lZCBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHsuLi5GdW5jdGlvbn0gbWlkZGxld2FyZXMgVGhlIG1pZGRsZXdhcmUgY2hhaW4gdG8gYmUgYXBwbGllZC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBzdG9yZSBlbmhhbmNlciBhcHBseWluZyB0aGUgbWlkZGxld2FyZS5cbiAqL1xuXG5mdW5jdGlvbiBhcHBseU1pZGRsZXdhcmUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlcyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBtaWRkbGV3YXJlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoY3JlYXRlU3RvcmUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0b3JlID0gY3JlYXRlU3RvcmUuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuXG4gICAgICB2YXIgX2Rpc3BhdGNoID0gZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRGlzcGF0Y2hpbmcgd2hpbGUgY29uc3RydWN0aW5nIHlvdXIgbWlkZGxld2FyZSBpcyBub3QgYWxsb3dlZC4gJyArICdPdGhlciBtaWRkbGV3YXJlIHdvdWxkIG5vdCBiZSBhcHBsaWVkIHRvIHRoaXMgZGlzcGF0Y2guJyk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgbWlkZGxld2FyZUFQSSA9IHtcbiAgICAgICAgZ2V0U3RhdGU6IHN0b3JlLmdldFN0YXRlLFxuICAgICAgICBkaXNwYXRjaDogZnVuY3Rpb24gZGlzcGF0Y2goKSB7XG4gICAgICAgICAgcmV0dXJuIF9kaXNwYXRjaC5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgY2hhaW4gPSBtaWRkbGV3YXJlcy5tYXAoZnVuY3Rpb24gKG1pZGRsZXdhcmUpIHtcbiAgICAgICAgcmV0dXJuIG1pZGRsZXdhcmUobWlkZGxld2FyZUFQSSk7XG4gICAgICB9KTtcbiAgICAgIF9kaXNwYXRjaCA9IGNvbXBvc2UuYXBwbHkodm9pZCAwLCBjaGFpbikoc3RvcmUuZGlzcGF0Y2gpO1xuICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQyKHt9LCBzdG9yZSwge1xuICAgICAgICBkaXNwYXRjaDogX2Rpc3BhdGNoXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xufVxuXG4vKlxuICogVGhpcyBpcyBhIGR1bW15IGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBmdW5jdGlvbiBuYW1lIGhhcyBiZWVuIGFsdGVyZWQgYnkgbWluaWZpY2F0aW9uLlxuICogSWYgdGhlIGZ1bmN0aW9uIGhhcyBiZWVuIG1pbmlmaWVkIGFuZCBOT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nLCB3YXJuIHRoZSB1c2VyLlxuICovXG5cbmZ1bmN0aW9uIGlzQ3J1c2hlZCgpIHt9XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHR5cGVvZiBpc0NydXNoZWQubmFtZSA9PT0gJ3N0cmluZycgJiYgaXNDcnVzaGVkLm5hbWUgIT09ICdpc0NydXNoZWQnKSB7XG4gIHdhcm5pbmcoJ1lvdSBhcmUgY3VycmVudGx5IHVzaW5nIG1pbmlmaWVkIGNvZGUgb3V0c2lkZSBvZiBOT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIuICcgKyAnVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gJyArICdZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgJyArICdvciBzZXR0aW5nIG1vZGUgdG8gcHJvZHVjdGlvbiBpbiB3ZWJwYWNrIChodHRwczovL3dlYnBhY2suanMub3JnL2NvbmNlcHRzL21vZGUvKSAnICsgJ3RvIGVuc3VyZSB5b3UgaGF2ZSB0aGUgY29ycmVjdCBjb2RlIGZvciB5b3VyIHByb2R1Y3Rpb24gYnVpbGQuJyk7XG59XG5cbmV4cG9ydCB7IEFjdGlvblR5cGVzIGFzIF9fRE9fTk9UX1VTRV9fQWN0aW9uVHlwZXMsIGFwcGx5TWlkZGxld2FyZSwgYmluZEFjdGlvbkNyZWF0b3JzLCBjb21iaW5lUmVkdWNlcnMsIGNvbXBvc2UsIGNyZWF0ZVN0b3JlIH07XG4iLCIndXNlIHN0cmljdCdcblxudmFyIGN1cnJ5MiA9IHJlcXVpcmUoJ2N1cnJ5MicpXG52YXIgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzZWxlY3RuJylcbnZhciBkb3R0ZWQgPSByZXF1aXJlKCdicmFja2V0czJkb3RzJylcbnZhciBzcGxpdHMgPSByZXF1aXJlKCdkb3RzcGxpdC5qcycpXG52YXIgc3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuXG5tb2R1bGUuZXhwb3J0cyA9IGN1cnJ5MihzZWxlY3RuKVxuXG4vKipcbiAqIEN1cnJpZWQgcHJvcGVydHkgYWNjZXNzb3IgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyBkZWVwbHktbmVzdGVkIG9iamVjdCBwcm9wZXJ0aWVzIHZpYSBkb3QvYnJhY2tldC1ub3RhdGlvblxuICogc3RyaW5nIHBhdGggd2hpbGUgbWl0aWdhdGluZyBgVHlwZUVycm9yc2AgdmlhIGZyaWVuZGx5IGFuZCBjb21wb3NhYmxlIEFQSS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gcGF0aFxuICogRG90L2JyYWNrZXQtbm90YXRpb24gc3RyaW5nIHBhdGggb3IgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICogT2JqZWN0IHRvIGFjY2Vzcy5cbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbnwqfHVuZGVmaW5lZH1cbiAqICgxKSByZXR1cm5zIGBzZWxlY3RuLzFgIHdoZW4gcGFydGlhbGx5IGFwcGxpZWQuXG4gKiAoMikgcmV0dXJucyB2YWx1ZSBhdCBwYXRoIGlmIHBhdGggZXhpc3RzLlxuICogKDMpIHJldHVybnMgdW5kZWZpbmVkIGlmIHBhdGggZG9lcyBub3QgZXhpc3QuXG4gKi9cbmZ1bmN0aW9uIHNlbGVjdG4gKHBhdGgsIG9iamVjdCkge1xuICBkZWJ1ZygnYXJndW1lbnRzOicsIHtcbiAgICBwYXRoOiBwYXRoLFxuICAgIG9iamVjdDogb2JqZWN0XG4gIH0pXG5cbiAgdmFyIGlkeCA9IC0xXG4gIHZhciBzZWcgPSBzdHJpbmcuY2FsbChwYXRoKSA9PT0gJ1tvYmplY3QgQXJyYXldJyA/IHBhdGggOiBzcGxpdHMoZG90dGVkKHBhdGgpKVxuICB2YXIgZW5kID0gc2VnLmxlbmd0aFxuICB2YXIgcmVmID0gZW5kID8gb2JqZWN0IDogdm9pZCAwXG5cbiAgd2hpbGUgKCsraWR4IDwgZW5kKSB7XG4gICAgaWYgKE9iamVjdChyZWYpICE9PSByZWYpIHJldHVybiB2b2lkIDBcbiAgICByZWYgPSByZWZbc2VnW2lkeF1dXG4gIH1cblxuICBkZWJ1ZygncmVmOicsIHJlZilcbiAgcmV0dXJuIHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicgPyByZWYoKSA6IHJlZlxufVxuIiwiLy9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQiwgY29tcGFyZSwgY29tcGFyZUNvbnRleHQpIHtcbiAgdmFyIHJldCA9IGNvbXBhcmUgPyBjb21wYXJlLmNhbGwoY29tcGFyZUNvbnRleHQsIG9iakEsIG9iakIpIDogdm9pZCAwO1xuXG4gIGlmIChyZXQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiAhIXJldDtcbiAgfVxuXG4gIGlmIChvYmpBID09PSBvYmpCKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIG9iakEgIT09IFwib2JqZWN0XCIgfHwgIW9iakEgfHwgdHlwZW9mIG9iakIgIT09IFwib2JqZWN0XCIgfHwgIW9iakIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKTtcbiAgdmFyIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG5cbiAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGJIYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuYmluZChvYmpCKTtcblxuICAvLyBUZXN0IGZvciBBJ3Mga2V5cyBkaWZmZXJlbnQgZnJvbSBCLlxuICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBrZXlzQS5sZW5ndGg7IGlkeCsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNBW2lkeF07XG5cbiAgICBpZiAoIWJIYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlQSA9IG9iakFba2V5XTtcbiAgICB2YXIgdmFsdWVCID0gb2JqQltrZXldO1xuXG4gICAgcmV0ID0gY29tcGFyZSA/IGNvbXBhcmUuY2FsbChjb21wYXJlQ29udGV4dCwgdmFsdWVBLCB2YWx1ZUIsIGtleSkgOiB2b2lkIDA7XG5cbiAgICBpZiAocmV0ID09PSBmYWxzZSB8fCAocmV0ID09PSB2b2lkIDAgJiYgdmFsdWVBICE9PSB2YWx1ZUIpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xuaW1wb3J0IHBvbnlmaWxsIGZyb20gJy4vcG9ueWZpbGwuanMnO1xuXG52YXIgcm9vdDtcblxuaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gc2VsZjtcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IG1vZHVsZTtcbn0gZWxzZSB7XG4gIHJvb3QgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xufVxuXG52YXIgcmVzdWx0ID0gcG9ueWZpbGwocm9vdCk7XG5leHBvcnQgZGVmYXVsdCByZXN1bHQ7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cblx0aWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFN5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcmlnaW5hbE1vZHVsZSkge1xuXHRpZiAoIW9yaWdpbmFsTW9kdWxlLndlYnBhY2tQb2x5ZmlsbCkge1xuXHRcdHZhciBtb2R1bGUgPSBPYmplY3QuY3JlYXRlKG9yaWdpbmFsTW9kdWxlKTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJleHBvcnRzXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWVcblx0XHR9KTtcblx0XHRtb2R1bGUud2VicGFja1BvbHlmaWxsID0gMTtcblx0fVxuXHRyZXR1cm4gbW9kdWxlO1xufTtcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG4vLyBQb2RzIGRlcGVuZGVuY2llc1xyXG5pbXBvcnQgeyBTVE9SRV9LRVlfRURJVF9QT0QgfSBmcm9tICdwb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvc3RvcmUvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgUG9kc0RGVlNsdWdnYWJsZSB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zbHVnZ2FibGUnO1xyXG5cclxuLy8gV29yZFByZXNzIGRlcGVuZGVuY2llc1xyXG4vLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcclxuY29uc3QgeyBfXyB9ID0gd3AuaTE4bjtcclxuY29uc3QgeyB3aXRoU2VsZWN0LCB3aXRoRGlzcGF0Y2ggfSA9IHdwLmRhdGE7XHJcbmNvbnN0IHsgY29tcG9zZSB9ID0gd3AuY29tcG9zZTtcclxuXHJcbmV4cG9ydCBjb25zdCBFZGl0UG9kTmFtZSA9IGNvbXBvc2UgKCBbXHJcblx0d2l0aFNlbGVjdCggKCBzZWxlY3QgKSA9PiB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRwb2ROYW1lOiBzZWxlY3QoIFNUT1JFX0tFWV9FRElUX1BPRCApLmdldFBvZE5hbWUoKVxyXG5cdFx0fTtcclxuXHR9ICksXHJcblx0d2l0aERpc3BhdGNoKCAoIGRpc3BhdGNoICkgPT4ge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0c2V0UG9kTmFtZTogZGlzcGF0Y2goIFNUT1JFX0tFWV9FRElUX1BPRCApLnNldFBvZE5hbWVcclxuXHRcdH07XHJcblx0fSApXHJcbl0gKVxyXG4oICggcHJvcHMgKSA9PiB7XHJcblx0cmV0dXJuIChcclxuXHRcdDxoMj5cclxuXHRcdFx0e19fKCAnRWRpdCBQb2Q6ICcsICdwb2RzJyApfVxyXG5cdFx0XHR7J1xcdTAwQTAnIC8qICZuYnNwOyAqL31cclxuXHRcdFx0PFBvZHNERlZTbHVnZ2FibGVcclxuXHRcdFx0XHR2YWx1ZT17cHJvcHMucG9kTmFtZX1cclxuXHRcdFx0XHR1cGRhdGVWYWx1ZT17cHJvcHMuc2V0UG9kTmFtZX1cclxuXHRcdFx0Lz5cclxuXHRcdDwvaDI+XHJcblx0KTtcclxufSApO1xyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuLy8gUG9kcyBkZXBlbmRlbmNpZXNcclxuaW1wb3J0IHdpdGhEcmFnRHJvcENvbnRleHQgZnJvbSAnLi93aXRoLWRyYWctZHJvcC1jb250ZXh0JztcclxuaW1wb3J0IHsgU1RPUkVfS0VZX0VESVRfUE9EIH0gZnJvbSAnLi9zdG9yZS9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBoYW5kbGVTdWJtaXQgfSBmcm9tICcuL2hhbmRsZS1zdWJtaXQnO1xyXG5pbXBvcnQgeyBTYXZlU3RhdHVzTWVzc2FnZSB9IGZyb20gJy4vc2F2ZS1zdGF0dXMtbWVzc2FnZSc7XHJcbmltcG9ydCB7IEVkaXRQb2ROYW1lIH0gZnJvbSAnLi9lZGl0LXBvZC1uYW1lJztcclxuaW1wb3J0IHsgUG9kc05hdlRhYiB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb21wb25lbnRzL3RhYnMvcG9kcy1uYXYtdGFiJztcclxuaW1wb3J0IHsgQWN0aXZlVGFiQ29udGVudCB9IGZyb20gJy4vbWFpbi10YWJzL2FjdGl2ZS10YWItY29udGVudCc7XHJcbmltcG9ydCB7IFBvc3Rib3ggfSBmcm9tICcuL3Bvc3Rib3gnO1xyXG5cclxuLy8gV29yZFByZXNzIGRlcGVuZGVuY2llc1xyXG5jb25zdCB7IHdpdGhTZWxlY3QsIHdpdGhEaXNwYXRjaCB9ID0gd3AuZGF0YTtcclxuY29uc3QgeyBjb21wb3NlIH0gPSB3cC5jb21wb3NlO1xyXG5cclxuY29uc3QgU3RvcmVTdWJzY3JpYmUgPSBjb21wb3NlKCBbXHJcblx0d2l0aFNlbGVjdCggKCBzZWxlY3QgKSA9PiB7XHJcblx0XHRjb25zdCBzdG9yZVNlbGVjdCA9IHNlbGVjdCggU1RPUkVfS0VZX0VESVRfUE9EICk7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHR0YWJzOiBzdG9yZVNlbGVjdC5nZXRUYWJzKCksXHJcblx0XHRcdGFjdGl2ZVRhYjogc3RvcmVTZWxlY3QuZ2V0QWN0aXZlVGFiKCksXHJcblx0XHR9O1xyXG5cdH0gKSxcclxuXHR3aXRoRGlzcGF0Y2goICggZGlzcGF0Y2ggKSA9PiB7XHJcblx0XHRjb25zdCBzdG9yZURpc3BhdGNoID0gZGlzcGF0Y2goIFNUT1JFX0tFWV9FRElUX1BPRCApO1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0c2V0QWN0aXZlVGFiOiBzdG9yZURpc3BhdGNoLnNldEFjdGl2ZVRhYixcclxuXHRcdH07XHJcblx0fSApXHJcbl0gKTtcclxuXHJcbmNvbnN0IEVkaXRQb2QgPSBTdG9yZVN1YnNjcmliZSggKCBwcm9wcyApID0+IHtcclxuXHJcbi8vLS0hIFRvZG86IGRlYnVnZ2luZyBvbmx5XHJcblx0d2luZG93LnNlbGVjdCA9IHdwLmRhdGEuc2VsZWN0KCAncG9kcy9lZGl0LXBvZCcgKTtcclxuXHR3aW5kb3cuZGlzcGF0Y2ggPSB3cC5kYXRhLmRpc3BhdGNoKCAncG9kcy9lZGl0LXBvZCcgKTtcclxuLy8tLSEgVG9kbzogZGVidWdnaW5nIG9ubHlcclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDxmb3JtXHJcblx0XHRcdG9uU3VibWl0PXsoIGUgKSA9PiBoYW5kbGVTdWJtaXQoIGUsIHByb3BzICl9PlxyXG5cdFx0XHQ8ZGl2PlxyXG5cdFx0XHRcdDxFZGl0UG9kTmFtZSAvPlxyXG5cdFx0XHRcdDxTYXZlU3RhdHVzTWVzc2FnZSAvPlxyXG5cdFx0XHRcdDxQb2RzTmF2VGFiXHJcblx0XHRcdFx0XHR0YWJzPXtwcm9wcy50YWJzfVxyXG5cdFx0XHRcdFx0YWN0aXZlVGFiPXtwcm9wcy5hY3RpdmVUYWJ9XHJcblx0XHRcdFx0XHRzZXRBY3RpdmVUYWI9e3Byb3BzLnNldEFjdGl2ZVRhYn1cclxuXHRcdFx0XHQvPlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PGRpdiBpZD0ncG9zdHN0dWZmJz5cclxuXHRcdFx0XHQ8ZGl2IGlkPSdwb3N0LWJvZHknIGNsYXNzTmFtZT0nY29sdW1ucy0yJz5cclxuXHRcdFx0XHRcdDxBY3RpdmVUYWJDb250ZW50IC8+XHJcblx0XHRcdFx0XHQ8UG9zdGJveCAvPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdDwvZm9ybT5cclxuXHQpO1xyXG59ICk7XHJcblxyXG5leHBvcnQgY29uc3QgUG9kc0RGVkVkaXRQb2QgPSB3aXRoRHJhZ0Ryb3BDb250ZXh0KCBFZGl0UG9kICk7XHJcbiIsImNvbnN0IEFKQVhfQUNUSU9OID0gJ3BvZHNfYWRtaW5fcHJvdG8nO1xyXG5cclxuZXhwb3J0IGNvbnN0IGhhbmRsZVN1Ym1pdCA9ICggZSwgcHJvcHMgKSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuXHRjb25zdCByZXF1ZXN0RGF0YSA9IHtcclxuXHRcdCdpZCc6IHByb3BzLnBvZE1ldGEuaWQsXHJcblx0XHQnbmFtZSc6IHByb3BzLnBvZE1ldGEubmFtZSxcclxuXHRcdCdvbGRfbmFtZSc6IHByb3BzLnBvZE1ldGEubmFtZSxcclxuXHRcdCdfd3Bub25jZSc6IHByb3BzLm5vbmNlLFxyXG5cdFx0J2ZpZWxkcyc6IHByb3BzLmZpZWxkc1xyXG5cdH07XHJcblxyXG5cdC8qXHJcblx0cHJvcHMuc2V0U2F2ZVN0YXR1cyggc2F2ZVN0YXR1c2VzLlNBVklORyApO1xyXG5cdGZldGNoKCBgJHthamF4dXJsfT9wb2RzX2FqYXg9MSZhY3Rpb249JHtBSkFYX0FDVElPTn1gLCB7XHJcblx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0J0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuXHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0fSxcclxuXHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KCByZXF1ZXN0RGF0YSApXHJcblx0fSApXHJcblx0LnRoZW4oXHJcblx0XHQoIHJlc3VsdCApID0+IHtcclxuXHRcdFx0Y29uc29sZS5sb2coIHJlc3VsdCApO1xyXG5cdFx0XHRwcm9wcy5zZXRTYXZlU3RhdHVzKCBzYXZlU3RhdHVzZXMuU0FWRV9TVUNDRVNTICk7XHJcblx0XHR9LFxyXG5cdFx0KCBlcnJvciApID0+IHtcclxuXHRcdFx0Y29uc29sZS5sb2coIGVycm9yICk7XHJcblx0XHRcdHByb3BzLnNldFNhdmVTdGF0dXMoIHNhdmVTdGF0dXNlcy5TQVZFX0VSUk9SICk7XHJcblx0XHR9XHJcblx0KTtcclxuXHQgKi9cclxufTtcclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbi8vIFdvcmRQcmVzcyBkZXBlbmRlbmNpZXNcclxuY29uc3QgeyB3aXRoU2VsZWN0LCB3aXRoRGlzcGF0Y2ggfSA9IHdwLmRhdGE7XHJcbmNvbnN0IHsgY29tcG9zZSB9ID0gd3AuY29tcG9zZTtcclxuXHJcbi8vIFBvZHMgZGVwZW5kZW5jaWVzXHJcbmltcG9ydCB7IFNUT1JFX0tFWV9FRElUX1BPRCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBEeW5hbWljVGFiQ29udGVudCB9IGZyb20gJy4vZHluYW1pYy10YWItY29udGVudCc7XHJcbmltcG9ydCB7IEZpZWxkR3JvdXBzIH0gZnJvbSAnLi9maWVsZC1ncm91cHMnO1xyXG5cclxuY29uc3QgU3RvcmVTdWJzY3JpYmUgPSBjb21wb3NlKCBbXHJcblx0d2l0aFNlbGVjdCggKCBzZWxlY3QgKSA9PiB7XHJcblx0XHRjb25zdCBzdG9yZVNlbGVjdCA9IHNlbGVjdCggU1RPUkVfS0VZX0VESVRfUE9EICk7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRhY3RpdmVUYWI6IHN0b3JlU2VsZWN0LmdldEFjdGl2ZVRhYigpLFxyXG5cdFx0XHR0YWJPcHRpb25zOiBzdG9yZVNlbGVjdC5nZXRUYWJPcHRpb25zKCBzdG9yZVNlbGVjdC5nZXRBY3RpdmVUYWIoKSApLFxyXG5cdFx0XHRncm91cHM6IHN0b3JlU2VsZWN0LmdldEdyb3VwcygpLFxyXG5cdFx0XHRnZXRPcHRpb25WYWx1ZTogc3RvcmVTZWxlY3QuZ2V0T3B0aW9uVmFsdWUsXHJcblx0XHRcdGdldEdyb3VwRmllbGRzOiBzdG9yZVNlbGVjdC5nZXRHcm91cEZpZWxkcyxcclxuXHRcdFx0Z3JvdXBMaXN0OiBzdG9yZVNlbGVjdC5nZXRHcm91cExpc3QoKSxcclxuXHRcdH07XHJcblx0fSApLFxyXG5cdHdpdGhEaXNwYXRjaCggKCBkaXNwYXRjaCApID0+IHtcclxuXHRcdGNvbnN0IHN0b3JlRGlzcGF0Y2ggPSBkaXNwYXRjaCggU1RPUkVfS0VZX0VESVRfUE9EICk7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRzZXRPcHRpb25WYWx1ZTogc3RvcmVEaXNwYXRjaC5zZXRPcHRpb25WYWx1ZSxcclxuXHRcdFx0c2V0R3JvdXBMaXN0OiBzdG9yZURpc3BhdGNoLnNldEdyb3VwTGlzdCxcclxuXHRcdFx0bW92ZUdyb3VwOiBzdG9yZURpc3BhdGNoLm1vdmVHcm91cCxcclxuXHRcdH07XHJcblx0fSApXHJcbl0gKTtcclxuXHJcbi8qKlxyXG4gKiBBY3RpdmVUYWJDb250ZW50XHJcbiAqXHJcbiAqIERpc3BsYXkgdGhlIGNvbnRlbnQgZm9yIHRoZSBhY3RpdmUgdGFiLCBtYW5hZ2UtZmllbGRzIGlzIHRyZWF0ZWQgc3BlY2lhbFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IEFjdGl2ZVRhYkNvbnRlbnQgPSBTdG9yZVN1YnNjcmliZSAoICggcHJvcHMgKSA9PiB7XHJcblx0bGV0IENvbXBvbmVudDtcclxuXHJcblx0aWYgKCAnbWFuYWdlLWZpZWxkcycgPT09IHByb3BzLmFjdGl2ZVRhYiApIHtcclxuXHRcdENvbXBvbmVudCA9IChcclxuXHRcdFx0PEZpZWxkR3JvdXBzXHJcblx0XHRcdFx0Z3JvdXBzPXtwcm9wcy5ncm91cHN9XHJcblx0XHRcdFx0Z2V0R3JvdXBGaWVsZHM9e3Byb3BzLmdldEdyb3VwRmllbGRzfVxyXG5cdFx0XHRcdGdyb3VwTGlzdD17cHJvcHMuZ3JvdXBMaXN0fVxyXG5cdFx0XHRcdHNldEdyb3VwTGlzdD17cHJvcHMuc2V0R3JvdXBMaXN0fVxyXG5cdFx0XHRcdG1vdmVHcm91cD17cHJvcHMubW92ZUdyb3VwfVxyXG5cdFx0XHQvPlxyXG5cdFx0KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Q29tcG9uZW50ID0gKFxyXG5cdFx0XHQ8RHluYW1pY1RhYkNvbnRlbnRcclxuXHRcdFx0XHR0YWJPcHRpb25zPXtwcm9wcy50YWJPcHRpb25zfVxyXG5cdFx0XHRcdGdldE9wdGlvblZhbHVlPXtwcm9wcy5nZXRPcHRpb25WYWx1ZX1cclxuXHRcdFx0XHRzZXRPcHRpb25WYWx1ZT17cHJvcHMuc2V0T3B0aW9uVmFsdWV9XHJcblx0XHRcdC8+XHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDxkaXZcclxuXHRcdFx0aWQ9J3Bvc3QtYm9keS1jb250ZW50J1xyXG5cdFx0XHRjbGFzc05hbWU9J3BvZHMtbmF2LXRhYi1ncm91cCBwb2RzLW1hbmFnZS1maWVsZCdcclxuXHRcdD5cclxuXHRcdFx0e0NvbXBvbmVudH1cclxuXHRcdDwvZGl2PlxyXG5cdCk7XHJcbn0gKTtcclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyBlYWNoLCBpc09iamVjdCB9IGZyb20gJ2xvZGFzaCc7XHJcblxyXG4vLyBXb3JkUHJlc3MgRGVwZW5kZW5jaWVzXHJcbi8vIG5vaW5zcGVjdGlvbiBKU1VucmVzb2x2ZWRWYXJpYWJsZVxyXG5jb25zdCB7IHNwcmludGYsIF9fIH0gPSB3cC5pMThuO1xyXG5cclxuLy8gUG9kIGRlcGVuZGVuY2llc1xyXG5pbXBvcnQgeyBQb2RzRmllbGRPcHRpb24gfSBmcm9tICdwb2RzLWRmdi9zcmMvY29tcG9uZW50cy9maWVsZC1vcHRpb24nO1xyXG5cclxuY29uc3QgTUlTU0lORyA9IF9fKCAnW01JU1NJTkcgREVGQVVMVF0nLCAncG9kcycgKTtcclxuXHJcbi8qKlxyXG4gKiBvcHRpb24gZGF0YSBmb3JtYXRcclxuICoge1xyXG4gKiAgICAgb3B0aW9uTmFtZToge1xyXG4gKiAgICAgICAgIC8vIGRlZmF1bHQgbWF5IGdldCByZW1vdmVkLi4uIG1lcmdlIGl0IGludG8gdmFsdWUgb24gdGhlIHNlcnZlciBzaWRlLFxyXG4gKiAgICAgICAgIC8vIGl0J3MgYSBvbmUtdGltZSB0aGluZ1xyXG4gKiAgICAgICAgIGRlZmF1bHQ6ICcnLFxyXG4gKiAgICAgICAgIGRlcGVuZHMtb246IHsgb3B0aW9uTmFtZTogZGVwZW5kZW50VmFsdWUgfSxcclxuICogICAgICAgICBoZWxwOiAnaGVscCcsXHJcbiAqICAgICAgICAgbGFiZWw6ICdYWFggJXMnLFxyXG4gKiAgICAgICAgIGxhYmVsX3BhcmFtOiAnb3B0aW9uTmFtZScsXHJcbiAqICAgICAgICAgcGFyYW1fZGVmYXVsdDogJ0l0ZW0nLFxyXG4gKiAgICAgICAgIHR5cGU6ICd0ZXh0LCBib29sZWFuLCBudW1iZXIsIHBpY2ssIGZpbGUnXHJcbiAqICAgICAgICAgdmFsdWU6ICcnXHJcbiAqICAgICB9XHJcbiAqIH1cclxuICovXHJcblxyXG4vKipcclxuICogRHluYW1pY1RhYkNvbnRlbnRcclxuICovXHJcbmV4cG9ydCBjb25zdCBEeW5hbWljVGFiQ29udGVudCA9ICggcHJvcHMgKSA9PiB7XHJcblx0Y29uc3QgeyB0YWJPcHRpb25zLCBnZXRPcHRpb25WYWx1ZSwgc2V0T3B0aW9uVmFsdWUgfSA9IHByb3BzO1xyXG5cclxuXHRjb25zdCBnZXRMYWJlbFZhbHVlID0gKCBsYWJlbEZvcm1hdCwgcGFyYW1PcHRpb24sIHBhcmFtRGVmYXVsdCApID0+IHtcclxuXHRcdGlmICggIXBhcmFtT3B0aW9uICkge1xyXG5cdFx0XHRyZXR1cm4gbGFiZWxGb3JtYXQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcGFyYW0gPSBnZXRPcHRpb25WYWx1ZSggcGFyYW1PcHRpb24gKSB8fCBwYXJhbURlZmF1bHQgfHwgTUlTU0lORztcclxuXHRcdHJldHVybiBzcHJpbnRmKCBsYWJlbEZvcm1hdCwgcGFyYW0gKTtcclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gdGFiT3B0aW9ucy5tYXAoIG9wdGlvbiA9PiAoXHJcblx0XHQ8RGVwZW5kZW50RmllbGRPcHRpb25cclxuXHRcdFx0a2V5PXtvcHRpb24ubmFtZX1cclxuXHRcdFx0ZmllbGRUeXBlPXtvcHRpb24udHlwZX1cclxuXHRcdFx0bmFtZT17b3B0aW9uLm5hbWV9XHJcblx0XHRcdGxhYmVsPXtnZXRMYWJlbFZhbHVlKCBvcHRpb24ubGFiZWwsIG9wdGlvbi5sYWJlbF9wYXJhbSwgb3B0aW9uLnBhcmFtX2RlZmF1bHQgKX1cclxuXHRcdFx0dmFsdWU9e29wdGlvbi52YWx1ZSB8fCAnJ31cclxuXHRcdFx0ZGVwZW5kZW50cz17b3B0aW9uWyAnZGVwZW5kcy1vbicgXX1cclxuXHRcdFx0aGVscFRleHQ9e29wdGlvbi5oZWxwfVxyXG5cdFx0XHRnZXRPcHRpb25WYWx1ZT17Z2V0T3B0aW9uVmFsdWV9XHJcblx0XHRcdHNldE9wdGlvblZhbHVlPXtzZXRPcHRpb25WYWx1ZX1cclxuXHRcdC8+XHJcblx0KSApO1xyXG59O1xyXG5EeW5hbWljVGFiQ29udGVudC5wcm9wVHlwZXMgPSB7XHJcblx0dGFiT3B0aW9uczogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXHJcblx0Z2V0T3B0aW9uVmFsdWU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcblx0c2V0T3B0aW9uVmFsdWU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG4vKipcclxuICogRGVwZW5kZW50RmllbGRPcHRpb25cclxuICpcclxuICogQ29uZGl0aW9uYWxseSBkaXNwbGF5IGEgRmllbGRPcHRpb24gKGRlcGVuZHMtb24gc3VwcG9ydClcclxuICovXHJcbmNvbnN0IERlcGVuZGVudEZpZWxkT3B0aW9uID0gKCBwcm9wcyApID0+IHtcclxuXHRjb25zdCB7IGZpZWxkVHlwZSwgbmFtZSwgbGFiZWwsIHZhbHVlLCBkZXBlbmRlbnRzIH0gPSBwcm9wcztcclxuXHRjb25zdCB7IGdldE9wdGlvblZhbHVlLCBzZXRPcHRpb25WYWx1ZSB9ID0gcHJvcHM7XHJcblxyXG5cdGNvbnN0IGhhbmRsZUlucHV0Q2hhbmdlID0gKCBlICkgPT4ge1xyXG5cdFx0Y29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcblx0XHRjb25zdCB2YWx1ZSA9ICdjaGVja2JveCcgPT09IHRhcmdldC50eXBlID8gdGFyZ2V0LmNoZWNrZWQgOiB0YXJnZXQudmFsdWU7XHJcblxyXG5cdFx0c2V0T3B0aW9uVmFsdWUoIG5hbWUsIHZhbHVlICk7XHJcblx0fTtcclxuXHJcblx0aWYgKCAhbWVldHNEZXBlbmRlbmNpZXMoIGRlcGVuZGVudHMsIGdldE9wdGlvblZhbHVlICkgKSB7XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdHJldHVybiAoXHJcblx0XHQ8UG9kc0ZpZWxkT3B0aW9uXHJcblx0XHRcdGZpZWxkVHlwZT17ZmllbGRUeXBlfVxyXG5cdFx0XHRuYW1lPXtuYW1lfVxyXG5cdFx0XHR2YWx1ZT17dmFsdWV9XHJcblx0XHRcdGxhYmVsPXtsYWJlbH1cclxuXHRcdFx0b25DaGFuZ2U9e2hhbmRsZUlucHV0Q2hhbmdlfVxyXG5cdFx0XHRoZWxwVGV4dD17cHJvcHMuaGVscFRleHR9XHJcblx0XHQvPlxyXG5cdCk7XHJcbn07XHJcbkRlcGVuZGVudEZpZWxkT3B0aW9uLnByb3BUeXBlcyA9IHtcclxuXHRmaWVsZFR5cGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuXHRuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcblx0dmFsdWU6IFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZCxcclxuXHRsYWJlbDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG5cdGRlcGVuZGVudHM6IFByb3BUeXBlcy5vYmplY3QsXHJcblx0aGVscFRleHQ6IFByb3BUeXBlcy5hbnksXHJcblx0Z2V0T3B0aW9uVmFsdWU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcblx0c2V0T3B0aW9uVmFsdWU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG4vKipcclxuICpcclxuICogQHBhcmFtIHtvYmplY3R8b2JqZWN0W119IGRlcGVuZGVuY2llcyBEaWN0aW9uYXJ5IGluIHRoZSBmb3JtIG9wdGlvbk5hbWU6IHJlcXVpcmVkVmFsXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGdldE9wdGlvblZhbHVlIFNlbGVjdG9yIHRvIGxvb2t1cCBvcHRpb24gdmFsdWVzIGJ5IG5hbWVcclxuICpcclxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHNwZWNpZmllZCBkZXBlbmRlbmNpZXMgYXJlIG1ldFxyXG4gKi9cclxuY29uc3QgbWVldHNEZXBlbmRlbmNpZXMgPSAoIGRlcGVuZGVuY2llcywgZ2V0T3B0aW9uVmFsdWUgKSA9PiB7XHJcblx0bGV0IHJldFZhbCA9IHRydWU7XHJcblxyXG5cdGlmICggZGVwZW5kZW5jaWVzICYmIGlzT2JqZWN0KCBkZXBlbmRlbmNpZXMgKSApIHtcclxuXHRcdGVhY2goIGRlcGVuZGVuY2llcywgKCBkZXBlbmRlbnRWYWx1ZSwgZGVwZW5kZW50T3B0aW9uTmFtZSApID0+IHtcclxuXHRcdFx0Ly8gTG9vc2UgY29tcGFyaXNvbiByZXF1aXJlZCwgdmFsdWVzIG1heSBiZSAxLzAgZXhwZWN0aW5nIHRydWUvZmFsc2VcclxuXHRcdFx0Ly8gbm9pbnNwZWN0aW9uIEVxdWFsaXR5Q29tcGFyaXNvbldpdGhDb2VyY2lvbkpTXHJcblx0XHRcdGlmICggZ2V0T3B0aW9uVmFsdWUoIGRlcGVuZGVudE9wdGlvbk5hbWUgKSAhPSBkZXBlbmRlbnRWYWx1ZSApIHtcclxuXHRcdFx0XHRyZXRWYWwgPSBmYWxzZTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7IC8vIEVhcmx5LWV4aXRzIHRoZSBsb29wIG9ubHksIG5vdCB0aGUgZnVuY3Rpb25cclxuXHRcdFx0fVxyXG5cdFx0fSApO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHJldFZhbDtcclxufTtcclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuY29uc3QgeyBNb2RhbCB9ID0gd3AuY29tcG9uZW50cztcclxuY29uc3QgeyBfXyB9ID0gd3AuaTE4bjtcclxuXHJcbmV4cG9ydCBjb25zdCBGaWVsZEdyb3VwU2V0dGluZ3MgPSAoeyBncm91cE5hbWUsIHNob3cgfSkgPT4ge1xyXG5cdGNvbnN0IGNsb3NlTW9kYWwgPSAoZSkgPT4ge1xyXG5cdFx0ZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHRcdHNob3coZmFsc2UpO1xyXG5cdH07XHJcblxyXG5cdHJldHVybiAoXHJcblx0XHQ8TW9kYWxcclxuXHRcdFx0Y2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncyBwb2RzLWZpZWxkLWdyb3VwX3NldHRpbmdzLS12aXNpYmxlXCJcclxuXHRcdFx0dGl0bGU9e2Ake2dyb3VwTmFtZX0gYCArIF9fKCdTZXR0aW5ncycsICdwb2RzJyl9XHJcblx0XHRcdG9uUmVxdWVzdENsb3NlPXsoZSkgPT4gY2xvc2VNb2RhbChlKX0+XHJcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncy1jb250YWluZXJcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQtZ3JvdXBfc2V0dGluZ3Mtb3B0aW9uc1wiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwX3NldHRpbmdzLXNpZGViYXJcIiByb2xlPVwidGFibGlzdFwiIGFyaWEtbGFiZWw9XCJQb2RzIEZpZWxkIEdyb3VwIFNldHRpbmdzXCI+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncy1zaWRlYmFyLWl0ZW0gcG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncy1zaWRlYmFyLWl0ZW0tLWFjdGl2ZVwiIGFyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCIgaWQ9XCJtYWluXCIgYXJpYS1jb250cm9scz1cIm1haW4tdGFiXCI+XHJcblx0XHRcdFx0XHRcdFx0e19fKCdHZW5lcmFsJywgJ3BvZHMnKX1cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cF9zZXR0aW5ncy1zaWRlYmFyLWl0ZW1cIiBhcmlhLXNlbGVjdGVkPVwiZmFsc2VcIiBpZD1cImFkdmFuY2VkXCIgYXJpYS1jb250cm9scz1cImFkdmFuY2VkLXRhYlwiPlxyXG5cdFx0XHRcdFx0XHRcdHtfXygnQWR2YW5jZWQnLCAncG9kcycpfVxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwX3NldHRpbmdzLXNpZGViYXItaXRlbVwiIGFyaWEtc2VsZWN0ZWQ9XCJmYWxzZVwiIGlkPVwib3RoZXJcIiBhcmlhLWNvbnRyb2xzPVwib3RoZXItdGFiXCI+XHJcblx0XHRcdFx0XHRcdFx0e19fKCdPdGhlciBHcm91cCBTZXR0aW5ncyBUYWInLCAncG9kcycpfVxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwX3NldHRpbmdzLW1haW5cIiByb2xlPVwidGFicGFuZWxcIiBhcmlhLWxhYmVsbGVkYnk9XCJtYWluXCIgaWQ9XCJtYWluLXRhYlwiPlxyXG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJwb2RzLWlucHV0LWNvbnRhaW5lclwiPlxyXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwicG9kcy1sYWJlbF90ZXh0XCI+JGlkPC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdDxpbnB1dCBjbGFzcz1cInBvZHMtaW5wdXRcIiB0eXBlPVwidGV4dFwiPjwvaW5wdXQ+XHJcblx0XHRcdFx0XHRcdDwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cInBvZHMtaW5wdXQtY29udGFpbmVyXCI+XHJcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJwb2RzLWxhYmVsX3RleHRcIj4kdGl0bGU8L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0PGlucHV0IGNsYXNzPVwicG9kcy1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCI+PC9pbnB1dD5cclxuXHRcdFx0XHRcdFx0PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwicG9kcy1pbnB1dC1jb250YWluZXJcIj5cclxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInBvZHMtbGFiZWxfdGV4dFwiPiRjYWxsYmFjazwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgY2xhc3M9XCJwb2RzLWlucHV0XCIgdHlwZT1cInRleHRcIj48L2lucHV0PlxyXG5cdFx0XHRcdFx0XHQ8L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJwb2RzLWlucHV0LWNvbnRhaW5lclwiPlxyXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwicG9kcy1sYWJlbF90ZXh0XCI+JHNjcmVlbjwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgY2xhc3M9XCJwb2RzLWlucHV0XCIgdHlwZT1cInRleHRcIj48L2lucHV0PlxyXG5cdFx0XHRcdFx0XHQ8L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJwb2RzLWlucHV0LWNvbnRhaW5lclwiPlxyXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwicG9kcy1sYWJlbF90ZXh0XCI+JGNvbnRleHQ8L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0PGlucHV0IGNsYXNzPVwicG9kcy1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCI+PC9pbnB1dD5cclxuXHRcdFx0XHRcdFx0PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwicG9kcy1pbnB1dC1jb250YWluZXJcIj5cclxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cInBvZHMtbGFiZWxfdGV4dFwiPiRwcmlvcml0eTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgY2xhc3M9XCJwb2RzLWlucHV0XCIgdHlwZT1cInRleHRcIj48L2lucHV0PlxyXG5cdFx0XHRcdFx0XHQ8L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJwb2RzLWlucHV0LWNvbnRhaW5lclwiPlxyXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwicG9kcy1sYWJlbF90ZXh0XCI+JGNhbGxiYWNrX2FyZ3M8L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0PGlucHV0IGNsYXNzPVwicG9kcy1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCI+PC9pbnB1dD5cclxuXHRcdFx0XHRcdFx0PC9sYWJlbD5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwX3NldHRpbmdzLWFkdmFuY2VkXCIgcm9sZT1cInRhYnBhbmVsXCIgYXJpYS1sYWJlbGxlZGJ5PVwiYWR2YW5jZWRcIiBpZD1cImFkdmFuY2VkLXRhYlwiIGhpZGRlbj1cImhpZGRlblwiPlxyXG5cdFx0XHRcdFx0XHQ8cD5BZHZhbmNlZCB0YWJwYW5lbDwvcD5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwX3NldHRpbmdzLW90aGVyXCIgcm9sZT1cInRhYnBhbmVsXCIgYXJpYS1sYWJlbGxlZGJ5PVwib3RoZXJcIiBpZD1cIm90aGVyLXRhYlwiIGhpZGRlbj1cImhpZGRlblwiPlxyXG5cdFx0XHRcdFx0XHQ8cD5PdGhlciB0YWJwYW5lbDwvcD5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdDwvTW9kYWw+XHJcblx0KTtcclxufTtcclxuXHJcbkZpZWxkR3JvdXBTZXR0aW5ncy5wcm9wVHlwZXMgPSB7XHJcblx0Z3JvdXBOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcblx0c2hvdzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxufTtcclxuIiwiaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYsIHVzZUVmZmVjdCwgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IGZsb3cgfSBmcm9tICdsb2Rhc2gnO1xyXG5pbXBvcnQgeyBnZXRFbXB0eUltYWdlIH0gZnJvbSAncmVhY3QtZG5kLWh0bWw1LWJhY2tlbmQnO1xyXG5cclxuaW1wb3J0IGRyYWdTb3VyY2UgZnJvbSAnLi9ncm91cC1kcmFnLXNvdXJjZSc7XHJcbmltcG9ydCBkcm9wVGFyZ2V0IGZyb20gJy4vZ3JvdXAtZHJvcC10YXJnZXQnO1xyXG5pbXBvcnQgeyBGaWVsZEdyb3VwU2V0dGluZ3MgfSBmcm9tICcuL2ZpZWxkLWdyb3VwLXNldHRpbmdzJztcclxuaW1wb3J0IHsgRmllbGRMaXN0IH0gZnJvbSAncG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL21haW4tdGFicy9maWVsZC1saXN0JztcclxuXHJcbmNvbnN0IHsgdXNlU3RhdGUgfSA9IFJlYWN0O1xyXG5jb25zdCB7IERhc2hpY29uIH0gPSB3cC5jb21wb25lbnRzO1xyXG5jb25zdCB7IF9fIH0gPSB3cC5pMThuO1xyXG5cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2Rpc3BsYXktbmFtZVxyXG5jb25zdCBGaWVsZEdyb3VwID0gZm9yd2FyZFJlZiggKCBwcm9wcywgcmVmICkgPT4ge1xyXG5cdGNvbnN0IHsgY29ubmVjdERyYWdTb3VyY2UsIGNvbm5lY3REcm9wVGFyZ2V0LCBjb25uZWN0RHJhZ1ByZXZpZXcsIGlzRHJhZ2dpbmcgfSA9IHByb3BzO1xyXG5cdGNvbnN0IHsgZ3JvdXBOYW1lLCBnZXRHcm91cEZpZWxkcyB9ID0gcHJvcHM7XHJcblx0Y29uc3QgWyBleHBhbmRlZCwgc2V0RXhwYW5kZWQgXSA9IHVzZVN0YXRlKCBmYWxzZSApO1xyXG5cdGNvbnN0IFsgc2hvd1NldHRpbmdzLCBzZXRTaG93U2V0dGluZ3MgXSA9IHVzZVN0YXRlKCBmYWxzZSApO1xyXG5cdGNvbnN0IHdyYXBwZXJSZWYgPSB1c2VSZWYoIHJlZiApO1xyXG5cdGNvbnN0IGRyYWdIYW5kbGVSZWYgPSB1c2VSZWYoIHJlZiApO1xyXG5cclxuXHR1c2VFZmZlY3QoICgpID0+IHtcclxuXHRcdGlmICggY29ubmVjdERyYWdQcmV2aWV3ICkge1xyXG5cdFx0XHQvLyBVc2UgZW1wdHkgaW1hZ2UgYXMgYSBkcmFnIHByZXZpZXcgc28gYnJvd3NlcnMgZG9uJ3QgZHJhdyBpdCxcclxuXHRcdFx0Ly8gd2UgdXNlIG91ciBjdXN0b20gZHJhZyBsYXllciBpbnN0ZWFkLlxyXG5cdFx0XHRjb25uZWN0RHJhZ1ByZXZpZXcoIGdldEVtcHR5SW1hZ2UoKSwge1xyXG5cdFx0XHRcdC8vIElFIGZhbGxiYWNrOiBzcGVjaWZ5IHRoYXQgd2UnZCByYXRoZXIgc2NyZWVuc2hvdCB0aGUgbm9kZVxyXG5cdFx0XHRcdC8vIHdoZW4gaXQgYWxyZWFkeSBrbm93cyBpdCdzIGJlaW5nIGRyYWdnZWQgc28gd2UgY2FuIGhpZGUgaXQgd2l0aCBDU1MuXHJcblx0XHRcdFx0Y2FwdHVyZURyYWdnaW5nU3RhdGU6IHRydWVcclxuXHRcdFx0fSApO1xyXG5cdFx0fVxyXG5cdH0gKTtcclxuXHJcblx0Y29ubmVjdERyb3BUYXJnZXQoIHdyYXBwZXJSZWYgKTtcclxuXHRjb25uZWN0RHJhZ1NvdXJjZSggZHJhZ0hhbmRsZVJlZiApO1xyXG5cclxuXHR1c2VJbXBlcmF0aXZlSGFuZGxlKCByZWYsICgpID0+ICgge1xyXG5cdFx0Z2V0V3JhcHBlck5vZGU6ICgpID0+IHdyYXBwZXJSZWYuY3VycmVudCxcclxuXHRcdGdldEhhbmRsZU5vZGU6ICgpID0+IGRyYWdIYW5kbGVSZWYuY3VycmVudCxcclxuXHR9ICkgKTtcclxuXHJcblx0Y29uc3Qgb25FZGl0R3JvdXBDbGljayA9ICggZSApID0+IHtcclxuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRzZXRTaG93U2V0dGluZ3MoIHRydWUgKTtcclxuXHR9O1xyXG5cclxuXHRyZXR1cm4gKFxyXG5cdFx0PGRpdlxyXG5cdFx0XHRjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwLXdyYXBwZXJcIlxyXG5cdFx0XHRyZWY9e3dyYXBwZXJSZWZ9XHJcblx0XHRcdHN0eWxlPXt7IG9wYWNpdHk6IGlzRHJhZ2dpbmcgPyAwIDogMSB9fT5cclxuXHJcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cF90aXRsZVwiXHJcblx0XHRcdFx0b25DbGljaz17KCkgPT4gc2V0RXhwYW5kZWQoICFleHBhbmRlZCApfT5cclxuXHJcblx0XHRcdFx0PGRpdiByZWY9e2RyYWdIYW5kbGVSZWZ9IGNsYXNzTmFtZT1cInBvZHMtZmllbGQtZ3JvdXBfaGFuZGxlXCIgc3R5bGU9e3sgY3Vyc29yOiBpc0RyYWdnaW5nID8gJ25zLXJlc2l6ZScgOiBudWxsIH19PlxyXG5cdFx0XHRcdFx0PERhc2hpY29uIGljb249J21lbnUnIC8+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwX25hbWVcIj57Z3JvdXBOYW1lfTwvZGl2PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cF9lZGl0XCIgb25DbGljaz17KCBlICkgPT4gb25FZGl0R3JvdXBDbGljayggZSApfT5cclxuXHRcdFx0XHRcdHtfXyggJ0VkaXQgR3JvdXAnLCAncG9kcycpfVxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cF9tYW5hZ2VcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cF90b2dnbGVcIj5cclxuXHRcdFx0XHRcdFx0PERhc2hpY29uIGljb249e2V4cGFuZGVkID8gJ2Fycm93LXVwJyA6ICdhcnJvdy1kb3duJ30gLz5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdHtzaG93U2V0dGluZ3MgJiYgPEZpZWxkR3JvdXBTZXR0aW5ncyBncm91cE5hbWU9e2dyb3VwTmFtZX0gc2hvdz17c2V0U2hvd1NldHRpbmdzfSAvPiB9XHJcblx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0e2V4cGFuZGVkICYmICFpc0RyYWdnaW5nICYmXHJcblx0XHRcdDxGaWVsZExpc3QgZmllbGRzPXtnZXRHcm91cEZpZWxkcyggZ3JvdXBOYW1lICl9IC8+fVxyXG5cdFx0PC9kaXY+XHJcblx0KTtcclxufSApO1xyXG5cclxuRmllbGRHcm91cC5wcm9wVHlwZXMgPSB7XHJcblx0Z3JvdXBOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcblx0aW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcclxuXHRnZXRHcm91cEZpZWxkczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuXHRoYW5kbGVCZWdpbkRyYWc6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcblx0aGFuZGxlRHJhZ0NhbmNlbDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuXHRtb3ZlR3JvdXA6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXHJcblxyXG5cdC8vIFRoaXMgY29tZXMgZnJvbSB0aGUgZHJvcCB0YXJnZXRcclxuXHRjb25uZWN0RHJvcFRhcmdldDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuXHJcblx0Ly8gVGhlc2UgY29tZSBmcm9tIHRoZSBkcmFnIHNvdXJjZVxyXG5cdGNvbm5lY3REcmFnU291cmNlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG5cdGNvbm5lY3REcmFnUHJldmlldzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuXHRpc0RyYWdnaW5nOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZmxvdyggZHJvcFRhcmdldCwgZHJhZ1NvdXJjZSApKCBGaWVsZEdyb3VwICk7XHJcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IEdyb3VwRHJhZ0xheWVyIGZyb20gJy4vZ3JvdXAtZHJhZy1sYXllcic7XHJcbmltcG9ydCBGaWVsZEdyb3VwIGZyb20gJy4vZmllbGQtZ3JvdXAnO1xyXG5pbXBvcnQgJy4vZmllbGQtZ3JvdXBzLnNjc3MnO1xyXG5cclxuZXhwb3J0IGNvbnN0IEZpZWxkR3JvdXBzID0gKCB7IGdyb3VwcywgZ2V0R3JvdXBGaWVsZHMsIGdyb3VwTGlzdCwgc2V0R3JvdXBMaXN0LCBtb3ZlR3JvdXAgfSApID0+IHtcclxuXHRjb25zdCBbIG9yaWdpbmFsTGlzdCwgc2V0T3JpZ2luYWxMaXN0IF0gPSB1c2VTdGF0ZSggZ3JvdXBMaXN0ICk7XHJcblxyXG5cdGNvbnN0IGhhbmRsZUJlZ2luRHJhZyA9ICgpID0+IHtcclxuXHRcdC8vIFRha2UgYSBzbmFwc2hvdCBvZiB0aGUgbGlzdCBzdGF0ZSB3aGVuIGRyYWdnaW5nIGJlZ2luc1xyXG5cdFx0c2V0T3JpZ2luYWxMaXN0KCBncm91cExpc3QgKTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBoYW5kbGVEcmFnQ2FuY2VsID0gKCkgPT4ge1xyXG5cdFx0Ly8gSXRlbXMgYXJlIHJlLW9yZGVyZWQgb24gdGhlIGZseSwgYmUgc3VyZSB0byByZXNldCBvbiBjYW5jZWxcclxuXHRcdHNldEdyb3VwTGlzdCggb3JpZ2luYWxMaXN0ICk7XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDxkaXYgY2xhc3NOYW1lPVwiZmllbGQtZ3JvdXBzXCI+XHJcblx0XHRcdHtncm91cHMubWFwKCAoIGdyb3VwLCBpbmRleCApID0+IChcclxuXHRcdFx0XHQ8RmllbGRHcm91cFxyXG5cdFx0XHRcdFx0a2V5PXtncm91cC5uYW1lfVxyXG5cdFx0XHRcdFx0Z3JvdXBOYW1lPXtncm91cC5uYW1lfVxyXG5cdFx0XHRcdFx0aW5kZXg9e2luZGV4fVxyXG5cdFx0XHRcdFx0Z2V0R3JvdXBGaWVsZHM9e2dldEdyb3VwRmllbGRzfVxyXG5cdFx0XHRcdFx0bW92ZUdyb3VwPXttb3ZlR3JvdXB9XHJcblx0XHRcdFx0XHRoYW5kbGVCZWdpbkRyYWc9e2hhbmRsZUJlZ2luRHJhZ31cclxuXHRcdFx0XHRcdGhhbmRsZURyYWdDYW5jZWw9e2hhbmRsZURyYWdDYW5jZWx9XHJcblx0XHRcdFx0Lz5cclxuXHRcdFx0KSApfVxyXG5cdFx0XHQ8R3JvdXBEcmFnTGF5ZXIgLz5cclxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWJ1dHRvbi1ncm91cF9jb250YWluZXJcIj5cclxuXHRcdFx0XHQ8YSBocmVmPVwiI1wiPkFkZCBHcm91cDwvYT4gPGEgaHJlZj1cIiNcIj5BZGQgRmllbGQ8L2E+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0PC9kaXY+XHJcblx0KTtcclxufTtcclxuXHJcbkZpZWxkR3JvdXBzLnByb3BUeXBlcyA9IHtcclxuXHRncm91cHM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxyXG5cdGdldEdyb3VwRmllbGRzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG5cdG1vdmVHcm91cDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuXHRncm91cExpc3Q6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxyXG5cdHNldEdyb3VwTGlzdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxufTtcclxuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vZmllbGQtZ3JvdXBzLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vZmllbGQtZ3JvdXBzLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2ZpZWxkLWdyb3Vwcy5zY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0ICcuL21hbmFnZS1maWVsZHMuc2Nzcyc7XHJcblxyXG4vLyBXb3JkUHJlc3MgZGVwZW5kZW5jaWVzXHJcbi8vIG5vaW5zcGVjdGlvbiBKU1VucmVzb2x2ZWRWYXJpYWJsZVxyXG5jb25zdCB7IF9fIH0gPSB3cC5pMThuO1xyXG5jb25zdCB7IERhc2hpY29uIH0gPSB3cC5jb21wb25lbnRzO1xyXG5cclxuZXhwb3J0IGNvbnN0IEZpZWxkTGlzdCA9ICggcHJvcHMgKSA9PiB7XHJcblxyXG5cdGlmICggMCA9PT0gcHJvcHMuZmllbGRzLmxlbmd0aCApIHtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxkaXYgY2xhc3NOYW1lPSdwb2RzLW1hbmFnZS1maWVsZHMgbm8tZmllbGRzJz5cclxuXHRcdFx0XHR7X18oICdUaGVyZSBhcmUgbm8gZmllbGRzIGluIHRoaXMgZ3JvdXAnLCAncG9kcycgKX1cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDxkaXYgY2xhc3NOYW1lPSdwb2RzLW1hbmFnZS1maWVsZHMnPlxyXG5cdFx0XHQ8RmllbGRIZWFkZXIgLz5cclxuXHRcdFx0e3Byb3BzLmZpZWxkcy5tYXAoIGZpZWxkID0+IChcclxuXHRcdFx0XHQ8RmllbGRMaXN0SXRlbVxyXG5cdFx0XHRcdFx0a2V5PXtmaWVsZC5pZH1cclxuXHRcdFx0XHRcdGlkPXtmaWVsZC5pZH1cclxuXHRcdFx0XHRcdGZpZWxkTGFiZWw9e2ZpZWxkLmxhYmVsfVxyXG5cdFx0XHRcdFx0ZmllbGROYW1lPXtmaWVsZC5uYW1lfVxyXG5cdFx0XHRcdFx0cmVxdWlyZWQ9e2ZpZWxkLnJlcXVpcmVkfVxyXG5cdFx0XHRcdFx0dHlwZT17ZmllbGQudHlwZX1cclxuXHRcdFx0XHQvPlxyXG5cdFx0XHQpICl9XHJcblx0XHRcdDxGaWVsZEhlYWRlciAvPlxyXG5cdFx0PC9kaXY+XHJcblx0KTtcclxufTtcclxuXHJcbkZpZWxkTGlzdC5wcm9wVHlwZXMgPSB7XHJcblx0ZmllbGRzOiBQcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZCxcclxufTtcclxuXHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IEZpZWxkTGlzdEl0ZW0gPSAoIHByb3BzICkgPT4ge1xyXG5cdGNvbnN0IHsgaWQsIGZpZWxkTmFtZSwgZmllbGRMYWJlbCwgcmVxdWlyZWQsIHR5cGUgfSA9IHByb3BzO1xyXG5cclxuXHRyZXR1cm4gKFxyXG5cdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkX3dyYXBwZXJcIj5cclxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkIHBvZHMtZmllbGRfaGFuZGxlXCI+XHJcblx0XHRcdFx0PERhc2hpY29uIGljb249J21lbnUnIC8+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQgcG9kcy1maWVsZF9sYWJlbFwiPlxyXG5cdFx0XHRcdHtmaWVsZExhYmVsfTxzcGFuIGNsYXNzTmFtZT17cmVxdWlyZWQgJiYgJ3BvZHMtZmllbGRfcmVxdWlyZWQnfT4qPC9zcGFuPlxyXG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZF9pZFwiPiBbaWQgPSB7aWR9XTwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkIHBvZHMtZmllbGRfbmFtZVwiPlxyXG5cdFx0XHRcdHtmaWVsZE5hbWV9XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQgcG9kcy1maWVsZF90eXBlXCI+XHJcblx0XHRcdFx0e3R5cGV9XHJcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkX2lkXCI+IFt0eXBlID0gW1NUSUxMIE5FRUQgVEhJU11dPC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQgcG9kcy1maWVsZF9hY3Rpb25zXCI+XHJcblx0XHRcdFx0PERhc2hpY29uIGljb249J2VkaXQnIC8+IDxEYXNoaWNvbiBpY29uPSdhZG1pbi1wYWdlJyAvPlxyXG5cdFx0XHRcdDxEYXNoaWNvbiBpY29uPSd0cmFzaCcgLz5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHQpO1xyXG59O1xyXG5cclxuRmllbGRMaXN0SXRlbS5wcm9wVHlwZXMgPSB7XHJcblx0aWQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcclxuXHRmaWVsZE5hbWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuXHRmaWVsZExhYmVsOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcblx0cmVxdWlyZWQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuXHR0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbn07XHJcblxyXG4vKipcclxuICpcclxuICovXHJcbmV4cG9ydCBjb25zdCBGaWVsZEhlYWRlciA9ICgpID0+IHtcclxuXHRyZXR1cm4gKFxyXG5cdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkX3dyYXBwZXItbGFiZWxzXCI+XHJcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZF93cmFwcGVyLWxhYmVsLWl0ZW1zXCI+TGFiZWw8L2Rpdj5cclxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkX3dyYXBwZXItbGFiZWwtaXRlbXNcIj5OYW1lPC9kaXY+XHJcblx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZF93cmFwcGVyLWxhYmVsLWl0ZW1zXCI+RmllbGQgVHlwZTwvZGl2PlxyXG5cdFx0PC9kaXY+XHJcblx0KTtcclxufTtcclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5pbXBvcnQgeyBEcmFnTGF5ZXIgfSBmcm9tICdyZWFjdC1kbmQnO1xyXG5cclxuaW1wb3J0IHsgdWlDb25zdGFudHMgfSBmcm9tICdwb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvc3RvcmUvY29uc3RhbnRzJztcclxuXHJcbmNvbnN0IHsgRGFzaGljb24gfSA9IHdwLmNvbXBvbmVudHM7XHJcblxyXG5jb25zdCBnZXRMYXllclN0eWxlcyA9ICggeyBpdGVtIH0gKSA9PiB7XHJcblx0cmV0dXJuIHtcclxuXHRcdHBvc2l0aW9uOiAnZml4ZWQnLFxyXG5cdFx0b3BhY2l0eTogLjYsXHJcblx0XHRwb2ludGVyRXZlbnRzOiAnbm9uZScsXHJcblx0XHR6SW5kZXg6IDEwMCxcclxuXHRcdGxlZnQ6IGl0ZW0ubGVmdCxcclxuXHRcdHRvcDogMCxcclxuXHRcdHdpZHRoOiAnMTAwJScsXHJcblx0XHRoZWlnaHQ6ICcxMDAlJyxcclxuXHR9O1xyXG5cclxufTtcclxuXHJcbi8vIExvY2sgdGhlIGRyYWdnaW5nIGF4aXNcclxuY29uc3QgZ2V0SXRlbVN0eWxlcyA9ICggeyBpdGVtLCBpbml0aWFsT2Zmc2V0LCBjdXJyZW50T2Zmc2V0IH0gKSA9PiB7XHJcblx0aWYgKCAhaW5pdGlhbE9mZnNldCB8fCAhY3VycmVudE9mZnNldCApIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGRpc3BsYXk6ICdub25lJ1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0d2lkdGg6IGl0ZW0ud2lkdGgsXHJcblx0XHRcdHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke2luaXRpYWxPZmZzZXQueH1weCwgJHtjdXJyZW50T2Zmc2V0Lnl9cHhgLFxyXG5cdFx0XHRmaWx0ZXI6ICdkcm9wLXNoYWRvdyg1cHggNXB4IDVweCAjQkJCKScsXHJcblx0XHR9O1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IEN1c3RvbURyYWdMYXllciA9IHByb3BzID0+IHtcclxuXHRjb25zdCB7IGl0ZW0sIGl0ZW1UeXBlLCBpc0RyYWdnaW5nIH0gPSBwcm9wcztcclxuXHJcblx0aWYgKCAhaXNEcmFnZ2luZyB8fCB1aUNvbnN0YW50cy5kcmFnSXRlbVR5cGVzLkdST1VQICE9PSBpdGVtVHlwZSApIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDxkaXYgc3R5bGU9e2dldExheWVyU3R5bGVzKCBwcm9wcyApfT5cclxuXHRcdFx0PGRpdiBzdHlsZT17Z2V0SXRlbVN0eWxlcyggcHJvcHMgKX0+XHJcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwLXdyYXBwZXJcIiBzdHlsZT17eyBjdXJzb3I6ICducy1yZXNpemUnIH19PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwX3RpdGxlXCI+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cF9oYW5kbGVcIj5cclxuXHRcdFx0XHRcdFx0XHQ8RGFzaGljb24gaWNvbj0nbWVudScgLz5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1maWVsZC1ncm91cF9uYW1lXCI+e2l0ZW0uZ3JvdXBOYW1lfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInBvZHMtZmllbGQtZ3JvdXBfbWFuYWdlXCI+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwb2RzLWZpZWxkLWdyb3VwX3RvZ2dsZVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PERhc2hpY29uIGljb249eydhcnJvdy1kb3duJ30gLz5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHQpO1xyXG59O1xyXG5cclxuQ3VzdG9tRHJhZ0xheWVyLnByb3BUeXBlcyA9IHtcclxuXHRpdGVtOiBQcm9wVHlwZXMuc2hhcGUoIHtcclxuXHRcdGdyb3VwTmFtZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG5cdFx0aW5kZXg6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZFxyXG5cdH0gKSxcclxuXHJcblx0aXRlbVR5cGU6IFByb3BUeXBlcy5zdHJpbmcsXHJcblxyXG5cdGlzRHJhZ2dpbmc6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXHJcblxyXG5cdGN1cnJlbnRPZmZzZXQ6IFByb3BUeXBlcy5zaGFwZSgge1xyXG5cdFx0eDogUHJvcFR5cGVzLm51bWJlcixcclxuXHRcdHk6IFByb3BUeXBlcy5udW1iZXJcclxuXHR9ICksXHJcblxyXG5cdGluaXRpYWxPZmZzZXQ6IFByb3BUeXBlcy5zaGFwZSgge1xyXG5cdFx0eDogUHJvcFR5cGVzLm51bWJlcixcclxuXHRcdHk6IFByb3BUeXBlcy5udW1iZXJcclxuXHR9ICksXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcmFnTGF5ZXIoIG1vbml0b3IgPT4gKCB7XHJcblx0aXRlbTogbW9uaXRvci5nZXRJdGVtKCksXHJcblx0aXRlbVR5cGU6IG1vbml0b3IuZ2V0SXRlbVR5cGUoKSxcclxuXHRpbml0aWFsT2Zmc2V0OiBtb25pdG9yLmdldEluaXRpYWxTb3VyY2VDbGllbnRPZmZzZXQoKSxcclxuXHRjdXJyZW50T2Zmc2V0OiBtb25pdG9yLmdldFNvdXJjZUNsaWVudE9mZnNldCgpLFxyXG5cdGlzRHJhZ2dpbmc6IG1vbml0b3IuaXNEcmFnZ2luZygpXHJcbn0gKSApKCBDdXN0b21EcmFnTGF5ZXIgKTtcclxuXHJcbiIsImltcG9ydCB7IERyYWdTb3VyY2UgfSBmcm9tICdyZWFjdC1kbmQnO1xyXG5pbXBvcnQgeyB1aUNvbnN0YW50cyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9jb25zdGFudHMnO1xyXG5cclxuY29uc3QgeyBkcmFnSXRlbVR5cGVzIH0gPSB1aUNvbnN0YW50cztcclxuXHJcbmNvbnN0IGRyYWdTcGVjID0ge1xyXG5cdGJlZ2luRHJhZzogKCBwcm9wcywgbW9uaXRvciwgY29tcG9uZW50ICkgPT4ge1xyXG5cdFx0Y29uc3Qgd3JhcHBlck5vZGUgPSBjb21wb25lbnQuZGVjb3JhdGVkUmVmLmN1cnJlbnQuZ2V0V3JhcHBlck5vZGUoKTtcclxuXHRcdGNvbnN0IGhhbmRsZU5vZGUgPSBjb21wb25lbnQuZGVjb3JhdGVkUmVmLmN1cnJlbnQuZ2V0SGFuZGxlTm9kZSgpO1xyXG5cdFx0Y29uc3Qgd3JhcHBlclJlY3QgPSB3cmFwcGVyTm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHRcdGNvbnN0IGhhbmRsZVJlY3QgPSBoYW5kbGVOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuXHRcdHByb3BzLmhhbmRsZUJlZ2luRHJhZygpO1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGdyb3VwTmFtZTogcHJvcHMuZ3JvdXBOYW1lLFxyXG5cdFx0XHRpbmRleDogcHJvcHMuaW5kZXgsXHJcblx0XHRcdHdpZHRoOiB3cmFwcGVyUmVjdC53aWR0aCxcclxuXHRcdFx0bGVmdDogd3JhcHBlclJlY3QubGVmdCAtIGhhbmRsZVJlY3QubGVmdFxyXG5cdFx0fTtcclxuXHR9LFxyXG5cclxuXHRlbmREcmFnOiAoIHByb3BzLCBtb25pdG9yICkgPT4ge1xyXG5cclxuXHRcdC8vIEl0ZW1zIGFyZSByZS1vcmRlcmVkIG9uIHRoZSBmbHksIGJlIHN1cmUgdG8gcmVzZXQgb24gY2FuY2VsXHJcblx0XHRpZiAoICFtb25pdG9yLmRpZERyb3AoKSApIHtcclxuXHRcdFx0cHJvcHMuaGFuZGxlRHJhZ0NhbmNlbCgpO1xyXG5cdFx0fVxyXG5cdH0sXHJcbn07XHJcblxyXG5jb25zdCBjb2xsZWN0ID0gKCBjb25uZWN0LCBtb25pdG9yICkgPT4gKCB7XHJcblx0Y29ubmVjdERyYWdTb3VyY2U6IGNvbm5lY3QuZHJhZ1NvdXJjZSgpLFxyXG5cdGNvbm5lY3REcmFnUHJldmlldzogY29ubmVjdC5kcmFnUHJldmlldygpLFxyXG5cdGlzRHJhZ2dpbmc6IG1vbml0b3IuaXNEcmFnZ2luZygpLFxyXG59ICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcmFnU291cmNlKCBkcmFnSXRlbVR5cGVzLkdST1VQLCBkcmFnU3BlYywgY29sbGVjdCApO1xyXG4iLCJpbXBvcnQgeyBEcm9wVGFyZ2V0IH0gZnJvbSAncmVhY3QtZG5kJztcclxuaW1wb3J0IHsgdWlDb25zdGFudHMgfSBmcm9tICdwb2RzLWRmdi9zcmMvYWRtaW4vZWRpdC1wb2Qvc3RvcmUvY29uc3RhbnRzJztcclxuXHJcbmNvbnN0IHsgZHJhZ0l0ZW1UeXBlcyB9ID0gdWlDb25zdGFudHM7XHJcblxyXG5jb25zdCBkcm9wU3BlYyA9IHtcclxuXHRob3ZlciAoIHByb3BzLCBtb25pdG9yLCBjb21wb25lbnQgKSB7XHJcblx0XHRpZiAoICFjb21wb25lbnQgKSB7XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdFx0fVxyXG5cdFx0Ly8gbm9kZSA9IEhUTUwgRGl2IGVsZW1lbnQgZnJvbSBpbXBlcmF0aXZlIEFQSVxyXG5cdFx0Y29uc3Qgbm9kZSA9IGNvbXBvbmVudC5nZXRXcmFwcGVyTm9kZSgpO1xyXG5cdFx0aWYgKCAhbm9kZSApIHtcclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9XHJcblx0XHRjb25zdCBkcmFnSW5kZXggPSBtb25pdG9yLmdldEl0ZW0oKS5pbmRleDtcclxuXHRcdGNvbnN0IGhvdmVySW5kZXggPSBwcm9wcy5pbmRleDtcclxuXHJcblx0XHQvLyBEb24ndCByZXBsYWNlIGl0ZW1zIHdpdGggdGhlbXNlbHZlc1xyXG5cdFx0aWYgKCBkcmFnSW5kZXggPT09IGhvdmVySW5kZXggKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHRcdGNvbnN0IGhvdmVyQm91bmRpbmdSZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHRcdGNvbnN0IGhvdmVyTWlkZGxlWSA9ICggaG92ZXJCb3VuZGluZ1JlY3QuYm90dG9tIC0gaG92ZXJCb3VuZGluZ1JlY3QudG9wICkgLyAyO1xyXG5cdFx0Y29uc3QgY2xpZW50T2Zmc2V0ID0gbW9uaXRvci5nZXRDbGllbnRPZmZzZXQoKTtcclxuXHRcdGNvbnN0IGhvdmVyQ2xpZW50WSA9IGNsaWVudE9mZnNldC55IC0gaG92ZXJCb3VuZGluZ1JlY3QudG9wO1xyXG5cclxuXHRcdC8vIE9ubHkgcGVyZm9ybSB0aGUgbW92ZSB3aGVuIHRoZSBtb3VzZSBoYXMgY3Jvc3NlZCBoYWxmIG9mIHRoZSBpdGVtJ3MgaGVpZ2h0XHJcblxyXG5cdFx0Ly8gRHJhZ2dpbmcgZG93bndhcmRzLCBvbmx5IG1vdmUgd2hlbiB0aGUgY3Vyc29yIGlzIGJlbG93IDUwJVxyXG5cdFx0aWYgKCBkcmFnSW5kZXggPCBob3ZlckluZGV4ICYmIGhvdmVyQ2xpZW50WSA8IGhvdmVyTWlkZGxlWSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0Ly8gRHJhZ2dpbmcgdXB3YXJkcywgb25seSBtb3ZlIHdoZW4gdGhlIGN1cnNvciBpcyBhYm92ZSA1MCVcclxuXHRcdGlmICggZHJhZ0luZGV4ID4gaG92ZXJJbmRleCAmJiBob3ZlckNsaWVudFkgPiBob3Zlck1pZGRsZVkgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBUaW1lIHRvIGFjdHVhbGx5IHBlcmZvcm0gdGhlIGFjdGlvblxyXG5cdFx0cHJvcHMubW92ZUdyb3VwKCBkcmFnSW5kZXgsIGhvdmVySW5kZXggKTtcclxuXHJcblx0XHQvLyBOb3RlOiB3ZSdyZSBtdXRhdGluZyB0aGUgbW9uaXRvciBpdGVtIGhlcmUhIEdlbmVyYWxseSBpdCdzXHJcblx0XHQvLyBiZXR0ZXIgdG8gYXZvaWQgbXV0YXRpb25zIGJ1dCBpdCdzIGdvb2QgaGVyZSBmb3IgdGhlIHNha2Ugb2ZcclxuXHRcdC8vIHBlcmZvcm1hbmNlIHRvIGF2b2lkIGV4cGVuc2l2ZSBpbmRleCBzZWFyY2hlcy5cclxuXHRcdG1vbml0b3IuZ2V0SXRlbSgpLmluZGV4ID0gaG92ZXJJbmRleDtcclxuXHR9LFxyXG59O1xyXG5cclxuY29uc3QgY29sbGVjdCA9IGNvbm5lY3QgPT4gKCB7XHJcblx0Y29ubmVjdERyb3BUYXJnZXQ6IGNvbm5lY3QuZHJvcFRhcmdldCgpLFxyXG59ICk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcm9wVGFyZ2V0KCBkcmFnSXRlbVR5cGVzLkdST1VQLCBkcm9wU3BlYywgY29sbGVjdCApO1xyXG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9tYW5hZ2UtZmllbGRzLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9saWIvbG9hZGVyLmpzIS4vbWFuYWdlLWZpZWxkcy5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9tYW5hZ2UtZmllbGRzLnNjc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcm9wLXR5cGVzICovXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFNUT1JFX0tFWV9FRElUX1BPRCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9jb25zdGFudHMnO1xyXG5cclxuY29uc3QgeyBfXyB9ID0gd3AuaTE4bjtcclxuY29uc3QgeyB3aXRoU2VsZWN0IH0gPSB3cC5kYXRhO1xyXG5cclxuZXhwb3J0IGNvbnN0IFBvc3Rib3ggPSB3aXRoU2VsZWN0KCAoIHNlbGVjdCApID0+IHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0aXNTYXZpbmc6IHNlbGVjdCggU1RPUkVfS0VZX0VESVRfUE9EICkuaXNTYXZpbmcoKVxyXG5cdH07XHJcbn0gKVxyXG4oICggcHJvcHMgKSA9PiB7XHJcblx0cmV0dXJuIChcclxuXHRcdDxkaXYgaWQ9J3Bvc3Rib3gtY29udGFpbmVyLTEnIGNsYXNzTmFtZT0ncG9zdGJveC1jb250YWluZXIgcG9kc19mbG9hdG1lbnUnPlxyXG5cdFx0XHQ8ZGl2IGlkPSdzaWRlLWluZm8tZmllbGQnIGNsYXNzTmFtZT0naW5uZXItc2lkZWJhcic+XHJcblx0XHRcdFx0PGRpdiBpZD0nc2lkZS1zb3J0YWJsZXMnPlxyXG5cdFx0XHRcdFx0PGRpdiBpZD0nc3VibWl0ZGl2JyBjbGFzc05hbWU9J3Bvc3Rib3ggcG9kcy1uby10b2dnbGUnPlxyXG5cdFx0XHRcdFx0XHQ8aDM+XHJcblx0XHRcdFx0XHRcdFx0PHNwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHR7X18oICdNYW5hZ2UnLCAncG9kcycgKX1cclxuXHRcdFx0XHRcdFx0XHRcdHsnXFx1MDBBMCcgLyogJm5ic3A7ICovfVxyXG5cdFx0XHRcdFx0XHRcdFx0PHNtYWxsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQoPGEgaHJlZj0nL3dwLWFkbWluL2FkbWluLnBocD9wYWdlPXBvZHMmYW1wO2FjdGlvbj1tYW5hZ2UnPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHtfXyggJ8KrIEJhY2sgdG8gTWFuYWdlJywgJ3BvZHMnICl9XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvYT4pXHJcblx0XHRcdFx0XHRcdFx0XHQ8L3NtYWxsPlxyXG5cdFx0XHRcdFx0XHRcdDwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0PC9oMz5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2luc2lkZSc+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J3N1Ym1pdGJveCcgaWQ9J3N1Ym1pdHBvc3QnPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBpZD0nbWFqb3ItcHVibGlzaGluZy1hY3Rpb25zJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBpZD0nZGVsZXRlLWFjdGlvbic+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGEgaHJlZj0nI25vdC1pbXBsZW1lbnRlZCcgY2xhc3NOYW1lPSdzdWJtaXRkZWxldGUgZGVsZXRpb24gcG9kcy1jb25maXJtJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHtfXyggJ0RlbGV0ZSBQb2QnLCAncG9kcycgKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2E+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGlkPSdwdWJsaXNoaW5nLWFjdGlvbic+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PFNwaW5uZXIgaXNTYXZpbmc9eyBwcm9wcy5pc1NhdmluZyB9IC8+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0eydcXHUwMEEwJyAvKiAmbmJzcDsgKi99XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGJ1dHRvbiBjbGFzc05hbWU9J2J1dHRvbi1wcmltYXJ5JyB0eXBlPSdzdWJtaXQnPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e19fKCAnU2F2ZSBQb2QnLCAncG9kcycgKX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2J1dHRvbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjbGVhcic+PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdwb2RzLXN1Ym1pdHRhYmxlLWZpZWxkcyc+XHJcblx0XHRcdFx0XHRcdDxkaXYgaWQ9J3NpZGUtc29ydGFibGVzJyBjbGFzc05hbWU9J21ldGEtYm94LXNvcnRhYmxlcyc+PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQ8L2Rpdj5cclxuXHQpO1xyXG59ICk7XHJcblxyXG5jb25zdCBTcGlubmVyID0gKCBwcm9wcyApID0+IHtcclxuXHRpZiAoIHByb3BzLmlzU2F2aW5nICkge1xyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0PGltZyBzcmM9Jy93cC1hZG1pbi9pbWFnZXMvd3BzcGluX2xpZ2h0LmdpZicgYWx0PScnIC8+XHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIG51bGw7XHJcbn07XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgU1RPUkVfS0VZX0VESVRfUE9ELCB1aUNvbnN0YW50cyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9jb25zdGFudHMnO1xyXG5cclxuLyogV29yZFByZXNzIGRlcGVuZGVuY2llcyAqL1xyXG4vLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcclxuY29uc3QgeyBfXyB9ID0gd3AuaTE4bjtcclxuY29uc3QgeyB3aXRoU2VsZWN0IH0gPSB3cC5kYXRhO1xyXG5cclxuZXhwb3J0IGNvbnN0IFNhdmVTdGF0dXNNZXNzYWdlID0gd2l0aFNlbGVjdCggKCBzZWxlY3QgKSA9PiB7XHJcblx0cmV0dXJuIHtcclxuXHRcdHNhdmVTdGF0dXM6IHNlbGVjdCggU1RPUkVfS0VZX0VESVRfUE9EICkuZ2V0U2F2ZVN0YXR1cygpXHJcblx0fTtcclxufSApXHJcbiggKCBwcm9wcyApID0+IHtcclxuXHRzd2l0Y2ggKCBwcm9wcy5zYXZlU3RhdHVzICkge1xyXG5cdFx0Y2FzZSB1aUNvbnN0YW50cy5zYXZlU3RhdHVzZXMuU0FWSU5HOlxyXG5cdFx0XHRyZXR1cm4gKFxyXG5cdFx0XHRcdDxkaXYgaWQ9XCJtZXNzYWdlXCIgY2xhc3NOYW1lPVwibm90aWNlIG5vdGljZS13YXJuaW5nXCI+XHJcblx0XHRcdFx0XHQ8cD48Yj57X18oICdTYXZpbmcgUG9kLi4uJywgJ3BvZHMnICl9PC9iPjwvcD5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0KTtcclxuXHJcblx0XHRjYXNlIHVpQ29uc3RhbnRzLnNhdmVTdGF0dXNlcy5TQVZFX1NVQ0NFU1M6XHJcblx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0PGRpdiBpZD1cIm1lc3NhZ2VcIiBjbGFzc05hbWU9XCJ1cGRhdGVkIGZhZGVcIj5cclxuXHRcdFx0XHRcdDxwPlxyXG5cdFx0XHRcdFx0XHQ8c3Ryb25nPntfXyggJ1N1Y2Nlc3MhJywgJ3BvZHMnICl9PC9zdHJvbmc+XHJcblx0XHRcdFx0XHRcdHsnXFx1MDBBMCcgLyogJm5ic3A7ICovfVxyXG5cdFx0XHRcdFx0XHR7X18oICdQb2Qgc2F2ZWQgc3VjY2Vzc2Z1bGx5LicsICdwb2RzJyApfVxyXG5cdFx0XHRcdFx0PC9wPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdGNhc2UgdWlDb25zdGFudHMuc2F2ZVN0YXR1c2VzLlNBVkVfRVJST1I6XHJcblx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0PGRpdiBpZD1cIm1lc3NhZ2VcIiBjbGFzc05hbWU9XCJub3RpY2UgZXJyb3JcIj5cclxuXHRcdFx0XHRcdDxwPjxiPntfXyggJ1NhdmUgRXJyb3InLCAncG9kcycgKX08L2I+PC9wPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxufSApO1xyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmNvbnN0IHsgdXNlU3RhdGUgfSA9IFJlYWN0O1xyXG5cclxuLyogV29yZFByZXNzIGRlcGVuZGVuY2llcyAqL1xyXG4vLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkVmFyaWFibGVcclxuY29uc3QgeyBfXyB9ID0gd3AuaTE4bjtcclxuXHJcbmV4cG9ydCBjb25zdCBQb2RzREZWU2x1Z2dhYmxlID0gKCBwcm9wcyApID0+IHtcclxuXHRjb25zdCBbIGVkaXRpbmcsIHNldEVkaXRpbmcgXSA9IHVzZVN0YXRlKCBmYWxzZSApO1xyXG5cdGNvbnN0IFsgbG9jYWxWYWx1ZSwgc2V0TG9jYWxWYWx1ZSBdID0gdXNlU3RhdGUoIHByb3BzLnZhbHVlICk7XHJcblxyXG5cdGNvbnN0IGhhbmRsZVZhbHVlQ2hhbmdlID0gKCBuZXdWYWx1ZSApID0+IHtcclxuXHRcdHNldExvY2FsVmFsdWUoIG5ld1ZhbHVlICk7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgaGFuZGxlRWRpdENsaWNrID0gKCkgPT4ge1xyXG5cdFx0c2V0RWRpdGluZyggdHJ1ZSApO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IGhhbmRsZU9rQ2xpY2sgPSAoKSA9PiB7XHJcblx0XHRzZXRFZGl0aW5nKCBmYWxzZSApO1xyXG5cdFx0cHJvcHMudXBkYXRlVmFsdWUoIGxvY2FsVmFsdWUgKTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBoYW5kbGVDYW5jZWxDbGljayA9ICggZSApID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdHNldEVkaXRpbmcoIGZhbHNlICk7XHJcblx0XHRzZXRMb2NhbFZhbHVlKCBwcm9wcy52YWx1ZSApO1xyXG5cdH07XHJcblxyXG5cdGlmICggIWVkaXRpbmcgKSB7XHJcblx0XHRyZXR1cm4gKFxyXG5cdFx0XHQ8Tm90RWRpdGluZ1xyXG5cdFx0XHRcdHZhbHVlPXtwcm9wcy52YWx1ZX1cclxuXHRcdFx0XHRoYW5kbGVFZGl0Q2xpY2s9e2hhbmRsZUVkaXRDbGlja31cclxuXHRcdFx0Lz5cclxuXHRcdCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxFZGl0aW5nXHJcblx0XHRcdFx0dmFsdWU9e2xvY2FsVmFsdWV9XHJcblx0XHRcdFx0aGFuZGxlVmFsdWVDaGFuZ2U9e2hhbmRsZVZhbHVlQ2hhbmdlfVxyXG5cdFx0XHRcdGhhbmRsZU9rQ2xpY2s9e2hhbmRsZU9rQ2xpY2t9XHJcblx0XHRcdFx0aGFuZGxlQ2FuY2VsQ2xpY2s9e2hhbmRsZUNhbmNlbENsaWNrfVxyXG5cdFx0XHQvPlxyXG5cdFx0KTtcclxuXHR9XHJcbn07XHJcblxyXG5Qb2RzREZWU2x1Z2dhYmxlLnByb3BUeXBlcyA9IHtcclxuXHR2YWx1ZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG5cdHVwZGF0ZVZhbHVlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXHJcbn07XHJcblxyXG5jb25zdCBOb3RFZGl0aW5nID0gKCBwcm9wcyApID0+IHtcclxuXHRyZXR1cm4gKFxyXG5cdFx0PHNwYW4+XHJcblx0XHRcdDxlbVxyXG5cdFx0XHRcdG9uQ2xpY2s9e3Byb3BzLmhhbmRsZUVkaXRDbGlja31cclxuXHRcdFx0XHRzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fT5cclxuXHRcdFx0XHR7cHJvcHMudmFsdWV9XHJcblx0XHRcdDwvZW0+XHJcblx0XHRcdHsnXFx1MDBBMCcgLyogJm5ic3A7ICovfVxyXG5cdFx0XHQ8aW5wdXRcclxuXHRcdFx0XHR0eXBlPSdidXR0b24nXHJcblx0XHRcdFx0Y2xhc3NOYW1lPSdlZGl0LXNsdWctYnV0dG9uIGJ1dHRvbidcclxuXHRcdFx0XHR2YWx1ZT17X18oICdFZGl0JywgJ3BvZHMnICl9XHJcblx0XHRcdFx0b25DbGljaz17cHJvcHMuaGFuZGxlRWRpdENsaWNrfVxyXG5cdFx0XHQvPlxyXG5cdFx0PC9zcGFuPlxyXG5cdCk7XHJcbn07XHJcblxyXG5Ob3RFZGl0aW5nLnByb3BUeXBlcyA9IHtcclxuXHR2YWx1ZTogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG5cdGhhbmRsZUVkaXRDbGljazogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxyXG59O1xyXG5cclxuY29uc3QgRWRpdGluZyA9ICggcHJvcHMgKSA9PiB7XHJcblx0Y29uc3QgaGFuZGxlRm9jdXMgPSAoIGUgKSA9PiBlLnRhcmdldC5zZWxlY3QoKTtcclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDxzcGFuPlxyXG5cdFx0XHQ8aW5wdXRcclxuXHRcdFx0XHR0eXBlPSd0ZXh0J1xyXG5cdFx0XHRcdGF1dG9Gb2N1c1xyXG5cdFx0XHRcdGlkPSdwb2RzLWZvcm0tdWktbmFtZSdcclxuXHRcdFx0XHRuYW1lPSduYW1lJ1xyXG5cdFx0XHRcdGNsYXNzTmFtZT0ncG9kcy1mb3JtLXVpLWZpZWxkIHBvZHMtZm9ybS11aS1maWVsZC10eXBlLXRleHQgcG9kcy1mb3JtLXVpLWZpZWxkLW5hbWUtbmFtZSdcclxuXHRcdFx0XHR2YWx1ZT17cHJvcHMudmFsdWV9XHJcblx0XHRcdFx0b25DaGFuZ2U9eyggZSApID0+IHByb3BzLmhhbmRsZVZhbHVlQ2hhbmdlKCBlLnRhcmdldC52YWx1ZSApfVxyXG5cdFx0XHRcdG9uRm9jdXM9e2hhbmRsZUZvY3VzfVxyXG5cdFx0XHRcdG1heExlbmd0aD0nNDYnXHJcblx0XHRcdFx0c2l6ZT0nMjUnXHJcblx0XHRcdC8+XHJcblx0XHRcdHsnXFx1MDBBMCcgLyogJm5ic3A7ICovfVxyXG5cdFx0XHQ8aW5wdXRcclxuXHRcdFx0XHR0eXBlPSdidXR0b24nXHJcblx0XHRcdFx0Y2xhc3NOYW1lPSdzYXZlLWJ1dHRvbiBidXR0b24nXHJcblx0XHRcdFx0dmFsdWU9e19fKCAnT0snLCAncG9kcycgKX1cclxuXHRcdFx0XHRvbkNsaWNrPXtwcm9wcy5oYW5kbGVPa0NsaWNrfVxyXG5cdFx0XHQvPlxyXG5cdFx0XHR7J1xcdTAwQTAnIC8qICZuYnNwOyAqL31cclxuXHRcdFx0PGFcclxuXHRcdFx0XHRjbGFzc05hbWU9J2NhbmNlbCdcclxuXHRcdFx0XHRvbkNsaWNrPXtwcm9wcy5oYW5kbGVDYW5jZWxDbGlja30+XHJcblx0XHRcdFx0e19fKCAnQ2FuY2VsJywgJ3BvZHMnICl9XHJcblx0XHRcdDwvYT5cclxuXHRcdDwvc3Bhbj5cclxuXHQpO1xyXG59O1xyXG5cclxuRWRpdGluZy5wcm9wVHlwZXMgPSB7XHJcblx0dmFsdWU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuXHRoYW5kbGVWYWx1ZUNoYW5nZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxuXHRoYW5kbGVPa0NsaWNrOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG5cdGhhbmRsZUNhbmNlbENsaWNrOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXHJcbn07XHJcbiIsImltcG9ydCB7XHJcblx0dWlDb25zdGFudHMsXHJcblx0b3B0aW9uQ29uc3RhbnRzLFxyXG5cdGdyb3VwQ29uc3RhbnRzLFxyXG5cdHBvZE1ldGFDb25zdGFudHMsXHJcbn0gZnJvbSAncG9kcy1kZnYvc3JjL2FkbWluL2VkaXQtcG9kL3N0b3JlL2NvbnN0YW50cyc7XHJcblxyXG4vKipcclxuICogVUlcclxuICovXHJcbmV4cG9ydCBjb25zdCBzZXRBY3RpdmVUYWIgPSAoIGFjdGl2ZVRhYiApID0+IHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0dHlwZTogdWlDb25zdGFudHMuYWN0aW9ucy5TRVRfQUNUSVZFX1RBQixcclxuXHRcdGFjdGl2ZVRhYlxyXG5cdH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0U2F2ZVN0YXR1cyA9ICggc2F2ZVN0YXR1cyApID0+IHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0dHlwZTogdWlDb25zdGFudHMuYWN0aW9ucy5TRVRfU0FWRV9TVEFUVVMsXHJcblx0XHRzYXZlU3RhdHVzXHJcblx0fTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBPcHRpb25zXHJcbiAqL1xyXG5leHBvcnQgY29uc3Qgc2V0T3B0aW9uVmFsdWUgPSAoIG5hbWUsIHZhbHVlICkgPT4gc2V0T3B0aW9uSXRlbVZhbHVlKCBuYW1lLCAndmFsdWUnLCB2YWx1ZSApO1xyXG5leHBvcnQgY29uc3Qgc2V0T3B0aW9uSXRlbVZhbHVlID0gKCBvcHRpb25OYW1lLCBpdGVtTmFtZSwgaXRlbVZhbHVlICkgPT4ge1xyXG5cdHJldHVybiB7XHJcblx0XHR0eXBlOiBvcHRpb25Db25zdGFudHMuYWN0aW9ucy5TRVRfT1BUSU9OX0lURU1fVkFMVUUsXHJcblx0XHRvcHRpb25OYW1lLFxyXG5cdFx0aXRlbU5hbWUsXHJcblx0XHRpdGVtVmFsdWVcclxuXHR9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdyb3Vwc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHNldEdyb3VwTGlzdCA9ICggZ3JvdXBMaXN0ICkgPT4ge1xyXG5cdHJldHVybiB7XHJcblx0XHR0eXBlOiBncm91cENvbnN0YW50cy5hY3Rpb25zLlNFVF9HUk9VUF9MSVNULFxyXG5cdFx0Z3JvdXBMaXN0XHJcblx0fTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBtb3ZlR3JvdXAgPSAoIG9sZEluZGV4LCBuZXdJbmRleCApID0+IHtcclxuXHRyZXR1cm4ge1xyXG5cdFx0dHlwZTogZ3JvdXBDb25zdGFudHMuYWN0aW9ucy5NT1ZFX0dST1VQLFxyXG5cdFx0b2xkSW5kZXgsXHJcblx0XHRuZXdJbmRleFxyXG5cdH07XHJcbn07XHJcblxyXG4vKipcclxuICogUG9kIG1ldGFcclxuICovXHJcbmV4cG9ydCBjb25zdCBzZXRQb2ROYW1lID0gKCBuYW1lICkgPT4ge1xyXG5cdHJldHVybiB7XHJcblx0XHR0eXBlOiBwb2RNZXRhQ29uc3RhbnRzLmFjdGlvbnMuU0VUX1BPRF9OQU1FLFxyXG5cdFx0bmFtZVxyXG5cdH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0UG9kTWV0YVZhbHVlID0gKCBrZXksIHZhbHVlICkgPT4ge1xyXG5cdHJldHVybiB7XHJcblx0XHR0eXBlOiBwb2RNZXRhQ29uc3RhbnRzLmFjdGlvbnMuU0VUX1BPRF9NRVRBX1ZBTFVFLFxyXG5cdFx0a2V5LFxyXG5cdFx0dmFsdWVcclxuXHR9O1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgU1RPUkVfS0VZX0VESVRfUE9EID0gJ3BvZHMvZWRpdC1wb2QnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHVpQ29uc3RhbnRzID0ge1xyXG5cdGFjdGlvbnM6IHtcclxuXHRcdFNFVF9BQ1RJVkVfVEFCOiAnU0VUX0FDVElWRV9UQUInLFxyXG5cdFx0U0VUX1NBVkVfU1RBVFVTOiAnU0VUX1NBVkVfU1RBVFVTJyxcclxuXHR9LFxyXG5cclxuXHR0YWJOYW1lczoge1xyXG5cdFx0TUFOQUdFX0ZJRUxEUzogJ21hbmFnZS1maWVsZHMnLFxyXG5cdFx0TEFCRUxTOiAnbGFiZWxzJyxcclxuXHRcdEFETUlOX1VJOiAnYWRtaW4tdWknLFxyXG5cdFx0QURWQU5DRURfT1BUSU9OUzogJ2FkdmFuY2VkJyxcclxuXHRcdEFVVE9fVEVNUExBVEVfT1BUSU9OUzogJ3BvZHMtcGZhdCcsXHJcblx0XHRSRVNUX0FQSTogJ3Jlc3QtYXBpJyxcclxuXHR9LFxyXG5cclxuXHRzYXZlU3RhdHVzZXM6IHtcclxuXHRcdE5PTkU6ICcnLFxyXG5cdFx0U0FWSU5HOiAnU0FWSU5HJyxcclxuXHRcdFNBVkVfU1VDQ0VTUzogJ1NBVkVfU1VDQ0VTUycsXHJcblx0XHRTQVZFX0VSUk9SOiAnU0FWRV9FUlJPUicsXHJcblx0fSxcclxuXHJcblx0ZHJhZ0l0ZW1UeXBlczoge1xyXG5cdFx0R1JPVVA6ICdHUk9VUCcsXHJcblx0XHRGSUVMRDogJ0ZJRUxEJyxcclxuXHR9LFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG9wdGlvbkNvbnN0YW50cyA9IHtcclxuXHRhY3Rpb25zOiB7XHJcblx0XHRTRVRfT1BUSU9OX0lURU1fVkFMVUU6ICdTRVRfT1BUSU9OX0lURU1fVkFMVUUnLFxyXG5cdH0sXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ3JvdXBDb25zdGFudHMgPSB7XHJcblx0YWN0aW9uczoge1xyXG5cdFx0U0VUX0dST1VQX0xJU1Q6ICdTRVRfR1JPVVBfTElTVCcsXHJcblx0XHRNT1ZFX0dST1VQOiAnTU9WRV9HUk9VUCcsXHJcblx0fSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBwb2RNZXRhQ29uc3RhbnRzID0ge1xyXG5cdGFjdGlvbnM6IHtcclxuXHRcdFNFVF9QT0RfTkFNRTogJ1NFVF9QT0RfTkFNRScsXHJcblx0XHRTRVRfUE9EX01FVEFfVkFMVUU6ICdTRVRfUE9EX01FVEFfVkFMVUUnLFxyXG5cdH0sXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbFVJU3RhdGUgPSB7XHJcblx0YWN0aXZlVGFiOiB1aUNvbnN0YW50cy50YWJOYW1lcy5NQU5BR0VfRklFTERTLFxyXG5cdHNhdmVTdGF0dXM6IHVpQ29uc3RhbnRzLnNhdmVTdGF0dXNlcy5OT05FLFxyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBwYXRocyBmcm9tICcuL3N0YXRlLXBhdGhzJztcclxuXHJcbmltcG9ydCB7XHJcblx0dWlDb25zdGFudHMsXHJcblx0Z3JvdXBDb25zdGFudHMsXHJcblx0b3B0aW9uQ29uc3RhbnRzLFxyXG5cdHBvZE1ldGFDb25zdGFudHMsXHJcblx0aW5pdGlhbFVJU3RhdGUsXHJcbn0gZnJvbSAnLi9jb25zdGFudHMnO1xyXG5cclxuY29uc3QgeyBjb21iaW5lUmVkdWNlcnMgfSA9IHdwLmRhdGE7XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb25cclxuZXhwb3J0IGNvbnN0IHNldE9iamVjdFZhbHVlID0gKCBvYmplY3QsIGtleSwgdmFsdWUgKSA9PiB7XHJcblx0cmV0dXJuIHtcclxuXHRcdC4uLm9iamVjdCxcclxuXHRcdFsga2V5IF06IHZhbHVlXHJcblx0fTtcclxufTtcclxuXHJcbi8vIFVJXHJcbmV4cG9ydCBjb25zdCB1aSA9ICggc3RhdGUgPSBpbml0aWFsVUlTdGF0ZSwgYWN0aW9uID0ge30gKSA9PiB7XHJcblx0Y29uc3QgeyBhY3Rpb25zLCBzYXZlU3RhdHVzZXMgfSA9IHVpQ29uc3RhbnRzO1xyXG5cclxuXHRzd2l0Y2ggKCBhY3Rpb24udHlwZSApIHtcclxuXHRcdGNhc2UgYWN0aW9ucy5TRVRfQUNUSVZFX1RBQjoge1xyXG5cdFx0XHQvLyBVc2UgdGhlIGRlZmF1bHQgaWYgdGhlIHRhYiBuYW1lIGRvZXNuJ3QgZXhpc3RcclxuXHRcdFx0bGV0IG5ld1RhYiA9IGluaXRpYWxVSVN0YXRlLmFjdGl2ZVRhYjtcclxuXHRcdFx0bGV0IHRhYkluZGV4ID0gcGF0aHMuVEFCX0xJU1QudGFpbEdldEZyb20oIHN0YXRlICkuaW5kZXhPZiggYWN0aW9uLmFjdGl2ZVRhYiApO1xyXG5cclxuXHRcdFx0aWYgKCAtMSAhPT0gdGFiSW5kZXggKSB7XHJcblx0XHRcdFx0bmV3VGFiID0gYWN0aW9uLmFjdGl2ZVRhYjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHQuLi5zdGF0ZSxcclxuXHRcdFx0XHRhY3RpdmVUYWI6IG5ld1RhYlxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0Y2FzZSBhY3Rpb25zLlNFVF9TQVZFX1NUQVRVUzoge1xyXG5cdFx0XHRsZXQgbmV3U3RhdHVzID0gYWN0aW9uLnNhdmVTdGF0dXM7XHJcblxyXG5cdFx0XHRpZiAoICFPYmplY3QudmFsdWVzKCBzYXZlU3RhdHVzZXMgKS5pbmNsdWRlcyggbmV3U3RhdHVzICkgKSB7XHJcblx0XHRcdFx0bmV3U3RhdHVzID0gaW5pdGlhbFVJU3RhdGUuc2F2ZVN0YXR1cztcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdC4uLnN0YXRlLFxyXG5cdFx0XHRcdHNhdmVTdGF0dXM6IG5ld1N0YXR1c1xyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdHJldHVybiBzdGF0ZTtcclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ3JvdXBzID0gKCBzdGF0ZSA9IHt9LCBhY3Rpb24gPSB7fSApID0+IHtcclxuXHRjb25zdCB7IGFjdGlvbnMgfSA9IGdyb3VwQ29uc3RhbnRzO1xyXG5cclxuXHRpZiAoIGFjdGlvbnMuTU9WRV9HUk9VUCA9PT0gYWN0aW9uLnR5cGUgKSB7XHJcblx0XHRjb25zdCB7IG9sZEluZGV4LCBuZXdJbmRleCB9ID0gYWN0aW9uO1xyXG5cdFx0Y29uc3QgZ3JvdXBMaXN0ID0gcGF0aHMuR1JPVVBfTElTVC50YWlsR2V0RnJvbSggc3RhdGUgKTtcclxuXHJcblx0XHQvLyBJbmRleCBib3VuZHMgY2hlY2tpbmdcclxuXHRcdGlmICggbnVsbCA9PT0gb2xkSW5kZXggfHwgbnVsbCA9PT0gbmV3SW5kZXggfHwgb2xkSW5kZXggPT09IG5ld0luZGV4ICkge1xyXG5cdFx0XHRyZXR1cm4gc3RhdGU7XHJcblx0XHR9XHJcblx0XHRpZiAoIG9sZEluZGV4ID49IGdyb3VwTGlzdC5sZW5ndGggfHwgMCA+IG9sZEluZGV4ICkge1xyXG5cdFx0XHRyZXR1cm4gc3RhdGU7XHJcblx0XHR9XHJcblx0XHRpZiAoIG5ld0luZGV4ID49IGdyb3VwTGlzdC5sZW5ndGggfHwgMCA+IG5ld0luZGV4ICkge1xyXG5cdFx0XHRyZXR1cm4gc3RhdGU7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgbmV3R3JvdXBMaXN0ID0gWyAuLi5ncm91cExpc3QgXTtcclxuXHRcdG5ld0dyb3VwTGlzdC5zcGxpY2UoIG5ld0luZGV4LCAwLCBuZXdHcm91cExpc3Quc3BsaWNlKCBvbGRJbmRleCwgMSApWyAwIF0gKTtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdC4uLnN0YXRlLFxyXG5cdFx0XHRbIHBhdGhzLkdST1VQX0xJU1QudGFpbFBhdGggXTogbmV3R3JvdXBMaXN0XHJcblx0XHR9O1xyXG5cclxuXHR9IGVsc2UgaWYgKCBhY3Rpb25zLlNFVF9HUk9VUF9MSVNUID09PSBhY3Rpb24udHlwZSApIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdC4uLnN0YXRlLFxyXG5cdFx0XHRbIHBhdGhzLkdST1VQX0xJU1QudGFpbFBhdGggXTogYWN0aW9uLmdyb3VwTGlzdFxyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdHJldHVybiBzdGF0ZTtcclxuXHR9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgb3B0aW9ucyA9ICggc3RhdGUgPSB7fSwgYWN0aW9uID0ge30gKSA9PiB7XHJcblx0Y29uc3QgeyBhY3Rpb25zIH0gPSBvcHRpb25Db25zdGFudHM7XHJcblxyXG5cdGlmICggYWN0aW9ucy5TRVRfT1BUSU9OX0lURU1fVkFMVUUgPT09IGFjdGlvbi50eXBlICkge1xyXG5cdFx0Y29uc3QgeyBvcHRpb25OYW1lLCBpdGVtTmFtZSwgaXRlbVZhbHVlIH0gPSBhY3Rpb247XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQuLi5zdGF0ZSxcclxuXHRcdFx0WyBvcHRpb25OYW1lIF06IHNldE9iamVjdFZhbHVlKCBzdGF0ZVsgb3B0aW9uTmFtZSBdLCBpdGVtTmFtZSwgaXRlbVZhbHVlIClcclxuXHRcdH07XHJcblx0fSBlbHNlIHtcclxuXHRcdHJldHVybiBzdGF0ZTtcclxuXHR9XHJcbn07XHJcblxyXG4vLyBQb2QgbWV0YVxyXG5leHBvcnQgY29uc3QgcG9kTWV0YSA9ICggc3RhdGUgPSB7fSwgYWN0aW9uID0ge30gKSA9PiB7XHJcblx0Y29uc3QgeyBhY3Rpb25zIH0gPSBwb2RNZXRhQ29uc3RhbnRzO1xyXG5cclxuXHRzd2l0Y2ggKCBhY3Rpb24udHlwZSApIHtcclxuXHRcdGNhc2UgYWN0aW9ucy5TRVRfUE9EX05BTUU6XHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0Li4uc3RhdGUsXHJcblx0XHRcdFx0bmFtZTogYWN0aW9uLm5hbWVcclxuXHRcdFx0fTtcclxuXHJcblx0XHRjYXNlIGFjdGlvbnMuU0VUX1BPRF9NRVRBX1ZBTFVFOlxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdC4uLnN0YXRlLFxyXG5cdFx0XHRcdFsgYWN0aW9uLmtleSBdOiBhY3Rpb24udmFsdWVcclxuXHRcdFx0fTtcclxuXHJcblx0XHRkZWZhdWx0OlxyXG5cdFx0XHRyZXR1cm4gc3RhdGU7XHJcblx0fVxyXG59O1xyXG5cclxuLy8gRmllbGRzXHJcbmV4cG9ydCBjb25zdCBmaWVsZHMgPSAoIHN0YXRlID0ge30sIGFjdGlvbiA9IHt9ICkgPT4ge1xyXG5cdHJldHVybiBzdGF0ZTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0ICggY29tYmluZVJlZHVjZXJzKCB7XHJcblx0dWksXHJcblx0cG9kTWV0YSxcclxuXHRvcHRpb25zLFxyXG5cdGdyb3VwcyxcclxuXHRmaWVsZHMsXHJcbn0gKSApO1xyXG4iLCJpbXBvcnQgKiBhcyBwYXRocyBmcm9tICcuL3N0YXRlLXBhdGhzJztcclxuaW1wb3J0IHsgdWlDb25zdGFudHMgfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcblxyXG4vLyBFdmVyeXRoaW5nXHJcbmV4cG9ydCBjb25zdCBnZXRTdGF0ZSA9IHN0YXRlID0+IHN0YXRlO1xyXG5cclxuLy8tLSBQb2QgbWV0YVxyXG5leHBvcnQgY29uc3QgZ2V0UG9kTmFtZSA9IHN0YXRlID0+IHtcclxuXHRyZXR1cm4gcGF0aHMuUE9EX05BTUUuZ2V0RnJvbSggc3RhdGUgKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRQb2RNZXRhVmFsdWUgPSAoIHN0YXRlLCBrZXkgKSA9PiB7XHJcblx0cmV0dXJuIHBhdGhzLlBPRF9NRVRBLmdldEZyb20oIHN0YXRlIClbIGtleSBdO1xyXG59O1xyXG5cclxuLy8tLSBUYWJzXHJcbmV4cG9ydCBjb25zdCBnZXRBY3RpdmVUYWIgPSBzdGF0ZSA9PiBwYXRocy5BQ1RJVkVfVEFCLmdldEZyb20oIHN0YXRlICk7XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VGFiID0gKCBzdGF0ZSwgdGFiTmFtZSApID0+XHJcblx0cGF0aHMuVEFCU19CWV9OQU1FLmdldEZyb20oIHN0YXRlIClbIHRhYk5hbWUgXTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRUYWJMaXN0ID0gc3RhdGUgPT5cclxuXHRwYXRocy5UQUJfTElTVC5nZXRGcm9tKCBzdGF0ZSApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFRhYnMgPSBzdGF0ZSA9PlxyXG5cdGdldFRhYkxpc3QoIHN0YXRlICkubWFwKCB0YWJOYW1lID0+IGdldFRhYiggc3RhdGUsIHRhYk5hbWUgKSApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFRhYk9wdGlvbnNMaXN0ID0gKCBzdGF0ZSwgdGFiTmFtZSApID0+XHJcblx0cGF0aHMuVEFCX09QVElPTlNfTElTVC5nZXRGcm9tKCBzdGF0ZSApWyB0YWJOYW1lIF07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0VGFiT3B0aW9ucyA9ICggc3RhdGUsIHRhYk5hbWUgKSA9PiB7XHJcblx0cmV0dXJuIGdldFRhYk9wdGlvbnNMaXN0KCBzdGF0ZSwgdGFiTmFtZSApLm1hcChcclxuXHRcdG9wdGlvbk5hbWUgPT4gZ2V0T3B0aW9uKCBzdGF0ZSwgb3B0aW9uTmFtZSApXHJcblx0KTtcclxufTtcclxuXHJcbi8vLS0gU2F2ZSBzdGF0dXNcclxuZXhwb3J0IGNvbnN0IGdldFNhdmVTdGF0dXMgPSBzdGF0ZSA9PiBwYXRocy5TQVZFX1NUQVRVUy5nZXRGcm9tKCBzdGF0ZSApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGlzU2F2aW5nID0gc3RhdGUgPT5cclxuXHRwYXRocy5TQVZFX1NUQVRVUy5nZXRGcm9tKCBzdGF0ZSApID09PSB1aUNvbnN0YW50cy5zYXZlU3RhdHVzZXMuU0FWSU5HO1xyXG5cclxuLy8tLSBPcHRpb25zXHJcbmV4cG9ydCBjb25zdCBnZXRPcHRpb24gPSAoIHN0YXRlLCBvcHRpb25OYW1lICkgPT5cclxuXHRwYXRocy5PUFRJT05TLmdldEZyb20oIHN0YXRlIClbIG9wdGlvbk5hbWUgXTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRPcHRpb25JdGVtVmFsdWUgPSAoIHN0YXRlLCBvcHRpb25OYW1lLCBpdGVtTmFtZSApID0+XHJcblx0cGF0aHMuT1BUSU9OUy5nZXRGcm9tKCBzdGF0ZSApWyBvcHRpb25OYW1lIF1bIGl0ZW1OYW1lIF07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0T3B0aW9uVmFsdWUgPSAoIHN0YXRlLCBvcHRpb25OYW1lICkgPT5cclxuXHRwYXRocy5PUFRJT05TLmdldEZyb20oIHN0YXRlIClbIG9wdGlvbk5hbWUgXS52YWx1ZTtcclxuXHJcbi8vLS0gR3JvdXBzXHJcbmV4cG9ydCBjb25zdCBnZXRHcm91cExpc3QgPSBzdGF0ZSA9PlxyXG5cdHBhdGhzLkdST1VQX0xJU1QuZ2V0RnJvbSggc3RhdGUgKTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRHcm91cCA9ICggc3RhdGUsIGdyb3VwTmFtZSApID0+XHJcblx0cGF0aHMuR1JPVVBTX0JZX05BTUUuZ2V0RnJvbSggc3RhdGUgKVsgZ3JvdXBOYW1lIF07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0R3JvdXBzID0gc3RhdGUgPT5cclxuXHRnZXRHcm91cExpc3QoIHN0YXRlICkubWFwKCBncm91cE5hbWUgPT4gZ2V0R3JvdXAoIHN0YXRlLCBncm91cE5hbWUgKSApO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEZpZWxkTGlzdCA9ICggc3RhdGUsIGdyb3VwTmFtZSApID0+XHJcblx0cGF0aHMuR1JPVVBfRklFTERfTElTVC5nZXRGcm9tKCBzdGF0ZSApWyBncm91cE5hbWUgXTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRHcm91cEZpZWxkcyA9ICggc3RhdGUsIGdyb3VwTmFtZSApID0+XHJcblx0Z2V0RmllbGRMaXN0KCBzdGF0ZSwgZ3JvdXBOYW1lICkubWFwKCBmaWVsZE5hbWUgPT4gZ2V0RmllbGQoIHN0YXRlLCBmaWVsZE5hbWUgKSApO1xyXG5cclxuLy8tLSBGaWVsZHNcclxuZXhwb3J0IGNvbnN0IGdldEZpZWxkcyA9IHN0YXRlID0+IHBhdGhzLkZJRUxEUy5nZXRGcm9tKCBzdGF0ZSApO1xyXG5leHBvcnQgY29uc3QgZ2V0RmllbGQgPSAoIHN0YXRlLCBmaWVsZE5hbWUgKSA9PiBnZXRGaWVsZHMoIHN0YXRlIClbIGZpZWxkTmFtZSBdO1xyXG4iLCJpbXBvcnQgeyB0YWlsIH0gZnJvbSAnbG9kYXNoJztcclxuXHJcbmNvbnN0IHRhaWxQYXRoID0gKCBkb3RQYXRoICkgPT4gdGFpbCggZG90UGF0aC5zcGxpdCggJy4nICkgKS5qb2luKCAnLicgKTtcclxuXHJcbmNvbnN0IGNyZWF0ZVRyZWUgPSAoIHZhbHVlLCBkb3RQYXRoICkgPT4ge1xyXG5cdHJldHVybiBkb3RQYXRoLnNwbGl0KCAnLicgKS5yZWR1Y2VSaWdodChcclxuXHRcdCggYWNjLCBjdXJyZW50VmFsdWUgKSA9PiB7XHJcblx0XHRcdHJldHVybiB7IFsgY3VycmVudFZhbHVlIF06IGFjYyB9O1xyXG5cdFx0fSxcclxuXHRcdHZhbHVlXHJcblx0KTtcclxufTtcclxuXHJcbmNvbnN0IGdldEZyb20gPSAoIHN0YXRlLCBkb3RQYXRoICkgPT4ge1xyXG5cdHJldHVybiBkb3RQYXRoLnNwbGl0KCAnLicgKS5yZWR1Y2UoICggdmFsdWUsIGVsICkgPT4gdmFsdWVbIGVsIF0sIHN0YXRlICk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlU3RhdGVQYXRoID0gcGF0aCA9PiB7XHJcblx0cmV0dXJuIHtcclxuXHRcdC8vIHBhdGggJ3VpLnRhYnMudGFiTGlzdCcsIHRhaWxQYXRoOiAndGFicy50YWJMaXN0J1xyXG5cdFx0cGF0aDogcGF0aCxcclxuXHRcdHRhaWxQYXRoOiB0YWlsUGF0aCggcGF0aCApLFxyXG5cclxuXHRcdGdldEZyb206ICggc3RhdGUsIGRvdFBhdGggPSBwYXRoICkgPT4ge1xyXG5cdFx0XHRyZXR1cm4gZ2V0RnJvbSggc3RhdGUsIGRvdFBhdGggKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0dGFpbEdldEZyb206IHN0YXRlID0+IHtcclxuXHRcdFx0cmV0dXJuIGdldEZyb20oIHN0YXRlLCB0YWlsUGF0aCggcGF0aCApICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdGNyZWF0ZVRyZWU6ICggdmFsdWUsIGRvdFBhdGggPSBwYXRoICkgPT4ge1xyXG5cdFx0XHRyZXR1cm4gY3JlYXRlVHJlZSggdmFsdWUsIGRvdFBhdGggKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0dGFpbENyZWF0ZVRyZWU6IHZhbHVlID0+IHtcclxuXHRcdFx0cmV0dXJuIGNyZWF0ZVRyZWUoIHZhbHVlLCB0YWlsUGF0aCggcGF0aCApICk7XHJcblx0XHR9LFxyXG5cdH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgUE9EX01FVEEgPSBjcmVhdGVTdGF0ZVBhdGgoICdwb2RNZXRhJyApO1xyXG5leHBvcnQgY29uc3QgUE9EX05BTUUgPSBjcmVhdGVTdGF0ZVBhdGgoIGAke1BPRF9NRVRBLnBhdGh9Lm5hbWVgICk7XHJcbmV4cG9ydCBjb25zdCBQT0RfSUQgPSBjcmVhdGVTdGF0ZVBhdGgoIGAke1BPRF9NRVRBLnBhdGh9LmlkYCApO1xyXG5cclxuZXhwb3J0IGNvbnN0IEZJRUxEUyA9IGNyZWF0ZVN0YXRlUGF0aCggJ2ZpZWxkcycgKTtcclxuXHJcbmV4cG9ydCBjb25zdCBHUk9VUFMgPSBjcmVhdGVTdGF0ZVBhdGgoICdncm91cHMnICk7XHJcbmV4cG9ydCBjb25zdCBHUk9VUFNfQllfTkFNRSA9IGNyZWF0ZVN0YXRlUGF0aCggYCR7R1JPVVBTLnBhdGh9LmJ5TmFtZWAgKTtcclxuXHJcbi8vIE9yZGVyZWQgbGlzdCBvZiBncm91cCBuYW1lcyBhcyBhbiBhcnJheTogWyAnZ3JvdXAxJywgJ2dyb3VwMicsIC4uLiBdXHJcbmV4cG9ydCBjb25zdCBHUk9VUF9MSVNUID0gY3JlYXRlU3RhdGVQYXRoKCBgJHtHUk9VUFMucGF0aH0uZ3JvdXBMaXN0YCApO1xyXG5cclxuLy8gT25lIHRvIG1hbnkgcmVsYXRpb25zaGlwOlxyXG4vLyB7ICdncm91cDEnOiBbICdmaWVsZDEnLCAnZmllbGQyJywgLi4uXSwgJ2dyb3VwMic6IFsuLi5dIH1cclxuZXhwb3J0IGNvbnN0IEdST1VQX0ZJRUxEX0xJU1QgPSBjcmVhdGVTdGF0ZVBhdGgoIGAke0dST1VQUy5wYXRofS5ncm91cEZpZWxkTGlzdGAgKTtcclxuXHJcbmV4cG9ydCBjb25zdCBVSSA9IGNyZWF0ZVN0YXRlUGF0aCggJ3VpJyApO1xyXG5leHBvcnQgY29uc3QgQUNUSVZFX1RBQiA9IGNyZWF0ZVN0YXRlUGF0aCggYCR7VUkucGF0aH0uYWN0aXZlVGFiYCApO1xyXG5leHBvcnQgY29uc3QgU0FWRV9TVEFUVVMgPSBjcmVhdGVTdGF0ZVBhdGgoIGAke1VJLnBhdGh9LnNhdmVTdGF0dXNgICk7XHJcblxyXG5leHBvcnQgY29uc3QgVEFCUyA9IGNyZWF0ZVN0YXRlUGF0aCggYCR7VUkucGF0aH0udGFic2AgKTtcclxuXHJcbi8vIE9yZGVyZWQgbGlzdCBvZiB0YWIgbmFtZXMgYXMgYW4gYXJyYXk6IFsgJ3RhYjEnLCAndGFiMicsIC4uLiBdXHJcbmV4cG9ydCBjb25zdCBUQUJfTElTVCA9IGNyZWF0ZVN0YXRlUGF0aCggYCR7VEFCUy5wYXRofS50YWJMaXN0YCApO1xyXG5cclxuLy8gVGFiIG9iamVjdHMga2V5ZWQgYnkgdGFiIG5hbWU6XHJcbi8vIHsgdGFiMToge3RhYiBvYmplY3R9LCB0YWIyOiB7dGFiIG9iamVjdH0sIC4uLn1cclxuZXhwb3J0IGNvbnN0IFRBQlNfQllfTkFNRSA9IGNyZWF0ZVN0YXRlUGF0aCggYCR7VEFCUy5wYXRofS5ieU5hbWVgICk7XHJcblxyXG4vLyBPbmUgdG8gbWFueSByZWxhdGlvbnNoaXAgdGFiID0+IG9wdGlvbnM6XHJcbi8vIHsgJ3RhYjEnOiBbICdvcHRpb24xJywgJ29wdGlvbjInLCAuLi5dLCAndGFiMic6IFsuLi5dIH1cclxuZXhwb3J0IGNvbnN0IFRBQl9PUFRJT05TX0xJU1QgPSBjcmVhdGVTdGF0ZVBhdGgoIGAke1RBQlMucGF0aH0udGFiT3B0aW9uc0xpc3RgICk7XHJcblxyXG4vLyBQb2Qgb3B0aW9uIGxpc3Qga2V5ZWQgYnkgb3B0aW9uIG5hbWU6XHJcbi8vIHsgY2FuX2V4cG9ydDoge29iamVjdH0sIHNob3dfdWk6IHtvYmplY3R9LCBldGMgfVxyXG5leHBvcnQgY29uc3QgT1BUSU9OUyA9IGNyZWF0ZVN0YXRlUGF0aCggJ29wdGlvbnMnICk7XHJcblxyXG4iLCJpbXBvcnQgeyBtZXJnZSB9IGZyb20gJ2xvZGFzaCc7XHJcblxyXG5pbXBvcnQgKiBhcyBwYXRocyBmcm9tICcuL3N0YXRlLXBhdGhzJztcclxuaW1wb3J0IHsgU1RPUkVfS0VZX0VESVRfUE9ELCBpbml0aWFsVUlTdGF0ZSB9IGZyb20gJy4vY29uc3RhbnRzJztcclxuaW1wb3J0IHJlZHVjZXIgZnJvbSAnLi9yZWR1Y2VyJztcclxuaW1wb3J0ICogYXMgc2VsZWN0b3JzIGZyb20gJy4vc2VsZWN0b3JzJztcclxuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tICcuL2FjdGlvbnMnO1xyXG5cclxuY29uc3QgeyByZWdpc3RlclN0b3JlIH0gPSB3cC5kYXRhO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRTdG9yZSA9ICggcHJvcHMgKSA9PiB7XHJcblx0Y29uc3QgaW5pdGlhbFN0YXRlID0gbWVyZ2UoXHJcblx0XHRwYXRocy5VSS5jcmVhdGVUcmVlKCBpbml0aWFsVUlTdGF0ZSApLFxyXG5cdFx0cHJvcHNcclxuXHQpO1xyXG5cclxuXHRyZXR1cm4gcmVnaXN0ZXJTdG9yZSggU1RPUkVfS0VZX0VESVRfUE9ELCB7XHJcblx0XHRyZWR1Y2VyOiByZWR1Y2VyLFxyXG5cdFx0c2VsZWN0b3JzOiBzZWxlY3RvcnMsXHJcblx0XHRhY3Rpb25zOiBhY3Rpb25zLFxyXG5cdFx0aW5pdGlhbFN0YXRlOiBpbml0aWFsU3RhdGUsXHJcblx0fSApO1xyXG59O1xyXG4iLCJpbXBvcnQge0RyYWdEcm9wQ29udGV4dH0gZnJvbSAncmVhY3QtZG5kJztcclxuaW1wb3J0IEhUTUw1QmFja2VuZCBmcm9tICdyZWFjdC1kbmQtaHRtbDUtYmFja2VuZCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEcmFnRHJvcENvbnRleHQoSFRNTDVCYWNrZW5kKTtcclxuIiwiLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcHJvcC10eXBlcyAqL1xyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuZXhwb3J0IGNvbnN0IFBvZHNERlZCYXNlSW5wdXQgPSAoIHByb3BzICkgPT4ge1xyXG5cclxuXHQvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIGlmIG9uQ2hhbmdlIGlzIG9taXR0ZWQgZnJvbSBwcm9wc1xyXG5cdGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSAoIGV2ZW50ICkge1xyXG5cdFx0cHJvcHMuc2V0VmFsdWUoIGV2ZW50LnRhcmdldC52YWx1ZSApO1xyXG5cdH1cclxuXHJcblx0Ly8gbm9pbnNwZWN0aW9uIEpTVW5yZXNvbHZlZFZhcmlhYmxlXHJcblx0cmV0dXJuIChcclxuXHRcdDxpbnB1dFxyXG5cdFx0XHR0eXBlPXsgcHJvcHMudHlwZSB9XHJcblx0XHRcdG5hbWU9eyBwcm9wcy5odG1sQXR0ci5uYW1lIH1cclxuXHRcdFx0aWQ9eyBwcm9wcy5odG1sQXR0ci5pZCB9XHJcblx0XHRcdGNsYXNzTmFtZT17IHByb3BzLmNsYXNzTmFtZSB9XHJcblx0XHRcdGRhdGEtbmFtZS1jbGVhbj17IHByb3BzLmh0bWxBdHRyLm5hbWVfY2xlYW4gfVxyXG5cdFx0XHRwbGFjZWhvbGRlcj17IHByb3BzLmZpZWxkQ29uZmlnLnRleHRfcGxhY2Vob2xkZXIgfVxyXG5cdFx0XHRtYXhMZW5ndGg9eyBwcm9wcy5maWVsZENvbmZpZy50ZXh0X21heF9sZW5ndGggfVxyXG5cdFx0XHR2YWx1ZT17IHByb3BzLnZhbHVlIH1cclxuXHRcdFx0cmVhZE9ubHk9eyAhIXByb3BzLmZpZWxkQ29uZmlnLnJlYWRvbmx5IH1cclxuXHRcdFx0b25DaGFuZ2U9eyBwcm9wcy5vbkNoYW5nZSB8fCBoYW5kbGVDaGFuZ2UgfVxyXG5cdFx0XHRvbkJsdXI9eyBwcm9wcy5vbkJsdXIgfVxyXG5cdFx0XHRtaW49eyBwcm9wcy5taW4gfVxyXG5cdFx0XHRtYXg9eyBwcm9wcy5tYXggfVxyXG5cdFx0Lz5cclxuXHQpO1xyXG59O1xyXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcm9wLXR5cGVzICovXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xyXG5pbXBvcnQgeyBQb2RzREZWVmFsaWRhdGlvbk1lc3NhZ2VzIH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvbXBvbmVudHMvdmFsaWRhdGlvbi1tZXNzYWdlcyc7XHJcbmltcG9ydCB7IHZhbGlkYXRpb25SdWxlcyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy92YWxpZGF0aW9uL3ZhbGlkYXRpb24tcnVsZXMnO1xyXG5pbXBvcnQgeyBwb2RzVmFsaWRhdGlvbiB9IGZyb20gJ3BvZHMtZGZ2L3NyYy92YWxpZGF0aW9uL3ZhbGlkYXRpb24nO1xyXG5jb25zdCB1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlO1xyXG5cclxuZXhwb3J0IGNvbnN0IFBvZHNERlZGaWVsZENvbnRhaW5lciA9ICggcHJvcHMgKSA9PiB7XHJcblx0Y29uc3QgRmllbGQgPSBwcm9wcy5maWVsZENvbXBvbmVudDtcclxuXHRjb25zdCBbIHZhbHVlLCBzZXRWYWx1ZSBdID0gdXNlU3RhdGUoIHByb3BzLmZpZWxkSXRlbURhdGFbIDAgXSB8fCAnJyApO1xyXG5cdGNvbnN0IHZhbGlkYXRpb24gPSBwb2RzVmFsaWRhdGlvbigpO1xyXG5cdGNvbnN0IHZhbGlkYXRpb25NZXNzYWdlcyA9IHZhbGlkYXRpb24udXNlVmFsaWRhdGlvbiggdmFsdWUgKTtcclxuXHJcblx0dmFsaWRhdGlvbi5hZGRSdWxlcyggW1xyXG5cdFx0e1xyXG5cdFx0XHRydWxlOiB2YWxpZGF0aW9uUnVsZXMucmVxdWlyZWQoIHZhbHVlLCBwcm9wcy5maWVsZENvbmZpZy5sYWJlbCApLFxyXG5cdFx0XHRjb25kaXRpb246ICcxJyA9PT0gcHJvcHMuZmllbGRDb25maWcucmVxdWlyZWQsXHJcblx0XHR9XHJcblx0XSApO1xyXG5cclxuXHRjb25zdCBmaWVsZENsYXNzZXMgPSBjbGFzc05hbWVzKFxyXG5cdFx0cHJvcHMuaHRtbEF0dHIuY2xhc3MsXHJcblx0XHR7ICdwb2RzLXZhbGlkYXRlLWVycm9yJzogdmFsaWRhdGlvbk1lc3NhZ2VzLmxlbmd0aCB9XHJcblx0KTtcclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDxkaXYgY2xhc3NOYW1lPVwicG9kcy1kZnYtY29udGFpbmVyXCI+XHJcblx0XHRcdDxGaWVsZFxyXG5cdFx0XHRcdHZhbHVlPXt2YWx1ZX1cclxuXHRcdFx0XHRzZXRWYWx1ZT17c2V0VmFsdWV9XHJcblx0XHRcdFx0dmFsaWRhdGlvbj17dmFsaWRhdGlvbn1cclxuXHRcdFx0XHRjbGFzc05hbWU9e2ZpZWxkQ2xhc3Nlc31cclxuXHRcdFx0XHR7Li4ucHJvcHN9XHJcblx0XHRcdC8+XHJcblx0XHRcdDxQb2RzREZWVmFsaWRhdGlvbk1lc3NhZ2VzIG1lc3NhZ2VzPXt2YWxpZGF0aW9uTWVzc2FnZXN9IC8+XHJcblx0XHQ8L2Rpdj5cclxuXHQpO1xyXG59O1xyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5pbXBvcnQgeyBIZWxwVG9vbHRpcCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb21wb25lbnRzL2hlbHAtdG9vbHRpcCc7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IFBvZHNGaWVsZE9wdGlvbiA9ICggcHJvcHMgKSA9PiB7XHJcblx0Y29uc3QgeyBmaWVsZFR5cGUsIG5hbWUsIHZhbHVlLCBsYWJlbCwgb25DaGFuZ2UsIGhlbHBUZXh0IH0gPSBwcm9wcztcclxuXHJcblx0Y29uc3QgdG9Cb29sID0gKCBzdHJpbmdPck51bWJlciApID0+IHtcclxuXHRcdC8vIEZvcmNlIGFueSBzdHJpbmdzIHRvIG51bWVyaWMgZmlyc3RcclxuXHRcdHJldHVybiAhISggK3N0cmluZ09yTnVtYmVyICk7XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDxkaXYgY2xhc3NOYW1lPSdwb2RzLWZpZWxkLW9wdGlvbic+XHJcblx0XHRcdDxsYWJlbFxyXG5cdFx0XHRcdGNsYXNzTmFtZT17YHBvZHMtZm9ybS11aS1sYWJlbCBwb2RzLWZvcm0tdWktbGFiZWwtJHtuYW1lfWB9XHJcblx0XHRcdFx0aHRtbEZvcj17bmFtZX0+XHJcblx0XHRcdFx0e2xhYmVsfVxyXG5cdFx0XHRcdHtoZWxwVGV4dCAmJiAoICdoZWxwJyAhPT0gaGVscFRleHQgKSAmJiAoIDxIZWxwVG9vbHRpcCBoZWxwVGV4dD17aGVscFRleHR9Lz4gKX1cclxuXHRcdFx0PC9sYWJlbD5cclxuXHRcdFx0eydib29sZWFuJyA9PT0gZmllbGRUeXBlID9cclxuXHRcdFx0XHQoIDxpbnB1dFxyXG5cdFx0XHRcdFx0dHlwZT0nY2hlY2tib3gnXHJcblx0XHRcdFx0XHRpZD17bmFtZX1cclxuXHRcdFx0XHRcdG5hbWU9e25hbWV9XHJcblx0XHRcdFx0XHRjaGVja2VkPXt0b0Jvb2woIHZhbHVlICl9XHJcblx0XHRcdFx0XHRvbkNoYW5nZT17b25DaGFuZ2V9XHJcblx0XHRcdFx0Lz4gKSA6XHJcblx0XHRcdFx0KCA8aW5wdXRcclxuXHRcdFx0XHRcdHR5cGU9J3RleHQnXHJcblx0XHRcdFx0XHRpZD17bmFtZX1cclxuXHRcdFx0XHRcdG5hbWU9e25hbWV9XHJcblx0XHRcdFx0XHR2YWx1ZT17dmFsdWV9XHJcblx0XHRcdFx0XHRvbkNoYW5nZT17b25DaGFuZ2V9XHJcblx0XHRcdFx0Lz4gKVxyXG5cdFx0XHR9XHJcblx0XHQ8L2Rpdj5cclxuXHQpO1xyXG59O1xyXG5cclxuUG9kc0ZpZWxkT3B0aW9uLnByb3BUeXBlcyA9IHtcclxuXHRmaWVsZFR5cGU6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuXHRuYW1lOiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcblx0dmFsdWU6IFByb3BUeXBlcy5hbnkuaXNSZXF1aXJlZCxcclxuXHRsYWJlbDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG5cdG9uQ2hhbmdlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxyXG5cdGhlbHBUZXh0OiBQcm9wVHlwZXMuYW55LFxyXG59O1xyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcblxyXG5jb25zdCB7IFRvb2x0aXAsIERhc2hpY29uIH0gPSB3cC5jb21wb25lbnRzO1xyXG5cclxuZXhwb3J0IGNvbnN0IEhlbHBUb29sdGlwID0gKCBwcm9wcyApID0+IHtcclxuXHRyZXR1cm4gKFxyXG5cdFx0PFRvb2x0aXAgdGV4dD17cHJvcHMuaGVscFRleHR9PlxyXG5cdFx0XHQ8c3Bhbj5cclxuXHRcdFx0XHQ8RGFzaGljb24gaWNvbj0nZWRpdG9yLWhlbHAnIC8+XHJcblx0XHRcdDwvc3Bhbj5cclxuXHRcdDwvVG9vbHRpcD5cclxuXHQpO1xyXG59O1xyXG5cclxuSGVscFRvb2x0aXAucHJvcFR5cGVzID0ge1xyXG5cdGhlbHBUZXh0OiBQcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQsXHJcbn07XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XHJcblxyXG5leHBvcnQgY29uc3QgUG9kc05hdlRhYiA9ICggeyB0YWJzLCBhY3RpdmVUYWIsIHNldEFjdGl2ZVRhYiB9ICkgPT4ge1xyXG5cdGNvbnN0IGdldENsYXNzTmFtZSA9ICggdGFiTmFtZSApID0+IHtcclxuXHRcdHJldHVybiBjbGFzc05hbWVzKFxyXG5cdFx0XHQnbmF2LXRhYiBwb2RzLW5hdi10YWItbGluaycsXHJcblx0XHRcdHsgJ25hdi10YWItYWN0aXZlJzogKCB0YWJOYW1lID09PSBhY3RpdmVUYWIgKSB9LFxyXG5cdFx0KTtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBoYW5kbGVDbGljayA9ICggZSwgdGFiTmFtZSApID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdHNldEFjdGl2ZVRhYiggdGFiTmFtZSApO1xyXG5cdH07XHJcblxyXG5cdHJldHVybiAoXHJcblx0XHQ8aDIgY2xhc3NOYW1lPSduYXYtdGFiLXdyYXBwZXIgcG9kcy1uYXYtdGFicyc+XHJcblx0XHRcdHt0YWJzLm1hcCggdGhpc1RhYiA9PiAoXHJcblx0XHRcdFx0PGFcclxuXHRcdFx0XHRcdGtleT17dGhpc1RhYi5uYW1lfVxyXG5cdFx0XHRcdFx0aHJlZj17YCNwb2RzLSR7dGhpc1RhYi5uYW1lfWB9XHJcblx0XHRcdFx0XHRjbGFzc05hbWU9e2dldENsYXNzTmFtZSggdGhpc1RhYi5uYW1lICl9XHJcblx0XHRcdFx0XHRvbkNsaWNrPXsoIGUgKSA9PiBoYW5kbGVDbGljayggZSwgdGhpc1RhYi5uYW1lICl9XHJcblx0XHRcdFx0PlxyXG5cdFx0XHRcdFx0e3RoaXNUYWIudGl0bGVUZXh0fVxyXG5cdFx0XHRcdDwvYT5cclxuXHRcdFx0KSApfVxyXG5cdFx0PC9oMj5cclxuXHQpO1xyXG59O1xyXG5cclxuUG9kc05hdlRhYi5wcm9wVHlwZXMgPSB7XHJcblx0dGFiczogUHJvcFR5cGVzLmFycmF5T2YoIFByb3BUeXBlcy5zaGFwZSgge1xyXG5cdFx0bmFtZTogUHJvcFR5cGVzLnN0cmluZyxcclxuXHRcdHRpdGxlVGV4dDogUHJvcFR5cGVzLnN0cmluZyxcclxuXHR9ICkgKS5pc1JlcXVpcmVkLFxyXG5cdGFjdGl2ZVRhYjogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG5cdHNldEFjdGl2ZVRhYjogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxufTtcclxuIiwiLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcHJvcC10eXBlcyAqL1xyXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5cclxuZXhwb3J0IGNvbnN0IFBvZHNERlZWYWxpZGF0aW9uTWVzc2FnZSA9ICggcHJvcHMgKSA9PiB7XHJcblx0cmV0dXJuICggPGRpdiBjbGFzc05hbWU9XCJub3RpY2Ugbm90aWNlLWVycm9yXCI+e3Byb3BzLm1lc3NhZ2V9PC9kaXY+ICk7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgUG9kc0RGVlZhbGlkYXRpb25NZXNzYWdlcyA9ICggcHJvcHMgKSA9PiB7XHJcblx0cmV0dXJuIHByb3BzLm1lc3NhZ2VzLm1hcCggdGhpc01lc3NhZ2UgPT4ge1xyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0PFBvZHNERlZWYWxpZGF0aW9uTWVzc2FnZVxyXG5cdFx0XHRcdGtleT17dGhpc01lc3NhZ2V9XHJcblx0XHRcdFx0bWVzc2FnZT17dGhpc01lc3NhZ2V9XHJcblx0XHRcdC8+XHJcblx0XHQpO1xyXG5cdH0gKTtcclxufTtcclxuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCB3cCwgUG9kc0kxOG4gKi9cclxuXHJcbi8qKlxyXG4gKiBBIGZyYW1lIGZvciBkaXNwbGF5aW5nIGEgbW9kYWwgcG9wdXAgd2l0aCBpZnJhbWUgY29udGVudFxyXG4gKlxyXG4gKiBAYXVnbWVudHMgd3AubWVkaWEudmlldy5GcmFtZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFBvZHNERlZNb2RhbCA9IHdwLm1lZGlhLnZpZXcuTW9kYWwuZXh0ZW5kKCB7XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcblx0ICogQHJldHVybnMge3dwLm1lZGlhLnZpZXcuTW9kYWx9IFJldHVybnMgaXRzZWxmIHRvIGFsbG93IGNoYWluaW5nXHJcblx0ICovXHJcblx0Y2xvc2U6IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcclxuXHRcdGNvbnN0IHJldFZhbCA9IHdwLm1lZGlhLnZpZXcuTW9kYWwucHJvdG90eXBlLmNsb3NlLmFwcGx5KCB0aGlzLCBvcHRpb25zICk7XHJcblxyXG5cdFx0Ly8gQWxlcnQgdGhlIGxpc3RlbmluZyBjb250cm9sIHdoZW4gd2UndmUgYmVlbiBjYW5jZWxsZWRcclxuXHRcdGlmICggb3B0aW9ucyAmJiBvcHRpb25zLmVzY2FwZSApIHtcclxuXHRcdFx0d2luZG93LnBhcmVudC5qUXVlcnkoIHdpbmRvdy5wYXJlbnQgKS50cmlnZ2VyKCAnZGZ2Om1vZGFsOmNhbmNlbCcgKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gcmV0VmFsO1xyXG5cdH1cclxuXHJcbn0gKTtcclxuIiwiLyoqXHJcbiAqIE5vdGU6IE5vIGNoZWNraW5nIGlzIGRvbmUgaGVyZSB0byBtYWtlIHN1cmUgd2UncmUgaW4gYSBtb2RhbCBhbmQgdGhhdFxyXG4gKiBHdXRlbmJlcmcgaXMgYWN0dWFsbHkgbG9hZGVkLiAgQ29uc3VtaW5nIGNvZGUgbXVzdCBtYWtlIHN1cmUgdGhlIGltcGxpY2l0XHJcbiAqIEd1dGVuYmVyZyBkZXBlbmRlbmNpZXMgZXhpc3QgKHByaW1hcmlseSB3cC5kYXRhKSBiZWZvcmUgY2FsbGluZyB0aHJvdWdoXHJcbiAqIHRvIGluaXQoKS5cclxuICovXHJcblxyXG4vLyBUaGUgZ3VhcmQgaW4gZnJvbnQgaXMgdG8gZW5zdXJlIHdwLmRhdGEgZXhpc3RzIGJlZm9yZSBhY2Nlc3Npbmcgc2VsZWN0XHJcbmNvbnN0IGVkaXRvckRhdGEgPSB3cC5kYXRhICYmIHdwLmRhdGEuc2VsZWN0KCAnY29yZS9lZGl0b3InICk7XHJcbmxldCB1blN1YnNjcmliZTtcclxuXHJcbi8qKlxyXG4gKiBpbml0KCkgaXMgdGhlIG9ubHkgZXhwb3NlZCBpbnRlcmZhY2VcclxuICovXHJcbmV4cG9ydCBjb25zdCBQb2RzR2JNb2RhbExpc3RlbmVyID0ge1xyXG5cdGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICggZWRpdG9yRGF0YS5pc0N1cnJlbnRQb3N0UHVibGlzaGVkKCkgKSB7XHJcblx0XHRcdC8vIFBvc3QgaXMgcHVibGlzaGVkLCB0aGlzIGlzIGFuIGVkaXRcclxuXHRcdFx0dW5TdWJzY3JpYmUgPSB3cC5kYXRhLnN1YnNjcmliZSggc2F2ZUxpc3RlbmVyICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBVbnB1Ymxpc2hlZCBwb3N0LCB0aGlzIGlzIGFuIFwiYWRkIG5ld1wiIG1vZGFsXHJcblx0XHRcdHVuU3Vic2NyaWJlID0gd3AuZGF0YS5zdWJzY3JpYmUoIHB1Ymxpc2hMaXN0ZW5lciApO1xyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBIZWxwZXIgZnVuY3Rpb25zLCBub3QgZXh0ZXJuYWxseSBleHBvc2VkXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLyoqXHJcbiAqXHJcbiAqIEByZXR1cm4gc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRGZWF0dXJlZEltYWdlVVJMICgpIHtcclxuXHRjb25zdCBmZWF0dXJlZEltYWdlSWQgPSBlZGl0b3JEYXRhLmdldEN1cnJlbnRQb3N0QXR0cmlidXRlKCAnZmVhdHVyZWRfbWVkaWEnICk7XHJcblx0bGV0IHVybCA9ICcnO1xyXG5cclxuXHQvLyBFYXJseSBleGl0IGlmIG5vdGhpbmcgd2FzIHNldFxyXG5cdGlmICggIWZlYXR1cmVkSW1hZ2VJZCApIHtcclxuXHRcdHJldHVybiB1cmw7XHJcblx0fVxyXG5cclxuXHRjb25zdCBtZWRpYSA9IHdwLmRhdGEuc2VsZWN0KCAnY29yZScgKS5nZXRNZWRpYSggZmVhdHVyZWRJbWFnZUlkICk7XHJcblxyXG5cdGlmICggbWVkaWEgKSB7XHJcblx0XHRjb25zdCBtZWRpYVNpemUgPSB3cC5ob29rcy5hcHBseUZpbHRlcnMoICdlZGl0b3IuUG9zdEZlYXR1cmVkSW1hZ2UuaW1hZ2VTaXplJywgJ3Bvc3QtdGh1bWJuYWlsJywgJycgKTtcclxuXHRcdGlmICggbWVkaWEubWVkaWFfZGV0YWlscyAmJiBtZWRpYS5tZWRpYV9kZXRhaWxzLnNpemVzICYmIG1lZGlhLm1lZGlhX2RldGFpbHMuc2l6ZXNbIG1lZGlhU2l6ZSBdICkge1xyXG5cdFx0XHR1cmwgPSBtZWRpYS5tZWRpYV9kZXRhaWxzLnNpemVzWyBtZWRpYVNpemUgXS5zb3VyY2VfdXJsO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dXJsID0gbWVkaWEuc291cmNlX3VybDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiB1cmw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYW5kbGVzIFwiYWRkIG5ld1wiIG1vZGFsc1xyXG4gKi9cclxuZnVuY3Rpb24gcHVibGlzaExpc3RlbmVyICgpIHtcclxuXHJcblx0aWYgKCBlZGl0b3JEYXRhLmlzQ3VycmVudFBvc3RQdWJsaXNoZWQoKSApIHtcclxuXHRcdHVuU3Vic2NyaWJlKCk7XHJcblxyXG5cdFx0dHJpZ2dlclVwZGF0ZUV2ZW50KCB7XHJcblx0XHRcdCdpY29uJzogZ2V0RmVhdHVyZWRJbWFnZVVSTCgpLFxyXG5cdFx0XHQnbGluayc6IGVkaXRvckRhdGEuZ2V0UGVybWFsaW5rKCksXHJcblx0XHRcdCdlZGl0X2xpbmsnOiBgcG9zdC5waHA/cG9zdD0ke2VkaXRvckRhdGEuZ2V0Q3VycmVudFBvc3RJZCgpfSZhY3Rpb249ZWRpdCZwb2RzX21vZGFsPTFgLFxyXG5cdFx0XHQnc2VsZWN0ZWQnOiB0cnVlIC8vIEF1dG9tYXRpY2FsbHkgc2VsZWN0IGFkZCBuZXcgcmVjb3Jkc1xyXG5cdFx0fSApO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEhhbmRsZXMgXCJlZGl0IGV4aXN0aW5nXCIgbW9kYWxzXHJcbiAqL1xyXG5mdW5jdGlvbiBzYXZlTGlzdGVuZXIgKCkge1xyXG5cclxuXHRpZiAoIHNhdmVMaXN0ZW5lci53YXNTYXZpbmcgKSB7XHJcblxyXG5cdFx0Ly8gVGhlIHdhc1NhdmluZyBmbGFnIGFscmVhZHkgaWdub3JlcyBhdXRvc2F2ZSBzbyB3ZSBvbmx5IG5lZWQgdG9cclxuXHRcdC8vIGNoZWNrIGlzU2F2aW5nUG9zdCgpXHJcblx0XHRpZiAoICFlZGl0b3JEYXRhLmlzU2F2aW5nUG9zdCgpICkge1xyXG5cclxuXHRcdFx0Ly8gQ3VycmVudGx5IG9uIHNhdmUgZmFpbHVyZSB3ZSdsbCByZW1haW4gc3Vic2NyaWJlZCBhbmQgdHJ5XHJcblx0XHRcdC8vIGxpc3RlbmluZyBmb3IgdGhlIG5leHQgc2F2ZSBhdHRlbXB0XHJcblx0XHRcdHNhdmVMaXN0ZW5lci53YXNTYXZpbmcgPSBmYWxzZTtcclxuXHJcblx0XHRcdGlmICggZWRpdG9yRGF0YS5kaWRQb3N0U2F2ZVJlcXVlc3RTdWNjZWVkKCkgKSB7XHJcblx0XHRcdFx0dW5TdWJzY3JpYmUoKTtcclxuXHRcdFx0XHR0cmlnZ2VyVXBkYXRlRXZlbnQoIHtcclxuXHRcdFx0XHRcdCdpY29uJzogZ2V0RmVhdHVyZWRJbWFnZVVSTCgpXHJcblx0XHRcdFx0fSApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSBlbHNlIHtcclxuXHRcdHNhdmVMaXN0ZW5lci53YXNTYXZpbmcgPSBpc1VzZXJTYXZpbmcoKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBXaGV0aGVyIG9yIG5vdCBhbiBhY3RpdmUgc2F2ZSBpcyBpbiBwcm9ncmVzcyBkdWUgdG8gdXNlciBhY3Rpb24gKGlnbm9yZSBhdXRvc2F2ZXMpXHJcbiAqXHJcbiAqIEByZXR1cm4gYm9vbGVhblxyXG4gKi9cclxuZnVuY3Rpb24gaXNVc2VyU2F2aW5nICgpIHtcclxuXHRyZXR1cm4gISEoIGVkaXRvckRhdGEuaXNTYXZpbmdQb3N0KCkgJiYgIWVkaXRvckRhdGEuaXNBdXRvc2F2aW5nUG9zdCgpICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgZXZlbnQgbGlzdGVuZXIgaW4gdGhlIHBhcmVudCB3aW5kb3cgd2lsbCB0YWtlIGNhcmUgb2YgY2xvc2luZyB0aGUgbW9kYWxcclxuICovXHJcbmZ1bmN0aW9uIHRyaWdnZXJVcGRhdGVFdmVudCAoIG9wdGlvbmFsRGF0YSApIHtcclxuXHRjb25zdCBkZWZhdWx0RGF0YSA9IHtcclxuXHRcdCdpZCc6IGVkaXRvckRhdGEuZ2V0Q3VycmVudFBvc3RJZCgpLFxyXG5cdFx0J25hbWUnOiBlZGl0b3JEYXRhLmdldEN1cnJlbnRQb3N0QXR0cmlidXRlKCAndGl0bGUnIClcclxuXHR9O1xyXG5cdGNvbnN0IHBvc3REYXRhID0gT2JqZWN0LmFzc2lnbiggZGVmYXVsdERhdGEsIG9wdGlvbmFsRGF0YSApO1xyXG5cclxuXHR3aW5kb3cucGFyZW50LmpRdWVyeSggd2luZG93LnBhcmVudCApLnRyaWdnZXIoICdkZnY6bW9kYWw6dXBkYXRlJywgcG9zdERhdGEgKTtcclxufVxyXG4iLCIvKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4sIHdwLCBQb2RzSTE4biAqL1xyXG5cclxuaW1wb3J0IHsgUG9kc0RGVk1vZGFsIH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvZGZ2LW1vZGFsJztcclxuXHJcbi8qKlxyXG4gKiBBIGZyYW1lIGZvciBkaXNwbGF5aW5nIGEgbW9kYWwgcG9wdXAgd2l0aCBpZnJhbWUgY29udGVudFxyXG4gKlxyXG4gKiBAYXVnbWVudHMgd3AubWVkaWEudmlldy5GcmFtZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IElmcmFtZUZyYW1lID0gd3AubWVkaWEudmlldy5GcmFtZS5leHRlbmQoIHtcclxuXHRjbGFzc05hbWU6ICdwb2RzLW1vZGFsLWZyYW1lJyxcclxuXHJcblx0dGVtcGxhdGU6IF8udGVtcGxhdGUoICc8ZGl2IGNsYXNzPVwibWVkaWEtZnJhbWUtdGl0bGVcIiAvPjxkaXYgY2xhc3M9XCJtZWRpYS1mcmFtZS1pZnJhbWVcIiAvPicgKSxcclxuXHJcblx0cmVnaW9uczogWyAndGl0bGUnLCAnaWZyYW1lJyBdLFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR3cC5tZWRpYS52aWV3LkZyYW1lLnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcclxuXHJcblx0XHQvLyBFbnN1cmUgY29yZSBVSSBpcyBlbmFibGVkLlxyXG5cdFx0dGhpcy4kZWwuYWRkQ2xhc3MoICd3cC1jb3JlLXVpJyApO1xyXG5cclxuXHRcdHRoaXMuaW5pdFN0YXRlKCk7XHJcblx0XHR0aGlzLmluaXRNb2RhbCgpO1xyXG5cclxuXHRcdHRoaXMub24oICdpZnJhbWU6Y3JlYXRlOmRlZmF1bHQnLCB0aGlzLmlmcmFtZUNvbnRlbnQsIHRoaXMgKTtcclxuXHRcdHRoaXMuaWZyYW1lLm1vZGUoICdkZWZhdWx0JyApO1xyXG5cclxuXHRcdHRoaXMub24oICd0aXRsZTpjcmVhdGU6ZGVmYXVsdCcsIHRoaXMuY3JlYXRlVGl0bGUsIHRoaXMgKTtcclxuXHRcdHRoaXMudGl0bGUubW9kZSggJ2RlZmF1bHQnICk7XHJcblx0XHR0aGlzLm9uKCAndGl0bGU6cmVuZGVyJywgZnVuY3Rpb24gKCB2aWV3ICkge1xyXG5cdFx0XHR2aWV3LiRlbC5hcHBlbmQoICc8c3BhbiBjbGFzcz1cImRhc2hpY29ucyBkYXNoaWNvbnMtYXJyb3ctZG93blwiPjwvc3Bhbj4nICk7XHJcblx0XHR9ICk7XHJcblx0fSxcclxuXHJcblx0aW5pdFN0YXRlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRjb25zdCB0aXRsZSA9IHRoaXMub3B0aW9ucy50aXRsZSB8fCBQb2RzSTE4bi5fXyggJ0FkZCBOZXcgUmVjb3JkJyApO1xyXG5cdFx0Y29uc3Qgc3JjID0gdGhpcy5vcHRpb25zLnNyYyB8fCAnLyc7XHJcblxyXG5cdFx0dGhpcy5zdGF0ZXMuYWRkKCBbXHJcblx0XHRcdG5ldyB3cC5tZWRpYS5jb250cm9sbGVyLlN0YXRlKCB7XHJcblx0XHRcdFx0aWQ6ICdkZWZhdWx0JyxcclxuXHRcdFx0XHR0aXRsZTogdGl0bGUsXHJcblx0XHRcdFx0c3JjOiBzcmNcclxuXHRcdFx0fSApXHJcblx0XHRdICk7XHJcblxyXG5cdFx0dGhpcy5vcHRpb25zLnN0YXRlID0gJ2RlZmF1bHQnO1xyXG5cdH0sXHJcblxyXG5cdGluaXRNb2RhbDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5tb2RhbCA9IG5ldyBQb2RzREZWTW9kYWwoIHtcclxuXHRcdFx0Y29udHJvbGxlcjogdGhpc1xyXG5cdFx0fSApO1xyXG5cclxuXHRcdHRoaXMubW9kYWwuY29udGVudCggdGhpcyApO1xyXG5cdH0sXHJcblxyXG5cdHJlbmRlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0Ly8gQWN0aXZhdGUgdGhlIGRlZmF1bHQgc3RhdGUgaWYgbm8gYWN0aXZlIHN0YXRlIGV4aXN0cy5cclxuXHRcdGlmICggIXRoaXMuc3RhdGUoKSAmJiB0aGlzLm9wdGlvbnMuc3RhdGUgKSB7XHJcblx0XHRcdHRoaXMuc2V0U3RhdGUoIHRoaXMub3B0aW9ucy5zdGF0ZSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogY2FsbCAncmVuZGVyJyBkaXJlY3RseSBvbiB0aGUgcGFyZW50IGNsYXNzXHJcblx0XHQgKi9cclxuXHRcdHJldHVybiB3cC5tZWRpYS52aWV3LkZyYW1lLnByb3RvdHlwZS5yZW5kZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZW50XHJcblx0ICogQHRoaXMgd3AubWVkaWEuY29udHJvbGxlci5SZWdpb25cclxuXHQgKi9cclxuXHRpZnJhbWVDb250ZW50OiBmdW5jdGlvbiAoIGNvbnRlbnQgKSB7XHJcblx0XHRjb250ZW50LnZpZXcgPSBuZXcgd3AubWVkaWEudmlldy5JZnJhbWUoIHtcclxuXHRcdFx0Y29udHJvbGxlcjogdGhpc1xyXG5cdFx0fSApO1xyXG5cdH0sXHJcblxyXG5cdGNyZWF0ZVRpdGxlOiBmdW5jdGlvbiAoIHRpdGxlICkge1xyXG5cdFx0dGl0bGUudmlldyA9IG5ldyB3cC5tZWRpYS5WaWV3KCB7XHJcblx0XHRcdGNvbnRyb2xsZXI6IHRoaXMsXHJcblx0XHRcdHRhZ05hbWU6ICdoMSdcclxuXHRcdH0gKTtcclxuXHR9XHJcbn0gKTtcclxuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uICovXHJcbmV4cG9ydCBjb25zdCBQb2RzREZWRmllbGRNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCgge1xyXG5cdGRlZmF1bHRzOiB7XHJcblx0XHRodG1sQXR0cjoge30sXHJcblx0XHRmaWVsZENvbmZpZzoge31cclxuXHR9XHJcbn0gKTtcclxuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uICovXHJcblxyXG4vKipcclxuICpcclxuICovXHJcbmV4cG9ydCBjb25zdCBQb2RzRmllbGRMaXN0VmlldyA9IFBvZHNNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoIHtcclxuXHRjaGlsZFZpZXdFdmVudFByZWZpeDogZmFsc2UsIC8vIERpc2FibGUgaW1wbGljaXQgZXZlbnQgbGlzdGVuZXJzIGluIGZhdm9yIG9mIGV4cGxpY2l0IGNoaWxkVmlld1RyaWdnZXJzIGFuZCBjaGlsZFZpZXdFdmVudHNcclxuXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKCBvcHRpb25zICkge1xyXG5cdFx0dGhpcy5maWVsZE1vZGVsID0gb3B0aW9ucy5maWVsZE1vZGVsO1xyXG5cdFx0dGhpcy5jaGlsZFZpZXdPcHRpb25zID0geyBmaWVsZE1vZGVsOiBvcHRpb25zLmZpZWxkTW9kZWwgfTtcclxuXHR9XHJcbn0gKTtcclxuXHJcbi8qKlxyXG4gKiBAZXh0ZW5kcyBCYWNrYm9uZS5WaWV3XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgUG9kc0ZpZWxkVmlldyA9IFBvZHNNbi5WaWV3LmV4dGVuZCgge1xyXG5cdGNoaWxkVmlld0V2ZW50UHJlZml4OiBmYWxzZSwgLy8gRGlzYWJsZSBpbXBsaWNpdCBldmVudCBsaXN0ZW5lcnMgaW4gZmF2b3Igb2YgZXhwbGljaXQgY2hpbGRWaWV3VHJpZ2dlcnMgYW5kIGNoaWxkVmlld0V2ZW50c1xyXG5cclxuXHRzZXJpYWxpemVEYXRhOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRjb25zdCBmaWVsZE1vZGVsID0gdGhpcy5vcHRpb25zLmZpZWxkTW9kZWw7XHJcblx0XHRsZXQgZGF0YSA9IHRoaXMubW9kZWwgPyB0aGlzLm1vZGVsLnRvSlNPTigpIDoge307XHJcblxyXG5cdFx0ZGF0YS5odG1sQXR0ciA9IGZpZWxkTW9kZWwuZ2V0KCAnaHRtbEF0dHInICk7XHJcblx0XHRkYXRhLmZpZWxkQ29uZmlnID0gZmllbGRNb2RlbC5nZXQoICdmaWVsZENvbmZpZycgKTtcclxuXHJcblx0XHRyZXR1cm4gZGF0YTtcclxuXHR9XHJcbn0gKTtcclxuXHJcbi8qKlxyXG4gKiBUb3AtbGV2ZWwgXCJtYWluIGZpZWxkIGNvbnRhaW5lclwiXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgUG9kc0RGVkZpZWxkTGF5b3V0ID0gUG9kc01uLlZpZXcuZXh0ZW5kKCB7XHJcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXHJcblxyXG5cdGluaXRpYWxpemU6IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcclxuXHRcdHRoaXMuZmllbGRJdGVtRGF0YSA9IG9wdGlvbnMuZmllbGRJdGVtRGF0YTtcclxuXHR9XHJcbn0gKTtcclxuIiwiaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgeyBQb2RzREZWRmllbGRNb2RlbCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL3BvZHMtZmllbGQtbW9kZWwnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1uUmVuZGVyZXIgKCBGaWVsZENsYXNzLCBlbGVtZW50LCBkYXRhICkge1xyXG5cclxuXHQvLyBBc3NlbWJsZSB0aGUgbW9kZWwgYW5kIGNyZWF0ZSB0aGUgZmllbGRcclxuXHRjb25zdCBmaWVsZE1vZGVsID0gbmV3IFBvZHNERlZGaWVsZE1vZGVsKCB7XHJcblx0XHRodG1sQXR0cjogZGF0YS5odG1sQXR0cixcclxuXHRcdGZpZWxkQ29uZmlnOiBkYXRhLmZpZWxkQ29uZmlnXHJcblx0fSApO1xyXG5cclxuXHRjb25zdCBuZXdGaWVsZCA9IG5ldyBGaWVsZENsYXNzKCB7XHJcblx0XHRlbDogZWxlbWVudCxcclxuXHRcdG1vZGVsOiBmaWVsZE1vZGVsLFxyXG5cdFx0ZmllbGRJdGVtRGF0YTogZGF0YS5maWVsZEl0ZW1EYXRhXHJcblx0fSApO1xyXG5cclxuXHQvLyBSZW5kZXIgdGhlIGZpZWxkLCB0cmlnZ2VyIGFuIGV2ZW50IGZvciB0aGUgb3V0c2lkZSB3b3JsZCwgYW5kIHN0YXNoIGEgcmVmZXJlbmNlXHJcblx0bmV3RmllbGQucmVuZGVyKCk7XHJcblx0alF1ZXJ5KCBlbGVtZW50ICkudHJpZ2dlciggJ3JlbmRlcicgKTtcclxuXHRyZXR1cm4gbmV3RmllbGQ7XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XHJcbmltcG9ydCB7IGluaXRTdG9yZSB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9zdG9yZS9zdG9yZSc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVhY3REaXJlY3RSZW5kZXJlciAoIEZpZWxkQ2xhc3MsIGVsZW1lbnQsIHByb3BzICkge1xyXG5cdGNvbnN0IEZpZWxkID0gUmVhY3QuY3JlYXRlRmFjdG9yeSggRmllbGRDbGFzcyApO1xyXG5cclxuXHQvLyBUb2RvOlxyXG5cdC8vXHJcblx0Ly8gIDE6IE5lZWQgYSBnZW5lcmljIHdheSB0byBpbml0aWFsaXplIHRoZSBzdG9yZXMuICBUaGlzIGNhbid0IGJlIGluc2lkZVxyXG5cdC8vIHRoZSBjb21wb25lbnQgb3IgaXQgd2lsbCByZXZlcnQgdG8gaW5pdGlhbCB2YWx1ZXMgb24gZXZlcnkgcmVuZGVyLlxyXG5cdC8vIEtsdWRnZWQgaGVyZSBmb3Igbm93IHRvIGNvbnRpbnVlIHByb3RvdHlwaW5nLlxyXG5cdC8vXHJcblx0Ly8gMjogaW5pdGlhbFN0YXRlIChpbiBpbml0U3RvcmUpIHdpbGwgbm90IGFycml2ZSB1bnRpbCBXUCA1LjIuXHJcblx0Ly9cclxuXHRpbml0U3RvcmUoIHByb3BzICk7XHJcblxyXG5cdFJlYWN0RE9NLnJlbmRlcihcclxuXHRcdEZpZWxkKCBwcm9wcyApLFxyXG5cdFx0ZWxlbWVudFxyXG5cdCk7XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XHJcbmltcG9ydCB7IFBvZHNERlZGaWVsZENvbnRhaW5lciB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb21wb25lbnRzL2ZpZWxkLWNvbnRhaW5lcic7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVhY3RSZW5kZXJlciAoIEZpZWxkQ2xhc3MsIGVsZW1lbnQsIHByb3BzICkge1xyXG5cdGNvbnN0IEZpZWxkID0gUmVhY3QuY3JlYXRlRmFjdG9yeSggRmllbGRDbGFzcyApO1xyXG5cclxuXHRSZWFjdERPTS5yZW5kZXIoXHJcblx0XHQ8UG9kc0RGVkZpZWxkQ29udGFpbmVyXHJcblx0XHRcdGZpZWxkQ29tcG9uZW50PXsgRmllbGQgfVxyXG5cdFx0XHR7IC4uLnByb3BzIH1cclxuXHRcdC8+LFxyXG5cdFx0ZWxlbWVudFxyXG5cdCk7XHJcbn1cclxuIiwiZXhwb3J0IHsgRmlsZSB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS9maWxlJztcclxuZXhwb3J0IHsgUGljayB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay9waWNrJztcclxuZXhwb3J0IHsgUG9kc0RGVlRleHQgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3RleHQvdGV4dCc7XHJcbmV4cG9ydCB7IFBvZHNERlZQYXNzd29yZCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGFzc3dvcmQvcGFzc3dvcmQnO1xyXG5leHBvcnQgeyBQb2RzREZWTnVtYmVyIH0gZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9udW1iZXIvbnVtYmVyJztcclxuZXhwb3J0IHsgUG9kc0RGVkVtYWlsIH0gZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9lbWFpbC9lbWFpbCc7XHJcbmV4cG9ydCB7IFBvZHNERlZQYXJhZ3JhcGggfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3BhcmFncmFwaC9wYXJhZ3JhcGgnO1xyXG5leHBvcnQgeyBQb2RzREZWRWRpdFBvZCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9hZG1pbi9lZGl0LXBvZC9lZGl0LXBvZCc7XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgUG9kc0RGVkJhc2VJbnB1dCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb21wb25lbnRzL2Jhc2UtaW5wdXQnO1xyXG5pbXBvcnQgeyB2YWxpZGF0aW9uUnVsZXMgfSBmcm9tICdwb2RzLWRmdi9zcmMvdmFsaWRhdGlvbi92YWxpZGF0aW9uLXJ1bGVzJztcclxuXHJcbmV4cG9ydCBjb25zdCBQb2RzREZWRW1haWwgPSAoIHByb3BzICkgPT4ge1xyXG5cdHByb3BzLnZhbGlkYXRpb24uYWRkUnVsZXMoIFtcclxuXHRcdHtcclxuXHRcdFx0cnVsZTogdmFsaWRhdGlvblJ1bGVzLmVtYWlsRm9ybWF0KCBwcm9wcy52YWx1ZSApLFxyXG5cdFx0XHRjb25kaXRpb246IHRydWUsXHJcblx0XHR9LFxyXG5cdF0gKTtcclxuXHJcblx0Ly8gbm9pbnNwZWN0aW9uIEpTVW5yZXNvbHZlZFZhcmlhYmxlXHJcblx0cmV0dXJuIChcclxuXHRcdDxQb2RzREZWQmFzZUlucHV0XHJcblx0XHRcdHR5cGU9eycxJyA9PT0gcHJvcHMuZmllbGRDb25maWcuZW1haWxfaHRtbDUgPyAnZW1haWwnIDogJ3RleHQnfVxyXG5cdFx0XHR7Li4ucHJvcHN9XHJcblx0XHQvPlxyXG5cdCk7XHJcbn07XHJcbiIsIi8qZ2xvYmFsIGpRdWVyeSwgXywgQmFja2JvbmUsIFBvZHNNbiAqL1xyXG4vKipcclxuICpcclxuICovXHJcbmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoIHtcclxuXHRkZWZhdWx0czoge1xyXG5cdFx0J2lkJzogMCxcclxuXHRcdCdpY29uJzogJycsXHJcblx0XHQnbmFtZSc6ICcnLFxyXG5cdFx0J2VkaXRfbGluayc6ICcnLFxyXG5cdFx0J2xpbmsnOiAnJyxcclxuXHRcdCdkb3dubG9hZCc6ICcnXHJcblx0fVxyXG59ICk7XHJcblxyXG4vKipcclxuICpcclxuICovXHJcbmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkQ29sbGVjdGlvbiA9IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKCB7XHJcblx0bW9kZWw6IEZpbGVVcGxvYWRNb2RlbFxyXG59ICk7XHJcbiIsIi8qZ2xvYmFsIGpRdWVyeSwgXywgQmFja2JvbmUsIFBvZHNNbiAqL1xyXG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlL2ZpbGUtdXBsb2FkLWxheW91dC5odG1sJztcclxuXHJcbmltcG9ydCB7IFBvZHNERlZGaWVsZExheW91dCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL3BvZHMtZmllbGQtdmlld3MnO1xyXG5cclxuaW1wb3J0IHsgRmlsZVVwbG9hZENvbGxlY3Rpb24gfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUvZmlsZS11cGxvYWQtbW9kZWwnO1xyXG5cclxuaW1wb3J0IHsgRmlsZVVwbG9hZExpc3QgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUvdmlld3MvZmlsZS11cGxvYWQtbGlzdCc7XHJcbmltcG9ydCB7IEZpbGVVcGxvYWRGb3JtIH0gZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlL3ZpZXdzL2ZpbGUtdXBsb2FkLWZvcm0nO1xyXG5cclxuaW1wb3J0IHsgUGx1cGxvYWQgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUvdXBsb2FkZXJzL3BsdXBsb2FkJztcclxuaW1wb3J0IHsgTWVkaWFNb2RhbCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS91cGxvYWRlcnMvbWVkaWEtbW9kYWwnO1xyXG5cclxuY29uc3QgVXBsb2FkZXJzID0gW1xyXG5cdFBsdXBsb2FkLFxyXG5cdE1lZGlhTW9kYWxcclxuXTtcclxuXHJcbmNvbnN0IFVOTElNSVRFRF9GSUxFUyA9IDA7XHJcblxyXG4vKipcclxuICogQGV4dGVuZHMgQmFja2JvbmUuVmlld1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IEZpbGUgPSBQb2RzREZWRmllbGRMYXlvdXQuZXh0ZW5kKCB7XHJcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXHJcblxyXG5cdHRlbXBsYXRlOiBfLnRlbXBsYXRlKCB0ZW1wbGF0ZSApLFxyXG5cclxuXHRyZWdpb25zOiB7XHJcblx0XHRsaXN0OiAnLnBvZHMtdWktZmlsZS1saXN0JyxcclxuXHRcdHVpUmVnaW9uOiAnLnBvZHMtdWktcmVnaW9uJywgLy8gXCJVdGlsaXR5XCIgY29udGFpbmVyIGZvciB1cGxvYWRlcnMgdG8gdXNlXHJcblx0XHRmb3JtOiAnLnBvZHMtdWktZm9ybSdcclxuXHR9LFxyXG5cclxuXHRjaGlsZFZpZXdFdmVudHM6IHtcclxuXHRcdCdjaGlsZHZpZXc6cmVtb3ZlOmZpbGU6Y2xpY2snOiAnb25DaGlsZHZpZXdSZW1vdmVGaWxlQ2xpY2snLFxyXG5cdFx0J2NoaWxkdmlldzphZGQ6ZmlsZTpjbGljayc6ICdvbkNoaWxkdmlld0FkZEZpbGVDbGljaydcclxuXHR9LFxyXG5cclxuXHR1cGxvYWRlcjoge30sXHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICovXHJcblx0b25CZWZvcmVSZW5kZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGlmICggdGhpcy5jb2xsZWN0aW9uID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMuY29sbGVjdGlvbiA9IG5ldyBGaWxlVXBsb2FkQ29sbGVjdGlvbiggdGhpcy5maWVsZEl0ZW1EYXRhICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0b25SZW5kZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGNvbnN0IGxpc3RWaWV3ID0gbmV3IEZpbGVVcGxvYWRMaXN0KCB7IGNvbGxlY3Rpb246IHRoaXMuY29sbGVjdGlvbiwgZmllbGRNb2RlbDogdGhpcy5tb2RlbCB9ICk7XHJcblx0XHRjb25zdCBmb3JtVmlldyA9IG5ldyBGaWxlVXBsb2FkRm9ybSggeyBmaWVsZE1vZGVsOiB0aGlzLm1vZGVsIH0gKTtcclxuXHJcblx0XHR0aGlzLnNob3dDaGlsZFZpZXcoICdsaXN0JywgbGlzdFZpZXcgKTtcclxuXHRcdHRoaXMuc2hvd0NoaWxkVmlldyggJ2Zvcm0nLCBmb3JtVmlldyApO1xyXG5cclxuXHRcdC8vIFNldHVwIHRoZSB1cGxvYWRlciBhbmQgbGlzdGVuIGZvciBhIHJlc3BvbnNlIGV2ZW50XHJcblx0XHR0aGlzLnVwbG9hZGVyID0gdGhpcy5jcmVhdGVVcGxvYWRlcigpO1xyXG5cdFx0dGhpcy5saXN0ZW5UbyggdGhpcy51cGxvYWRlciwgJ2FkZGVkOmZpbGVzJywgdGhpcy5vbkFkZGVkRmlsZXMgKTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKiBGaXJlZCBieSBhIHJlbW92ZTpmaWxlOmNsaWNrIHRyaWdnZXIgaW4gYW55IGNoaWxkIHZpZXdcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBjaGlsZFZpZXcgVmlldyB0aGF0IHdhcyB0aGUgc291cmNlIG9mIHRoZSBldmVudFxyXG5cdCAqL1xyXG5cdG9uQ2hpbGR2aWV3UmVtb3ZlRmlsZUNsaWNrOiBmdW5jdGlvbiAoIGNoaWxkVmlldyApIHtcclxuXHRcdHRoaXMuY29sbGVjdGlvbi5yZW1vdmUoIGNoaWxkVmlldy5tb2RlbCApO1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqIEZpcmVkIGJ5IGEgYWRkOmZpbGU6Y2xpY2sgdHJpZ2dlciBpbiBhbnkgY2hpbGQgdmlld1xyXG5cdCAqXHJcblx0ICogcGx1cGxvYWQgZmllbGRzIHNob3VsZCBuZXZlciBnZW5lcmF0ZSB0aGlzIGV2ZW50LCBpdCBwbGFjZXMgYSBzaGltIG92ZXIgb3VyIGJ1dHRvbiBhbmQgaGFuZGxlcyB0aGVcclxuXHQgKiBldmVudCBpbnRlcm5hbGx5LiAgQnV0IHRoaXMgZXZlbnQgZG9lcyBzdGlsbCBjb21lIHRocm91Z2ggd2l0aCBwbHVwbG9hZCBmaWVsZHMgaW4gc29tZSBicm93c2VyXHJcblx0ICogZW52aXJvbm1lbnRzIGZvciByZWFzb25zIHdlJ3ZlIGJlZW4gdW5hYmxlIHRvIGRldGVybWluZS5cclxuXHQgKi9cclxuXHRvbkNoaWxkdmlld0FkZEZpbGVDbGljazogZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdC8vIEludm9rZSB0aGUgdXBsb2FkZXJcclxuXHRcdGlmICggJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHRoaXMudXBsb2FkZXIuaW52b2tlICkge1xyXG5cdFx0XHR0aGlzLnVwbG9hZGVyLmludm9rZSgpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqIENvbmNyZXRlIHVwbG9hZGVyIGltcGxlbWVudGF0aW9ucyBzaW1wbHkgbmVlZCB0bzogdGhpcy50cmlnZ2VyKCAnYWRkZWQ6ZmlsZXMnLCBuZXdGaWxlcyApXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge09iamVjdFtdfSBkYXRhIEFuIGFycmF5IG9mIG1vZGVsIG9iamVjdHMgdG8gYmUgYWRkZWRcclxuXHQgKi9cclxuXHRvbkFkZGVkRmlsZXM6IGZ1bmN0aW9uICggZGF0YSApIHtcclxuXHRcdGNvbnN0IGZpZWxkQ29uZmlnID0gdGhpcy5tb2RlbC5nZXQoICdmaWVsZENvbmZpZycgKTtcclxuXHRcdGNvbnN0IGZpbGVMaW1pdCA9ICtmaWVsZENvbmZpZ1sgJ2ZpbGVfbGltaXQnIF07IC8vIFVuYXJ5IHBsdXMgdG8gZm9yY2UgdG8gbnVtYmVyXHJcblx0XHRsZXQgbmV3Q29sbGVjdGlvbiwgZmlsdGVyZWRNb2RlbHM7XHJcblxyXG5cdFx0Ly8gR2V0IGEgY29weSBvZiB0aGUgZXhpc3RpbmcgY29sbGVjdGlvbiB3aXRoIHRoZSBuZXcgZmlsZXMgYWRkZWRcclxuXHRcdG5ld0NvbGxlY3Rpb24gPSB0aGlzLmNvbGxlY3Rpb24uY2xvbmUoKTtcclxuXHRcdG5ld0NvbGxlY3Rpb24uYWRkKCBkYXRhICk7XHJcblxyXG5cdFx0Ly8gRW5mb3JjZSB0aGUgZmlsZSBsaW1pdCBvcHRpb24gaWYgb25lIGlzIHNldFxyXG5cdFx0aWYgKCBVTkxJTUlURURfRklMRVMgPT09IGZpbGVMaW1pdCApIHtcclxuXHRcdFx0ZmlsdGVyZWRNb2RlbHMgPSBuZXdDb2xsZWN0aW9uLm1vZGVscztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIE51bWJlciBvZiB1cGxvYWRzIGlzIGxpbWl0ZWQ6IGtlZXAgdGhlIGxhc3QgTiBtb2RlbHMsIEZJRk8vcXVldWUgc3R5bGVcclxuXHRcdFx0ZmlsdGVyZWRNb2RlbHMgPSBuZXdDb2xsZWN0aW9uLmZpbHRlciggZnVuY3Rpb24gKCBtb2RlbCApIHtcclxuXHRcdFx0XHRyZXR1cm4gKCBuZXdDb2xsZWN0aW9uLmluZGV4T2YoIG1vZGVsICkgPj0gbmV3Q29sbGVjdGlvbi5sZW5ndGggLSBmaWxlTGltaXQgKTtcclxuXHRcdFx0fSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuY29sbGVjdGlvbi5yZXNldCggZmlsdGVyZWRNb2RlbHMgKTtcclxuXHR9LFxyXG5cclxuXHRjcmVhdGVVcGxvYWRlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0Y29uc3QgZmllbGRDb25maWcgPSB0aGlzLm1vZGVsLmdldCggJ2ZpZWxkQ29uZmlnJyApO1xyXG5cdFx0Y29uc3QgdGFyZ2V0VXBsb2FkZXIgPSBmaWVsZENvbmZpZ1sgJ2ZpbGVfdXBsb2FkZXInIF07XHJcblx0XHRsZXQgVXBsb2FkZXI7XHJcblxyXG5cdFx0alF1ZXJ5LmVhY2goIFVwbG9hZGVycywgZnVuY3Rpb24gKCBpbmRleCwgdGhpc1VwbG9hZGVyICkge1xyXG5cdFx0XHRpZiAoIHRhcmdldFVwbG9hZGVyID09PSB0aGlzVXBsb2FkZXIucHJvdG90eXBlLmZpbGVVcGxvYWRlciApIHtcclxuXHRcdFx0XHRVcGxvYWRlciA9IHRoaXNVcGxvYWRlcjtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0gKTtcclxuXHJcblx0XHRpZiAoIFVwbG9hZGVyICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRoaXMudXBsb2FkZXIgPSBuZXcgVXBsb2FkZXIoIHtcclxuXHRcdFx0XHQvLyBXZSBwcm92aWRlIHJlZ3VsYXIgRE9NIGVsZW1lbnQgZm9yIHRoZSBidXR0b25cclxuXHRcdFx0XHRicm93c2VCdXR0b246IHRoaXMuZ2V0UmVnaW9uKCAnZm9ybScgKS5nZXRFbCggJy5wb2RzLWRmdi1saXN0LWFkZCcgKS5nZXQoKSxcclxuXHRcdFx0XHR1aVJlZ2lvbjogdGhpcy5nZXRSZWdpb24oICd1aVJlZ2lvbicgKSxcclxuXHRcdFx0XHRmaWVsZENvbmZpZzogZmllbGRDb25maWdcclxuXHRcdFx0fSApO1xyXG5cdFx0XHRyZXR1cm4gdGhpcy51cGxvYWRlcjtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdC8vIEB0b2RvIHNwcmludGYgdHlwZSB3aXRoIFBvZHNJMThuLl9fKClcclxuXHRcdFx0dGhyb3cgYENvdWxkIG5vdCBsb2NhdGUgZmlsZSB1cGxvYWRlciAnJHt0YXJnZXRVcGxvYWRlcn0nYDtcclxuXHRcdH1cclxuXHR9XHJcbn0gKTtcclxuIiwiLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXHJcbi8qZ2xvYmFsIGpRdWVyeSwgXywgQmFja2JvbmUsIFBvZHNNbiwgd3AsIFBvZHNJMThuICovXHJcbmltcG9ydCB7IFBvZHNGaWxlVXBsb2FkZXIgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL2ZpbGUvdXBsb2FkZXJzL3BvZHMtZmlsZS11cGxvYWRlcic7XHJcblxyXG5leHBvcnQgY29uc3QgTWVkaWFNb2RhbCA9IFBvZHNGaWxlVXBsb2FkZXIuZXh0ZW5kKCB7XHJcblx0bWVkaWFPYmplY3Q6IHt9LFxyXG5cclxuXHRmaWxlVXBsb2FkZXI6ICdhdHRhY2htZW50JyxcclxuXHJcblx0aW52b2tlOiBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0aWYgKCB3cC5VcGxvYWRlci5kZWZhdWx0cy5maWx0ZXJzLm1pbWVfdHlwZXMgPT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0d3AuVXBsb2FkZXIuZGVmYXVsdHMuZmlsdGVycy5taW1lX3R5cGVzID0gWyB7XHJcblx0XHRcdFx0dGl0bGU6IFBvZHNJMThuLl9fKCAnQWxsb3dlZCBGaWxlcycgKSxcclxuXHRcdFx0XHRleHRlbnNpb25zOiAnKidcclxuXHRcdFx0fSBdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGxldCBkZWZhdWx0RXh0ID0gd3AuVXBsb2FkZXIuZGVmYXVsdHMuZmlsdGVycy5taW1lX3R5cGVzWyAwIF0uZXh0ZW5zaW9ucztcclxuXHJcblx0XHR3cC5VcGxvYWRlci5kZWZhdWx0cy5maWx0ZXJzLm1pbWVfdHlwZXNbIDAgXS5leHRlbnNpb25zID0gdGhpcy5maWVsZENvbmZpZ1sgJ2xpbWl0X2V4dGVuc2lvbnMnIF07XHJcblxyXG5cdFx0Ly8gc2V0IG91ciBzZXR0aW5nc1xyXG5cdFx0Ly8gbm9pbnNwZWN0aW9uIEVxdWFsaXR5Q29tcGFyaXNvbldpdGhDb2VyY2lvbkpTIChcIjFcIiBpcyBldmVyeSBiaXQgYXMgdmFsaWQgdG8gdXMgYXMgMSlcclxuXHRcdHRoaXMubWVkaWFPYmplY3QgPSB3cC5tZWRpYSgge1xyXG5cdFx0XHR0aXRsZTogdGhpcy5maWVsZENvbmZpZ1sgJ2ZpbGVfbW9kYWxfdGl0bGUnIF0sXHJcblx0XHRcdG11bHRpcGxlOiAoIDEgIT0gdGhpcy5maWVsZENvbmZpZ1sgJ2ZpbGVfbGltaXQnIF0gKSxcclxuXHRcdFx0bGlicmFyeToge1xyXG5cdFx0XHRcdHR5cGU6IHRoaXMuZmllbGRDb25maWdbICdsaW1pdF90eXBlcycgXVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQvLyBDdXN0b21pemUgdGhlIHN1Ym1pdCBidXR0b24uXHJcblx0XHRcdGJ1dHRvbjoge1xyXG5cdFx0XHRcdC8vIFNldCB0aGUgdGV4dCBvZiB0aGUgYnV0dG9uLlxyXG5cdFx0XHRcdHRleHQ6IHRoaXMuZmllbGRDb25maWdbICdmaWxlX21vZGFsX2FkZF9idXR0b24nIF1cclxuXHRcdFx0fVxyXG5cdFx0fSApO1xyXG5cclxuXHRcdC8vIE9uZS1zaG90IGNhbGxiYWNrICggZXZlbnQsIGNhbGxiYWNrLCBjb250ZXh0IClcclxuXHRcdHRoaXMubWVkaWFPYmplY3Qub25jZSggJ3NlbGVjdCcsIHRoaXMub25NZWRpYVNlbGVjdCwgdGhpcyApO1xyXG5cclxuXHRcdC8vIG9wZW4gdGhlIGZyYW1lXHJcblx0XHR0aGlzLm1lZGlhT2JqZWN0Lm9wZW4oKTtcclxuXHRcdHRoaXMubWVkaWFPYmplY3QuY29udGVudC5tb2RlKCB0aGlzLmZpZWxkQ29uZmlnWyAnZmlsZV9hdHRhY2htZW50X3RhYicgXSApO1xyXG5cclxuXHRcdC8vIFJlc2V0IHRoZSBhbGxvd2VkIGZpbGUgZXh0ZW5zaW9uc1xyXG5cdFx0d3AuVXBsb2FkZXIuZGVmYXVsdHMuZmlsdGVycy5taW1lX3R5cGVzWyAwIF0uZXh0ZW5zaW9ucyA9IGRlZmF1bHRFeHQ7XHJcblx0fSxcclxuXHJcblx0b25NZWRpYVNlbGVjdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0Y29uc3Qgc2VsZWN0aW9uID0gdGhpcy5tZWRpYU9iamVjdC5zdGF0ZSgpLmdldCggJ3NlbGVjdGlvbicgKTtcclxuXHRcdGxldCBuZXdGaWxlcyA9IFtdO1xyXG5cclxuXHRcdGlmICggIXNlbGVjdGlvbiApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGxvb3AgdGhyb3VnaCB0aGUgc2VsZWN0ZWQgZmlsZXNcclxuXHRcdHNlbGVjdGlvbi5lYWNoKCBmdW5jdGlvbiAoIGF0dGFjaG1lbnQgKSB7XHJcblx0XHRcdGNvbnN0IHNpemVzID0gYXR0YWNobWVudC5hdHRyaWJ1dGVzLnNpemVzO1xyXG5cdFx0XHRsZXQgYXR0YWNobWVudFRodW1ibmFpbDtcclxuXHJcblx0XHRcdC8vIGJ5IGRlZmF1bHQgdXNlIHRoZSBnZW5lcmljIGljb25cclxuXHRcdFx0YXR0YWNobWVudFRodW1ibmFpbCA9IGF0dGFjaG1lbnQuYXR0cmlidXRlcy5pY29uO1xyXG5cclxuXHRcdFx0Ly8gb25seSB0aHVtYm5haWxzIGhhdmUgc2l6ZXMgd2hpY2ggaXMgd2hhdCB3ZSdyZSBvbiB0aGUgaHVudCBmb3JcclxuXHRcdFx0aWYgKCBzaXplcyAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdC8vIEdldCB0aHVtYm5haWwgaWYgaXQgZXhpc3RzXHJcblx0XHRcdFx0aWYgKCBzaXplcy50aHVtYm5haWwgIT09IHVuZGVmaW5lZCAmJiBzaXplcy50aHVtYm5haWwudXJsICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0XHRhdHRhY2htZW50VGh1bWJuYWlsID0gc2l6ZXMudGh1bWJuYWlsLnVybDtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzaXplcy5mdWxsICE9PSB1bmRlZmluZWQgJiYgc2l6ZXMuZnVsbC51cmwgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHRcdC8vIElmIHRodW1ibmFpbCBkb2Vzbid0IGV4aXN0LCBnZXQgZnVsbCBiZWNhdXNlIHRoaXMgaXMgYSBzbWFsbCBpbWFnZVxyXG5cdFx0XHRcdFx0YXR0YWNobWVudFRodW1ibmFpbCA9IHNpemVzLmZ1bGwudXJsO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bmV3RmlsZXMucHVzaCgge1xyXG5cdFx0XHRcdGlkOiBhdHRhY2htZW50LmF0dHJpYnV0ZXMuaWQsXHJcblx0XHRcdFx0aWNvbjogYXR0YWNobWVudFRodW1ibmFpbCxcclxuXHRcdFx0XHRuYW1lOiBhdHRhY2htZW50LmF0dHJpYnV0ZXMudGl0bGUsXHJcblx0XHRcdFx0ZWRpdF9saW5rOiBhdHRhY2htZW50LmF0dHJpYnV0ZXMuZWRpdExpbmssXHJcblx0XHRcdFx0bGluazogYXR0YWNobWVudC5hdHRyaWJ1dGVzLmxpbmssXHJcblx0XHRcdFx0ZG93bmxvYWQ6IGF0dGFjaG1lbnQuYXR0cmlidXRlcy51cmxcclxuXHRcdFx0fSApO1xyXG5cdFx0fSApO1xyXG5cclxuXHRcdC8vIEZpcmUgYW4gZXZlbnQgd2l0aCBhbiBhcnJheSBvZiBtb2RlbHMgdG8gYmUgYWRkZWRcclxuXHRcdHRoaXMudHJpZ2dlciggJ2FkZGVkOmZpbGVzJywgbmV3RmlsZXMgKTtcclxuXHR9XHJcblxyXG59ICk7XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xyXG4vKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4sIHdwLCBwbHVwbG9hZCwgUG9kc0kxOG4gKi9cclxuaW1wb3J0IHsgUG9kc0ZpbGVVcGxvYWRlciB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS91cGxvYWRlcnMvcG9kcy1maWxlLXVwbG9hZGVyJztcclxuaW1wb3J0IHsgRmlsZVVwbG9hZFF1ZXVlTW9kZWwsIEZpbGVVcGxvYWRRdWV1ZSB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvZmlsZS92aWV3cy9maWxlLXVwbG9hZC1xdWV1ZSc7XHJcblxyXG5leHBvcnQgY29uc3QgUGx1cGxvYWQgPSBQb2RzRmlsZVVwbG9hZGVyLmV4dGVuZCgge1xyXG5cdHBsdXBsb2FkOiB7fSxcclxuXHJcblx0ZmlsZVVwbG9hZGVyOiAncGx1cGxvYWQnLFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAoKSB7XHJcblx0XHQvLyBTZXQgdGhlIGJyb3dzZSBidXR0b24gYXJndW1lbnQgZm9yIHBsdXBsb2FkLi4uIGl0J3MgcmVxdWlyZWRcclxuXHRcdHRoaXMuZmllbGRDb25maWdbICdwbHVwbG9hZF9pbml0JyBdWyAnYnJvd3NlX2J1dHRvbicgXSA9IHRoaXMuYnJvd3NlQnV0dG9uO1xyXG5cclxuXHRcdHRoaXMucGx1cGxvYWQgPSBuZXcgcGx1cGxvYWQuVXBsb2FkZXIoIHRoaXMuZmllbGRDb25maWdbICdwbHVwbG9hZF9pbml0JyBdICk7XHJcblx0XHR0aGlzLnBsdXBsb2FkLmluaXQoKTtcclxuXHJcblx0XHQvLyBTZXR1cCBhbGwgY2FsbGJhY2tzOiAoIGV2ZW50X25hbWUsIGNhbGxiYWNrLCBjb250ZXh0IClcclxuXHRcdHRoaXMucGx1cGxvYWQuYmluZCggJ0ZpbGVzQWRkZWQnLCB0aGlzLm9uRmlsZXNBZGRlZCwgdGhpcyApO1xyXG5cdFx0dGhpcy5wbHVwbG9hZC5iaW5kKCAnVXBsb2FkUHJvZ3Jlc3MnLCB0aGlzLm9uVXBsb2FkUHJvZ3Jlc3MsIHRoaXMgKTtcclxuXHRcdHRoaXMucGx1cGxvYWQuYmluZCggJ0ZpbGVVcGxvYWRlZCcsIHRoaXMub25GaWxlVXBsb2FkZWQsIHRoaXMgKTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKiBGaXJlZCBhZnRlciBmaWxlcyBoYXZlIGJlZW4gc2VsZWN0ZWQgZnJvbSB0aGUgZGlhbG9nXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gdXBcclxuXHQgKiBAcGFyYW0gZmlsZXNcclxuXHQgKi9cclxuXHRvbkZpbGVzQWRkZWQ6IGZ1bmN0aW9uICggdXAsIGZpbGVzICkge1xyXG5cdFx0bGV0IG1vZGVsLFxyXG5cdFx0XHRjb2xsZWN0aW9uLFxyXG5cdFx0XHR2aWV3O1xyXG5cclxuXHRcdC8vIEFzc2VtYmxlIHRoZSBjb2xsZWN0aW9uIGRhdGEgZm9yIHRoZSBmaWxlIHF1ZXVlXHJcblx0XHRjb2xsZWN0aW9uID0gbmV3IEJhY2tib25lLkNvbGxlY3Rpb24oKTtcclxuXHRcdGpRdWVyeS5lYWNoKCBmaWxlcywgZnVuY3Rpb24gKCBpbmRleCwgZmlsZSApIHtcclxuXHRcdFx0bW9kZWwgPSBuZXcgRmlsZVVwbG9hZFF1ZXVlTW9kZWwoIHtcclxuXHRcdFx0XHRpZDogZmlsZS5pZCxcclxuXHRcdFx0XHRmaWxlbmFtZTogZmlsZS5uYW1lXHJcblx0XHRcdH0gKTtcclxuXHJcblx0XHRcdGNvbGxlY3Rpb24uYWRkKCBtb2RlbCApO1xyXG5cdFx0fSApO1xyXG5cclxuXHRcdC8vIENyZWF0ZSBhIG5ldyB2aWV3IGJhc2VkIG9uIHRoZSBjb2xsZWN0aW9uXHJcblx0XHR2aWV3ID0gbmV3IEZpbGVVcGxvYWRRdWV1ZSggeyBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uIH0gKTtcclxuXHRcdHZpZXcucmVuZGVyKCk7ICAvLyBHZW5lcmF0ZSB0aGUgSFRNTCwgbm90IGF0dGFjaGVkIHRvIHRoZSBET00geWV0XHJcblxyXG5cdFx0Ly8gUmVzZXQgdGhlIHJlZ2lvbiBpbiBjYXNlIGFueSBlcnJvciBtZXNzYWdlcyBhcmUgaGFuZ2luZyBhcm91bmQgZnJvbSBhIHByZXZpb3VzIHVwbG9hZFxyXG5cdFx0Ly8gYW5kIHNob3cgdGhlIG5ldyBmaWxlIHVwbG9hZCBxdWV1ZVxyXG5cdFx0dGhpcy51aVJlZ2lvbi5yZXNldCgpO1xyXG5cdFx0dGhpcy51aVJlZ2lvbi5zaG93KCB2aWV3ICk7XHJcblxyXG5cdFx0Ly8gU3Rhc2ggcmVmZXJlbmNlc1xyXG5cdFx0dGhpcy5xdWV1ZUNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xyXG5cclxuXHRcdHVwLnJlZnJlc2goKTtcclxuXHRcdHVwLnN0YXJ0KCk7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gdXBcclxuXHQgKiBAcGFyYW0gZmlsZVxyXG5cdCAqL1xyXG5cdG9uVXBsb2FkUHJvZ3Jlc3M6IGZ1bmN0aW9uICggdXAsIGZpbGUgKSB7XHJcblx0XHRjb25zdCBtb2RlbCA9IHRoaXMucXVldWVDb2xsZWN0aW9uLmdldCggZmlsZS5pZCApO1xyXG5cdFx0bW9kZWwuc2V0KCB7IHByb2dyZXNzOiBmaWxlLnBlcmNlbnQgfSApO1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHVwXHJcblx0ICogQHBhcmFtIGZpbGVcclxuXHQgKiBAcGFyYW0gcmVzcFxyXG5cdCAqL1xyXG5cdG9uRmlsZVVwbG9hZGVkOiBmdW5jdGlvbiAoIHVwLCBmaWxlLCByZXNwICkge1xyXG5cdFx0Y29uc3QgbW9kZWwgPSB0aGlzLnF1ZXVlQ29sbGVjdGlvbi5nZXQoIGZpbGUuaWQgKTtcclxuXHRcdGxldCByZXNwb25zZSA9IHJlc3AucmVzcG9uc2U7XHJcblx0XHRsZXQgbmV3RmlsZSA9IFtdO1xyXG5cdFx0bGV0IGpzb247XHJcblxyXG5cdFx0Ly8gRXJyb3IgY29uZGl0aW9uIDFcclxuXHRcdGlmICggJ0Vycm9yOiAnID09PSByZXNwLnJlc3BvbnNlLnN1YnN0ciggMCwgNyApICkge1xyXG5cdFx0XHRyZXNwb25zZSA9IHJlc3BvbnNlLnN1YnN0ciggNyApO1xyXG5cdFx0XHRpZiAoIHdpbmRvdy5jb25zb2xlICkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCByZXNwb25zZSApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRtb2RlbC5zZXQoIHtcclxuXHRcdFx0XHRwcm9ncmVzczogMCxcclxuXHRcdFx0XHRlcnJvck1zZzogcmVzcG9uc2VcclxuXHRcdFx0fSApO1xyXG5cclxuXHRcdFx0Ly8gRXJyb3IgY29uZGl0aW9uIDJcclxuXHRcdH0gZWxzZSBpZiAoICc8ZT4nID09PSByZXNwLnJlc3BvbnNlLnN1YnN0ciggMCwgMyApICkge1xyXG5cdFx0XHRyZXNwb25zZSA9IGpRdWVyeSggcmVzcG9uc2UgKS50ZXh0KCk7IC8vIFN0cmlwIHRhZ3MsIHRleHQgb25seVxyXG5cdFx0XHRpZiAoIHdpbmRvdy5jb25zb2xlICkge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCByZXNwb25zZSApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRtb2RlbC5zZXQoIHtcclxuXHRcdFx0XHRwcm9ncmVzczogMCxcclxuXHRcdFx0XHRlcnJvck1zZzogcmVzcG9uc2VcclxuXHRcdFx0fSApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0anNvbiA9IHJlc3BvbnNlLm1hdGNoKCAvey4qfSQvICk7XHJcblxyXG5cdFx0XHRpZiAoIG51bGwgIT09IGpzb24gJiYgMCA8IGpzb24ubGVuZ3RoICkge1xyXG5cdFx0XHRcdGpzb24gPSBqUXVlcnkucGFyc2VKU09OKCBqc29uWyAwIF0gKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRqc29uID0ge307XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICggJ29iamVjdCcgIT09IHR5cGVvZiBqc29uIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBqc29uICkgKSB7XHJcblx0XHRcdFx0aWYgKCB3aW5kb3cuY29uc29sZSApIHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCByZXNwb25zZSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIHdpbmRvdy5jb25zb2xlICkge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coIGpzb24gKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdG1vZGVsLnNldCgge1xyXG5cdFx0XHRcdFx0cHJvZ3Jlc3M6IDAsXHJcblx0XHRcdFx0XHRlcnJvck1zZzogUG9kc0kxOG4uX18oICdFcnJvciB1cGxvYWRpbmcgZmlsZTogJyApICsgZmlsZS5uYW1lXHJcblx0XHRcdFx0fSApO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0bmV3RmlsZSA9IHtcclxuXHRcdFx0XHRpZDoganNvbi5JRCxcclxuXHRcdFx0XHRpY29uOiBqc29uLnRodW1ibmFpbCxcclxuXHRcdFx0XHRuYW1lOiBqc29uLnBvc3RfdGl0bGUsXHJcblx0XHRcdFx0ZWRpdF9saW5rOiBqc29uLmVkaXRfbGluayxcclxuXHRcdFx0XHRsaW5rOiBqc29uLmxpbmssXHJcblx0XHRcdFx0ZG93bmxvYWQ6IGpzb24uZG93bmxvYWRcclxuXHRcdFx0fTtcclxuXHJcblx0XHRcdC8vIFJlbW92ZSB0aGUgZmlsZSBmcm9tIHRoZSB1cGxvYWQgcXVldWUgbW9kZWwgYW5kIHRyaWdnZXIgYW4gZXZlbnQgZm9yIHRoZSBob3N0aW5nIGNvbnRhaW5lclxyXG5cdFx0XHRtb2RlbC50cmlnZ2VyKCAnZGVzdHJveScsIG1vZGVsICk7XHJcblx0XHRcdHRoaXMudHJpZ2dlciggJ2FkZGVkOmZpbGVzJywgbmV3RmlsZSApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcbn0gKTtcclxuXHJcbiIsIi8qZ2xvYmFsIGpRdWVyeSwgXywgQmFja2JvbmUsIFBvZHNNbiAqL1xyXG4vKipcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuYnJvd3NlQnV0dG9uICAgRXhpc3RpbmcgYW5kIGF0dGFjaGVkIERPTSBub2RlXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnVpUmVnaW9uICAgICAgIE1hcmlvbmV0dGUuUmVnaW9uIG9iamVjdFxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5maWVsZENvbmZpZ1xyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5maWVsZENvbmZpZy5maWxlX21vZGFsX3RpdGxlXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmZpZWxkQ29uZmlnLmZpbGVfbW9kYWxfYWRkX2J1dHRvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5maWVsZENvbmZpZy5maWxlX2xpbWl0XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmZpZWxkQ29uZmlnLmxpbWl0X2V4dGVuc2lvbnNcclxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuZmllbGRDb25maWcubGltaXRfdHlwZXNcclxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuZmllbGRDb25maWcuZmlsZV9hdHRhY2htZW50X3RhYlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5maWVsZENvbmZpZy5wbHVwbG9hZF9pbml0XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLmZpZWxkQ29uZmlnLnBsdXBsb2FkX2luaXQuYnJvd3NlX2J1dHRvblxyXG4gKlxyXG4gKiBAY2xhc3NcclxuICovXHJcbmV4cG9ydCBjb25zdCBQb2RzRmlsZVVwbG9hZGVyID0gUG9kc01uLk9iamVjdC5leHRlbmQoIHtcclxuXHJcblx0Y29uc3RydWN0b3I6IGZ1bmN0aW9uICggb3B0aW9ucyApIHtcclxuXHRcdC8vIE1hZ2ljYWxseSBzZXQgdGhlIG9iamVjdCBwcm9wZXJ0aWVzIHdlIG5lZWQsIHRoZXknbGwganVzdCBcImJlIHRoZXJlXCIgZm9yIHRoZSBjb25jcmV0ZSBpbnN0YW5jZVxyXG5cdFx0dGhpcy5icm93c2VCdXR0b24gPSBvcHRpb25zLmJyb3dzZUJ1dHRvbjtcclxuXHRcdHRoaXMudWlSZWdpb24gPSBvcHRpb25zLnVpUmVnaW9uO1xyXG5cdFx0dGhpcy5maWVsZENvbmZpZyA9IG9wdGlvbnMuZmllbGRDb25maWc7XHJcblxyXG5cdFx0UG9kc01uLk9iamVjdC5jYWxsKCB0aGlzLCBvcHRpb25zICk7XHJcblx0fVxyXG5cclxufSApO1xyXG5cclxuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCB3cCAqL1xyXG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlL3ZpZXdzL2ZpbGUtdXBsb2FkLWZvcm0uaHRtbCc7XHJcblxyXG5pbXBvcnQgeyBQb2RzRmllbGRWaWV3IH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvcG9kcy1maWVsZC12aWV3cyc7XHJcblxyXG5leHBvcnQgY29uc3QgRmlsZVVwbG9hZEZvcm0gPSBQb2RzRmllbGRWaWV3LmV4dGVuZCgge1xyXG5cdGNoaWxkVmlld0V2ZW50UHJlZml4OiBmYWxzZSwgLy8gRGlzYWJsZSBpbXBsaWNpdCBldmVudCBsaXN0ZW5lcnMgaW4gZmF2b3Igb2YgZXhwbGljaXQgY2hpbGRWaWV3VHJpZ2dlcnMgYW5kIGNoaWxkVmlld0V2ZW50c1xyXG5cclxuXHR0YWdOYW1lOiAnZGl2JyxcclxuXHJcblx0dGVtcGxhdGU6IF8udGVtcGxhdGUoIHRlbXBsYXRlICksXHJcblxyXG5cdHVpOiB7XHJcblx0XHRhZGRCdXR0b246ICcucG9kcy1kZnYtbGlzdC1hZGQnXHJcblx0fSxcclxuXHJcblx0dHJpZ2dlcnM6IHtcclxuXHRcdCdjbGljayBAdWkuYWRkQnV0dG9uJzogJ2NoaWxkdmlldzphZGQ6ZmlsZTpjbGljaydcclxuXHR9XHJcbn0gKTtcclxuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCB3cCAqL1xyXG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlL3ZpZXdzL2ZpbGUtdXBsb2FkLWl0ZW0uaHRtbCc7XHJcblxyXG5pbXBvcnQgeyBQb2RzRmllbGRMaXN0VmlldywgUG9kc0ZpZWxkVmlldyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL3BvZHMtZmllbGQtdmlld3MnO1xyXG5cclxuLyoqXHJcbiAqIEluZGl2aWR1YWwgbGlzdCBpdGVtcywgcmVwcmVzZW50aW5nIGEgc2luZ2xlIGZpbGVcclxuICovXHJcbmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkSXRlbSA9IFBvZHNGaWVsZFZpZXcuZXh0ZW5kKCB7XHJcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXHJcblxyXG5cdHRhZ05hbWU6ICdsaScsXHJcblxyXG5cdHRlbXBsYXRlOiBfLnRlbXBsYXRlKCB0ZW1wbGF0ZSApLFxyXG5cclxuXHRjbGFzc05hbWU6ICdwb2RzLWRmdi1saXN0LWl0ZW0nLFxyXG5cclxuXHR1aToge1xyXG5cdFx0ZHJhZ0hhbmRsZTogJy5wb2RzLWRmdi1saXN0LWhhbmRsZScsXHJcblx0XHRlZGl0TGluazogJy5wb2RzLWRmdi1saXN0LWVkaXQtbGluaycsXHJcblx0XHR2aWV3TGluazogJy5wb2RzLWRmdi1saXN0LWxpbmsnLFxyXG5cdFx0ZG93bmxvYWRMaW5rOiAnLnBvZHMtZGZ2LWxpc3QtZG93bmxvYWQnLFxyXG5cdFx0cmVtb3ZlQnV0dG9uOiAnLnBvZHMtZGZ2LWxpc3QtcmVtb3ZlJyxcclxuXHRcdGl0ZW1OYW1lOiAnLnBvZHMtZGZ2LWxpc3QtbmFtZSdcclxuXHR9LFxyXG5cclxuXHR0cmlnZ2Vyczoge1xyXG5cdFx0J2NsaWNrIEB1aS5yZW1vdmVCdXR0b24nOiAncmVtb3ZlOmZpbGU6Y2xpY2snXHJcblx0fVxyXG59ICk7XHJcblxyXG4vKipcclxuICogVGhlIGZpbGUgbGlzdCBjb250YWluZXJcclxuICovXHJcbmV4cG9ydCBjb25zdCBGaWxlVXBsb2FkTGlzdCA9IFBvZHNGaWVsZExpc3RWaWV3LmV4dGVuZCgge1xyXG5cdGNoaWxkVmlld0V2ZW50UHJlZml4OiBmYWxzZSwgLy8gRGlzYWJsZSBpbXBsaWNpdCBldmVudCBsaXN0ZW5lcnMgaW4gZmF2b3Igb2YgZXhwbGljaXQgY2hpbGRWaWV3VHJpZ2dlcnMgYW5kIGNoaWxkVmlld0V2ZW50c1xyXG5cclxuXHR0YWdOYW1lOiAndWwnLFxyXG5cclxuXHRjbGFzc05hbWU6ICdwb2RzLWRmdi1saXN0JyxcclxuXHJcblx0Y2hpbGRWaWV3OiBGaWxlVXBsb2FkSXRlbSxcclxuXHJcblx0Y2hpbGRWaWV3VHJpZ2dlcnM6IHtcclxuXHRcdCdyZW1vdmU6ZmlsZTpjbGljayc6ICdjaGlsZHZpZXc6cmVtb3ZlOmZpbGU6Y2xpY2snXHJcblx0fSxcclxuXHJcblx0b25BdHRhY2g6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGNvbnN0IGZpZWxkQ29uZmlnID0gdGhpcy5vcHRpb25zLmZpZWxkTW9kZWwuZ2V0KCAnZmllbGRDb25maWcnICk7XHJcblx0XHRsZXQgc29ydF9heGlzID0gJ3knO1xyXG5cclxuXHRcdC8vIEB0b2RvXHJcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE3MzUzNzIvanF1ZXJ5LXNvcnRhYmxlLWxpc3Qtc2Nyb2xsLWJhci1qdW1wcy11cC13aGVuLXNvcnRpbmcvNDE4NzgzMyM0MTg3ODMzXHJcblxyXG5cdFx0aWYgKCAxICE9IGZpZWxkQ29uZmlnWyAnZmlsZV9saW1pdCcgXSApIHtcclxuXHJcblx0XHRcdGlmICggJ3RpbGVzJyA9PSBmaWVsZENvbmZpZ1sgJ2ZpbGVfZmllbGRfdGVtcGxhdGUnIF0gKSB7XHJcblx0XHRcdFx0c29ydF9heGlzID0gJyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGluaXQgc29ydGFibGVcclxuXHRcdFx0dGhpcy4kZWwuc29ydGFibGUoIHtcclxuXHRcdFx0XHRjb250YWlubWVudDogJ3BhcmVudCcsXHJcblx0XHRcdFx0YXhpczogc29ydF9heGlzLFxyXG5cdFx0XHRcdHNjcm9sbFNlbnNpdGl2aXR5OiA0MCxcclxuXHRcdFx0XHR0b2xlcmFuY2U6ICdwb2ludGVyJyxcclxuXHRcdFx0XHRvcGFjaXR5OiAwLjZcclxuXHRcdFx0fSApO1xyXG5cdFx0fVxyXG5cdH1cclxufSApO1xyXG5cclxuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uLCB3cCAqL1xyXG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlL3ZpZXdzL2ZpbGUtdXBsb2FkLXF1ZXVlLmh0bWwnO1xyXG5cclxuZXhwb3J0IGNvbnN0IEZpbGVVcGxvYWRRdWV1ZU1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKCB7XHJcblx0ZGVmYXVsdHM6IHtcclxuXHRcdGlkOiAwLFxyXG5cdFx0ZmlsZW5hbWU6ICcnLFxyXG5cdFx0cHJvZ3Jlc3M6IDAsXHJcblx0XHRlcnJvck1zZzogJydcclxuXHR9XHJcbn0gKTtcclxuXHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IEZpbGVVcGxvYWRRdWV1ZUl0ZW0gPSBQb2RzTW4uVmlldy5leHRlbmQoIHtcclxuXHRtb2RlbDogRmlsZVVwbG9hZFF1ZXVlTW9kZWwsXHJcblxyXG5cdHRhZ05hbWU6ICdsaScsXHJcblxyXG5cdHRlbXBsYXRlOiBfLnRlbXBsYXRlKCB0ZW1wbGF0ZSApLFxyXG5cclxuXHRhdHRyaWJ1dGVzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRjbGFzczogJ3BvZHMtZGZ2LWxpc3QtaXRlbScsXHJcblx0XHRcdGlkOiB0aGlzLm1vZGVsLmdldCggJ2lkJyApXHJcblx0XHR9O1xyXG5cdH0sXHJcblxyXG5cdG1vZGVsRXZlbnRzOiB7XHJcblx0XHQnY2hhbmdlJzogJ29uTW9kZWxDaGFuZ2VkJ1xyXG5cdH0sXHJcblxyXG5cdG9uTW9kZWxDaGFuZ2VkOiBmdW5jdGlvbiAoKSB7XHJcblx0XHR0aGlzLnJlbmRlcigpO1xyXG5cdH1cclxuXHJcbn0gKTtcclxuXHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IEZpbGVVcGxvYWRRdWV1ZSA9IFBvZHNNbi5Db2xsZWN0aW9uVmlldy5leHRlbmQoIHtcclxuXHR0YWdOYW1lOiAndWwnLFxyXG5cclxuXHRjbGFzc05hbWU6ICdwb2RzLWRmdi1saXN0IHBvZHMtZGZ2LWxpc3QtcXVldWUnLFxyXG5cclxuXHRjaGlsZFZpZXc6IEZpbGVVcGxvYWRRdWV1ZUl0ZW1cclxufSApO1xyXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcm9wLXR5cGVzICovXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IFBvZHNERlZCYXNlSW5wdXQgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29tcG9uZW50cy9iYXNlLWlucHV0JztcclxuaW1wb3J0IHsgdmFsaWRhdGlvblJ1bGVzIH0gZnJvbSAncG9kcy1kZnYvc3JjL3ZhbGlkYXRpb24vdmFsaWRhdGlvbi1ydWxlcyc7XHJcblxyXG5leHBvcnQgY29uc3QgUG9kc0RGVk51bWJlciA9ICggcHJvcHMgKSA9PiB7XHJcblx0Ly8gbm9pbnNwZWN0aW9uIEpTVW5yZXNvbHZlZFZhcmlhYmxlXHJcblx0cHJvcHMudmFsaWRhdGlvbi5hZGRSdWxlcyggW1xyXG5cdFx0e1xyXG5cdFx0XHRydWxlOiB2YWxpZGF0aW9uUnVsZXMubWF4KCBwcm9wcy52YWx1ZSwgcHJvcHMuZmllbGRDb25maWcubnVtYmVyX21heCApLFxyXG5cdFx0XHRjb25kaXRpb246IHRydWUsXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHRydWxlOiB2YWxpZGF0aW9uUnVsZXMubWluKCBwcm9wcy52YWx1ZSwgcHJvcHMuZmllbGRDb25maWcubnVtYmVyX21pbiApLFxyXG5cdFx0XHRjb25kaXRpb246IHRydWUsXHJcblx0XHR9LFxyXG5cdF0gKTtcclxuXHJcblx0Ly8gbm9pbnNwZWN0aW9uIEpTVW5yZXNvbHZlZFZhcmlhYmxlXHJcblx0cmV0dXJuIChcclxuXHRcdDxQb2RzREZWQmFzZUlucHV0XHJcblx0XHRcdHR5cGU9eycxJyA9PT0gcHJvcHMuZmllbGRDb25maWcubnVtYmVyX2h0bWw1ID8gJ251bWJlcicgOiAndGV4dCd9XHJcblx0XHRcdG1pbj17cHJvcHMuZmllbGRDb25maWcubnVtYmVyX21pbn1cclxuXHRcdFx0bWF4PXtwcm9wcy5maWVsZENvbmZpZy5udW1iZXJfbWF4fVxyXG5cdFx0XHR7Li4ucHJvcHN9XHJcblx0XHQvPlxyXG5cdCk7XHJcbn07XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlIHJlYWN0L3Byb3AtdHlwZXMgKi9cclxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcbmV4cG9ydCBjb25zdCBQb2RzREZWUGFyYWdyYXBoID0gKCBwcm9wcyApID0+IHtcclxuXHJcblx0Ly8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBpZiBvbkNoYW5nZSBpcyBvbWl0dGVkIGZyb20gcHJvcHNcclxuXHRmdW5jdGlvbiBoYW5kbGVDaGFuZ2UgKCBldmVudCApIHtcclxuXHRcdHByb3BzLnNldFZhbHVlKCBldmVudC50YXJnZXQudmFsdWUgKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiAoXHJcblx0XHQ8dGV4dGFyZWFcclxuXHRcdFx0dmFsdWU9eyBwcm9wcy52YWx1ZSB9XHJcblx0XHRcdG5hbWU9eyBwcm9wcy5odG1sQXR0ci5uYW1lIH1cclxuXHRcdFx0aWQ9eyBwcm9wcy5odG1sQXR0ci5pZCB9XHJcblx0XHRcdGNsYXNzTmFtZT17IHByb3BzLmNsYXNzTmFtZSB9XHJcblx0XHRcdGRhdGEtbmFtZS1jbGVhbj17IHByb3BzLmh0bWxBdHRyLm5hbWVfY2xlYW4gfVxyXG5cdFx0XHRkYXRhLWxhYmVsPXsgcHJvcHMuZmllbGRDb25maWcubGFiZWwgfVxyXG5cdFx0XHRvbkNoYW5nZT17IHByb3BzLm9uQ2hhbmdlIHx8IGhhbmRsZUNoYW5nZSB9XHJcblx0XHRcdG9uQmx1cj17IHByb3BzLm9uQmx1ciB9XHJcblx0XHQ+XHJcblx0XHRcdHsgcHJvcHMudmFsdWUgfVxyXG5cdFx0PC90ZXh0YXJlYT5cclxuXHQpO1xyXG59O1xyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBQb2RzREZWQmFzZUlucHV0IH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvbXBvbmVudHMvYmFzZS1pbnB1dCc7XHJcblxyXG5leHBvcnQgY29uc3QgUG9kc0RGVlBhc3N3b3JkID0gKCBwcm9wcyApID0+IHtcclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDxQb2RzREZWQmFzZUlucHV0XHJcblx0XHRcdHR5cGU9XCJwYXNzd29yZFwiXHJcblx0XHRcdHsuLi5wcm9wc31cclxuXHRcdC8+XHJcblx0KTtcclxufTtcclxuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uICovXHJcblxyXG5leHBvcnQgY29uc3QgUGlja0ZpZWxkTW9kZWwgPSBCYWNrYm9uZS5Nb2RlbC5leHRlbmQoIHtcclxuXHRkZWZhdWx0czoge1xyXG5cdFx0J3ZpZXdfbmFtZSc6ICdzZWxlY3QnLFxyXG5cdFx0J2lmcmFtZV9zcmMnOiAnJyxcclxuXHRcdCdwaWNrX2Zvcm1hdF90eXBlJzogJ3NpbmdsZScsXHJcblx0XHQncGlja19zaG93X2ljb24nOiBmYWxzZSxcclxuXHRcdCdwaWNrX3Nob3dfdmlld19saW5rJzogZmFsc2UsXHJcblx0XHQncGlja19zaG93X2VkaXRfbGluayc6IGZhbHNlXHJcblx0fVxyXG59ICk7XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlIGNhbWVsY2FzZSAqL1xyXG4vKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4sIHdwLCBQb2RzSTE4biAqL1xyXG5cclxuaW1wb3J0IHRlbXBsYXRlIGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay9waWNrLWxheW91dC5odG1sJztcclxuXHJcbmltcG9ydCB7IFBvZHNERlZGaWVsZE1vZGVsIH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvcG9kcy1maWVsZC1tb2RlbCc7XHJcbmltcG9ydCB7IFBvZHNERlZGaWVsZExheW91dCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL3BvZHMtZmllbGQtdmlld3MnO1xyXG5cclxuaW1wb3J0IHsgSWZyYW1lRnJhbWUgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9pZnJhbWUtZnJhbWUnO1xyXG5cclxuaW1wb3J0IHsgUmVsYXRpb25zaGlwQ29sbGVjdGlvbiB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay9yZWxhdGlvbnNoaXAtbW9kZWwnO1xyXG5pbXBvcnQgeyBQaWNrRmllbGRNb2RlbCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay9waWNrLWZpZWxkLW1vZGVsJztcclxuXHJcbmltcG9ydCB7IFJhZGlvVmlldyB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9yYWRpby12aWV3JztcclxuaW1wb3J0IHsgQ2hlY2tib3hWaWV3IH0gZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9waWNrL3ZpZXdzL2NoZWNrYm94LXZpZXcnO1xyXG5pbXBvcnQgeyBTZWxlY3RWaWV3IH0gZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9waWNrL3ZpZXdzL3NlbGVjdC12aWV3JztcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svdmlld3MvbGlzdC12aWV3JztcclxuaW1wb3J0IHsgQWRkTmV3IH0gZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9waWNrL3ZpZXdzL2FkZC1uZXcnO1xyXG5cclxuY29uc3Qgdmlld3MgPSB7XHJcblx0J2NoZWNrYm94JzogQ2hlY2tib3hWaWV3LFxyXG5cdCdzZWxlY3QnOiBTZWxlY3RWaWV3LFxyXG5cdCdzZWxlY3QyJzogU2VsZWN0VmlldywgIC8vIFNlbGVjdFZpZXcgaGFuZGxlcyBzZWxlY3QyIGFzIHdlbGxcclxuXHQncmFkaW8nOiBSYWRpb1ZpZXcsXHJcblx0J2xpc3QnOiBMaXN0Vmlld1xyXG59O1xyXG5cclxubGV0IG1vZGFsSUZyYW1lO1xyXG5cclxuLyoqXHJcbiAqIEBleHRlbmRzIEJhY2tib25lLlZpZXdcclxuICovXHJcbmV4cG9ydCBjb25zdCBQaWNrID0gUG9kc0RGVkZpZWxkTGF5b3V0LmV4dGVuZCgge1xyXG5cdGNoaWxkVmlld0V2ZW50UHJlZml4OiBmYWxzZSwgLy8gRGlzYWJsZSBpbXBsaWNpdCBldmVudCBsaXN0ZW5lcnMgaW4gZmF2b3Igb2YgZXhwbGljaXQgY2hpbGRWaWV3VHJpZ2dlcnMgYW5kIGNoaWxkVmlld0V2ZW50c1xyXG5cclxuXHR0ZW1wbGF0ZTogXy50ZW1wbGF0ZSggdGVtcGxhdGUgKSxcclxuXHJcblx0cmVnaW9uczoge1xyXG5cdFx0YXV0b2NvbXBsZXRlOiAnLnBvZHMtdWktbGlzdC1hdXRvY29tcGxldGUnLFxyXG5cdFx0bGlzdDogJy5wb2RzLXBpY2stdmFsdWVzJyxcclxuXHRcdGFkZE5ldzogJy5wb2RzLXVpLWFkZC1uZXcnXHJcblx0fSxcclxuXHJcblx0Y2hpbGRWaWV3RXZlbnRzOiB7XHJcblx0XHQnY2hpbGR2aWV3OnJlbW92ZTppdGVtOmNsaWNrJzogJ29uQ2hpbGR2aWV3UmVtb3ZlSXRlbUNsaWNrJyxcclxuXHRcdCdjaGlsZHZpZXc6ZWRpdDppdGVtOmNsaWNrJzogJ29uQ2hpbGR2aWV3RWRpdEl0ZW1DbGljaycsXHJcblx0XHQnY2hpbGR2aWV3OnNlbGVjdGlvbjpsaW1pdDpvdmVyJzogJ29uQ2hpbGR2aWV3U2VsZWN0aW9uTGltaXRPdmVyJyxcclxuXHRcdCdjaGlsZHZpZXc6c2VsZWN0aW9uOmxpbWl0OnVuZGVyJzogJ29uQ2hpbGR2aWV3U2VsZWN0aW9uTGltaXRVbmRlcicsXHJcblx0XHQnY2hpbGR2aWV3OmNoYW5nZTpzZWxlY3RlZCc6ICdvbkNoaWxkdmlld0NoYW5nZVNlbGVjdGVkJyxcclxuXHRcdCdjaGlsZHZpZXc6YWRkOm5ldyc6ICdvbkNoaWxkdmlld0FkZE5ldydcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKlxyXG5cdCAqL1xyXG5cdG9uQmVmb3JlUmVuZGVyOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRpZiAoIHRoaXMuY29sbGVjdGlvbiA9PT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0aGlzLmNvbGxlY3Rpb24gPSBuZXcgUmVsYXRpb25zaGlwQ29sbGVjdGlvbiggdGhpcy5maWVsZEl0ZW1EYXRhICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKi9cclxuXHRvblJlbmRlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5maWVsZENvbmZpZyA9IG5ldyBQaWNrRmllbGRNb2RlbCggdGhpcy5tb2RlbC5nZXQoICdmaWVsZENvbmZpZycgKSApO1xyXG5cclxuXHRcdC8vIEFkZCBOZXc/XHJcblx0XHQvLyBub2luc3BlY3Rpb24gRXF1YWxpdHlDb21wYXJpc29uV2l0aENvZXJjaW9uSlMgKHdoeSB3b3VsZCB3ZSByZWplY3QgXCIxXCI/KVxyXG5cdFx0aWYgKCAnJyAhPT0gdGhpcy5maWVsZENvbmZpZy5nZXQoICdpZnJhbWVfc3JjJyApICYmIDEgPT0gdGhpcy5maWVsZENvbmZpZy5nZXQoICdwaWNrX2FsbG93X2FkZF9uZXcnICkgKSB7XHJcblx0XHRcdHRoaXMuc2hvd0FkZE5ldygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEF1dG9jb21wbGV0ZT9cclxuXHRcdGlmICggJ2xpc3QnID09PSB0aGlzLmZpZWxkQ29uZmlnLmdldCggJ3ZpZXdfbmFtZScgKSApIHtcclxuXHRcdFx0dGhpcy5idWlsZEF1dG9jb21wbGV0ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEJ1aWxkIHRoZSBsaXN0IGxhc3QsIGV2ZW50cyBmaXJlZCBieSB0aGUgbGlzdCAobGlrZSBzZWxlY3Rpb24gbGltaXQpIG1heSBpbXBhY3Qgc3RhdGUgaW4gb3RoZXIgdmlld3Mgd2UgbWFuYWdlXHJcblx0XHR0aGlzLnNob3dMaXN0KCk7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICogVGhpcyBpcyBmb3IgdGhlIExpc3QgVmlldydzIGF1dG9jb21wbGV0ZSBmb3Igc2VsZWN0IGZyb20gZXhpc3RpbmdcclxuXHQgKi9cclxuXHRidWlsZEF1dG9jb21wbGV0ZTogZnVuY3Rpb24gKCkge1xyXG5cdFx0bGV0IGZpZWxkQ29uZmlnLCBtb2RlbCwgY29sbGVjdGlvbiwgdmlldztcclxuXHRcdGNvbnN0IHBpY2tMaW1pdCA9ICt0aGlzLmZpZWxkQ29uZmlnLmdldCggJ3BpY2tfbGltaXQnICk7IC8vIFVuYXJ5IHBsdXMgZm9yY2VzIGNhc3QgdG8gbnVtYmVyXHJcblxyXG5cdFx0ZmllbGRDb25maWcgPSB7XHJcblx0XHRcdHZpZXdfbmFtZTogJ3NlbGVjdDInLFxyXG5cdFx0XHRwaWNrX2Zvcm1hdF90eXBlOiAnbXVsdGknLFxyXG5cdFx0XHRzZWxlY3RGcm9tRXhpc3Rpbmc6IHRydWUsXHJcblx0XHRcdGFqYXhfZGF0YTogdGhpcy5maWVsZENvbmZpZy5nZXQoICdhamF4X2RhdGEnICksXHJcblx0XHRcdHNlbGVjdDJfb3ZlcnJpZGVzOiB0aGlzLmZpZWxkQ29uZmlnLmdldCggJ3NlbGVjdDJfb3ZlcnJpZGVzJyApLFxyXG5cdFx0XHRsYWJlbDogdGhpcy5maWVsZENvbmZpZy5nZXQoICdsYWJlbCcgKSxcclxuXHRcdFx0cGlja19saW1pdDogcGlja0xpbWl0XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIFRoZSBhdXRvY29tcGxldGUgcG9ydGlvbiBvZiBMaXN0IFZpZXcgZG9lc24ndCB0cmFjayBzZWxlY3RlZCBpdGVtczsgZGlzYWJsZSBpZiB3ZSdyZSBhdCB0aGUgc2VsZWN0aW9uIGxpbWl0XHJcblx0XHRpZiAoIHRoaXMuY29sbGVjdGlvbi5maWx0ZXJCeVNlbGVjdGVkKCkubGVuZ3RoID49IHBpY2tMaW1pdCAmJiAwICE9PSBwaWNrTGltaXQgKSB7XHJcblxyXG5cdFx0XHRmaWVsZENvbmZpZy5saW1pdERpc2FibGUgPSB0cnVlO1xyXG5cdFx0XHR0aGlzLm9uQ2hpbGR2aWV3U2VsZWN0aW9uTGltaXRPdmVyKCk7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdHRoaXMub25DaGlsZHZpZXdTZWxlY3Rpb25MaW1pdFVuZGVyKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0bW9kZWwgPSBuZXcgUG9kc0RGVkZpZWxkTW9kZWwoIHsgZmllbGRDb25maWc6IGZpZWxkQ29uZmlnIH0gKTtcclxuXHRcdGNvbGxlY3Rpb24gPSB0aGlzLmNvbGxlY3Rpb24uZmlsdGVyQnlVbnNlbGVjdGVkKCk7XHJcblx0XHR2aWV3ID0gbmV3IFNlbGVjdFZpZXcoIHsgY29sbGVjdGlvbjogY29sbGVjdGlvbiwgZmllbGRNb2RlbDogbW9kZWwgfSApO1xyXG5cclxuXHRcdC8vIFByb3ZpZGUgYSBjdXN0b20gbGlzdCBmaWx0ZXIgZm9yIHRoZSBhdXRvY29tcGxldGUgcG9ydGlvbidzIEFKQVggZGF0YSBsaXN0c1xyXG5cdFx0dmlldy5maWx0ZXJBamF4TGlzdCA9IHRoaXMuZmlsdGVyQWpheExpc3QuYmluZCggdGhpcyApO1xyXG5cclxuXHRcdC8vIFJlYnVpbGQgZnJvbSBzY3JhdGNoXHJcblx0XHR0aGlzLnNob3dDaGlsZFZpZXcoICdhdXRvY29tcGxldGUnLCB2aWV3ICk7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKi9cclxuXHRzaG93TGlzdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0bGV0IHZpZXdOYW1lLCBWaWV3LCBsaXN0O1xyXG5cclxuXHRcdC8vIFNldHVwIHRoZSB2aWV3IHRvIGJlIHVzZWRcclxuXHRcdHZpZXdOYW1lID0gdGhpcy5maWVsZENvbmZpZy5nZXQoICd2aWV3X25hbWUnICk7XHJcblx0XHRpZiAoIHZpZXdzWyB2aWV3TmFtZSBdID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvciggYEludmFsaWQgdmlldyBuYW1lIFwiJHt2aWV3TmFtZX1cImAgKTtcclxuXHRcdH1cclxuXHRcdFZpZXcgPSB2aWV3c1sgdmlld05hbWUgXTtcclxuXHRcdGxpc3QgPSBuZXcgVmlldyggeyBjb2xsZWN0aW9uOiB0aGlzLmNvbGxlY3Rpb24sIGZpZWxkTW9kZWw6IHRoaXMubW9kZWwgfSApO1xyXG5cclxuXHRcdHRoaXMuc2hvd0NoaWxkVmlldyggJ2xpc3QnLCBsaXN0ICk7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKi9cclxuXHRzaG93QWRkTmV3OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRsZXQgYWRkTmV3ID0gbmV3IEFkZE5ldyggeyBmaWVsZE1vZGVsOiB0aGlzLm1vZGVsIH0gKTtcclxuXHRcdHRoaXMuc2hvd0NoaWxkVmlldyggJ2FkZE5ldycsIGFkZE5ldyApO1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqIExpc3QgVmlld3MgbmVlZCB0byBmaWx0ZXIgaXRlbXMgYWxyZWFkeSBzZWxlY3RlZCBmcm9tIHRoZWlyIHNlbGVjdCBmcm9tIGV4aXN0aW5nIGxpc3QuICBUaGUgQUpBWCBmdW5jdGlvblxyXG5cdCAqIGl0c2VsZiBkb2VzIG5vdCBmaWx0ZXIuXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gZGF0YVxyXG5cdCAqL1xyXG5cdGZpbHRlckFqYXhMaXN0OiBmdW5jdGlvbiAoIGRhdGEgKSB7XHJcblx0XHRjb25zdCBzZWxlY3RlZEl0ZW1zID0gdGhpcy5jb2xsZWN0aW9uLmZpbHRlckJ5U2VsZWN0ZWQoKTtcclxuXHRcdGNvbnN0IHJldHVybkxpc3QgPSBbXTtcclxuXHJcblx0XHQvLyBMb29wIHRocm91Z2ggdGhlIGl0ZW1zIHJldHVybmVkIHZpYSBhamF4XHJcblx0XHRfLmVhY2goIGRhdGEucmVzdWx0cywgZnVuY3Rpb24gKCBlbGVtZW50ICkge1xyXG5cdFx0XHRlbGVtZW50LnRleHQgPSBlbGVtZW50Lm5hbWU7IC8vIFNlbGVjdDIgbmVlZHMgdGhlIFwidGV4dFwiIGtleSBidXQgb3VyIG1vZGVsIHVzZXMgXCJuYW1lXCJcclxuXHJcblx0XHRcdC8vIE9ubHkga2VlcCBjaG9pY2VzIHRoYXQgaGF2ZW4ndCBiZWVuIHNlbGVjdGVkIHlldCwgd2UgZG9uJ3Qgd2FudCBzZWxlY3RlZCBpdGVtcyBpbiB0aGUgYXV0b2NvbXBsZXRlIHBvcnRpb25cclxuXHRcdFx0aWYgKCAhc2VsZWN0ZWRJdGVtcy5nZXQoIGVsZW1lbnQuaWQgKSApIHtcclxuXHRcdFx0XHRyZXR1cm5MaXN0LnB1c2goIGVsZW1lbnQgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSApO1xyXG5cclxuXHRcdC8vIFRoZSBjb2xsZWN0aW9uIG1heSBiZSBwYXJ0aWFsIGluIGFqYXggbW9kZSwgbWFrZSBzdXJlIHdlIGFkZCBhbnkgaXRlbXMgd2UgZGlkbid0IHlldCBoYXZlXHJcblx0XHR0aGlzLmNvbGxlY3Rpb24uYWRkKCByZXR1cm5MaXN0ICk7XHJcblx0XHR0aGlzLmdldENoaWxkVmlldyggJ2F1dG9jb21wbGV0ZScgKS5zZXRDb2xsZWN0aW9uKCB0aGlzLmNvbGxlY3Rpb24uZmlsdGVyQnlVbnNlbGVjdGVkKCkgKTtcclxuXHJcblx0XHRyZXR1cm4geyAncmVzdWx0cyc6IHJldHVybkxpc3QgfTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBjaGlsZFZpZXdcclxuXHQgKi9cclxuXHRvbkNoaWxkdmlld1NlbGVjdGlvbkxpbWl0T3ZlcjogZnVuY3Rpb24gKCBjaGlsZFZpZXcgKSB7XHJcblx0XHRjb25zdCBhZGROZXcgPSB0aGlzLmdldENoaWxkVmlldyggJ2FkZE5ldycgKTtcclxuXHRcdGlmICggYWRkTmV3ICkge1xyXG5cdFx0XHRhZGROZXcuZGlzYWJsZSgpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIGNoaWxkVmlld1xyXG5cdCAqL1xyXG5cdG9uQ2hpbGR2aWV3U2VsZWN0aW9uTGltaXRVbmRlcjogZnVuY3Rpb24gKCBjaGlsZFZpZXcgKSB7XHJcblx0XHRjb25zdCBhZGROZXcgPSB0aGlzLmdldENoaWxkVmlldyggJ2FkZE5ldycgKTtcclxuXHRcdGlmICggYWRkTmV3ICkge1xyXG5cdFx0XHRhZGROZXcuZW5hYmxlKCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICogXCJSZW1vdmVcIiBpbiBsaXN0IHZpZXcganVzdCB0b2dnbGVzIGFuIGl0ZW0ncyBzZWxlY3RlZCBhdHRyaWJ1dGVcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBjaGlsZFZpZXdcclxuXHQgKi9cclxuXHRvbkNoaWxkdmlld1JlbW92ZUl0ZW1DbGljazogZnVuY3Rpb24gKCBjaGlsZFZpZXcgKSB7XHJcblx0XHRjaGlsZFZpZXcubW9kZWwudG9nZ2xlU2VsZWN0ZWQoKTtcclxuXHRcdHRoaXMuZ2V0Q2hpbGRWaWV3KCAnbGlzdCcgKS5yZW5kZXIoKTtcclxuXHJcblx0XHQvLyBLZWVwIGF1dG9jb21wbGV0ZSBpbiBzeW5jLCByZW1vdmVkIGl0ZW1zIHNob3VsZCBub3cgYmUgYXZhaWxhYmxlIGNob2ljZXNcclxuXHRcdGlmICggJ2xpc3QnID09PSB0aGlzLmZpZWxkQ29uZmlnLmdldCggJ3ZpZXdfbmFtZScgKSApIHtcclxuXHRcdFx0dGhpcy5idWlsZEF1dG9jb21wbGV0ZSgpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSBjaGlsZFZpZXdcclxuXHQgKi9cclxuXHRvbkNoaWxkdmlld0FkZE5ldzogZnVuY3Rpb24gKCBjaGlsZFZpZXcgKSB7XHJcblx0XHRjb25zdCBmaWVsZENvbmZpZyA9IHRoaXMubW9kZWwuZ2V0KCAnZmllbGRDb25maWcnICk7XHJcblxyXG5cdFx0bW9kYWxJRnJhbWUgPSBuZXcgSWZyYW1lRnJhbWUoIHtcclxuXHRcdFx0dGl0bGU6IGZpZWxkQ29uZmlnLmlmcmFtZV90aXRsZV9hZGQsXHJcblx0XHRcdHNyYzogZmllbGRDb25maWcuaWZyYW1lX3NyY1xyXG5cdFx0fSApO1xyXG5cclxuXHRcdHRoaXMuc2V0TW9kYWxMaXN0ZW5lcnMoKTtcclxuXHRcdG1vZGFsSUZyYW1lLm1vZGFsLm9wZW4oKTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKiBAcGFyYW0gY2hpbGRWaWV3XHJcblx0ICovXHJcblx0b25DaGlsZHZpZXdFZGl0SXRlbUNsaWNrOiBmdW5jdGlvbiAoIGNoaWxkVmlldyApIHtcclxuXHRcdGNvbnN0IGZpZWxkQ29uZmlnID0gdGhpcy5tb2RlbC5nZXQoICdmaWVsZENvbmZpZycgKTtcclxuXHJcblx0XHRtb2RhbElGcmFtZSA9IG5ldyBJZnJhbWVGcmFtZSgge1xyXG5cdFx0XHR0aXRsZTogZmllbGRDb25maWcuaWZyYW1lX3RpdGxlX2VkaXQsXHJcblx0XHRcdHNyYzogY2hpbGRWaWV3LnVpLmVkaXRCdXR0b24uYXR0ciggJ2hyZWYnIClcclxuXHRcdH0gKTtcclxuXHJcblx0XHR0aGlzLnNldE1vZGFsTGlzdGVuZXJzKCk7XHJcblx0XHRtb2RhbElGcmFtZS5tb2RhbC5vcGVuKCk7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gY2hpbGRWaWV3XHJcblx0ICovXHJcblx0b25DaGlsZHZpZXdDaGFuZ2VTZWxlY3RlZDogZnVuY3Rpb24gKCBjaGlsZFZpZXcgKSB7XHJcblxyXG5cdFx0Ly8gUmVmcmVzaCB0aGUgYXV0b2NvbXBsZXRlIGFuZCBMaXN0IFZpZXcgbGlzdHMgb24gYXV0b2NvbXBsZXRlIHNlbGVjdGlvblxyXG5cdFx0aWYgKCBjaGlsZFZpZXcuZmllbGRDb25maWcuc2VsZWN0RnJvbUV4aXN0aW5nICkge1xyXG5cdFx0XHRfLmRlZmVyKCB0aGlzLmJ1aWxkQXV0b2NvbXBsZXRlLmJpbmQoIHRoaXMgKSApO1xyXG5cdFx0XHR0aGlzLmdldENoaWxkVmlldyggJ2xpc3QnICkucmVuZGVyKCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0c2V0TW9kYWxMaXN0ZW5lcnM6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGpRdWVyeSggd2luZG93ICkub24oICdkZnY6bW9kYWw6dXBkYXRlJywgdGhpcy5tb2RhbFN1Y2Nlc3MuYmluZCggdGhpcyApICk7XHJcblx0XHRqUXVlcnkoIHdpbmRvdyApLm9uKCAnZGZ2Om1vZGFsOmNhbmNlbCcsIHRoaXMubW9kYWxDYW5jZWwuYmluZCggdGhpcyApICk7XHJcblx0fSxcclxuXHJcblx0Y2xlYXJNb2RhbExpc3RlbmVyczogZnVuY3Rpb24gKCkge1xyXG5cdFx0alF1ZXJ5KCB3aW5kb3cgKS5vZmYoICdkZnY6bW9kYWw6dXBkYXRlJyApO1xyXG5cdFx0alF1ZXJ5KCB3aW5kb3cgKS5vZmYoICdkZnY6bW9kYWw6Y2FuY2VsJyApO1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqIEBwYXJhbSBldmVudFxyXG5cdCAqIEBwYXJhbSBkYXRhXHJcblx0ICovXHJcblx0bW9kYWxTdWNjZXNzOiBmdW5jdGlvbiAoIGV2ZW50LCBkYXRhICkge1xyXG5cdFx0Y29uc3QgaXRlbU1vZGVsID0gdGhpcy5jb2xsZWN0aW9uLmdldCggZGF0YS5pZCApO1xyXG5cclxuXHRcdGlmICggaXRlbU1vZGVsICkge1xyXG5cdFx0XHQvLyBFZGl0OiB1cGRhdGUgYW4gZXhpc3RpbmcgbW9kZWwgYW5kIGZvcmNlIGEgcmUtcmVuZGVyXHJcblx0XHRcdGl0ZW1Nb2RlbC5zZXQoIGRhdGEgKTtcclxuXHRcdFx0dGhpcy5nZXRDaGlsZFZpZXcoICdsaXN0JyApLnJlbmRlcigpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gQWRkIG5ldzogY3JlYXRlIGEgbmV3IG1vZGVsIGluIHRoZSBjb2xsZWN0aW9uXHJcblx0XHRcdHRoaXMuY29sbGVjdGlvbi5hZGQoIGRhdGEgKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmNsZWFyTW9kYWxMaXN0ZW5lcnMoKTtcclxuXHRcdG1vZGFsSUZyYW1lLm1vZGFsLmNsb3NlKCB7fSApO1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICovXHJcblx0bW9kYWxDYW5jZWw6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuY2xlYXJNb2RhbExpc3RlbmVycygpO1xyXG5cdH1cclxuXHJcbn0gKTtcclxuIiwiLypnbG9iYWwgalF1ZXJ5LCBfLCBCYWNrYm9uZSwgUG9kc01uICovXHJcblxyXG4vKipcclxuICpcclxuICovXHJcbmV4cG9ydCBjb25zdCBSZWxhdGlvbnNoaXBNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCgge1xyXG5cdGRlZmF1bHRzOiB7XHJcblx0XHQnaWQnOiAwLFxyXG5cdFx0J25hbWUnOiAnJyxcclxuXHRcdCdpY29uJzogJycsXHJcblx0XHQnbGluayc6ICcnLFxyXG5cdFx0J2VkaXRfbGluayc6ICcnLFxyXG5cdFx0J3NlbGVjdGVkJzogZmFsc2VcclxuXHR9LFxyXG5cclxuXHR0b2dnbGVTZWxlY3RlZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5zZXQoICdzZWxlY3RlZCcsICF0aGlzLmdldCggJ3NlbGVjdGVkJyApICk7XHJcblx0fVxyXG59ICk7XHJcblxyXG4vKipcclxuICpcclxuICovXHJcbmV4cG9ydCBjb25zdCBSZWxhdGlvbnNoaXBDb2xsZWN0aW9uID0gQmFja2JvbmUuQ29sbGVjdGlvbi5leHRlbmQoIHtcclxuXHRtb2RlbDogUmVsYXRpb25zaGlwTW9kZWwsXHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHsgP3N0cmluZ1tdIH0gaWRzXHJcblx0ICovXHJcblx0c2V0U2VsZWN0ZWQ6IGZ1bmN0aW9uICggaWRzICkge1xyXG5cdFx0dGhpcy5tYXAoIGZ1bmN0aW9uICggdGhpc01vZGVsICkge1xyXG5cdFx0XHRjb25zdCBzZWxlY3RlZCA9IF8uY29udGFpbnMoIGlkcywgdGhpc01vZGVsLmdldCggJ2lkJyApICsgJycgKTtcclxuXHRcdFx0dGhpc01vZGVsLnNldCggJ3NlbGVjdGVkJywgc2VsZWN0ZWQgKTtcclxuXHRcdH0gKTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm4gYSBuZXcgY29sbGVjdGlvbiBjb250YWluaW5nIGp1c3QgdGhlIHNlbGVjdGVkIGl0ZW1zIGluIHRoaXMgb25lXHJcblx0ICpcclxuXHQgKiBAcmV0dXJucyB7Kn1cclxuXHQgKi9cclxuXHRmaWx0ZXJCeVNlbGVjdGVkOiBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0Ly8gR2V0IGFuIGFycmF5IHdpdGggb25seSB0aGUgc2VsZWN0ZWQgaXRlbXNcclxuXHRcdGNvbnN0IGZpbHRlcmVkID0gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uICggaXRlbU1vZGVsICkge1xyXG5cdFx0XHRyZXR1cm4gKCBpdGVtTW9kZWwuZ2V0KCAnc2VsZWN0ZWQnICkgKTtcclxuXHRcdH0gKTtcclxuXHJcblx0XHQvLyB0aGlzLmZpbHRlciBpcyBnb2luZyB0byByZXR1cm4gYW4gYXJyYXksIHNvIGNyZWF0ZSBhIGNvbGxlY3Rpb24gb3V0IG9mIGl0XHJcblx0XHRyZXR1cm4gbmV3IFJlbGF0aW9uc2hpcENvbGxlY3Rpb24oIGZpbHRlcmVkICk7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICogUmV0dXJuIGEgbmV3IGNvbGxlY3Rpb24gY29udGFpbmluZyBqdXN0IHRoZSB1bnNlbGVjdGVkIGl0ZW1zIGluIHRoaXMgb25lXHJcblx0ICpcclxuXHQgKiBAcmV0dXJucyB7Kn1cclxuXHQgKi9cclxuXHRmaWx0ZXJCeVVuc2VsZWN0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHJcblx0XHQvLyBHZXQgYW4gYXJyYXkgd2l0aCBvbmx5IHRoZSB1bnNlbGVjdGVkIGl0ZW1zXHJcblx0XHRjb25zdCBmaWx0ZXJlZCA9IHRoaXMuZmlsdGVyKCBmdW5jdGlvbiAoIGl0ZW1Nb2RlbCApIHtcclxuXHRcdFx0cmV0dXJuICEoIGl0ZW1Nb2RlbC5nZXQoICdzZWxlY3RlZCcgKSApO1xyXG5cdFx0fSApO1xyXG5cclxuXHRcdC8vIHRoaXMuZmlsdGVyIGlzIGdvaW5nIHRvIHJldHVybiBhbiBhcnJheSwgc28gY3JlYXRlIGEgY29sbGVjdGlvbiBvdXQgb2YgaXRcclxuXHRcdHJldHVybiBuZXcgUmVsYXRpb25zaGlwQ29sbGVjdGlvbiggZmlsdGVyZWQgKTtcclxuXHR9XHJcblxyXG59ICk7XHJcblxyXG4iLCIvKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4sIHdwICovXHJcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svdmlld3MvYWRkLW5ldy5odG1sJztcclxuXHJcbmltcG9ydCB7IFBvZHNGaWVsZFZpZXcgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9wb2RzLWZpZWxkLXZpZXdzJztcclxuXHJcbmNvbnN0IERJU0FCTEVEX0NMQVNTID0gJ2J1dHRvbi1kaXNhYmxlZCc7XHJcblxyXG5leHBvcnQgY29uc3QgQWRkTmV3ID0gUG9kc0ZpZWxkVmlldy5leHRlbmQoIHtcclxuXHRjaGlsZFZpZXdFdmVudFByZWZpeDogZmFsc2UsIC8vIERpc2FibGUgaW1wbGljaXQgZXZlbnQgbGlzdGVuZXJzIGluIGZhdm9yIG9mIGV4cGxpY2l0IGNoaWxkVmlld1RyaWdnZXJzIGFuZCBjaGlsZFZpZXdFdmVudHNcclxuXHJcblx0dGFnTmFtZTogJ2RpdicsXHJcblxyXG5cdGNsYXNzTmFtZTogJ3BvZHNmb3JtLWRmdi1saXN0LXJlbGF0aW9uc2hpcC1jb250YWluZXInLFxyXG5cclxuXHR1aToge1xyXG5cdFx0YWRkQnV0dG9uOiAnYS5wb2RzLXJlbGF0ZWQtYWRkLW5ldydcclxuXHR9LFxyXG5cclxuXHR0ZW1wbGF0ZTogXy50ZW1wbGF0ZSggdGVtcGxhdGUgKSxcclxuXHJcblx0dHJpZ2dlcnM6IHtcclxuXHRcdCdjbGljayBAdWkuYWRkQnV0dG9uJzogJ2FkZDpuZXc6Y2xpY2snXHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKi9cclxuXHRkaXNhYmxlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRjb25zdCBhZGRCdXR0b24gPSB0aGlzLmdldFVJKCAnYWRkQnV0dG9uJyApO1xyXG5cdFx0YWRkQnV0dG9uLmFkZENsYXNzKCBESVNBQkxFRF9DTEFTUyApOyAvLyBOb3RlOiB0aGlzIGp1c3Qgc3R5bGVzIHRoZSBsaW5rIChidXR0b24pLCBjbGljayBldmVudCBlbmZvcmNlc1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICovXHJcblx0ZW5hYmxlOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRjb25zdCBhZGRCdXR0b24gPSB0aGlzLmdldFVJKCAnYWRkQnV0dG9uJyApO1xyXG5cdFx0YWRkQnV0dG9uLnJlbW92ZUNsYXNzKCBESVNBQkxFRF9DTEFTUyApOyAvLyBOb3RlOiB0aGlzIGp1c3Qgc3R5bGVzIHRoZSBsaW5rIChidXR0b24pLCBjbGljayBldmVudCBlbmZvcmNlc1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICovXHJcblx0b25BZGROZXdDbGljazogZnVuY3Rpb24gKCkge1xyXG5cdFx0Y29uc3QgYWRkQnV0dG9uID0gdGhpcy5nZXRVSSggJ2FkZEJ1dHRvbicgKTtcclxuXHJcblx0XHQvLyBPbmx5IHBhc3MgdGhlIGV2ZW50IHVwIHRoZSB2aWV3IGNoYWluIGlmIHdlJ3JlIGVuYWJsZWRcclxuXHRcdGlmICggIWFkZEJ1dHRvbi5oYXNDbGFzcyggRElTQUJMRURfQ0xBU1MgKSApIHtcclxuXHRcdFx0dGhpcy50cmlnZ2VyKCAnY2hpbGR2aWV3OmFkZDpuZXcnLCB0aGlzICk7XHJcblx0XHR9XHJcblx0fVxyXG59ICk7XHJcbiIsIi8qZ2xvYmFsIGpRdWVyeSwgXywgQmFja2JvbmUsIFBvZHNNbiwgd3AgKi9cclxuaW1wb3J0IHRlbXBsYXRlIGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9jaGVja2JveC1pdGVtLmh0bWwnO1xyXG5cclxuaW1wb3J0IHsgUG9kc0ZpZWxkTGlzdFZpZXcsIFBvZHNGaWVsZFZpZXcgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9wb2RzLWZpZWxkLXZpZXdzJztcclxuXHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IENoZWNrYm94SXRlbSA9IFBvZHNGaWVsZFZpZXcuZXh0ZW5kKCB7XHJcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXHJcblxyXG5cdHRhZ05hbWU6ICdsaScsXHJcblxyXG5cdHRlbXBsYXRlOiBfLnRlbXBsYXRlKCB0ZW1wbGF0ZSApLFxyXG5cclxuXHRjbGFzc05hbWU6ICdwb2RzLXBpY2snLFxyXG5cclxuXHR1aToge1xyXG5cdFx0Y2hlY2tib3g6ICdpbnB1dC5wb2RzLWZvcm0tdWktZmllbGQtdHlwZS1waWNrJ1xyXG5cdH0sXHJcblxyXG5cdHRyaWdnZXJzOiB7XHJcblx0XHQnY2xpY2sgQHVpLmNoZWNrYm94JzogJ3RvZ2dsZTpzZWxlY3RlZCdcclxuXHR9LFxyXG5cclxuXHRtb2RlbEV2ZW50czoge1xyXG5cdFx0J2NoYW5nZSc6ICdtb2RlbENoYW5nZWQnXHJcblx0fSxcclxuXHJcblx0dGVtcGxhdGVDb250ZXh0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRvcmRpbmFsOiB0aGlzLm1vZGVsLmNvbGxlY3Rpb24uaW5kZXhPZiggdGhpcy5tb2RlbCApXHJcblx0XHR9O1xyXG5cdH0sXHJcblxyXG5cdG1vZGVsQ2hhbmdlZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy5yZW5kZXIoKTtcclxuXHR9XHJcbn0gKTtcclxuXHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IENoZWNrYm94VmlldyA9IFBvZHNGaWVsZExpc3RWaWV3LmV4dGVuZCgge1xyXG5cdGNoaWxkVmlld0V2ZW50UHJlZml4OiBmYWxzZSwgLy8gRGlzYWJsZSBpbXBsaWNpdCBldmVudCBsaXN0ZW5lcnMgaW4gZmF2b3Igb2YgZXhwbGljaXQgY2hpbGRWaWV3VHJpZ2dlcnMgYW5kIGNoaWxkVmlld0V2ZW50c1xyXG5cclxuXHR0YWdOYW1lOiAndWwnLFxyXG5cclxuXHRjbGFzc05hbWU6ICdwb2RzLWNoZWNrYm94LXZpZXcnLFxyXG5cclxuXHRjaGlsZFZpZXc6IENoZWNrYm94SXRlbSxcclxuXHJcblx0Y2hpbGRWaWV3RXZlbnRzOiB7XHJcblx0XHQndG9nZ2xlOnNlbGVjdGVkJzogJ29uQ2hpbGR2aWV3VG9nZ2xlU2VsZWN0ZWQnXHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKi9cclxuXHRvbkF0dGFjaDogZnVuY3Rpb24gKCkge1xyXG5cclxuXHRcdC8vIENoZWNrIGluaXRpYWwgc2VsZWN0aW9uIGxpbWl0IHN0YXR1cyBhbmQgZW5mb3JjZSBpdCBpZiBuZWVkZWRcclxuXHRcdGlmICggIXRoaXMudmFsaWRhdGVTZWxlY3Rpb25MaW1pdCgpICkge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGlvbkxpbWl0T3ZlcigpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIGNoaWxkVmlld1xyXG5cdCAqL1xyXG5cdG9uQ2hpbGR2aWV3VG9nZ2xlU2VsZWN0ZWQ6IGZ1bmN0aW9uICggY2hpbGRWaWV3ICkge1xyXG5cclxuXHRcdGNoaWxkVmlldy5tb2RlbC50b2dnbGVTZWxlY3RlZCgpO1xyXG5cclxuXHRcdC8vIER5bmFtaWNhbGx5IGVuZm9yY2Ugc2VsZWN0aW9uIGxpbWl0XHJcblx0XHRpZiAoIHRoaXMudmFsaWRhdGVTZWxlY3Rpb25MaW1pdCgpICkge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGlvbkxpbWl0VW5kZXIoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMuc2VsZWN0aW9uTGltaXRPdmVyKCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdW5saW1pdGVkIHNlbGVjdGlvbnMgYXJlIGFsbG93ZWQgb3Igd2UncmUgYmVsb3cgdGhlIHNlbGVjdGlvbiBsaW1pdFxyXG5cdCAqL1xyXG5cdHZhbGlkYXRlU2VsZWN0aW9uTGltaXQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGNvbnN0IGZpZWxkQ29uZmlnID0gdGhpcy5maWVsZE1vZGVsLmdldCggJ2ZpZWxkQ29uZmlnJyApO1xyXG5cdFx0bGV0IGxpbWl0LCBudW1TZWxlY3RlZDtcclxuXHJcblx0XHRsaW1pdCA9ICtmaWVsZENvbmZpZy5waWNrX2xpbWl0OyAgLy8gVW5hcnkgcGx1cyB3aWxsIGltcGxpY2l0bHkgY2FzdCB0byBudW1iZXJcclxuXHRcdG51bVNlbGVjdGVkID0gdGhpcy5jb2xsZWN0aW9uLmZpbHRlckJ5U2VsZWN0ZWQoKS5sZW5ndGg7XHJcblxyXG5cdFx0cmV0dXJuIDAgPT09IGxpbWl0IHx8IG51bVNlbGVjdGVkIDwgbGltaXQ7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKi9cclxuXHRzZWxlY3Rpb25MaW1pdE92ZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMuJGVsLmZpbmQoICdpbnB1dDpjaGVja2JveDpub3QoOmNoZWNrZWQpJyApLnByb3AoICdkaXNhYmxlZCcsIHRydWUgKTtcclxuXHRcdHRoaXMudHJpZ2dlciggJ3NlbGVjdGlvbjpsaW1pdDpvdmVyJywgdGhpcyApO1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICovXHJcblx0c2VsZWN0aW9uTGltaXRVbmRlcjogZnVuY3Rpb24gKCkge1xyXG5cdFx0dGhpcy4kZWwuZmluZCggJ2lucHV0OmNoZWNrYm94JyApLnByb3AoICdkaXNhYmxlZCcsIGZhbHNlICk7XHJcblx0XHR0aGlzLnRyaWdnZXIoICdzZWxlY3Rpb246bGltaXQ6dW5kZXInLCB0aGlzICk7XHJcblx0fVxyXG5cclxufSApO1xyXG4iLCIvKmdsb2JhbCBqUXVlcnksIF8sIEJhY2tib25lLCBQb2RzTW4sIHdwICovXHJcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svdmlld3MvbGlzdC1pdGVtLmh0bWwnO1xyXG5cclxuaW1wb3J0IHsgUG9kc0ZpZWxkTGlzdFZpZXcsIFBvZHNGaWVsZFZpZXcgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9wb2RzLWZpZWxkLXZpZXdzJztcclxuXHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IExpc3RJdGVtID0gUG9kc0ZpZWxkVmlldy5leHRlbmQoIHtcclxuXHRjaGlsZFZpZXdFdmVudFByZWZpeDogZmFsc2UsIC8vIERpc2FibGUgaW1wbGljaXQgZXZlbnQgbGlzdGVuZXJzIGluIGZhdm9yIG9mIGV4cGxpY2l0IGNoaWxkVmlld1RyaWdnZXJzIGFuZCBjaGlsZFZpZXdFdmVudHNcclxuXHJcblx0dGFnTmFtZTogJ2xpJyxcclxuXHJcblx0Y2xhc3NOYW1lOiAncG9kcy1kZnYtbGlzdC1pdGVtIHBvZHMtcmVsYXRpb25zaGlwJyxcclxuXHJcblx0dGVtcGxhdGU6IF8udGVtcGxhdGUoIHRlbXBsYXRlICksXHJcblxyXG5cdHVpOiB7XHJcblx0XHRyZW1vdmVCdXR0b246ICcucG9kcy1kZnYtbGlzdC1yZW1vdmUgYScsXHJcblx0XHRlZGl0QnV0dG9uOiAnLnBvZHMtZGZ2LWxpc3QtZWRpdCBhJ1xyXG5cdH0sXHJcblxyXG5cdHRyaWdnZXJzOiB7XHJcblx0XHQnY2xpY2sgQHVpLnJlbW92ZUJ1dHRvbic6ICdyZW1vdmU6aXRlbTpjbGljaycsXHJcblx0XHQnY2xpY2sgQHVpLmVkaXRCdXR0b24nOiAnZWRpdDppdGVtOmNsaWNrJ1xyXG5cdH0sXHJcblxyXG5cdHRlbXBsYXRlQ29udGV4dDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0b3JkaW5hbDogdGhpcy5tb2RlbC5jb2xsZWN0aW9uLmluZGV4T2YoIHRoaXMubW9kZWwgKVxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG59ICk7XHJcblxyXG4vKipcclxuICogIFJlcHJlc2VudHMgdGhlIG1hcmt1cCBvZiB0aGUgY29udGFpbmVyIGFzIGEgd2hvbGVcclxuICovXHJcbmV4cG9ydCBjb25zdCBMaXN0VmlldyA9IFBvZHNGaWVsZExpc3RWaWV3LmV4dGVuZCgge1x0Ly8gQ2FjaGUgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uIGZvciB0aGUgb3ZlcmFsbCBjb250YWluZXJcclxuXHRjaGlsZFZpZXdFdmVudFByZWZpeDogZmFsc2UsIC8vIERpc2FibGUgaW1wbGljaXQgZXZlbnQgbGlzdGVuZXJzIGluIGZhdm9yIG9mIGV4cGxpY2l0IGNoaWxkVmlld1RyaWdnZXJzIGFuZCBjaGlsZFZpZXdFdmVudHNcclxuXHJcblx0dGFnTmFtZTogJ3VsJyxcclxuXHJcblx0Y2xhc3NOYW1lOiAncG9kcy1kZnYtbGlzdCBwb2RzLXJlbGF0aW9uc2hpcCcsXHJcblxyXG5cdGNoaWxkVmlldzogTGlzdEl0ZW0sXHJcblxyXG5cdC8vIFBhc3MgdGhlc2UgdXAgdGhlIGNvbnRhaW5tZW50IGNoYWluXHJcblx0Y2hpbGRWaWV3VHJpZ2dlcnM6IHtcclxuXHRcdCdyZW1vdmU6aXRlbTpjbGljayc6ICdjaGlsZHZpZXc6cmVtb3ZlOml0ZW06Y2xpY2snLFxyXG5cdFx0J2VkaXQ6aXRlbTpjbGljayc6ICdjaGlsZHZpZXc6ZWRpdDppdGVtOmNsaWNrJ1xyXG5cdH0sXHJcblxyXG5cdGZpbHRlcjogZnVuY3Rpb24gKCBjaGlsZCwgaW5kZXgsIGNvbGxlY3Rpb24gKSB7XHJcblx0XHRyZXR1cm4gY2hpbGQuYXR0cmlidXRlcy5zZWxlY3RlZDtcclxuXHR9LFxyXG5cclxuXHRvbkF0dGFjaDogZnVuY3Rpb24gKCkge1xyXG5cdFx0Y29uc3QgZmllbGRDb25maWcgPSB0aGlzLm9wdGlvbnMuZmllbGRNb2RlbC5nZXQoICdmaWVsZENvbmZpZycgKTtcclxuXHJcblx0XHQvLyBAdG9kb1xyXG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNzM1MzcyL2pxdWVyeS1zb3J0YWJsZS1saXN0LXNjcm9sbC1iYXItanVtcHMtdXAtd2hlbi1zb3J0aW5nLzQxODc4MzMjNDE4NzgzM1xyXG5cclxuXHRcdGlmICggMSAhPT0gZmllbGRDb25maWdbICdwaWNrX2xpbWl0JyBdICkge1xyXG5cdFx0XHQvLyBpbml0IHNvcnRhYmxlXHJcblx0XHRcdHRoaXMuJGVsLnNvcnRhYmxlKCB7XHJcblx0XHRcdFx0Y29udGFpbm1lbnQ6ICdwYXJlbnQnLFxyXG5cdFx0XHRcdGF4aXM6ICd5JyxcclxuXHRcdFx0XHRzY3JvbGxTZW5zaXRpdml0eTogNDAsXHJcblx0XHRcdFx0dG9sZXJhbmNlOiAncG9pbnRlcicsXHJcblx0XHRcdFx0b3BhY2l0eTogMC42XHJcblx0XHRcdH0gKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG59ICk7XHJcbiIsIi8qZ2xvYmFsIGpRdWVyeSwgXywgQmFja2JvbmUsIFBvZHNNbiwgd3AgKi9cclxuaW1wb3J0IHRlbXBsYXRlIGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZHMvcGljay92aWV3cy9yYWRpby1pdGVtLmh0bWwnO1xyXG5cclxuaW1wb3J0IHsgUG9kc0ZpZWxkTGlzdFZpZXcsIFBvZHNGaWVsZFZpZXcgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9wb2RzLWZpZWxkLXZpZXdzJztcclxuXHJcbi8qKlxyXG4gKlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFJhZGlvSXRlbSA9IFBvZHNGaWVsZFZpZXcuZXh0ZW5kKCB7XHJcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXHJcblxyXG5cdHRhZ05hbWU6ICdsaScsXHJcblxyXG5cdHRlbXBsYXRlOiBfLnRlbXBsYXRlKCB0ZW1wbGF0ZSApLFxyXG5cclxuXHR0ZW1wbGF0ZUNvbnRleHQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG9yZGluYWw6IHRoaXMubW9kZWwuY29sbGVjdGlvbi5pbmRleE9mKCB0aGlzLm1vZGVsICkgKyAxIC8vIE9uZSBiYXNlZCBpbmRleGluZyB1bmxpa2UgY2hlY2tib3hlc1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cclxuXHRtb2RlbENoYW5nZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdHRoaXMucmVuZGVyKCk7XHJcblx0fVxyXG5cclxufSApO1xyXG5cclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgUmFkaW9WaWV3ID0gUG9kc0ZpZWxkTGlzdFZpZXcuZXh0ZW5kKCB7XHJcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXHJcblxyXG5cdHRhZ05hbWU6ICd1bCcsXHJcblxyXG5cdGNsYXNzTmFtZTogJ3BvZHMtcmFkaW8nLFxyXG5cclxuXHRjaGlsZFZpZXc6IFJhZGlvSXRlbVxyXG59ICk7XHJcbiIsIi8qZ2xvYmFsIGpRdWVyeSwgXywgQmFja2JvbmUsIFBvZHNNbiwgc2VsZWN0Miwgc3ByaW50Ziwgd3AsIGFqYXh1cmwsIFBvZHNJMThuICovXHJcblxyXG4vLyBOb3RlOiB0aGlzIGlzIGEgdGVtcGxhdGUtbGVzcyB2aWV3XHJcbmltcG9ydCB7IFBvZHNGaWVsZExpc3RWaWV3LCBQb2RzRmllbGRWaWV3IH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvcG9kcy1maWVsZC12aWV3cyc7XHJcbmltcG9ydCB7IFJlbGF0aW9uc2hpcENvbGxlY3Rpb24gfSBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svcmVsYXRpb25zaGlwLW1vZGVsJztcclxuXHJcbmNvbnN0IFNFTEVDVDJfVUxfVEFSR0VUID0gJ3VsLnNlbGVjdDItc2VsZWN0aW9uX19yZW5kZXJlZCc7XHJcbmNvbnN0IFNFTEVDVDJfU0VMRUNURURfVEFSR0VUID0gJy5zZWxlY3QyLXNlbGVjdGlvbl9fY2hvaWNlJztcclxuXHJcbi8qKlxyXG4gKiBvcHRpb25cclxuICpcclxuICogQGV4dGVuZHMgQmFja2JvbmUuVmlld1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFNlbGVjdEl0ZW0gPSBQb2RzRmllbGRWaWV3LmV4dGVuZCgge1xyXG5cdGNoaWxkVmlld0V2ZW50UHJlZml4OiBmYWxzZSwgLy8gRGlzYWJsZSBpbXBsaWNpdCBldmVudCBsaXN0ZW5lcnMgaW4gZmF2b3Igb2YgZXhwbGljaXQgY2hpbGRWaWV3VHJpZ2dlcnMgYW5kIGNoaWxkVmlld0V2ZW50c1xyXG5cclxuXHR0YWdOYW1lOiAnb3B0aW9uJyxcclxuXHJcblx0dGVtcGxhdGU6IGZhbHNlLFxyXG5cclxuXHRpbml0aWFsaXplOiBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XHJcblx0XHR0aGlzLiRlbC52YWwoIHRoaXMubW9kZWwuZ2V0KCAnaWQnICkgKTtcclxuXHJcblx0XHR0aGlzLiRlbC5odG1sKCB0aGlzLm1vZGVsLmdldCggJ25hbWUnICkgKTtcclxuXHJcblx0XHRpZiAoIHRoaXMubW9kZWwuZ2V0KCAnc2VsZWN0ZWQnICkgKSB7XHJcblx0XHRcdHRoaXMuJGVsLnByb3AoICdzZWxlY3RlZCcsICdzZWxlY3RlZCcgKTtcclxuXHRcdH1cclxuXHR9XHJcbn0gKTtcclxuXHJcbi8qKlxyXG4gKiBvcHRncm91cFxyXG4gKlxyXG4gKiBAZXh0ZW5kcyBCYWNrYm9uZS5WaWV3XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgT3B0Z3JvdXAgPSBQb2RzRmllbGRMaXN0Vmlldy5leHRlbmQoIHtcclxuXHRjaGlsZFZpZXdFdmVudFByZWZpeDogZmFsc2UsIC8vIERpc2FibGUgaW1wbGljaXQgZXZlbnQgbGlzdGVuZXJzIGluIGZhdm9yIG9mIGV4cGxpY2l0IGNoaWxkVmlld1RyaWdnZXJzIGFuZCBjaGlsZFZpZXdFdmVudHNcclxuXHJcblx0dGFnTmFtZTogJ29wdGdyb3VwJyxcclxuXHJcblx0Y2hpbGRWaWV3OiBTZWxlY3RJdGVtLFxyXG5cclxuXHRhdHRyaWJ1dGVzOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRsYWJlbDogdGhpcy5tb2RlbC5nZXQoICdsYWJlbCcgKVxyXG5cdFx0fTtcclxuXHR9XHJcbn0gKTtcclxuXHJcbi8qKlxyXG4gKiBzZWxlY3RcclxuICpcclxuICogQGV4dGVuZHMgQmFja2JvbmUuVmlld1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFNlbGVjdFZpZXcgPSBQb2RzTW4uQ29sbGVjdGlvblZpZXcuZXh0ZW5kKCB7XHJcblx0Y2hpbGRWaWV3RXZlbnRQcmVmaXg6IGZhbHNlLCAvLyBEaXNhYmxlIGltcGxpY2l0IGV2ZW50IGxpc3RlbmVycyBpbiBmYXZvciBvZiBleHBsaWNpdCBjaGlsZFZpZXdUcmlnZ2VycyBhbmQgY2hpbGRWaWV3RXZlbnRzXHJcblxyXG5cdHRhZ05hbWU6ICdzZWxlY3QnLFxyXG5cclxuXHR0cmlnZ2Vyczoge1xyXG5cdFx0J2NoYW5nZSc6IHtcclxuXHRcdFx0ZXZlbnQ6ICdjaGFuZ2U6c2VsZWN0ZWQnLFxyXG5cdFx0XHRzdG9wUHJvcGFnYXRpb246IGZhbHNlXHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0bXVsdGlMYXN0VmFsaWRTZWxlY3Rpb246IFtdLFxyXG5cclxuXHQvKipcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBuZXdDb2xsZWN0aW9uXHJcblx0ICovXHJcblx0c2V0Q29sbGVjdGlvbjogZnVuY3Rpb24gKCBuZXdDb2xsZWN0aW9uICkge1xyXG5cdFx0dGhpcy5jb2xsZWN0aW9uID0gbmV3Q29sbGVjdGlvbjtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBvcHRpb25zXHJcblx0ICovXHJcblx0aW5pdGlhbGl6ZTogZnVuY3Rpb24gKCBvcHRpb25zICkge1xyXG5cdFx0dGhpcy5maWVsZE1vZGVsID0gb3B0aW9ucy5maWVsZE1vZGVsO1xyXG5cdFx0dGhpcy5maWVsZENvbmZpZyA9IHRoaXMuZmllbGRNb2RlbC5nZXQoICdmaWVsZENvbmZpZycgKTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKiBTZXQgdGhlIHByb3BlciBjaGlsZCB2aWV3IChvcHRncm91cHMgb3Igbm8pXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gaXRlbVxyXG5cdCAqIEByZXR1cm5zIHsqfVxyXG5cdCAqL1xyXG5cdGNoaWxkVmlldzogZnVuY3Rpb24gKCBpdGVtICkge1xyXG5cdFx0aWYgKCB0aGlzLmZpZWxkQ29uZmlnLm9wdGdyb3VwICkge1xyXG5cdFx0XHRyZXR1cm4gT3B0Z3JvdXA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gU2VsZWN0SXRlbTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKiB0b2RvOiBXZSdyZSBieXBhc3NpbmcgdGhlIFBvZHNGaWVsZExpc3RWaWV3IGZ1bmN0aW9uYWxpdHksIG5lZWQgdG8gZXhwbGljaXRseSBpbmNsdWRlIGl0IGZvciBub3dcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBtb2RlbFxyXG5cdCAqIEBwYXJhbSBpbmRleFxyXG5cdCAqIEByZXR1cm5zIHt7ZmllbGRNb2RlbDogKn19XHJcblx0ICovXHJcblx0Y2hpbGRWaWV3T3B0aW9uczogZnVuY3Rpb24gKCBtb2RlbCwgaW5kZXggKSB7XHJcblx0XHRsZXQgcmV0dXJuT3B0aW9ucyA9IHsgZmllbGRNb2RlbDogdGhpcy5maWVsZE1vZGVsIH07XHJcblxyXG5cdFx0aWYgKCB0aGlzLmZpZWxkQ29uZmlnLm9wdGdyb3VwICkge1xyXG5cdFx0XHRyZXR1cm5PcHRpb25zLmNvbGxlY3Rpb24gPSBuZXcgUmVsYXRpb25zaGlwQ29sbGVjdGlvbiggbW9kZWwuZ2V0KCAnY29sbGVjdGlvbicgKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXR1cm5PcHRpb25zO1xyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqIHRvZG86IFdlJ3JlIGJ5cGFzc2luZyB0aGUgUG9kc0ZpZWxkTGlzdFZpZXcgZnVuY3Rpb25hbGl0eSwgbmVlZCB0byBleHBsaWNpdGx5IGluY2x1ZGUgaXQgZm9yIG5vd1xyXG5cdCAqXHJcblx0ICogQHJldHVybnMge3t9fVxyXG5cdCAqL1xyXG5cdHNlcmlhbGl6ZURhdGE6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGNvbnN0IGZpZWxkTW9kZWwgPSB0aGlzLm9wdGlvbnMuZmllbGRNb2RlbDtcclxuXHRcdGxldCBkYXRhID0gdGhpcy5tb2RlbCA/IHRoaXMubW9kZWwudG9KU09OKCkgOiB7fTtcclxuXHJcblx0XHRkYXRhLmh0bWxBdHRyID0gZmllbGRNb2RlbC5nZXQoICdhdHRyaWJ1dGVzJyApO1xyXG5cdFx0ZGF0YS5maWVsZENvbmZpZyA9IGZpZWxkTW9kZWwuZ2V0KCAnZmllbGRDb25maWcnICk7XHJcblxyXG5cdFx0cmV0dXJuIGRhdGE7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKi9cclxuXHRhdHRyaWJ1dGVzOiBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbEF0dHIubmFtZVxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxBdHRyLmNsYXNzXHJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbEF0dHIubmFtZV9jbGVhblxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxBdHRyLmlkXHJcblx0XHQgKlxyXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkQ29uZmlnLnBpY2tfZm9ybWF0X3R5cGUgJ3NpbmdsZScgb3IgJ211bHRpJ1xyXG5cdFx0ICovXHJcblx0XHRjb25zdCBmaWVsZE1vZGVsID0gdGhpcy5vcHRpb25zLmZpZWxkTW9kZWw7XHJcblx0XHRjb25zdCBodG1sQXR0ciA9IGZpZWxkTW9kZWwuZ2V0KCAnaHRtbEF0dHInICk7XHJcblx0XHRjb25zdCBmaWVsZENvbmZpZyA9IGZpZWxkTW9kZWwuZ2V0KCAnZmllbGRDb25maWcnICk7XHJcblxyXG5cdFx0bGV0IG5hbWUgPSBodG1sQXR0ci5uYW1lO1xyXG5cdFx0aWYgKCAnbXVsdGknID09PSBmaWVsZENvbmZpZy5waWNrX2Zvcm1hdF90eXBlICkge1xyXG5cdFx0XHRuYW1lID0gbmFtZSArICdbXSc7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHQnbmFtZSc6IG5hbWUsXHJcblx0XHRcdCdjbGFzcyc6IGh0bWxBdHRyLmNsYXNzLFxyXG5cdFx0XHQnZGF0YS1uYW1lLWNsZWFuJzogaHRtbEF0dHIubmFtZV9jbGVhbixcclxuXHRcdFx0J2lkJzogaHRtbEF0dHIuaWQsXHJcblx0XHRcdCd0YWJpbmRleCc6ICcyJyxcclxuXHRcdFx0J211bHRpcGxlJzogKCAnbXVsdGknID09PSBmaWVsZENvbmZpZy5waWNrX2Zvcm1hdF90eXBlIClcclxuXHRcdH07XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICogU2V0dXAgdG8gYmUgZG9uZSBvbmNlIGF0dGFjaGVkIHRvIHRoZSBET00uICBTZWxlY3QyIGhhcyBzb21lIHNldHVwIG5lZWRzLlxyXG5cdCAqXHJcblx0ICogQHZhciB7UmVsYXRpb25zaGlwQ29sbGVjdGlvbn0gdGhpcy5jb2xsZWN0aW9uXHJcblx0ICovXHJcblx0b25BdHRhY2g6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGNvbnN0IHZpZXdfbmFtZSA9IHRoaXMuZmllbGRDb25maWcudmlld19uYW1lO1xyXG5cdFx0Y29uc3QgZm9ybWF0X3R5cGUgPSB0aGlzLmZpZWxkQ29uZmlnLnBpY2tfZm9ybWF0X3R5cGU7XHJcblxyXG5cdFx0Ly8gSW5pdGlhbGl6ZSBzZWxlY3QyIGZpZWxkc1xyXG5cdFx0aWYgKCAnc2VsZWN0MicgPT09IHZpZXdfbmFtZSApIHtcclxuXHRcdFx0dGhpcy5zZXR1cFNlbGVjdDIoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDaGVjayBpbml0aWFsIHNlbGVjdGlvbiBsaW1pdCBzdGF0dXMgZm9yIHJlZ3VsYXIgbXVsdGlzZWxlY3QgYW5kIGVuZm9yY2UgaXQgaWYgbmVlZGVkXHJcblx0XHRpZiAoICdzZWxlY3QnID09PSB2aWV3X25hbWUgJiYgJ211bHRpJyA9PT0gZm9ybWF0X3R5cGUgKSB7XHJcblxyXG5cdFx0XHQvLyBTdG9yZSBpbml0aWFsIHNlbGVjdGlvbiBpbiBjYXNlIHdlIG5lZWQgdG8gcmV2ZXJ0IGJhY2sgZnJvbSBhbiBpbnZhbGlkIHN0YXRlXHJcblx0XHRcdHRoaXMubXVsdGlMYXN0VmFsaWRTZWxlY3Rpb24gPSB0aGlzLiRlbC52YWwoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBJZiB3ZSdyZSBhdCB0aGUgbGltaXQ6IGRpc2FibGUgYWxsIHVuc2VsZWN0ZWQgaXRlbXMgc28gbm8gc2VsZWN0aW9ucyBjYW4gYmUgYWRkZWRcclxuXHRcdGlmICggIXRoaXMudmFsaWRhdGVTZWxlY3Rpb25MaW1pdCgpICkge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGlvbkxpbWl0T3ZlcigpO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdC8qKlxyXG5cdCAqIEB2YXIge1JlbGF0aW9uc2hpcENvbGxlY3Rpb259IHRoaXMuY29sbGVjdGlvblxyXG5cdCAqL1xyXG5cdG9uQ2hhbmdlU2VsZWN0ZWQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGNvbnN0IGxpbWl0ID0gK3RoaXMuZmllbGRDb25maWcucGlja19saW1pdDsgLy8gVW5hcnkgcGx1cyB3aWxsIGltcGxpY2l0bHkgY2FzdCB0byBudW1iZXJcclxuXHRcdGNvbnN0IHZpZXdfbmFtZSA9IHRoaXMuZmllbGRDb25maWcudmlld19uYW1lO1xyXG5cdFx0Y29uc3QgZm9ybWF0X3R5cGUgPSB0aGlzLmZpZWxkQ29uZmlnLnBpY2tfZm9ybWF0X3R5cGU7XHJcblxyXG5cdFx0Ly8gUmVndWxhciBtdWx0aXNlbGVjdCBtYXkgbmVlZCB0byByZWplY3QgdGhlIHNlbGVjdGlvbiBjaGFuZ2VcclxuXHRcdGlmICggJ3NlbGVjdCcgPT09IHZpZXdfbmFtZSAmJiAnbXVsdGknID09PSBmb3JtYXRfdHlwZSApIHtcclxuXHJcblx0XHRcdC8vIEhhcyB0aGUgc2VsZWN0aW9uIGdvbmUgT1ZFUiB0aGUgbGltaXQ/ICBDYW4gb2NjdXIgd2l0aCBjb25zZWN1dGl2ZSBpdGVtIHNlbGVjdGlvbi5cclxuXHRcdFx0aWYgKCBudWxsICE9PSB0aGlzLiRlbC52YWwoKSAmJiAwICE9PSBsaW1pdCAmJiBsaW1pdCA8IHRoaXMuJGVsLnZhbCgpLmxlbmd0aCApIHtcclxuXHJcblx0XHRcdFx0Ly8gUmV2ZXJ0IHRvIHRoZSBsYXN0IHZhbGlkIHNlbGVjdGlvbiBhbmQgcHVudCBvbiB3aGF0IHRoZXkgYXR0ZW1wdGVkXHJcblx0XHRcdFx0dGhpcy4kZWwudmFsKCB0aGlzLm11bHRpTGFzdFZhbGlkU2VsZWN0aW9uICk7XHJcblx0XHRcdFx0d2luZG93LmFsZXJ0KCBgJHtQb2RzSTE4bi5fXyggJ1lvdSBjYW4gb25seSBzZWxlY3QnICl9ICR7c3ByaW50ZiggUG9kc0kxOG4uX24oICclcyBpdGVtJywgJyVzIGl0ZW1zJywgbGltaXQgKSwgbGltaXQgKX1gICk7XHJcblx0XHRcdFx0dGhpcy50cmlnZ2VyKCAnY2hpbGR2aWV3OmNoYW5nZTpzZWxlY3RlZCcsIHRoaXMgKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBVcGRhdGUgdGhlIGNvbGxlY3Rpb24gYW5kIGxhc3QgdmFsaWQgc2VsZWN0aW9uIGJhc2VkIG9uIHRoZSBuZXcgc2VsZWN0aW9uc1xyXG5cdFx0dGhpcy5jb2xsZWN0aW9uLnNldFNlbGVjdGVkKCB0aGlzLiRlbC52YWwoKSApO1xyXG5cdFx0dGhpcy5tdWx0aUxhc3RWYWxpZFNlbGVjdGlvbiA9IHRoaXMuJGVsLnZhbCgpO1xyXG5cclxuXHRcdC8vIER5bmFtaWNhbGx5IGVuZm9yY2Ugc2VsZWN0aW9uIGxpbWl0c1xyXG5cdFx0aWYgKCB0aGlzLnZhbGlkYXRlU2VsZWN0aW9uTGltaXQoKSApIHtcclxuXHRcdFx0dGhpcy5zZWxlY3Rpb25MaW1pdFVuZGVyKCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLnNlbGVjdGlvbkxpbWl0T3ZlcigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMudHJpZ2dlciggJ2NoaWxkdmlldzpjaGFuZ2U6c2VsZWN0ZWQnLCB0aGlzICk7XHJcblx0fSxcclxuXHJcblx0b25CZWZvcmVEZXRhY2g6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dGhpcy4kZWwuc2VsZWN0V29vKCAnZGVzdHJveScgKTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKlxyXG5cdCAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHVubGltaXRlZCBzZWxlY3Rpb25zIGFyZSBhbGxvd2VkIG9yIHdlJ3JlIGJlbG93IHRoZSBzZWxlY3Rpb24gbGltaXRcclxuXHQgKi9cclxuXHR2YWxpZGF0ZVNlbGVjdGlvbkxpbWl0OiBmdW5jdGlvbiAoKSB7XHJcblx0XHRsZXQgbGltaXQsIG51bVNlbGVjdGVkO1xyXG5cdFx0Y29uc3QgZm9ybWF0X3R5cGUgPSB0aGlzLmZpZWxkQ29uZmlnLnBpY2tfZm9ybWF0X3R5cGU7XHJcblx0XHRjb25zdCBmb3JtYXRfc2luZ2xlID0gdGhpcy5maWVsZENvbmZpZy5waWNrX2Zvcm1hdF9zaW5nbGU7XHJcblxyXG5cdFx0Ly8gU2VsZWN0aW9uIGxpbWl0IHNob3VsZCBiZSBjbGVhciBpZiB0aGUgcGxhY2Vob2xkZXIgaXMgc2VsZWN0ZWQgaW4gYSBzaW5nbGUtc2VsZWN0IGRyb3Bkb3duXHJcblx0XHRpZiAoIFwiXCIgPT09IHRoaXMuJGVsLnZhbCgpICYmIFwic2luZ2xlXCIgPT09IGZvcm1hdF90eXBlICYmIFwiZHJvcGRvd25cIiA9PT0gZm9ybWF0X3NpbmdsZSApIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0bGltaXQgPSArdGhpcy5maWVsZENvbmZpZy5waWNrX2xpbWl0OyAgLy8gVW5hcnkgcGx1cyB3aWxsIGltcGxpY2l0bHkgY2FzdCB0byBudW1iZXJcclxuXHRcdG51bVNlbGVjdGVkID0gdGhpcy5jb2xsZWN0aW9uLmZpbHRlckJ5U2VsZWN0ZWQoKS5sZW5ndGg7XHJcblxyXG5cdFx0cmV0dXJuIDAgPT09IGxpbWl0IHx8IG51bVNlbGVjdGVkIDwgbGltaXQ7XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKi9cclxuXHRzZWxlY3Rpb25MaW1pdE92ZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGNvbnN0IHZpZXdOYW1lID0gdGhpcy5maWVsZENvbmZpZy52aWV3X25hbWU7XHJcblx0XHRjb25zdCBmb3JtYXRUeXBlID0gdGhpcy5maWVsZENvbmZpZy5waWNrX2Zvcm1hdF90eXBlO1xyXG5cclxuXHRcdGlmICggJ3NlbGVjdCcgPT09IHZpZXdOYW1lICYmICdtdWx0aScgPT09IGZvcm1hdFR5cGUgKSB7XHJcblx0XHRcdC8vIEF0IHRoZSBsaW1pdDogZGlzYWJsZSBhbGwgdW5zZWxlY3RlZCBpdGVtcyBzbyBubyBmdXJ0aGVyIHNlbGVjdGlvbnMgY2FuIGJlIGFkZGVkXHJcblx0XHRcdHRoaXMuJGVsLmZpbmQoICdvcHRpb246bm90KDpzZWxlY3RlZCknICkucHJvcCggJ2Rpc2FibGVkJywgdHJ1ZSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMudHJpZ2dlciggJ2NoaWxkdmlldzpzZWxlY3Rpb246bGltaXQ6b3ZlcicsIHRoaXMgKTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKlxyXG5cdCAqL1xyXG5cdHNlbGVjdGlvbkxpbWl0VW5kZXI6IGZ1bmN0aW9uICgpIHtcclxuXHRcdGNvbnN0IHZpZXdOYW1lID0gdGhpcy5maWVsZENvbmZpZy52aWV3X25hbWU7XHJcblx0XHRjb25zdCBmb3JtYXRUeXBlID0gdGhpcy5maWVsZENvbmZpZy5waWNrX2Zvcm1hdF90eXBlO1xyXG5cclxuXHRcdGlmICggJ3NlbGVjdCcgPT09IHZpZXdOYW1lICYmICdtdWx0aScgPT09IGZvcm1hdFR5cGUgKSB7XHJcblx0XHRcdC8vIE5vdCBhdCBsaW1pdCwgbWFrZSBzdXJlIGFsbCBpdGVtcyBhcmUgZW5hYmxlZFxyXG5cdFx0XHR0aGlzLiRlbC5maW5kKCAnb3B0aW9uJyApLnByb3AoICdkaXNhYmxlZCcsIGZhbHNlICk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy50cmlnZ2VyKCAnY2hpbGR2aWV3OnNlbGVjdGlvbjpsaW1pdDp1bmRlcicsIHRoaXMgKTtcclxuXHR9LFxyXG5cclxuXHQvKipcclxuXHQgKiBObyBmaWx0ZXJpbmcsIGJ5IGRlZmF1bHQuICBDb25zdW1pbmcgdmlld3MgY2FuIG92ZXJyaWRlIHRoaXMgZnVuY3Rpb24gdG8gcHJvdmlkZSBjdXN0b20gZmlsdGVyaW5nXHJcblx0ICogKGUuZy4gTGlzdCBWaWV3IG5lZWRzIHRvIGZpbHRlciBpdGVtcyBhbHJlYWR5IHNlbGVjdGVkIGZvciBpdHMgc2VsZWN0IGZyb20gZXhpc3RpbmcgbGlzdClcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSBkYXRhXHJcblx0ICovXHJcblx0ZmlsdGVyQWpheExpc3Q6IGZ1bmN0aW9uICggZGF0YSApIHtcclxuXHRcdGNvbnN0IHNlbGVjdGVkSXRlbXMgPSB0aGlzLmNvbGxlY3Rpb24uZmlsdGVyQnlTZWxlY3RlZCgpO1xyXG5cdFx0Y29uc3QgcmV0dXJuTGlzdCA9IFtdO1xyXG5cclxuXHRcdF8uZWFjaCggZGF0YS5yZXN1bHRzLCBmdW5jdGlvbiAoIGVsZW1lbnQgKSB7XHJcblx0XHRcdGVsZW1lbnQudGV4dCA9IGVsZW1lbnQubmFtZTsgLy8gU2VsZWN0MiBuZWVkcyB0aGUgXCJ0ZXh0XCIga2V5IGJ1dCBvdXIgbW9kZWwgdXNlcyBcIm5hbWVcIlxyXG5cclxuXHRcdFx0Ly8gT25seSBrZWVwIGNob2ljZXMgdGhhdCBoYXZlbid0IGJlZW4gc2VsZWN0ZWQgeWV0LCB3ZSBkb24ndCB3YW50IHNlbGVjdGVkIGl0ZW1zIGluIHRoZSBhdXRvY29tcGxldGUgcG9ydGlvblxyXG5cdFx0XHRpZiAoICFzZWxlY3RlZEl0ZW1zLmdldCggZWxlbWVudC5pZCApICkge1xyXG5cdFx0XHRcdHJldHVybkxpc3QucHVzaCggZWxlbWVudCApO1xyXG5cdFx0XHR9XHJcblx0XHR9ICk7XHJcblxyXG5cdFx0cmV0dXJuIHsgJ3Jlc3VsdHMnOiByZXR1cm5MaXN0IH07XHJcblx0fSxcclxuXHJcblx0LyoqXHJcblx0ICogSW5pdGlhbGl6ZSBTZWxlY3QyLCBzZXR1cCBkcmFnLWRyb3AgcmVvcmRlcmluZ1xyXG5cdCAqL1xyXG5cdHNldHVwU2VsZWN0MjogZnVuY3Rpb24gKCkge1xyXG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XHJcblx0XHRjb25zdCAkc2VsZWN0MiA9IHRoaXMuJGVsO1xyXG5cdFx0Y29uc3QgZmllbGRDb25maWcgPSB0aGlzLm9wdGlvbnMuZmllbGRNb2RlbC5nZXQoICdmaWVsZENvbmZpZycgKTtcclxuXHRcdGNvbnN0IGFqYXhEYXRhID0gZmllbGRDb25maWcuYWpheF9kYXRhO1xyXG5cdFx0Y29uc3Qgc2VsZWN0Mk92ZXJyaWRlcyA9IGZpZWxkQ29uZmlnLnNlbGVjdDJfb3ZlcnJpZGVzO1xyXG5cdFx0Y29uc3QgbGltaXQgPSBmaWVsZENvbmZpZy5waWNrX2xpbWl0O1xyXG5cdFx0Y29uc3QgaXNTaW5nbGUgPSAoICdzaW5nbGUnID09PSBmaWVsZENvbmZpZy5waWNrX2Zvcm1hdF90eXBlICk7XHJcblx0XHRjb25zdCBzZWxlY3RlZENvdW50ID0gdGhpcy5jb2xsZWN0aW9uLmZpbHRlckJ5U2VsZWN0ZWQoKS5sZW5ndGg7XHJcblx0XHRsZXQgJHVsQ29udGFpbmVyLCBzZWxlY3QyT3B0aW9ucywgcGxhY2Vob2xkZXI7XHJcblxyXG5cdFx0Ly8gJ3BsYWNlaG9sZGVyJyBmb3Igc2luZ2xlIHNlbGVjdCByZXF1aXJlcyBhbiBlbXB0eSBvcHRpb24uICBOb25lIG9mIHRoZSBleGFtcGxlcyBzZXQgc2VsZWN0ZWQgYnV0XHJcblx0XHQvLyBpdCBkaWQgbm90IHdvcmsgZm9yIG1lIGluIHRlc3Rpbmcgd2l0aCBqdXN0IGFuIGVtcHR5IG9wdGlvbiBsaWtlIHRoZSBleGFtcGxlcy5cclxuXHRcdC8vXHJcblx0XHQvLyBodHRwczovL3NlbGVjdDIub3JnL3BsYWNlaG9sZGVycyNzaW5nbGUtc2VsZWN0LXBsYWNlaG9sZGVyc1xyXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3NlbGVjdDIvc2VsZWN0Mi9pc3N1ZXMvMzU1M1xyXG5cdFx0aWYgKCAwID09PSBzZWxlY3RlZENvdW50ICYmIGlzU2luZ2xlICkge1xyXG5cdFx0XHQkc2VsZWN0Mi5wcmVwZW5kKCAnPG9wdGlvbiBzZWxlY3RlZD1cInNlbGVjdGVkXCI+JyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFRvRG86XHJcblx0XHQvLyBsaW1pdERpc2FibGUgaXMgb25seSB1c2VkIHRvIGNvbnRyb2wgdGhlIExpc3QgVmlldydzIHNlbGVjdDIgY29tcG9uZW50LCBpdCB3b24ndCBiZSBzZXRcclxuXHRcdC8vIGZvciByZWd1bGFyIGF1dG9jb21wbGV0ZS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGdlbmVyaWMgYW5kIG5vdCBoYXZlIHRvIHBva2UgYXJvdW5kIHdpdGhcclxuXHRcdC8vIHNwZWNpYWwgcHJvcGVydGllcyBsaWtlIHRoaXMgZm9yIGV4Y2VwdGlvbiBjYXNlcy5cclxuXHRcdGlmICggZmllbGRDb25maWcubGltaXREaXNhYmxlICkge1xyXG5cdFx0XHRwbGFjZWhvbGRlciA9IGAke1BvZHNJMThuLl9fKCAnWW91IGNhbiBvbmx5IHNlbGVjdCcgKX0gJHtzcHJpbnRmKCBQb2RzSTE4bi5fbiggJyVzIGl0ZW0nLCAnJXMgaXRlbXMnLCBsaW1pdCApLCBsaW1pdCApfWA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwbGFjZWhvbGRlciA9IGAke1BvZHNJMThuLl9fKCAnU2VhcmNoJyApfSAke2ZpZWxkQ29uZmlnLmxhYmVsfS4uLmA7XHJcblx0XHR9XHJcblxyXG5cdFx0c2VsZWN0Mk9wdGlvbnMgPSB7XHJcblx0XHRcdG1heGltdW1TZWxlY3Rpb25MZW5ndGg6IGlzU2luZ2xlID8gdW5kZWZpbmVkIDogbGltaXQsIC8vIFNob3VsZCBub3QgYmUgc2V0IGZvciBzaW5nbGUgc2VsZWN0LCBtZXNzZXMgdXAgcGxhY2Vob2xkZXJcclxuXHRcdFx0cGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxyXG5cdFx0XHRhbGxvd0NsZWFyOiBpc1NpbmdsZSxcclxuXHRcdFx0ZGlzYWJsZWQ6IGZpZWxkQ29uZmlnLmxpbWl0RGlzYWJsZSxcclxuXHRcdFx0dGFnczogZmllbGRDb25maWcucGlja190YWdnYWJsZSxcclxuXHRcdFx0ZXNjYXBlTWFya3VwOiBmdW5jdGlvbiAoIHRleHQgKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRleHQ7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0aWYgKCBhamF4RGF0YS5hamF4ICkge1xyXG5cdFx0XHRqUXVlcnkuZXh0ZW5kKCBzZWxlY3QyT3B0aW9ucywge1xyXG5cdFx0XHRcdG1pbmltdW1JbnB1dExlbmd0aDogYWpheERhdGEubWluaW11bV9pbnB1dF9sZW5ndGgsXHJcblx0XHRcdFx0YWpheDoge1xyXG5cdFx0XHRcdFx0dXJsOiBhamF4dXJsICsgJz9wb2RzX2FqYXg9MScsXHJcblx0XHRcdFx0XHR0eXBlOiAnUE9TVCcsXHJcblx0XHRcdFx0XHRkYXRhVHlwZTogJ2pzb24nLFxyXG5cdFx0XHRcdFx0ZGVsYXk6IGFqYXhEYXRhLmRlbGF5LFxyXG5cdFx0XHRcdFx0ZGF0YTogZnVuY3Rpb24gKCBwYXJhbXMgKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdFx0X3dwbm9uY2U6IGFqYXhEYXRhLl93cG5vbmNlLFxyXG5cdFx0XHRcdFx0XHRcdGFjdGlvbjogJ3BvZHNfcmVsYXRpb25zaGlwJyxcclxuXHRcdFx0XHRcdFx0XHRtZXRob2Q6ICdzZWxlY3QyJyxcclxuXHRcdFx0XHRcdFx0XHRwb2Q6IGFqYXhEYXRhLnBvZCxcclxuXHRcdFx0XHRcdFx0XHRmaWVsZDogYWpheERhdGEuZmllbGQsXHJcblx0XHRcdFx0XHRcdFx0dXJpOiBhamF4RGF0YS51cmksXHJcblx0XHRcdFx0XHRcdFx0aWQ6IGFqYXhEYXRhLmlkLFxyXG5cdFx0XHRcdFx0XHRcdHF1ZXJ5OiBwYXJhbXMudGVybSAvLyBUb0RvOiB0ZXJte2xhbmd9XHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0cHJvY2Vzc1Jlc3VsdHM6IGZ1bmN0aW9uICggZGF0YSwgcGFyYW1zICkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gc2VsZi5maWx0ZXJBamF4TGlzdCggZGF0YSwgcGFyYW1zICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9ICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSW5pdGlhbGl6ZSBzZWxlY3QyXHJcblx0XHQkc2VsZWN0Mi5zZWxlY3RXb28oIGpRdWVyeS5leHRlbmQoIHRydWUsIHNlbGVjdDJPcHRpb25zLCBzZWxlY3QyT3ZlcnJpZGVzICkgKTtcclxuXHJcblx0XHQvLyBHZXQgYSByZWZlcmVuY2UgdG8gdGhlIHVsIGNvbnRhaW5lciBvZiB0aGUgdmlzdWFsIFVJIHBvcnRpb24uICBDYW4ndCBkbyB0aGlzIHVudGlsIHNlbGVjdDIgaXMgaW5pdGlhbGl6ZWRcclxuXHRcdCR1bENvbnRhaW5lciA9ICRzZWxlY3QyLnBhcmVudCgpLmZpbmQoIFNFTEVDVDJfVUxfVEFSR0VUICk7XHJcblxyXG5cdFx0Ly8gTWFrZSB0aGUgbGlzdCBkcmFnLWRyb3Agc29ydGFibGVcclxuXHRcdCR1bENvbnRhaW5lci5zb3J0YWJsZSgge1xyXG5cdFx0XHRjb250YWlubWVudDogJ3BhcmVudCdcclxuXHRcdH0gKTtcclxuXHJcblx0XHQvLyBXaXRoIHNlbGVjdDIgNC4wLCBzb3J0YWJsZSBpcyBqdXN0IHJlb3JkZXJpbmcgdGhlIFVJIGVsZW1lbnRzLiAgS2VlcCB0aGUgdW5kZXJseWluZyBzZWxlY3Qvb3B0aW9uIGxpc3RcclxuXHRcdC8vIHN5bmNlZCB3aXRoIHRoZSBjaGFuZ2VzLiAgU2VlOiBodHRwczovL2dpdGh1Yi5jb20vc2VsZWN0Mi9zZWxlY3QyL2lzc3Vlcy8zMDA0XHJcblx0XHQkdWxDb250YWluZXIub24oICdzb3J0c3RvcCcsIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Y29uc3QgJHNlbGVjdGVkID0gJHVsQ29udGFpbmVyLmZpbmQoIFNFTEVDVDJfU0VMRUNURURfVEFSR0VUICkuZ2V0KCkucmV2ZXJzZSgpO1xyXG5cclxuXHRcdFx0alF1ZXJ5KCAkc2VsZWN0ZWQgKS5lYWNoKCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0Y29uc3QgaWQgPSBqUXVlcnkoIHRoaXMgKS5kYXRhKCAnZGF0YScgKS5pZDtcclxuXHRcdFx0XHRjb25zdCBvcHRpb24gPSAkc2VsZWN0Mi5maW5kKCAnb3B0aW9uW3ZhbHVlPVwiJyArIGlkICsgJ1wiXScgKVsgMCBdO1xyXG5cclxuXHRcdFx0XHQkc2VsZWN0Mi5wcmVwZW5kKCBvcHRpb24gKTtcclxuXHRcdFx0fSApO1xyXG5cdFx0fSApO1xyXG5cdH1cclxuXHJcbn0gKTtcclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgUG9kc0RGVkJhc2VJbnB1dCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb21wb25lbnRzL2Jhc2UtaW5wdXQnO1xyXG5cclxuZXhwb3J0IGNvbnN0IFBvZHNERlZUZXh0ID0gKCBwcm9wcyApID0+IHtcclxuXHJcblx0cmV0dXJuIChcclxuXHRcdDxQb2RzREZWQmFzZUlucHV0XHJcblx0XHRcdHR5cGU9XCJ0ZXh0XCJcclxuXHRcdFx0ey4uLnByb3BzfVxyXG5cdFx0Lz5cclxuXHQpO1xyXG59O1xyXG4iLCJleHBvcnQgeyBQb2RzREZWRmllbGRNb2RlbCB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL3BvZHMtZmllbGQtbW9kZWwnO1xyXG5leHBvcnQgKiBmcm9tICdwb2RzLWRmdi9zcmMvZmllbGRzL3BpY2svcmVsYXRpb25zaGlwLW1vZGVsJztcclxuZXhwb3J0ICogZnJvbSAncG9kcy1kZnYvc3JjL2ZpZWxkcy9maWxlL2ZpbGUtdXBsb2FkLW1vZGVsJztcclxuIiwiaW1wb3J0IGpRdWVyeSBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgeyBtblJlbmRlcmVyIH0gZnJvbSAncG9kcy1kZnYvc3JjL2NvcmUvcmVuZGVyZXJzL21uLXJlbmRlcmVyJztcclxuaW1wb3J0IHsgcmVhY3RSZW5kZXJlciB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL3JlbmRlcmVycy9yZWFjdC1yZW5kZXJlcic7XHJcbmltcG9ydCB7IHJlYWN0RGlyZWN0UmVuZGVyZXIgfSBmcm9tICdwb2RzLWRmdi9zcmMvY29yZS9yZW5kZXJlcnMvcmVhY3QtZGlyZWN0LXJlbmRlcmVyJztcclxuaW1wb3J0IHsgUG9kc0diTW9kYWxMaXN0ZW5lciB9IGZyb20gJ3BvZHMtZGZ2L3NyYy9jb3JlL2diLW1vZGFsLWxpc3RlbmVyJztcclxuaW1wb3J0ICogYXMgZmllbGRzIGZyb20gJ3BvZHMtZGZ2L3NyYy9maWVsZC1tYW5pZmVzdCc7XHJcbmltcG9ydCAqIGFzIG1vZGVscyBmcm9tICdwb2RzLWRmdi9zcmMvbW9kZWwtbWFuaWZlc3QnO1xyXG5cclxuY29uc3QgU0NSSVBUX1RBUkdFVCA9ICdzY3JpcHQucG9kcy1kZnYtZmllbGQtZGF0YSc7ICAgLy8gV2hhdCBzY3JpcHRzIHRvIGxvb2sgZm9yXHJcblxyXG5jb25zdCBmaWVsZENsYXNzZXMgPSAge1xyXG5cdCdmaWxlJzoge1xyXG5cdFx0RmllbGRDbGFzczogZmllbGRzLkZpbGUsXHJcblx0XHRyZW5kZXJlcjogbW5SZW5kZXJlclxyXG5cdH0sXHJcblx0J2F2YXRhcic6IHtcclxuXHRcdEZpZWxkQ2xhc3M6IGZpZWxkcy5GaWxlLFxyXG5cdFx0cmVuZGVyZXI6IG1uUmVuZGVyZXJcclxuXHR9LFxyXG5cdCdwaWNrJzoge1xyXG5cdFx0RmllbGRDbGFzczogZmllbGRzLlBpY2ssXHJcblx0XHRyZW5kZXJlcjogbW5SZW5kZXJlclxyXG5cdH0sXHJcblx0J3RleHQnOiB7XHJcblx0XHRGaWVsZENsYXNzOiBmaWVsZHMuUG9kc0RGVlRleHQsXHJcblx0XHRyZW5kZXJlcjogcmVhY3RSZW5kZXJlclxyXG5cdH0sXHJcblx0J3Bhc3N3b3JkJzoge1xyXG5cdFx0RmllbGRDbGFzczogZmllbGRzLlBvZHNERlZQYXNzd29yZCxcclxuXHRcdHJlbmRlcmVyOiByZWFjdFJlbmRlcmVyXHJcblx0fSxcclxuXHQnbnVtYmVyJzoge1xyXG5cdFx0RmllbGRDbGFzczogZmllbGRzLlBvZHNERlZOdW1iZXIsXHJcblx0XHRyZW5kZXJlcjogcmVhY3RSZW5kZXJlclxyXG5cdH0sXHJcblx0J2VtYWlsJzoge1xyXG5cdFx0RmllbGRDbGFzczogZmllbGRzLlBvZHNERlZFbWFpbCxcclxuXHRcdHJlbmRlcmVyOiByZWFjdFJlbmRlcmVyXHJcblx0fSxcclxuXHQncGFyYWdyYXBoJzoge1xyXG5cdFx0RmllbGRDbGFzczogZmllbGRzLlBvZHNERlZQYXJhZ3JhcGgsXHJcblx0XHRyZW5kZXJlcjogcmVhY3RSZW5kZXJlclxyXG5cdH0sXHJcblx0J2VkaXQtcG9kJzoge1xyXG5cdFx0RmllbGRDbGFzczogZmllbGRzLlBvZHNERlZFZGl0UG9kLFxyXG5cdFx0cmVuZGVyZXI6IHJlYWN0RGlyZWN0UmVuZGVyZXJcclxuXHR9LFxyXG59O1xyXG5cclxuY29uc3QgUG9kc0RGViA9IHtcclxuXHRmaWVsZHM6IGZpZWxkQ2xhc3NlcyxcclxuXHRtb2RlbHM6IG1vZGVscyxcclxuXHRmaWVsZEluc3RhbmNlczoge30sXHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICovXHJcblx0aW5pdDogZnVuY3Rpb24gKCkge1xyXG5cdFx0Ly8gRmluZCBhbGwgaW4tbGluZSBkYXRhIHNjcmlwdHNcclxuXHRcdGpRdWVyeSggU0NSSVBUX1RBUkdFVCApLmVhY2goIGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0Y29uc3QgcGFyZW50ID0galF1ZXJ5KCB0aGlzICkucGFyZW50KCkuZ2V0KCAwICk7XHJcblx0XHRcdGNvbnN0IGRhdGEgPSBqUXVlcnkucGFyc2VKU09OKCBqUXVlcnkoIHRoaXMgKS5odG1sKCkgKTtcclxuXHJcblx0XHRcdC8vIEtsdWRnZSB0byBkaXNhYmxlIHRoZSBcIkFkZCBOZXdcIiBidXR0b24gaWYgd2UncmUgaW5zaWRlIGEgbWVkaWEgbW9kYWwuICBUaGlzIHNob3VsZFxyXG5cdFx0XHQvLyBldmVudHVhbGx5IGJlIGlyb25lZCBvdXQgc28gd2UgY2FuIHVzZSBBZGQgTmV3IGZyb20gdGhpcyBjb250ZXh0IChzZWUgIzQ4NjQpXHJcblx0XHRcdGlmICggalF1ZXJ5KCB0aGlzICkucGFyZW50cyggJy5tZWRpYS1tb2RhbC1jb250ZW50JyApLmxlbmd0aCApIHtcclxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuXHRcdFx0XHRkYXRhLmZpZWxkQ29uZmlnLnBpY2tfYWxsb3dfYWRkX25ldyA9IDA7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIElnbm9yZSBhbnl0aGluZyB0aGF0IGRvZXNuJ3QgaGF2ZSB0aGUgZmllbGQgdHlwZSBzZXRcclxuXHRcdFx0aWYgKCBkYXRhLmZpZWxkVHlwZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdGxldCBmaWVsZCA9IGZpZWxkQ2xhc3Nlc1sgZGF0YS5maWVsZFR5cGUgXTtcclxuXHJcblx0XHRcdFx0aWYgKCBmaWVsZCAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdFx0Ly9zZWxmLmZpZWxkSW5zdGFuY2VzWyBkYXRhLmh0bWxBdHRyLmlkIF0gPSBmaWVsZC5yZW5kZXJlciggZmllbGQuZmllbGRDbGFzcywgZGF0YSApO1xyXG5cdFx0XHRcdFx0ZmllbGQucmVuZGVyZXIoIGZpZWxkLkZpZWxkQ2xhc3MsIHBhcmVudCwgZGF0YSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0alF1ZXJ5KCB0aGlzICkucmVtb3ZlKCk7XHJcblx0XHR9ICk7XHJcblx0fSxcclxuXHJcblx0aXNNb2RhbFdpbmRvdzogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICggLTEgIT09IGxvY2F0aW9uLnNlYXJjaC5pbmRleE9mKCAncG9kc19tb2RhbD0nICkgKTtcclxuXHR9LFxyXG5cclxuXHRpc0d1dGVuYmVyZ0VkaXRvckxvYWRlZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuICggd3AuZGF0YSAhPT0gdW5kZWZpbmVkICYmIHdwLmRhdGEuc2VsZWN0KCAnY29yZS9lZGl0b3InICkgIT09IHVuZGVmaW5lZCApO1xyXG5cdH1cclxufTtcclxuZXhwb3J0IGRlZmF1bHQgUG9kc0RGVjtcclxuXHJcbi8qKlxyXG4gKiBLaWNrIGV2ZXJ5dGhpbmcgb2ZmIG9uIERPTUNvbnRlbnRMb2FkZWRcclxuICovXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG5cdFBvZHNERlYuaW5pdCgpO1xyXG5cclxuXHQvLyBMb2FkIHRoZSBHdXRlbmJlcmcgbW9kYWwgbGlzdGVuZXIgaWYgd2UncmUgaW5zaWRlIGEgUG9kcyBtb2RhbCB3aXRoIEd1dGVuYmVyZyBhY3RpdmVcclxuXHRpZiAoIFBvZHNERlYuaXNNb2RhbFdpbmRvdygpICYmIFBvZHNERlYuaXNHdXRlbmJlcmdFZGl0b3JMb2FkZWQoKSApIHtcclxuXHRcdFBvZHNHYk1vZGFsTGlzdGVuZXIuaW5pdCgpO1xyXG5cdH1cclxufSApO1xyXG4iLCJjb25zdCB7IF9fLCBzcHJpbnRmIH0gPSB3cC5pMThuO1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25SdWxlcyA9IHtcclxuXHRyZXF1aXJlZDogKCB2YWx1ZSwgZmllbGRMYWJlbCApID0+IHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGZhY3RzOiB7IHZhbHVlOiB2YWx1ZSB9LFxyXG5cdFx0XHRjb25kaXRpb25zOiB7IHZhbHVlOiB7IGVxdWFsOiAnJyB9IH0sXHJcblx0XHRcdGV2ZW50OiB7XHJcblx0XHRcdFx0bWVzc2FnZTogc3ByaW50ZiggX18oICclcyBpcyByZXF1aXJlZC4nLCAncG9kcycgKSwgZmllbGRMYWJlbCApXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fSxcclxuXHJcblx0bWF4OiAoIHZhbHVlLCBtYXggKSA9PiB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRmYWN0czogeyBudW1lcmljVmFsdWU6IHZhbHVlICogMSwgbWF4OiBtYXggKiAxIH0sXHJcblx0XHRcdGNvbmRpdGlvbnM6IHsgbnVtZXJpY1ZhbHVlOiB7IGdyZWF0ZXI6ICckbWF4JyB9IH0sXHJcblx0XHRcdGV2ZW50OiB7XHJcblx0XHRcdFx0bWVzc2FnZTogc3ByaW50ZiggX18oICdFeGNlZWRzIHRoZSBtYXhpbXVtIHZhbHVlIG9mICVzJywgJ3BvZHMnICksIG1heCApXHJcblx0XHRcdH1cclxuXHJcblx0XHR9O1xyXG5cdH0sXHJcblxyXG5cdG1pbjogKCB2YWx1ZSwgbWluICkgPT4ge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0ZmFjdHM6IHsgbnVtZXJpY1ZhbHVlOiB2YWx1ZSAqIDEsIG1pbjogbWluICogMSB9LFxyXG5cdFx0XHRjb25kaXRpb25zOiB7IG51bWVyaWNWYWx1ZTogeyBsZXNzOiAnJG1pbicgfSB9LFxyXG5cdFx0XHRldmVudDoge1xyXG5cdFx0XHRcdG1lc3NhZ2U6IHNwcmludGYoIF9fKCAnQmVsb3cgdGhlIG1pbmltdW0gdmFsdWUgb2YgJXMnLCAncG9kcycgKSwgbWluIClcclxuXHRcdFx0fVxyXG5cclxuXHRcdH07XHJcblx0fSxcclxuXHJcblx0ZW1haWxGb3JtYXQ6ICggdmFsdWUgKSA9PiB7XHJcblx0XHRjb25zdCBlbWFpbFJlZ2V4ID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0ZmFjdHM6IHsgdmFsdWU6IHZhbHVlLCBlbWFpbFJlZ2V4OiBlbWFpbFJlZ2V4IH0sXHJcblx0XHRcdGNvbmRpdGlvbnM6IHtcclxuXHRcdFx0XHRub3Q6IHtcclxuXHRcdFx0XHRcdG9yOiBbXHJcblx0XHRcdFx0XHRcdHsgdmFsdWU6IHsgZXF1YWw6ICcnIH0gfSxcclxuXHRcdFx0XHRcdFx0eyBlbWFpbFJlZ2V4OiB7IG1hdGNoZXM6IHZhbHVlIH0gfVxyXG5cdFx0XHRcdFx0XVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0ZXZlbnQ6IHtcclxuXHRcdFx0XHRtZXNzYWdlOiBfXyggJ0ludmFsaWQgZW1haWwgYWRkcmVzcyBmb3JtYXQnIClcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn07XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmNvbnN0IHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGU7XHJcbmNvbnN0IHVzZUVmZmVjdCA9IFJlYWN0LnVzZUVmZmVjdDtcclxuaW1wb3J0IEVuZ2luZSBmcm9tICdqc29uLXJ1bGVzLWVuZ2luZS1zaW1wbGlmaWVkJztcclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcmV0dXJuXHJcbiAqIHtcclxuICogICAgIHtmdW5jdGlvbn0gYWRkUnVsZXNcclxuICogICAgIHtmdW5jdGlvbn0gdXNlVmFsaWRhdGlvbixcclxuICogXHR9XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgcG9kc1ZhbGlkYXRpb24gPSAoKSA9PiB7XHJcblx0Y29uc3QgWyB2YWxpZGF0aW9uTWVzc2FnZXMsIHNldFZhbGlkYXRpb25NZXNzYWdlcyBdID0gdXNlU3RhdGUoIFtdICk7XHJcblx0Y29uc3QgcnVsZXMgPSBbXTtcclxuXHRsZXQgZmFjdHMgPSB7fTtcclxuXHJcblx0LyoqXHJcblx0ICpcclxuXHQgKiBAcGFyYW0gY29uZGl0aW9uYWxSdWxlc1xyXG5cdCAqL1xyXG5cdGNvbnN0IGFkZFJ1bGVzID0gKCBjb25kaXRpb25hbFJ1bGVzICkgPT4ge1xyXG5cdFx0Y29uZGl0aW9uYWxSdWxlcy5mb3JFYWNoKCBjb25kaXRpb25hbFJ1bGUgPT4ge1xyXG5cdFx0XHRpZiAoIGNvbmRpdGlvbmFsUnVsZS5jb25kaXRpb24gKSB7XHJcblx0XHRcdFx0cnVsZXMucHVzaCggY29uZGl0aW9uYWxSdWxlLnJ1bGUgKTtcclxuXHRcdFx0XHRpZiAoIGNvbmRpdGlvbmFsUnVsZS5ydWxlLmZhY3RzICkge1xyXG5cdFx0XHRcdFx0ZmFjdHMgPSBPYmplY3QuYXNzaWduKCBmYWN0cywgY29uZGl0aW9uYWxSdWxlLnJ1bGUuZmFjdHMgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gKTtcclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKlxyXG5cdCAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn1cclxuXHQgKi9cclxuXHRjb25zdCBjaGVja1ZhbGlkYXRpb24gPSAoKSA9PiB7XHJcblx0XHRjb25zdCBydWxlc0VuZ2luZSA9IG5ldyBFbmdpbmUoIHJ1bGVzICk7XHJcblx0XHRjb25zdCBtZXNzYWdlcyA9IFtdO1xyXG5cclxuXHRcdHJldHVybiBuZXcgUHJvbWlzZSggKCByZXNvbHZlICkgPT4ge1xyXG5cdFx0XHQvLyBub2luc3BlY3Rpb24gSlNVbnJlc29sdmVkRnVuY3Rpb25cclxuXHRcdFx0cnVsZXNFbmdpbmUucnVuKCBmYWN0cyApXHJcblx0XHRcdC50aGVuKFxyXG5cdFx0XHRcdGV2ZW50cyA9PiB7XHJcblx0XHRcdFx0XHRldmVudHMuZm9yRWFjaCggZXZlbnQgPT4ge1xyXG5cdFx0XHRcdFx0XHRtZXNzYWdlcy5wdXNoKCBldmVudC5tZXNzYWdlICk7XHJcblx0XHRcdFx0XHR9ICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpXHJcblx0XHRcdC5maW5hbGx5KCAoKSA9PiB7XHJcblx0XHRcdFx0cmVzb2x2ZSggbWVzc2FnZXMgKTtcclxuXHRcdFx0fSApO1xyXG5cdFx0fSApO1xyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSBmaWVsZCdzIHZhbHVlXHJcblx0ICpcclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IEFycmF5IG9mIG1lc3NhZ2VzIGZvciBhbGwgdmFsaWRhdGlvbiBmYWlsdXJlc1xyXG5cdCAqL1xyXG5cdGNvbnN0IHVzZVZhbGlkYXRpb24gPSAoIHZhbHVlICkgPT4ge1xyXG5cdFx0dXNlRWZmZWN0KCAoKSA9PiB7XHJcblx0XHRcdGNoZWNrVmFsaWRhdGlvbigpXHJcblx0XHRcdC50aGVuKCBtZXNzYWdlcyA9PiBzZXRWYWxpZGF0aW9uTWVzc2FnZXMoIG1lc3NhZ2VzICkgKTtcclxuXHRcdH0sIFsgdmFsdWUgXSApO1xyXG5cclxuXHRcdHJldHVybiB2YWxpZGF0aW9uTWVzc2FnZXM7XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIHtcclxuXHRcdGFkZFJ1bGVzOiBhZGRSdWxlcyxcclxuXHRcdHVzZVZhbGlkYXRpb246IHVzZVZhbGlkYXRpb25cclxuXHR9O1xyXG59O1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGpRdWVyeTsiLCJtb2R1bGUuZXhwb3J0cyA9IGxvZGFzaDsiLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0OyIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3RET007Il0sInNvdXJjZVJvb3QiOiIifQ==